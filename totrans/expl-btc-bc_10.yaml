- en: '[CHAPTER 8](toc.xhtml#c08)'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[第8章](toc.xhtml#c08)'
- en: '[Technology Limitations, Threats, and Vulnerabilities](toc.xhtml#c08)'
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[技术限制、威胁和漏洞](toc.xhtml#c08)'
- en: In the previous chapter, you learned the technical details of communication
    between nodes. This helped you understand the way transactions and blocks are
    propagated over the network, the way nodes find peers, and the way nodes determine
    which nodes to connect with.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在前一章中，你学习了节点之间通信的技术细节。这帮助你理解了交易和区块如何在网络上传播，节点如何找到对等节点，以及节点如何确定要连接哪个节点。
- en: Now that you have learned Bitcoin protocol in-depth, you can understand its
    limitations and vulnerabilities from a technical point of view.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经深入了解了比特币协议，你可以从技术角度理解其局限性和脆弱性。
- en: In this chapter, we will learn how Bitcoin design and implementation create
    limitations for its use. We will understand why these limitations are important
    and how it gives Bitcoin its characteristics. We will also learn different ways
    in which the Bitcoin network can or may be compromised and why it is still secure
    and may not get attacked anytime soon. Additionally, we will discuss the vulnerabilities
    that seem to be secure today but may become potential risks for its security in
    the future.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将学习比特币的设计和实现如何为其使用创造局限性。我们将了解这些局限性为什么重要，以及它们如何赋予比特币其特性。我们还将学习比特币网络可能被攻击或受损的不同方式，以及为什么它仍然安全，可能不会很快受到攻击。此外，我们将讨论那些似乎今天安全但可能在将来成为其安全潜在风险的漏洞。
- en: '[Structure](toc.xhtml#s148a)'
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[结构](toc.xhtml#s148a)'
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Design limitations
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设计限制
- en: Block size limitation
  id: totrans-8
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 区块大小限制
- en: Effect on transaction verification
  id: totrans-9
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交易验证的影响
- en: '![](images/ent.jpg) FIBER: Fast Internet Bitcoin Relay Engine'
  id: totrans-10
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![](images/ent.jpg) FIBER：快速互联网比特币传输引擎'
- en: Effect on blockchain size
  id: totrans-11
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 区块链大小的影响
- en: Block time limitation
  id: totrans-12
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 区块时间限制
- en: Privacy limitation
  id: totrans-13
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 隐私限制
- en: Solutions to privacy and scaling
  id: totrans-14
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 隐私和扩展解决方案
- en: Improved hardware
  id: totrans-15
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进的硬件
- en: Utreexo accumulators
  id: totrans-16
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Utreexo 累加器
- en: Signature aggregation
  id: totrans-17
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 签名聚合
- en: 'MAST: Merklized Abstract Syntax Trees'
  id: totrans-18
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: MAST：Merklized 抽象语法树
- en: Taproot
  id: totrans-19
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Taproot
- en: Lightning Network
  id: totrans-20
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 雷电网络
- en: CoinJoin
  id: totrans-21
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: CoinJoin
- en: Tumbler services
  id: totrans-22
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 搅拌服务
- en: Bitcoin mining energy usage
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比特币挖矿能源消耗
- en: Threats to individuals and network
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 个人和网络的威胁
- en: Threats from governments
  id: totrans-25
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 来自政府的威胁
- en: Threats from central banks
  id: totrans-26
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 来自中央银行的威胁
- en: Malicious hackers
  id: totrans-27
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 恶意黑客
- en: Bitcoin theft
  id: totrans-28
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比特币盗窃
- en: '![](images/ent.jpg) Exploiting cryptographic weaknesses'
  id: totrans-29
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![](images/ent.jpg) 利用加密弱点'
- en: '![](images/ent.jpg) Malware'
  id: totrans-30
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![](images/ent.jpg) 恶意软件'
- en: Ransomware
  id: totrans-31
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 勒索软件
- en: Losing private keys or seed phrase
  id: totrans-32
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 丢失私钥或种子短语
- en: Threat due to vulnerabilities
  id: totrans-33
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于漏洞带来的威胁
- en: Transaction malleability
  id: totrans-34
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交易可塑性
- en: Dusting attack
  id: totrans-35
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 粉末攻击
- en: Mempool flood attack
  id: totrans-36
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 内存池洪水攻击
- en: Selfish mining
  id: totrans-37
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自私挖矿
- en: BGP hijacking attack
  id: totrans-38
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: BGP 劫持攻击
- en: '![](images/ent.jpg) Network partitioning attack'
  id: totrans-39
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![](images/ent.jpg) 网络分区攻击'
- en: '![](images/ent.jpg) Delay attack'
  id: totrans-40
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![](images/ent.jpg) 延迟攻击'
- en: 0-confirmation attack
  id: totrans-41
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 0 确认攻击
- en: Hiding hash rate
  id: totrans-42
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 隐藏哈希率
- en: Blacklist addresses
  id: totrans-43
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 黑名单地址
- en: Replay attack
  id: totrans-44
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 重放攻击
- en: Empty block mining
  id: totrans-45
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 空块挖矿
- en: Bitcoin mining centralization
  id: totrans-46
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比特币挖矿集中化
- en: '![](images/ent.jpg) 51% Attack'
  id: totrans-47
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![](images/ent.jpg) 51% 攻击'
- en: Sybil attack
  id: totrans-48
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 女巫攻击
- en: Denial-of-Service (DoS) attack
  id: totrans-49
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 服务拒绝（DoS）攻击
- en: Quantum computing attack
  id: totrans-50
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 量子计算攻击
- en: Hidden bugs, bug exploit, and reorg
  id: totrans-51
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 隐藏的错误、错误利用和重组
- en: Frauds and robbery
  id: totrans-52
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 欺诈和抢劫
- en: '[Objectives](toc.xhtml#s149a)'
  id: totrans-53
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[目标](toc.xhtml#s149a)'
- en: The main objective of this chapter is to allow readers to question Bitcoin legitimacy,
    necessity, and value from technological and non-technical points of view.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的主要目标是让读者从技术和非技术角度质疑比特币的合法性、必要性和价值。
- en: Additionally, knowing the attack vector of technology can help you better prepare
    for it and take precautions so that it will have less impact on you.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，了解技术的攻击向量可以帮助你更好地为此做好准备并采取预防措施，使其对你影响较小。
- en: 'So, we will try to answer the following questions in this chapter:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，我们将在本章尝试回答以下问题：
- en: Why doesn’t Bitcoin have very big block sizes?
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为什么比特币没有非常大的区块大小？
- en: Why doesn’t Bitcoin have a shorter block time?
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为什么比特币没有更短的区块时间？
- en: Does Bitcoin really need to consume so much energy, and how does this impact
    the environment?
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比特币真的需要消耗这么多能源，这如何影响环境？
- en: What are different ways Bitcoin network can be attacked? How serious are those
    attack vectors?
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比特币网络可能受到的不同攻击方式有哪些？这些攻击方式的严重性如何？
- en: Are there any future risks to the technology?
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这项技术未来有风险吗？
- en: Apart from technical vulnerability, what may be the other vulnerabilities?
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 除了技术漏洞，可能还有其他漏洞吗？
- en: '[Design limitations](toc.xhtml#s150a)'
  id: totrans-63
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[设计限制](toc.xhtml#s150a)'
- en: 'Bitcoin blocks are mined every 10 minutes, and each block is limited to 1MB
    size for pre-SegWit and 1MB of v-size for SegWit. This leads to a low transaction
    rate. The following is a chart of a historic number of transactions per second:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币区块每10分钟挖掘一次，每个区块对于预SegWit限制为1MB大小，对于SegWit限制为1MB的v大小。这导致了低交易率。以下是历史上每秒交易量的图表：
- en: '![](images/Figure-8.1.jpg)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.1.jpg)'
- en: '**Figure 8.1:** Average transactions per second'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '**图 8.1:** 每秒平均交易量'
- en: We can see that the Bitcoin transaction rate reached 18 transactions per sec.
    Even if blocks have all SegWit transactions, it will only reach an average of
    25 transactions per sec. In comparison, Visa processes 2,000 transactions per
    sec on an average. This means Bitcoin is not suitable for small value payments
    on a global scale. To compete with Visa, Bitcoin requires a hundred times the
    current block size, or it needs to generate blocks in less than 10 seconds.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到，比特币交易量达到了每秒18笔。即使区块包含所有SegWit交易，也只能达到平均每秒25笔。相比之下，Visa平均每秒处理2000笔交易。这意味着比特币不适合在全球范围内进行小额支付。为了与Visa竞争，比特币需要是目前区块大小的100倍，或者需要在不超过10秒的时间内生成区块。
- en: Bitcoin is also not very good at providing privacy. Since all transactions are
    on the blockchain and most bitcoin buying and selling happens through exchanges
    that work under regulations, almost all transactions can be linked by performing
    big data analysis.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币在提供隐私方面也不是很好。由于所有交易都在区块链上，大多数比特币买卖是通过受监管的交易所进行的，几乎所有交易都可以通过大数据分析联系起来。
- en: '[Block size limitation](toc.xhtml#s151a)'
  id: totrans-69
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[区块大小限制](toc.xhtml#s151a)'
- en: Increasing the block size or decreasing block time has a similar impact on the
    network and blockchain size. Increasing block size by 10 times or reducing block
    time by 10 times causes a similar increase in network traffic due to block propagation
    and a similar rise in blockchain size.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 增加区块大小或减少区块时间对网络和区块链大小的影响相似。将区块大小增加10倍或将区块时间减少10倍，由于区块传播会导致类似的网络流量增加和类似的区块链大小增长。
- en: '[Effect on transaction verification](toc.xhtml#s152a)'
  id: totrans-71
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[交易验证的影响](toc.xhtml#s152a)'
- en: Mining nodes are competing to solve a cryptographic puzzle to mine a block.
    When a block is mined, it is published on the network. The block needs to reach
    all the nodes quickly. If during the propagation of the block, another node solves
    the cryptographic puzzle and publishes its block, there will be disagreement between
    nodes on the next block of the Bitcoin blockchain. So, two competing chains are
    formed, which compete to prove that they are the right chain. A chain with higher
    accumulated *PoW* is considered the longer chain and is accepted, while the other
    chain is discarded.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 挖矿节点争相解决一个加密谜题以挖掘区块。当一个区块被挖掘时，它会在网络上发布。区块需要迅速到达所有节点。如果在区块传播过程中，另一个节点解决了加密谜题并发布了它的区块，节点之间会在比特币区块链的下一个区块上产生分歧。因此，形成了两个竞争的链，它们竞争证明哪一个是正确的链。累积了更高*PoW*的链被认为是更长的链并被接受，而另一条链被丢弃。
- en: As you can imagine, if block propagation doesn’t happen quickly, multiple competing
    chains can get formed, and the time to resolve the correct chain may increase
    exponentially with an increase in propagation delay.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所想象，如果区块传播不快，可能会形成多个竞争链，随着传播延迟的增加，解决正确链的时间可能会呈指数增长。
- en: 'The following is the chart of Block propagation delay since 2015\. There are
    some gaps in the chart as some data is missing:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是自2015年以来区块传播延迟的图表。图表中有一些空白，因为一些数据缺失：
- en: '![](images/Figure-8.2.jpg)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.2.jpg)'
- en: '**Figure 8.2:** 30-day rolling average for time for the block to reach 90%
    nodes'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '**图 8.2:** 区块达到90%节点的30天滚动平均时间'
- en: As you can see, block propagation delay got reduced from 15 seconds in 2015
    to 2 seconds in 2018\. Since 2016, there have been multiple enhancements introduced
    in P2P Bitcoin network protocol messages. This might be the reason propagation
    delay has rapidly reduced.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，区块传播延迟从2015年的15秒降低到2018年的2秒。自2016年以来，P2P比特币网络协议消息中引入了多项增强。这可能是传播延迟迅速降低的原因。
- en: It is standard practice to wait for 6 confirmations before accepting a transaction.
    This is because if a race condition arises due to simultaneous mining of blocks,
    it normally gets resolved before the sixth confirmation.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 通常的做法是等待6次确认后再接受交易。这是因为如果由于同时挖掘区块而产生竞争条件，它通常在第六次确认之前得到解决。
- en: If the race condition arises because of simultaneous mining of blocks but does
    not get resolved within the next six blocks, then it will impact the overall confidence
    of a confirmed transaction.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 如果由于同时挖掘区块而产生竞争条件，但在接下来的六个区块内没有解决，那么它将影响已确认交易的总体信心。
- en: So, block size is an important factor in propagation delay and confidence in
    the Bitcoin network.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，区块大小是传播延迟和比特币网络信心的一个重要因素。
- en: 'FIBRE: Fast Internet Bitcoin Relay Engine'
  id: totrans-81
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '**快速互联网比特币中继引擎**（**FIBRE**）'
- en: '**Fast Internet Bitcoin Relay Engine** (**FIBRE**) is a protocol designed with
    an intention to deliver Bitcoin blocks to the connected nodes with delays comparable
    to the physical limit of the connection. It depends on a well-managed network
    to deliver the intended outcome.'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速互联网比特币中继引擎**（**FIBRE**）是一个旨在将比特币区块以与连接的节点相比拟的延迟交付给连接的节点的协议。它依赖于一个管理良好的网络来传递预期的结果。'
- en: With FIBRE, it becomes far less likely that there will be two competing chains.
    This makes selfish mining difficult and makes the network fairer.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 使用FIBRE，竞争链的可能性大大降低。这使得自私挖掘变得困难，使网络更加公平。
- en: '[Effect on blockchain size](toc.xhtml#s153a)'
  id: totrans-84
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[区块链大小的影响](toc.xhtml#s153a)'
- en: As you have learned by improving gossip protocol, we can greatly reduce propagation
    delay and, consequently, allow block size to increase. However, blockchain size
    is another important barrier in increasing block size. Currently, the Bitcoin
    blockchain is already 400GB, which has increased nearly 60GB in the last year.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 正如您通过改进八卦协议所学的，我们可以大大减少传播延迟，进而允许区块大小增加。然而，区块链大小是增加区块大小的另一个重要障碍。目前，比特币区块链已经是400GB，去年增加了近60GB。
- en: 'The following is the chart of rise in the blockchain size with year:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是随年份增加的区块链大小的图表：
- en: '![](images/Figure-8.3.jpg)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.3.jpg)'
- en: '**Figure 8.3:** Change in blockchain size over the years'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '**图8.3**：历年区块链大小的变化'
- en: If we also include all the indexes, this number goes up to 390GB. If the number
    of transactions goes even higher, then we may see up to 100GB addition every year.
    This is a significant number, which makes it a bit costly to run full node now.
    For most Bitcoin enthusiasts, to run full node means giving up 400GB of disk space,
    and this may increase by 100GB every year. In 2 years, it will become 500GB of
    spare storage and 1TB in a few more years. To allow college students or enthusiasts
    to maintain full node, disk storage costs should come down, and higher than 1TB
    becomes the norm in laptops.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们还包括所有的索引，这个数字增加到390GB。如果交易数量甚至更高，那么我们可能看到每年增加多达100GB。这是一个 significant number，使运行完整节点变得有点成本高昂。对于大多数比特币爱好者来说，运行完整节点意味着放弃400GB的磁盘空间，这可能会在每年增加100GB。在两年内，它将变成500GB的备用存储空间，在几年的时间里，可能会增加到1TB。为了允许大学生或爱好者维护完整节点，磁盘存储成本应该降低，超过1TB成为笔记本电脑的标准。
- en: 'The following chart shows how blockchain size is adding up every 365 days:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表显示了每365天区块链大小是如何增加的：
- en: '![](images/Figure-8.4.jpg)'
  id: totrans-91
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.4.jpg)'
- en: '**Figure 8.4:** Blockchain size change rate (365-day rolling sum)'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: '**图8.4**：区块链大小变化率（365天滚动和）'
- en: As an alternative, Bitcoin Core provides an option to prune blockchain and limit
    it to a much smaller size. Bitcoin Core maintains indexes of unspent transactions
    and blocks, so a prune node can still verify transactions and blocks and is still
    considered a full node. However, it cannot reconstruct a pruned block and cannot
    fulfill the block request for peer nodes. Since each block contains a reference
    to older blocks, this is not a problem if recent blocks are maintained, and there
    are enough nodes maintaining the full blockchain.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 作为替代方案，比特币核心提供了一个选项来修剪区块链并将其限制在一个更小的尺寸。比特币核心维护未花费交易和区块的索引，因此修剪节点仍然可以验证交易和区块，仍然被认为是完整的节点。然而，它无法重建修剪的区块，也无法为对等节点提供区块请求。由于每个区块都包含对较老区块的引用，如果维护了最近的区块并且有足够的节点维护完整的区块链，这并不是问题。
- en: Pruned nodes have several advantages. A pruned node can be created with just
    288 blocks, which will not be more than 1GB. So, using pruned node, we can have
    a full node running on embedded devices.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 修剪节点有几个优点。一个修剪节点可以用仅288个区块创建，这不会超过1GB。因此，使用修剪节点，我们可以在嵌入式设备上运行完整的节点。
- en: However, this still does not help increase block size as blockchain verification
    takes days to complete. So, blockchain size on disk is not the main limiting factor
    in increasing block size; instead, blockchain verification time itself is the
    main factor stopping us from increasing block size.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，这仍然无助于增加块大小，因为区块链验证需要数天才能完成。所以，磁盘上的区块链大小不是增加块大小的主要限制因素；相反，阻止我们增加块大小的主要因素是区块链验证时间本身。
- en: Currently, it takes between 1 and 7 days to download the whole blockchain because
    of verification time.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，由于验证时间，下载整个区块链需要花费1到7天的时间。
- en: To reduce the blockchain verification time, we either need to wait till better-performing
    computers will be able to reduce the verification time, or we need to find a more
    efficient block verification algorithm.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 为了减少区块链验证时间，我们要么需要等待性能更好的计算机能够减少验证时间，要么需要找到更高效的块验证算法。
- en: '[Block time limitation](toc.xhtml#s154a)'
  id: totrans-98
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[块时间限制](toc.xhtml#s154a)'
- en: Block time adjustment happens every 2016 block and is based on network hash
    rate. Network hash rate is not very well distributed, so it gets affected by environmental
    disasters and govt. controls.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 块时间调整每2016个块发生一次，基于网络哈希率。网络哈希率分布不太均匀，因此会受到环境灾害和政府控制的影响。
- en: 'The following is the average time to mine a block with a rolling average of
    2016 blocks:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是2016个块的滚动平均挖掘一个块的平均时间：
- en: '![](images/Figure-8.5.jpg)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.5.jpg)'
- en: '**Figure 8.5:** Average time to mine a block (Rolling average of 2016 blocks)'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '**图8.5：** 挖掘一个块的平均时间（2016个块的滚动平均）'
- en: 'A few incidents in the past have caused the hash rate to drop:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 过去的一些事件导致哈希率下降：
- en: In August 2020, heavy rainstorms in China lead to a 15% drop in the Hash rate.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 2020年8月，中国的暴雨导致哈希率下降了15%。
- en: In June 2021, China enforced ban on cryptocurrency mining which led to the drop
    of more than 50% in the network hash rate. We can see the corresponding rise in
    block time of more than 15 min in the preceding figure.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 2021年6月，中国实施了加密货币挖矿的禁令，导致网络哈希率下降超过50%。在前面的图表中，我们可以看到块时间增加了超过15分钟。
- en: A drop in the hash rate causes block-time to increase, which leads to more transactions
    reaching mempool before getting included in a block. Since more transactions compete
    for entry into blockchain, the transaction fee rises. However, this problem goes
    away after the next difficulty adjustment, which happens after every 2016 blocks
    or nearly 2 weeks. A drop in hash rate extends block time, so 2016 blocks may
    take more than 2 weeks.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 哈希率的下降导致块时间增加，这会导致更多的交易在被包含在块中之前达到内存池。由于更多的交易争夺进入区块链的机会，交易费用会上升。然而，在下一个难度调整之后，这个问题就会消失，这个调整发生在每2016个块之后，或者大约2周之后。哈希率的下降延长了块时间，所以2016个块可能需要超过2周的时间。
- en: 'The following is an illustration of how the number of transactions waiting
    to get added to a block grows as the block time increases:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是随着块时间的增加，等待添加到块中的交易数量如何增加的说明：
- en: '![](images/Figure-8.6.jpg)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.6.jpg)'
- en: '**Figure 8.6:** Dependence of mempool size on Block time'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '**图8.6：** 块时间对内存池大小的影响'
- en: This is an inconvenient disruption that lasts for more than 2 weeks. A solution
    for this problem could be to adjust the difficulty in every block by taking the
    rolling average of 2016 blocks.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个持续超过两周的不便。这个问题的一种解决方案可能是通过计算2016个块的滚动平均来每块调整难度。
- en: However, there is a reason this is not implemented in Bitcoin. Since only a
    few mining pools control almost all the Bitcoin network hashrate, a sophisticated
    DDOS attack on those large miners can bring down the hashrate of the network,
    which will give an attacker a window to compromise the network. For the greater
    good of security, this inconvenience is a necessary evil.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，有一个原因是比特币没有实施这个。由于几乎所有的比特币网络哈希率都由少数挖矿池控制，对这些大型矿工进行复杂的DDoS攻击可能会降低网络的哈希率，这将给攻击者一个窗口来破坏网络。为了安全的大局，这个不便之处是必要的恶。
- en: '[Privacy limitation](toc.xhtml#s155a)'
  id: totrans-112
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[隐私限制](toc.xhtml#s155a)'
- en: Bitcoin is not a privacy coin. It does not support Privacy protocols such as
    Zero Knowledge Proof. So, we need to realize that Bitcoin does record trails of
    information in the blockchain and exchanges from where we buy them and online
    merchants/websites we use them at. However, Bitcoin does provide ways to hide
    identity by using CoinJoin or tumbler services, by simply buying from individuals
    directly, and so on.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币不是一种隐私币。它不支持如零知识证明之类的隐私协议。因此，我们需要意识到比特币确实在区块链和交易所中记录了我们的购买信息，以及我们使用比特币的在线商家/网站。然而，比特币确实提供了隐藏身份的方法，例如使用CoinJoin或洗钱服务，或者直接从个人那里购买等等。
- en: '[Solutions to privacy and scaling](toc.xhtml#s156a)'
  id: totrans-114
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[隐私和扩展解决方案](toc.xhtml#s156a)'
- en: In the previous subtopics, you learned that the major reason we do not want
    block size to rise is the initial block download verification time. There are
    quite a few developments happening that might help Bitcoin to scale and as well
    as improve its privacy.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 在之前的子主题中，您了解到我们不希望区块大小增加的主要原因是最初的区块下载验证时间。目前正在发生的一些发展可能会帮助比特币扩展，同时也会提高其隐私性。
- en: Criminals can hack into data in exchanges and merchants and relate them with
    information in blockchain to obtain insights about individuals. A totalitarian
    government can also get information from exchanges and merchants. They can ultimately
    use that information against the individuals whose information is revealed. Therefore,
    bitcoin is sometimes considered *pseudo-anonymous.*
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 犯罪分子可以入侵交易所和商家的数据，并将这些数据与区块链中的信息关联起来，以获取关于个人的洞察。独裁政府也可以从交易所和商家那里获取信息。他们最终可以利用这些信息对抗那些信息被曝光的个人。因此，比特币有时被认为是*伪匿名*的。
- en: 'Bitcoin does provide ways to hide identity. Here are a few ways identity can
    be made hidden:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币确实提供了隐藏身份的方法。以下是几种可以隐藏身份的方法：
- en: The simplest method of hiding information is never to use an address twice.
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 隐藏信息的简单方法是永远不要两次使用同一个地址。
- en: Some wallets, like the Samourai wallet and the Wasabi wallet, provide variations
    of CoinJoin to make a transaction fungible.
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一些钱包，如Samourai钱包和Wasabi钱包，提供了CoinJoin的变体，使交易具有可替代性。
- en: A person can also send or receive transactions directly from another person
    or a miner.
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 个人还可以直接从另一个人或矿工那里发送或接收交易。
- en: These are some of the ways to maintain privacy*.* It depends on the individual
    how well they can manage their privacy, and under political pressure, individuals
    can be forced to make their transactions more private and hidden. Therefore, bitcoin
    is also considered *censorship-resistant*.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 这些都是维护隐私的一些方法*。*这取决于个人如何管理他们的隐私，在政治压力下，个人可以被迫使他们的交易更加私密和隐藏。因此，比特币也被认为是*抗审查*的。
- en: 'The following are the different privacy and scaling solutions that are already
    in use or are under development:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一些已经使用或正在开发的不同的隐私和扩展解决方案：
- en: '![](images/254.jpg)'
  id: totrans-123
  prefs: []
  type: TYPE_IMG
  zh: '![](images/254.jpg)'
- en: '**Table 8.1:** Impact of different solutions on the privacy and scalability
    of the Bitcoin network and transaction'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: '**表8.1：** 不同解决方案对比特币网络和交易隐私及扩展的影响'
- en: '[Improved hardware](toc.xhtml#s157a)'
  id: totrans-125
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[改进的硬件](toc.xhtml#s157a)'
- en: Improvement in chip technology and miniaturization can reduce time to verify
    blocks, reducing initial block download time. There is a possibility that we may
    be able to develop microprocessors with 2nm technology and have improved RISC
    architecture and other hardware design elements that will produce more performant
    hardware, which will verify blockchain in lesser time.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 芯片技术的改进和小型化可以减少验证区块的时间，减少初始区块下载时间。我们有可能开发出2nm技术的微处理器，拥有改进的RISC架构和其他硬件设计元素，从而产生性能更高的硬件，这将减少验证区块链的时间。
- en: '[Utreexo accumulators](toc.xhtml#s158a)'
  id: totrans-127
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[Utreexo积累器](toc.xhtml#s158a)'
- en: Utreexo makes improvements in the transaction and block verification by changing
    the structure of UTXO indexes. The feature is still in development and has shown
    promising results. If successful, it will allow an increase in the block size
    by reducing the blockchain verification time for Initial Block Download.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: Utreexo通过改变UTXO索引的结构来改进交易和区块验证。这个功能仍在开发中，并已显示出良好的结果。如果成功，它将允许通过减少初始区块下载的区块链验证时间来增加区块大小。
- en: '[Signature aggregation](toc.xhtml#s159a)'
  id: totrans-129
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[签名聚合](toc.xhtml#s159a)'
- en: Bitcoin is going through a lot of changes, though it is quite difficult to get
    an enhancement into the consensus rules. Enhancements are important as it makes
    the technology future-proof. At the same time, enhancements related to the consensus
    rules are not reversible, and there is a very high cost to the network if a wrong
    enhancement is introduced. Plus, consensus rules need to be backward compatible,
    so every change needs to be introduced as a soft fork, which makes consensus rules
    more complicated with each enhancement.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币正在经历许多变化，尽管将改进内容纳入共识规则中相当困难。改进是重要的，因为它使技术具有未来性。同时，与共识规则相关的改进是不可逆的，如果引入了错误的改进，对网络的成本非常高。另外，共识规则需要向后兼容，因此每一次改进都需要以软分叉的形式引入，这使得随着每次改进，共识规则变得更加复杂。
- en: Bitcoin is going to have a new signature scheme called Schnorr signature. Unlike
    ECDSA, Schnorr signatures are linear, which means Signatures can be aggregated
    into a new Signature without affecting its size.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币将拥有一个名为Schnorr签名的新签名方案。与ECDSA不同，Schnorr签名是线性的，这意味着签名可以被聚合成一个新的签名，而不会影响其大小。
- en: 'This can be understood as follows:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 这可以按照以下方式理解：
- en: '![](images/Figure-8.7.jpg)'
  id: totrans-133
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.7.jpg)'
- en: '**Figure 8.7:** Signature aggregation using Schnorr Signature'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '**图8.7：** 使用Schnorr签名的签名聚合'
- en: As we know, signatures take quite a bit of space in a transaction, so we can
    reduce the effective size of a transaction by aggregating multiple signatures
    in a Multisig input. This will help accommodate more transactions in a block,
    increasing Bitcoin’s transaction rate.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们所知，签名在交易中占用了相当大的空间，因此我们可以通过在多签名输入中聚合多个签名来减小交易的有效大小。这将有助于在区块中容纳更多的交易，从而提高比特币的交易速率。
- en: Additionally, since signature aggregation allows multiple signatures and public
    keys to be aggregated into a single signature and public key, it becomes difficult
    to know if funds are held by a single person or a group of persons. This makes
    tracing of the consumers of bitcoin difficult without compromising the verifiability
    of the transaction.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，由于签名聚合允许将多个签名和公钥聚合成单个签名和公钥，因此很难确定资金是由一个人还是多个人持有。这使得在不损害交易可验证性的情况下，追踪比特币消费者的难度增加。
- en: '[MAST: Merklized Abstract Syntax Trees](toc.xhtml#s160a)'
  id: totrans-137
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[MAST：Merklized Abstract Syntax Trees](toc.xhtml#s160a)'
- en: In P2SH transactions, we can embed complex scripts with conditions and sub-conditions.
    When the transaction is spent, only a portion of the nesting of multiple conditionals
    gets executed. The spender must reveal the script to utilize the locked fund.
    This has unnecessary high costs and is bad for privacy.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 在P2SH交易中，我们可以嵌入具有条件和子条件的复杂脚本。当交易被花费时，只有嵌套的多个条件语句中的一部分会被执行。花费者必须透露脚本才能使用锁定的资金。这产生了不必要的高成本，对隐私不利。
- en: 'To understand conditionals and sub-conditionals, a script can be represented
    as an Abstract Syntax Tree. This kind of notation is commonly used by compilers
    to compile a programing language. As an example, the common script we use is 2-3-multisig.
    Considering, 2-3-multisig between Alice, Bob, and Carol, we can represent it as
    the following conditional statement:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 为了理解条件语句和子条件语句，脚本可以表示为一个抽象语法树。这种表示法通常被编译器用来编译编程语言。作为一个例子，我们常用的脚本是2-3-多签名。考虑Alice、Bob和Carol之间的2-3-multisig，我们可以将其表示为以下的条件语句：
- en: '`(Alice AND Bob) OR (Bob AND Carol) OR (Carol AND Alice)`'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: '`(Alice AND Bob) OR (Bob AND Carol) OR (Carol AND Alice)`'
- en: 'The following is a representation of the Abstract Syntax Tree for the 2-of-3-multisig
    between Alice, Bob, and Carol:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是Alice、Bob和Carol之间的2-of-3多签名抽象语法树的表示：
- en: '![](images/Figure-8.8.jpg)'
  id: totrans-142
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.8.jpg)'
- en: '**Figure 8.8:** Abstract Syntax Tree for the 2-of-3-multisig'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: '**图8.8：** 2-of-3-multisig的抽象语法树'
- en: MAST uses the Merkle tree to represent the Bitcoin script. The Merkle tree is
    a modification of the Abstract Syntax tree, in which each side of a condition
    is joined by the concatenated hash of both sides. This separates each condition
    in such a way that a transaction spender only needs to reveal the conditionals
    required for Merkle proof and leave other conditionals hidden. So, this is like
    Merkle Proof, which was explained in *[Chapter 5, The Whitepaper](c05.xhtml),*
    under the topic ***Simplified Payment Verification*** *section of the whitepaper*.
    MAST is a concept that does not have direct use in Bitcoin transactions. There
    is no such thing as Pay-2-Script-Merkle-Root. It is just a concept to understand
    MAST, but MAST does get used in Taproot, so this is important to understand.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: MAST 使用 Merkle 树来表示比特币脚本。Merkle 树是抽象语法树的修改版，其中每个条件的两侧通过连接两侧的拼接散列来连接。这样可以将每个条件分开，使得交易支付者只需透露所需的
    Merkle 证明的条件，并隐藏其他条件。所以，这就像 Merkle 证明一样，在*[第 5 章，白皮书](c05.xhtml)*的***简化支付验证***部分进行了说明。MAST
    是一个在比特币交易中没有直接用途的概念。没有所谓的 Pay-2-Script-Merkle-Root。这只是理解 MAST 的一个概念，但 MAST 在 Taproot
    中确实得到使用，所以这是需要理解的。
- en: 'So, in a hypothetical P2SMR transaction, the following will happen:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，在一个假设的 P2SMR 交易中，以下将会发生：
- en: '![](images/Figure-8.9.jpg)'
  id: totrans-146
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.9.jpg)'
- en: '**Figure 8.9:** A hypothetical P2SMR transaction based on MAST'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: '**图 8.9：** 基于 MAST 的假设 P2SMR 交易'
- en: Since only a part of the script is revealed, it reduces the number of bytes
    used in the transaction, which helps in scaling, and it improves privacy since
    it does not reveal the whole script.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 由于只揭示了脚本的一部分，它减少了交易中使用的字节数，有助于扩展，并提高了隐私性，因为它没有揭示整个脚本。
- en: '[Taproot](toc.xhtml#s161a)'
  id: totrans-149
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[Taproot](toc.xhtml#s161a)'
- en: Taproot goes even further. It hides a whole script or most parts of the script
    under the public key signature pair. So, we can have a complex script with multiple
    conditionals and parties hidden under the address. This reduces transaction size,
    and a complex script takes the space of only a P2PKH transaction or a bit more
    for script hashes. And the transaction hides all the details of a script within
    a public key and a signature so that an observer cannot determine that it is a
    single signature or a multisig or a complex smart contract. Therefore, it is great
    for privacy as well.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: Taproot 更进一步。它将整个脚本或脚本的大部分隐藏在公钥签名对之下。因此，我们可以有一个复杂的脚本，其中包含多个条件和多方，这些都被地址隐藏起来。这减少了交易大小，复杂的脚本只占用
    P2PKH 交易的空间，或者脚本散列稍微大一点。而且交易将脚本的所有细节隐藏在公钥和签名之内，使得观察者无法确定它是一个单签名还是多签名或复杂的智能合约。因此，它也非常适合隐私。
- en: 'The following is the illustration for funding transaction:'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是资金交易的说明：
- en: '![](images/Figure-8.10.jpg)'
  id: totrans-152
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.10.jpg)'
- en: '**Figure 8.10:** Funding transaction for Taproot'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: '**图 8.10：** Taproot 的资金交易'
- en: To spend the P2TR UTXO, we can either sign the transaction with a private key
    or tweak the public key, which only Alice and Bob will know, or we will need to
    provide the required hashes, as in Merkle Proof, along with Signature.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 要花费 P2TR UTXO，我们可以使用私钥签署交易，或调整公钥，只有 Alice 和 Bob 知道，或者我们需要提供所需的散列，就像 Merkle 证明一样，连同签名一起。
- en: 'So, there are two possible transactions created using P2TR UTXO:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，使用 P2TR UTXO 创建了两个可能的交易：
- en: When Alice and Bob sign the transaction, in this case, since they have created
    a tweak public key, they can also create Aggregated signature. Here’s the illustration:![](images/Figure-8.11.jpg)
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当 Alice 和 Bob 签署交易时，由于他们创建了一个调整后的公钥，他们也可以创建聚合签名。以下是说明：![](images/Figure-8.11.jpg)
- en: '**Figure 8.11:** Taproot Spending transaction with the main condition'
  id: totrans-157
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**图 8.11：** 带有主要条件的 Taproot 花费交易'
- en: When Bob and Carol or Carol and Alice sign the transaction, since they have
    not created a tweak public key, they need to provide hashes as in Merkle Proof
    to allow validation. Here’s the illustration:![](images/Figure-8.12.jpg)
  id: totrans-158
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当 Bob 和 Carol 或者 Carol 和 Alice 签署交易时，由于他们没有创建调整后的公钥，他们需要提供像 Merkle 证明一样的散列以允许验证。以下是说明：![](images/Figure-8.12.jpg)
- en: '**Figure 8.12:** Taproot Spending transaction for other conditions'
  id: totrans-159
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**图 8.12：** 其他条件的 Taproot 花费交易'
- en: '[Lightning Network](toc.xhtml#s162a)'
  id: totrans-160
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[闪电网络](toc.xhtml#s162a)'
- en: Any of the enhancements or changes in block size can only have a limited effect
    on the increase in the number of transactions per second. Even if we could increase
    the block size by 10 times, the number of transactions per second will only reach
    200 to 250 transactions per second, which is still much smaller than credit cards.
    Visa handles 65,000 transactions per second as per records.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 任何关于区块大小的增强或改变，对每秒交易数的增加只能产生有限的影响。即使我们能将区块大小增加10倍，每秒交易数也只能达到200到250笔，这仍然远小于信用卡。根据记录，Visa每秒处理65,000笔交易。
- en: Lightning Network is a layer 2 protocol on Bitcoin blockchain. We already covered
    the Lightning Network in [Chapter 4](c04.xhtml) titled *Bitcoin in the real world*
    and Topic *Accepting bitcoins by an online merchant.*
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: Lightning Network是比特币区块链上的第2层协议。我们在[第4章](c04.xhtml)中介绍了Lightning Network，标题为《比特币在现实世界》和主题《在线商户接受比特币》。
- en: The lightning Network allows transactions to happen off-chain. And since it
    is between individuals through a route involving a few more hops, there is no
    constrained-on number of transactions that can happen in a second. This enhances
    Bitcoin’s ability to complete a substantial number of transactions and compete
    with MasterCard and Visa Card.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: Lightning Network允许在链下进行交易。由于它是通过涉及几个额外跳转的个人之间的路由，因此没有每秒可以发生的交易数量的限制。这增强了比特币完成大量交易的能力，并可与MasterCard和Visa卡竞争。
- en: Since there could be any number of transactions between parties without recording
    them on the blockchain and only the final transaction is recorded, it improves
    the privacy of payments between two parties.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 由于各方之间的交易数量可以任意多，而不需要在区块链上记录，只记录最终的交易，因此它提高了两方之间支付的隐私性。
- en: Schnorr Signature will further reduce the cost of creating and closing a Lightning
    Network channel by integrating the signatures of both parties into a single signature.
    We can even have multiparty channels as we can now aggregate signatures.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: Schnorr签名通过将双方的签名整合成一个单一签名，进一步降低了创建和关闭Lightning Network通道的成本。我们现在甚至可以拥有多方通道，因为我们可以聚合签名。
- en: '[CoinJoin](toc.xhtml#s163a)'
  id: totrans-166
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[CoinJoin](toc.xhtml#s163a)'
- en: CoinJoin is a method of making bitcoin fungible by joining multiple transactions
    in such a way that it is difficult to know which outputs are receiving coins from
    which UTXO. There are diverse ways to achieve this.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: CoinJoin是一种通过以一种难以知道哪个输出接收来自哪个UTXO的硬币的方式，使比特币可替代的方法。实现这一点有多种方式。
- en: One way is to divide values in inputs and join values in output such that output
    values are matched. This way, it becomes difficult to match inputs with outputs.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 一种方法是将输入中的值分割，并将输出中的值合并，以使输出值匹配。这样，很难将输入与输出相匹配。
- en: 'For example, the following are the three required transactions:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，以下是三个必需的交易：
- en: '![](images/Figure-8.13.jpg)'
  id: totrans-170
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.13.jpg)'
- en: '**Figure 8.13:** Transactions to be in a CoinJoin'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: '**图8.13:** 用于CoinJoin的交易'
- en: To do the CoinJoin, we try to join all three transactions into one transaction
    such that it is difficult to know which UTXOs are going to which recipient. This
    removes identity from bitcoin, making them similar to cash.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 为了进行CoinJoin，我们尝试将三个交易合并成一个交易，使得很难知道哪个UTXO将分配给哪个接收者。这消除了比特币的身份，使它们类似于现金。
- en: 'Here’s an example of the CoinJoin transaction:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个CoinJoin交易的示例：
- en: '![](images/Figure-8.14.jpg)'
  id: totrans-174
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.14.jpg)'
- en: '**Figure 8.14:** Example of a CoinJoin'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '**图8.14:** CoinJoin的示例'
- en: In the preceding example, it is impossible to know which addresses belong to
    Bob, Dave, and Kirsten and who paid in which output.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的示例中，不可能知道哪些地址属于Bob、Dave和Kirsten，以及谁在哪个输出中支付。
- en: '[Tumbler services](toc.xhtml#s164a)'
  id: totrans-177
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[Tumbler服务](toc.xhtml#s164a)'
- en: Tumbler services are provided by anonymous exchanges and are not traceable as
    they mostly use the TOR network. They charge fees for mixing transactions. The
    tumbler services take the bitcoin from the sender and forward them to the receiver,
    but in between, they mix them with other transactions or their own transactions
    and move them between multiple addresses. This makes them impossible to track.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: Tumbler服务由匿名交易所提供，因为它们大多使用TOR网络，所以无法追踪。它们为混合交易收取费用。Tumbler服务从发送者那里获取比特币，然后转发给接收者，但在中间，它们将比特币与其他交易或它们自己的交易混合，并在多个地址之间移动它们。这使得追踪变得不可能。
- en: 'This can be understood from the following illustration:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 这一点可以通过以下说明理解：
- en: '![](images/Figure-8.15.jpg)'
  id: totrans-180
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.15.jpg)'
- en: '**Figure 8.15:** Example of a Tumbler service'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: '**图8.15:** Tumbler服务的示例'
- en: In the preceding illustration, there is no way to know that Alice is paying
    Bob or Carol is paying Dave or John is paying Kirsten because all are separate
    and unrelated fully mixed transactions.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的插图中，没有办法知道爱丽丝是否在支付鲍勃，或者卡罗尔是否在支付戴夫，或者约翰是否在支付克里斯滕，因为所有这些都是完全混合且相互独立的交易。
- en: Unlike CoinJoin, which is provided by some popular wallets, Tumbler services
    are not provided by any known entity. This is the very nature of their operations.
    Consequently, such services are risky as they can steal your coins.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 与由一些流行钱包提供的 CoinJoin 不同，Tumbler 服务不由任何已知实体提供。这是他们运营的本质。因此，这类服务存在风险，因为他们可能会偷走你的硬币。
- en: '[Bitcoin mining energy usage](toc.xhtml#s165a)'
  id: totrans-184
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[比特币挖矿能源消耗](toc.xhtml#s165a)'
- en: 'Bitcoin has a bad image because of its high energy usage, and that is true,
    as we can see in the following image:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币因其高能源消耗而形象不佳，这是事实，正如我们在以下图片中看到的
- en: '![](images/Figure-8.16.jpg)'
  id: totrans-186
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.16.jpg)'
- en: '**Figure 8.16:** Bitcoin mining energy usage compared to top electricity consuming
    nations'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: '**图 8.16:** 比特币挖矿能源消耗与主要电力消耗国家比较'
- en: The preceding image shows the 50 highest energy-consuming countries. Bitcoin
    currently occupies the 24^(th) place, and it is nearly equal to the Poland, which
    is a rich and developed country in Europe.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 前图显示了 50 个能源消耗最高的国家。比特币目前排名第 24 位，几乎与欧洲富裕发达国家波兰相等。
- en: In contrast, global energy usage is 23000 TWh, and Bitcoin energy usage is only
    154TWh, which is less than 1.0%. Bitcoin energy usage is related to growth in
    the currency. As the interest in Bitcoin grows, so will be the energy usage by
    the Bitcoin network.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 相比之下，全球能源消耗为 23000 TWh，比特币能源消耗仅为 154TWh，占比不到 1.0%。比特币能源消耗与货币增长有关。随着对比特币的兴趣增长，比特币网络的能源消耗也将增长。
- en: We will do some calculations to understand why it is not as bad as it appears
    to be.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将进行一些计算，以了解为什么它并不像看起来那么糟糕。
- en: To not promote mining equipment, we will not disclose the name of mining equipment
    we are using as a reference.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 为了不推广挖矿设备，我们将不透露用作参考的挖矿设备名称。
- en: 'Consider that I am using mining equipment in a location in Bengaluru city,
    which currently has the following power costs:'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我在班加罗尔市的一个地点使用挖矿设备，该地点目前有以下电力成本：
- en: '![](images/262.jpg)'
  id: totrans-193
  prefs: []
  type: TYPE_IMG
  zh: '![](images/262.jpg)'
- en: '**Table 8.2:** Electricity charges in Bengaluru City'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: '**表 8.2:** 班加罗尔市电力收费'
- en: We use the same programs as in *[Chapter 6, Blockchain, Transactions and Mining](c06.xhtml),*
    under topic *Mining cost*.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用与 *[第 6 章，区块链、交易和挖矿](c06.xhtml)* 中主题 *挖矿成本* 相同的程序。
- en: 'We take a miner with a hash rate of 90 TH/s and Energy consumption of 3050W,
    which is defined as follows:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 我们以一个 hash 率为 90 TH/s 和电力消耗为 3050W 的矿工为例，定义如下：
- en: '`def getMinerHashRate():`'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: '`def getMinerHashRate():`'
- en: '`return 100 * 10**12`'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: '`return 100 * 10**12`'
- en: '`def getMinerPowerWatt():`'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: '`def getMinerPowerWatt():`'
- en: '`return 3050`'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: '`return 3050`'
- en: '`We define unit price as follows:`'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: '`我们定义单位价格为：`'
- en: '`electricity_rates = {“rate_slabs”: [{“min”: 1, “max”: 30, “unit_price”: 4},
    {“min”: 31, “max”: 100, “unit_price”: 5.45}, {“min”: 101, “max”: 200, “unit_price”:
    7}, {“min”: 201, “unit_price”: 8.05}]}`'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: '`electricity_rates = {“rate_slabs”: [{“min”: 1, “max”: 30, “unit_price”: 4},
    {“min”: 31, “max”: 100, “unit_price”: 5.45}, {“min”: 101, “max”: 200, “unit_price”:
    7}, {“min”: 201, “unit_price”: 8.05}]}`'
- en: 'If the current price of bitcoin is ₹28,05,753, which is defined as follows:'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 如果比特币当前价格为 ₹28,05,753，定义如下：
- en: '`def getCurrentSellPrice():`'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: '`def getCurrentSellPrice():`'
- en: '`return 2805753`'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: '`return 2805753`'
- en: 'And following is the code to call the `**miningReturn**` method to get mining
    profit:'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码用于调用`**miningReturn**`方法获取挖矿利润：
- en: '`blk_hash = ‘000000000000000000016acc33775c2ea52abeb4407381b84fee5f7af97fdd8b’`'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: '`blk_hash = ‘000000000000000000016acc33775c2ea52abeb4407381b84fee5f7af97fdd8b’`'
- en: '`blk_hash_b = bytes.fromhex(blk_hash)[::-1]`'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: '`blk_hash_b = bytes.fromhex(blk_hash)[::-1]`'
- en: '`blk_index = getBlockIndex(blk_hash, block_db_g)`'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: '`blk_index = getBlockIndex(blk_hash, block_db_g)`'
- en: '`blk_hdr_b = getBlockHeaderBytes(blk_hash_b)`'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: '`blk_hdr_b = getBlockHeaderBytes(blk_hash_b)`'
- en: '`jsonobj = getBlockHeader(blk_hdr_b)`'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: '`jsonobj = getBlockHeader(blk_hdr_b)`'
- en: '`blk_reward = getBlockReward(blk_index[‘height’])`'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: '`blk_reward = getBlockReward(blk_index[‘height’])`'
- en: '`miner_hashrate = getMinerHashRate()`'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: '`miner_hashrate = getMinerHashRate()`'
- en: '`print(“Miner hashrate = %d” % (miner_hashrate))`'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: '`print(“矿工 hash 率 = %d” % (miner_hashrate))`'
- en: '`miner_power = getMinerPowerWatt()`'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: '`miner_power = getMinerPowerWatt()`'
- en: '`print (“Miner Power in Watt = %f” % (miner_power))`'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: '`print (“矿工电力消耗（瓦特）= %f” % (miner_power))`'
- en: '`expense = getMiningPowerExpense(miner_power)`'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: '`expense = getMiningPowerExpense(miner_power)`'
- en: '`print (“Miner Power Expense Per Month = %.2f” % (expense))`'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: '`print (“矿工每月电力支出 = %.2f” % (expense))`'
- en: '`bits_b = bytes.fromhex(jsonobj[‘bits’])[::-1]`'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: '`bits_b = bytes.fromhex(jsonobj[‘bits’])[::-1]`'
- en: '`mining_return = miningReturn(miner_power, miner_hashrate, bits_b, blk_reward)`'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: '`mining_return = miningReturn(miner_power, miner_hashrate, bits_b, blk_reward)`'
- en: '`print(“Mining Return Per Month = %s” % (mining_return))`'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: '`print(“Mining Return Per Month = %s” % (mining_return))`'
- en: 'On running it, we get the following result:'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 运行后，我们得到以下结果：
- en: '![](images/Figure-8.17.jpg)'
  id: totrans-223
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.17.jpg)'
- en: '**Figure 8.17:** Mining profitability of test miner in Bangalore'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: '**图8.17：** 在班加罗尔测试矿工的挖矿盈利性'
- en: The equipment cost nearly ₹9,00,000/-.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 设备成本几乎达到了90,000卢比。
- en: If mining reward remains constant, it will take 3 years to achieve breakeven
    with the equipment. This looks like reasonable returns, but considering that the
    mining hash-rate might double during this period, it might reduce the monthly
    mining returns to between 0 and ₹5,000, which is negligible, and you will need
    to buy another equipment, which might be more costly and might consume more power.
    Consequently, you might never reach breakeven. On the positive side, in 3 years,
    the price of bitcoin may rise and mining remains profitable.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 如果挖矿奖励保持恒定，那么需要3年时间才能实现盈亏平衡。这看起来是个合理的回报，但考虑到挖矿哈希率可能在此期间翻倍，这可能会将每月的挖矿收益降低到0到5000卢比之间，这是微不足道的，你还需要购买另一台设备，这可能更昂贵，可能消耗更多电力。因此，你可能会永远无法实现盈亏平衡。积极的一面是，在3年内，比特币的价格可能会上涨，挖矿仍然有利可图。
- en: This makes mining a bit risky unless you get subsidized power, power from a
    cheap source, or power source that comes from wasted fuel or energy.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 这使得挖矿存在一定的风险，除非你能获得补贴电力、来自廉价来源的电力、或者来自废料燃料或能源的电力。
- en: Consequently, large miners are mostly situated in countries where electricity
    is subsidized. Additionally, many powers generation companies and fossil fuel
    companies are also mining bitcoin to utilize their excess power and fuel. Natural
    gas and oil drilling companies are using waste gas for bitcoin mining, which is
    especially good for the environment as methane is a much bigger greenhouse gas
    than carbon dioxide.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，大型矿工主要位于电力补贴的国家。此外，许多电力生成公司和化石燃料公司也在挖比特币，以利用他们的过剩电力和燃料。天然气和石油钻探公司正在利用废气进行比特币挖矿，这对环境尤其有利，因为甲烷比二氧化碳更大的温室气体。
- en: The fuel efficiency of wind and solar power is better than non-renewable energy
    sources, except natural gas and nuclear power. Additionally, off-grid power saves
    energy wastage due to transmission which further improves mining profitability.
    This makes off-grid renewable energy the energy of choice for non-subsidized mining.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 风能和太阳能的燃料效率比非可再生能源更好，除了天然气和核能。此外，离网电力减少了因输电造成的能源浪费，这进一步提高了挖矿利润。这使得离网可再生能源成为非补贴挖矿的首选能源。
- en: And for governments subsidizing power for bitcoin, mining is costly as it hardly
    creates any jobs, so governments tend to attack such facilities, like in China
    and Iran.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 对于为比特币提供电力补贴的政府来说，挖矿成本很高，因为它几乎不创造任何就业机会，所以政府倾向于攻击这类设施，如中国和伊朗。
- en: 'So, contrary to contemporary belief, we learned that bitcoin mining is good
    for the environment because of the following reasons:'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，与当代观念相反，我们了解到比特币挖矿对环境有益，原因如下：
- en: Miners prefer off-grid renewable energy as a source of electricity.
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 矿工更喜欢离网可再生能源作为电力来源。
- en: Waste fuel, which consists of the most potent greenhouse gases, is utilized
    for bitcoin mining and converted to a less potent greenhouse gas, i.e., carbon
    dioxide.
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 废燃料，它由最强烈的温室气体组成，被用于比特币挖矿，并转化为较弱的温室气体，即二氧化碳。
- en: Bitcoin mining discourages governments to subsidize power to mining companies.
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比特币挖矿使政府不敢对矿场公司进行电力补贴。
- en: '[Threats to individuals and network](toc.xhtml#s166a)'
  id: totrans-235
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[个人和网络面临的威胁](toc.xhtml#s166a)'
- en: Till now in this chapter, you learned about the design limitations and how the
    Bitcoin developer community is working to overcome those limitations. You also
    learned about how large energy consumption in bitcoin mining is not a big problem
    for the environment.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章到目前为止，你了解到了设计限制以及比特币开发者社区是如何努力克服这些限制的。你也了解到了比特币挖矿大量能耗对环境并不是一个大问题。
- en: Bitcoin, being a decentralized peer-to-peer open network for value transfer,
    is both lucrative for an attacker and perceived as a threat to the existing global
    monetary system. So, the Bitcoin network and bitcoin investors may have to deal
    with various attacks, such as attacks from governments, central banks, malicious
    hackers, fraudsters, or robbery.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币作为一种去中心化的点对点开放网络，用于价值传输，对攻击者来说是有利可图的，同时也被视为对现有全球货币系统的威胁。因此，比特币网络和比特币投资者可能不得不应对各种攻击，例如来自政府、中央银行、恶意黑客、欺诈者或抢劫的攻击。
- en: However, threats may not always be because of diverse types of attacks but may
    also be because of risk and potential vulnerabilities that exist today or may
    be a problem in the future.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，威胁可能并不总是因为多种攻击类型，也可能是因为今天存在的风险和潜在漏洞，或者可能在未来成为问题。
- en: '[Threats from governments](toc.xhtml#s167a)'
  id: totrans-239
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[来自政府的威胁](toc.xhtml#s167a)'
- en: As we saw in ***[Chapter 4, Bitcoin in the Real World](c04.xhtml)****,* under
    the topic ***Bitcoin and*** *c****ryptocurrency*** ***egulations***, in most countries
    around the world, the laws on cryptocurrencies are not clear or are non-existent.
    This gives authorities extra judicial powers to handle cryptocurrencies, which
    sometimes involve threat and corruption. Sometimes, taxes are to be paid, but
    the clause to pay taxes is not clear. This is the problem in India, like in many
    other countries. This affects exchanges, traders, investors, and merchants, leading
    to inflated prices of cryptocurrencies and related services and risk of loss of
    investments or business.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们在**[第四章，比特币在现实世界](c04.xhtml)**中看到的，在**比特币与**加密货币**监管**的主题下，世界上大多数国家的加密货币法律并不明确或根本不存在。这赋予了当局处理加密货币的额外司法权力，有时涉及威胁和腐败。有时，需要支付税款，但支付税款的条款并不明确。这就是印度和其他许多国家的问题。这影响了交易所、交易员、投资者和商人，导致了加密货币和相关服务价格的膨胀以及投资或商业风险的损失。
- en: There is also no legal protection, which is sometimes misused by miscreates
    through extortions and frauds.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，也没有法律保护，这有时被不良分子通过勒索和欺诈行为滥用。
- en: Ban on dealing in bitcoin is a potential risk, and some countries do take that
    route, which means anyone dealing in cryptocurrencies gets punished. However,
    this has been done by very few countries.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 对比特币交易的禁令是一种潜在风险，一些国家确实采取了这种做法，这意味着任何参与加密货币交易的人都会受到惩罚。然而，这样做的国家非常少。
- en: '[Threats from central banks](toc.xhtml#s168a)'
  id: totrans-243
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[来自中央银行的威胁](toc.xhtml#s168a)'
- en: Most countries, developed or developing, do not have fully convertible currencies,
    and they see stronger currencies as a threat. The fear is that the central banks
    will lose control, and their currencies may become weak and lose value. This is
    a legitimate concern, mostly because of the weakness in the fiscal policies of
    a country. There is also a risk that central banks may not be able to know the
    use of funds for illicit activities. So, as a precautionary measure, KYC and AML
    norms are strongly enforced by all financial institutions.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数国家，无论发达国家还是发展中国家，都没有完全可兑换的货币，它们认为强势货币是一种威胁。这种担忧是，中央银行将失去控制，其货币可能变得疲软并失去价值。这是一个合理的担忧，主要是因为一个国家的财政政策存在弱点。此外，中央银行可能无法知道资金用于非法活动的风险。因此，作为预防措施，所有金融机构都严格执行KYC和AML标准。
- en: Cryptocurrencies are quite fluid, and they can easily slip through regulatory
    loopholes. This is why central banks are wary of their widespread use. In many
    countries, we have seen a banking ban exists and, in some countries, large institutions
    are also not allowed to deal in cryptocurrencies. On the other hand, in some countries,
    certain activities related to cryptocurrencies are prohibited.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 加密货币非常流动，它们可以轻易地通过监管漏洞。这就是为什么中央银行对其广泛使用持谨慎态度。在许多国家，我们看到了银行禁令的存在，在一些国家，大型机构也被禁止交易加密货币。另一方面，在一些国家，与加密货币相关的某些活动被禁止。
- en: As we have learned, unlike most other cryptocurrencies, bitcoin is not really
    a good speculative instrument and is more of an asset like gold. Like gold, bitcoin
    should not be seen as a threat to the global monetary system, and central banks
    should recognize that the risk of money laundering is the lack of regulation,
    so each country needs more regulation, not less.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们所学的，与其他大多数加密货币不同，比特币并不是一个很好的投机工具，而更像是一种黄金一样的资产。像黄金一样，比特币不应该被视为对全球货币系统的威胁，中央银行应该认识到洗钱风险在于监管不足，因此每个国家都需要更多的监管，而不是更少。
- en: '[Malicious hackers](toc.xhtml#s169a)'
  id: totrans-247
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[恶意黑客](toc.xhtml#s169a)'
- en: Hackers may attack individuals, exchanges, and networks in various ways. Hacking
    may be stealing, robbery, or exploiting protocol weaknesses. Stealing could be
    done by trying to crack security by brute force or knowledge-based attacks, or
    it could be through social engineering, among other ways. Robbery can also involve
    social engineering and ransomware.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 黑客可能以各种方式攻击个人、交易所和网络。黑客行为可能是盗窃、抢劫，或利用协议弱点。盗窃可以通过尝试用暴力破解或基于知识的攻击破解安全措施，或通过社会工程学等方法进行。抢劫也可以通过社会工程学和勒索软件进行。
- en: '[Bitcoin theft](toc.xhtml#s170a)'
  id: totrans-249
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[比特币盗窃](toc.xhtml#s170a)'
- en: Bitcoin theft can happen by weakness in cryptography being used by the bitcoin
    wallet. Theft can also happen by other methods through malware, spyware, or social
    engineering.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币盗窃可以通过比特币钱包使用的密码学弱点发生。盗窃也可能通过其他方法通过恶意软件、间谍软件或社会工程学发生。
- en: Exploiting cryptographic weaknesses
  id: totrans-251
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 利用密码学弱点
- en: The Hashing and ECDSA algorithm used by Bitcoin is quite safe, but there are
    still some risks because of the selection of entropy, salt, or other parameters
    in cryptographic algorithms.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币使用的哈希和ECDSA算法相当安全，但由于密码学算法中熵、盐或其他参数的选择仍存在一些风险。
- en: '**Brute force attack**'
  id: totrans-253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**暴力破解攻击**'
- en: A 256-bit ECDSA cryptography used in Bitcoin has the same security strength
    as the 3072-bit RSA cryptography. It will take billions of years to crack 256-bit
    ECDSA cryptography used by Bitcoin by just brute force. There is still a possibility
    that in a few decades, we may learn the way to crack cryptography. When that happens,
    Bitcoin will need to shift to a new algorithm.
  id: totrans-254
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 比特币中使用的256位ECDSA加密与3072位RSA加密具有相同的安全强度。仅通过暴力破解，破解比特币使用的256位ECDSA加密需要数十亿年。几十年的时间里，我们仍有可能会发现破解加密的方法。那时，比特币需要转向新的算法。
- en: '**Low entropy attack**'
  id: totrans-255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**低熵攻击**'
- en: The signature algorithm used by Bitcoin is very secure and cannot be broken
    by even the most advanced computers in millions of years. However, the security
    of a private key depends on the entropy of the random generator used to generate
    the private key. If a low entropy system is used to generate the private key,
    then the private key can be guessed by brute force.
  id: totrans-256
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 比特币使用的签名算法非常安全，即使是最先进的计算机也需要数百万年才能破解。然而，私钥的安全性取决于用于生成私钥的随机生成器的熵。如果使用低熵系统生成私钥，那么私钥可以通过暴力破解猜测。
- en: '**Collision attack**'
  id: totrans-257
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**碰撞攻击**'
- en: SHA256 is considered collision-resistant, which means it is almost impossible
    to generate two messages with the same hash value. So, Bitcoin is secure from
    such attacks.
  id: totrans-258
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: SHA256被认为是抗碰撞的，这意味着几乎不可能生成两个具有相同散列值的消息。所以，比特币从这类攻击中是安全的。
- en: '**Precomputed hashes or rainbow tables**'
  id: totrans-259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**预计算散列或彩虹表**'
- en: The PBKDF2-HMAC-SHA512 algorithm is used in hierarchical deterministic wallets
    for the generation of private and public keys. The algorithm requires a large
    number of iterations to generate secure keys, and it must be used with salt, else
    the generated keys are prone to attacks using precomputed hashes. Additionally,
    the iterations or rounds should be at least 2048 but are expected to be 10,000
    or even higher. Using high computational power, a lower round generated key can
    be derived and all bitcoin in the wallet can be stolen.
  id: totrans-260
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: PBKDF2-HMAC-SHA512算法用于生成私钥和公钥的分层确定性钱包。该算法需要大量迭代来生成安全密钥，并且必须与盐值一起使用，否则生成的密钥容易受到使用预计算散列的攻击。此外，迭代或轮数至少应该是2048，但可能是10,000甚至更高。使用高性能计算，可以推导出较低轮数生成的密钥，并可以窃取钱包中的所有比特币。
- en: Malware
  id: totrans-261
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 恶意软件
- en: Malware is a malicious program that intends to steal information or damage the
    computer or network. Malware could be used to steal information by **spyware or
    trojan**. Malware can be installed through some form of **social engineering**,
    which can use urgency, greed, and fear to make you click on a link or download
    from a link in mail or web page. Malware can also be installed through a fake
    website that looks real. These malware are called **trojan**.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 恶意软件是一种旨在窃取信息或损坏计算机或网络的恶意程序。恶意软件可以通过**间谍软件或特洛伊木马**来窃取信息。恶意软件可以通过某种形式的**社会工程学**安装，这种方法可能会利用紧迫感、贪婪和恐惧，诱使你点击邮件或网页上的链接进行下载。恶意软件也可以通过一个看起来很真实的假网站进行安装。这些恶意软件被称为**特洛伊木马**。
- en: A malware called **spyware** then gets installed in the computer without the
    user’s knowledge and can read files, collect information from websites, and read
    keystrokes from the keyboard.
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 一种名为**间谍软件**的恶意软件在用户不知情的情况下安装在计算机上，可以读取文件、从网站收集信息，以及读取键盘的按键。
- en: Ransomware
  id: totrans-264
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 勒索软件
- en: Ransomware is a new form of hacking where an attacker encrypts files on the
    system after getting access to a system through malware. After that, the attacker
    asks for bitcoin as ransom in exchange for decrypting the files.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 勒索软件是一种新的黑客形式，攻击者在通过恶意软件获得系统访问权限后，对系统上的文件进行加密。此后，攻击者要求以比特币作为赎金，以换取解密文件。
- en: 'The following are the steps taken by ransomware to rob bitcoin:'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是被勒索软件抢劫比特币的步骤：
- en: '![](images/Figure-8.18.jpg)'
  id: totrans-267
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.18.jpg)'
- en: '**Figure 8.18:** Steps taken by the attacker to perform a ransomware attack'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: '**图 8.18:** 攻击者执行勒索软件攻击的步骤'
- en: '[Losing private keys or seed phrase](toc.xhtml#s171a)'
  id: totrans-269
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[丢失私钥或种子短语](toc.xhtml#s171a)'
- en: Losing private keys and wallet seed is so common that it is estimated that 20%
    of all bitcoin are lost and will never be recovered. When bitcoin was new and
    it had little to no value, people did not care about the private keys that much,
    so losing bitcoin was easy. Even after bitcoin started becoming a valuable wallet,
    software were not easy to use, and losing a private key was still easy.
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 丢失私钥和钱包种子是如此普遍，以至于有估计认为20%的所有比特币已经丢失并且永远无法找回。当比特币还很新，并且几乎没有任何价值时，人们对私钥并不太在意，所以丢失比特币很容易。即使比特币开始变得有价值，软件也不容易使用，丢失私钥仍然很容易。
- en: With Hierarchical Deterministic wallets, it has become easier to manage private
    keys, but people still forget where they saved the seed and so, lose their bitcoin
    forever. Since hardware wallets have become quite common, it has become a lot
    less common to lose Bitcoins. Nevertheless, people do lose their bitcoin because
    of carelessness, natural disasters, or other such circumstances.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 随着分层确定性钱包的出现，管理私钥变得更加容易，但人们仍然忘记他们保存种子的地方，因此永远失去了他们的比特币。由于硬件钱包变得相当普遍，因此丢失比特币的情况已经大大减少。然而，由于粗心大意、自然灾害或其他此类情况，人们仍然会丢失比特币。
- en: '[Threat due to vulnerabilities](toc.xhtml#s172a)'
  id: totrans-272
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[由于漏洞带来的威胁](toc.xhtml#s172a)'
- en: The Bitcoin network does have certain risks because of design and ongoing technology
    improvements.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币网络确实因为设计和持续的技术改进而存在某些风险。
- en: '[Transaction malleability](toc.xhtml#s173a)'
  id: totrans-274
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[交易的可塑性](toc.xhtml#s173a)'
- en: Transaction malleability will be discussed in detail in *[Chapter 12, Segregated
    Witness](c12.xhtml)*, so we are not discussing it here.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 交易的可塑性将在*[第12章，隔离见证](c12.xhtml)*中详细讨论，所以我们在这里不讨论它。
- en: '[Dusting attack](toc.xhtml#s174a)'
  id: totrans-276
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[灰尘攻击](toc.xhtml#s174a)'
- en: A dusting attack is used to deanonymize the user. An attacker sends dust transactions
    or extremely low-value transactions to a substantial number of target addresses.
    The attacker then tracks the funds to determine which addresses belong to the
    same wallet and then tries to deanonymize the user to which the wallet belongs.
    This requires a sophisticated analysis of transactions related to dust transactions.
    Once user identity is found, the attacker performs a phishing or malware attack
    on the target user.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 灰尘攻击被用来去匿名化用户。攻击者向大量的目标地址发送灰尘交易或极其低价值的交易。然后攻击者追踪资金，以确定哪些地址属于同一个钱包，并尝试去匿名化属于该钱包的用户。这需要对与灰尘交易相关的交易进行复杂的分析。一旦找到用户身份，攻击者就会对目标用户进行钓鱼或恶意软件攻击。
- en: 'This can be understood from the following illustration:'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 这可以从以下说明中理解：
- en: '![](images/Figure-8.19.jpg)'
  id: totrans-279
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.19.jpg)'
- en: '**Figure 8.19:** Steps taken by the attacker to perform dusting attack'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: '**图 8.19:** 攻击者执行灰尘攻击的步骤'
- en: Dusting may be used for other purposes; for example, money launderers can send
    dust transactions to a substantial number of recipients to make such transactions
    difficult to track.
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 灰尘交易可能被用于其他目的；例如，洗钱者可以向大量接收者发送灰尘交易，使得这些交易难以追踪。
- en: To prevent dusting attacks, a wallet should not accept small value transactions.
    Bitcoin nodes do not forward transactions with network fees smaller than the relay
    fee, which is 5000 satoshis for many nodes. This is quite high, so the relay fee
    should be itself a deterrent for dusting attacks.
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 为了防止灰尘攻击，钱包不应该接受小额交易。比特币节点不会转发小于中继费的网络费用交易，对于许多节点来说，中继费是5000萨索希。这相当高，所以中继费本身应该对灰尘攻击起到威慑作用。
- en: '[Mempool flood attack](toc.xhtml#s175a)'
  id: totrans-283
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[内存池洪水攻击](toc.xhtml#s175a)'
- en: Mempool flood attack is a type of DoS attack in which a mempool of nodes is
    filled with low-value unconfirmed transactions. This type of attack has happened
    on the Bitcoin network, which caused network fees to rise.
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 内存池洪水攻击是一种DoS攻击，其中节点的内存池被低价值的未确认交易填满。这种攻击曾在比特币网络上发生，导致网络费用上涨。
- en: The attack was first reported in July 2015, and in May, August, and November
    2017, such attacks again happened on the Bitcoin network. It is suspected that
    these attacks were done to influence support for larger block sizes within Bitcoin
    developers, miners, and exchanges.
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 这种攻击最早是在 2015 年 7 月被报告，而在 2017 年 5 月、8 月和 11 月，比特币网络上再次发生了此类攻击。怀疑这些攻击是为了影响比特币开发者、矿工和交易所对更大区块大小的支持。
- en: Bitcoin nodes avoid this attack by configuring the minimum relay fee a transaction
    needs to pay to get it broadcasted to the network. In Bitcoin core, this is set
    to 5000 satoshi by default. Currently, its value is nearly $2, which is still
    a significant amount to deter an attacker. Also, unlike in 2017, the transaction
    fee is much higher now as bitcoin prices have gone up, so such an attack is not
    possible anymore.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币节点通过配置交易需要支付的最小中继费用来避免这种攻击，以将其传播到网络上。在比特币核心中，这默认为 5000  Satoshi。目前，它的价值接近
    2 美元，这对阻止攻击者来说仍然是一笔可观的金额。此外，与 2017 年不同，现在的交易费用要高得多，因为比特币价格上涨，所以这种攻击已经不再可能。
- en: '[Selfish mining](toc.xhtml#s176a)'
  id: totrans-287
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[自私挖矿](toc.xhtml#s176a)'
- en: Selfish mining is a malicious mining attack where there are only a few miners
    with high mining power, but none has more than 50% mining hash power. In this
    attack, the selfish miner gets a greater hash power share by inflicting cost to
    the competing miners.
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 自私挖矿是一种恶意的挖矿攻击，在这种攻击中，只有少数拥有高挖矿能力的矿工，但没有人拥有超过 50% 的挖矿哈希能力。在这种攻击中，自私的矿工通过给竞争矿工带来损失，从而获得更大的哈希能力份额。
- en: Mining hash power share is the average probability of a miner to find a block.
    Since it is an average probability, a miner with a lower probability can sometimes
    find a block faster than it would on an average. A selfish miner utilizes this
    to inflict a cost on other miners.
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 挖矿哈希能力份额是矿工发现区块的平均概率。由于这是一个平均概率，一个概率较低的矿工有时会比平均速度更快地找到一个区块。自私的矿工利用这一点对其他矿工造成损失。
- en: 'Consider a scenario in which there are three miners:'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑一个有三个矿工的场景：
- en: 'Alice: 40%, Bob: 25%, and Carol: 35%'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 'Alice: 40%，Bob: 25%，Carol: 35%'
- en: Suppose Carol is the selfish miner. When Carol finds a block, instead of publishing
    the block immediately, it holds it for some time and tries to find another block.
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 假设 Carol 是个自私的矿工。当 Carol 发现一个区块时，她不会立刻发布这个区块，而是将其保留一段时间，试图再找到另一个区块。
- en: If Carol is lucky and finds another block, then she waits for another miner
    to publish a block while trying to find another block. If in the meantime, Bob
    or Alice publishes a block, then Carol publishes both the blocks. Since Carol
    has a longer chain, the other block published by Bob or Alice gets rejected. This
    inflicts a cost on the other miner, which is greater than the cost Carol has paid
    by holding block.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 如果 Carol 幸运地找到了另一个区块，那么她会等待另一个矿工发布一个区块，同时尝试找到另一个区块。如果在此期间，Bob 或 Alice 发布了一个区块，那么
    Carol 会发布这两个区块。由于 Carol 有更长的链，Bob 或 Alice 发布的另一个区块会被拒绝。这对其他矿工造成的损失大于 Carol 通过保留区块所支付的成本。
- en: If Carol finds three blocks, then she waits for two blocks to get published
    by other miners. If Carol finds four blocks, then she waits for three blocks to
    get published by other miners.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 如果 Carol 发现了三个区块，那么她会等待其他矿工发布两个区块。如果 Carol 发现了四个区块，那么她会等待其他矿工发布三个区块。
- en: On the other hand, if Carol is not lucky and Alice or Bob publishes their block
    before Carol, then Carol immediately publishes the block held by her and does
    not propagate the competing block. So, even though Alice or Bob published the
    block first, some nodes will still receive Carol’s block first and will consider
    the other block as the competing chain. In this case, which chain wins depends
    on probability and the advantage Carol has in block propagation delay. Even if
    Carol has a very low chance of winning this and if her hash rate is more than
    33% of the share of network hash rate, she still will be able to increase her
    affective probability of mining a block as a selfish miner.
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，如果 Carol 不走运，而 Alice 或 Bob 在 Carol 之前发布了他们的区块，那么 Carol 会立即发布她持有的区块，并不传播竞争区块。所以，即使
    Alice 或 Bob 首先发布了区块，仍有一些节点会首先收到 Carol 的区块，并会将另一个区块视为竞争链。在这种情况下，哪个链胜出取决于概率以及 Carol
    在区块传播延迟方面的优势。即使 Carol 赢得这种机会的几率非常低，而她的哈希率超过了网络哈希率的 33%，她仍能作为自私矿工增加她挖掘到区块的有效概率。
- en: We can see that selfish mining does not reduce the cost of mining new blocks.
    In fact, it increases the cost of mining a block, even for Carol. Since it inflicts
    more cost on the competing miners, Carol gets the advantage.
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看出，自私挖矿并没有降低挖掘新块的成本。实际上，它增加了挖掘一个块的成本，即使对Carol也是如此。由于它对竞争矿工造成了更大的成本，Carol获得了优势。
- en: 'This may have multiple consequences:'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 这可能带来多重后果：
- en: Competing miners will stop their loss-making mining equipment, which will increase
    Carol’s share of the network.
  id: totrans-298
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 竞争矿工会停止他们的亏损挖矿设备，这将增加Carol在网络中的份额。
- en: Competing nodes will join Carol and start mining with her, giving her more than
    a 51% share of the network hash rate.
  id: totrans-299
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 竞争节点将加入Carol并开始与她一起挖矿，使她拥有超过51%的网络哈希率。
- en: The competing node will go bankrupt and stop operation altogether, leading pool
    miners to switch to other remaining miners, which might lead Carol to have more
    than a 51% hash rate.
  id: totrans-300
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 竞争节点将破产并完全停止运营，导致矿池矿工转向其他剩余的矿工，这可能导致Carol拥有超过51%的哈希率。
- en: Competing nodes will upgrade their loss-making equipment, which will cost them
    a fortune, but in the end, other miners will remain profitable and continue.
  id: totrans-301
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 竞争节点将升级他们的亏损设备，这将花费他们一大笔钱，但最终，其他矿工将保持盈利并继续进行。
- en: 'Here’s the flowchart of the selfish mining scenario:'
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是自私挖矿场景的流程图：
- en: '![](images/Figure-8.20.jpg)'
  id: totrans-303
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.20.jpg)'
- en: '**Figure 8.20:** Flowchart of the steps taken by the miner to perform selfish
    mining attack'
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: '**图8.20:** 矿工执行自私挖矿攻击所采取的步骤流程图'
- en: It is easy to identify if a miner is involved in selfish mining as selfish mining
    increases the likelihood of the existence of competing chains compared to the
    normal case when there is no selfish miner.
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 识别一个矿工是否参与自私挖矿是很容易的，因为自私挖矿增加了与没有自私矿工的正常情况相比，存在竞争链的可能性。
- en: 'Selfish mining gives the advantage to a selfish miner. but there are multiple
    reasons why miners will not want to do it:'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 自私挖矿给自私矿工带来了优势。但有很多原因让矿工不愿意这么做：
- en: Selfish mining can be easily identified. which will affect Bitcoin network reputation
    and consequently, bitcoin’s long-term value.
  id: totrans-307
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自私挖矿可以很容易地被识别出来。这将影响比特币网络的声誉，进而影响比特币的长期价值。
- en: Mining has extremely high input costs and most of the time, profit margins are
    slim. So, a miner needs to look at the long term and would not want to engage
    in anything that affects bitcoin’s value.
  id: totrans-308
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 挖矿的输入成本极高，大多数时候，利润率都很低。因此，矿工需要从长远考虑，不想参与任何影响比特币价值的事情。
- en: Mining is done by pools that depend on pool miners. A bad reputation of the
    pool may cause pool-miners to switch to a different pool, so the pool will ultimately
    lose hash rate.
  id: totrans-309
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 挖矿是由依赖池矿工的矿池完成的。矿池的坏名声可能导致矿工转向不同的矿池，所以矿池最终会失去哈希率。
- en: The Bitcoin network has largely avoided this kind of attack in the past, even
    though there may have been one or two such incidents.
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币网络在很大程度上避免了这种攻击，尽管过去可能发生过一两次此类事件。
- en: The bitcoin developer community has been pushing for the adoption of the FIBRE
    protocol to reduce block propagation delay. If FIBRE is widely used, it will become
    exceedingly difficult for miners to attack networks by selfish mining.
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币开发者社区一直在推动采用FIBRE协议以减少块传播延迟。如果广泛使用FIBRE，矿工通过自私挖矿攻击网络将变得极为困难。
- en: '[BGP hijacking attack](toc.xhtml#s177a)'
  id: totrans-312
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[BGP劫持攻击](toc.xhtml#s177a)'
- en: BGP stands for **Border Gateway Protocol**. It is a gateway protocol that exchanges
    reachability information between Autonomous Systems or AS. AS is like the network
    created by an ISP or Internet Service Provider.
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: BGP代表**边界网关协议**。它是一个网关协议，用于在自治系统或AS之间交换可达性信息。AS类似于由ISP或互联网服务提供商创建的网络。
- en: There are multiple ways BGP hacking can be used to attack Bitcoin networks.
    The reason this attack is possible is bitcoin mining is highly centralized as
    there are only a few mining pools controlling most of the network hash rate. Additionally,
    Bitcoin network messages are unencrypted and so, can be modified by an attacker.
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 有多种方法可以利用BGP黑客攻击比特币网络。这种攻击之所以可能，是因为比特币挖矿高度集中，只有少数矿池控制着大部分网络哈希率。此外，比特币网络消息是不加密的，因此可以被攻击者修改。
- en: By hacking the BGP server in AS, attackers can delay, modify, or even drop Bitcoin
    network messages. This can be used to perform multiple types of attacks.
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: 通过攻击AS中的BGP服务器，攻击者可以延迟、修改甚至丢弃比特币网络消息。这可以用来执行多种攻击。
- en: Network partitioning attack
  id: totrans-316
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 网络分区攻击
- en: Network partitioning means disconnecting nodes in such a way that it creates
    a disjoint network.
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: 网络分区意味着以创建孤立的网络的方式断开节点。
- en: If an attacker gets control of ISP servers responsible for sending BGP routing
    messages, it can effectively partition the network into two disjoint networks.
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: 如果攻击者控制了负责发送BGP路由消息的ISP服务器，它可以有效地将网络划分为两个孤立的网络。
- en: Because of partition attacks, mining pools can unknowingly start working on
    separate chains. This will appear as a DoS attack as the mining hash-rate share
    between mining pools will change, and it will be quickly known to the world.
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 由于分区攻击，矿池可能不知不觉地开始在不同的链上工作。这将被视为一种DoS攻击，因为矿池之间的挖矿哈希率份额将发生变化，并且很快就会被全世界知道。
- en: However, till the issue gets resolved, the attacker can broadcast two different
    transactions that use the same UTXOs in both the network and perform a double-spend
    attack. If the issue does not get resolved till six confirmations are received,
    then both the retailers would have accepted the payment, essentially double-spending.
    When the network partition gets removed, the chain with the greater accumulated
    Proof-of-work gets accepted and the other chain gets rejected. The merchant whose
    transaction was rejected will be at a loss.
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，在问题解决之前，攻击者可以在网络中使用相同的UTXOs广播两个不同的交易，并执行双重花费攻击。如果问题在收到六个确认之前没有解决，那么两个零售商都将接受付款，实际上是双重花费。当网络分区被移除时，具有更多累计工作量证明的链被接受，而其他链被拒绝。被拒绝交易的商家将遭受损失。
- en: 'This can be understood with the following illustration:'
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: 这可以通过以下说明来理解：
- en: '![](images/Figure-8.21.jpg)'
  id: totrans-322
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.21.jpg)'
- en: '**Figure 8.21:** Illustration of network partition by BGP hijacking attack'
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: '**图8.21：通过BGP劫持攻击进行网络分区的说明**'
- en: If you are a merchant, it makes sense to watch hash rate distribution among
    mining pools.
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你是商家，关注矿池之间的哈希率分布是有意义的。
- en: Delay attack
  id: totrans-325
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 延迟攻击
- en: A variant of the partitioning attack is the delay attack. In this type of attack,
    instead of creating disjoint networks, the attacker delays messages from one set
    of AS to another set of AS, essentially giving an advantage to some AS over others.
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: 分区攻击的一种变体是延迟攻击。在这种类型的攻击中，攻击者不是创建孤立的网络，而是将一个AS集合的消息延迟发送到另一个AS集合，本质上给予某些AS相对于其他AS的优势。
- en: In this attack, the attacker keeps the victim uninformed about the latest blocks.
    If the victim is a merchant, then the merchant will not know that the spending
    is already done by the attacker and so, will successfully double-spend. If the
    victim is a miner, then the miner will be working on an obsolete chain wasting
    hash power leading to losses.
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种攻击中，攻击者让受害者不知情最新区块。如果受害者是商家，那么商家不会知道攻击者已经完成花费，因此成功地双重花费。如果受害者是矿工，那么矿工会浪费哈希力量在一个过时的链上工作，导致损失。
- en: If you are a merchant, then it makes sense to monitor the latest blocks through
    applications running on different AS such as cloud platforms or web-APIs provided
    by popular websites.
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你是商家，通过运行在不同AS上的应用程序（如云平台或流行网站提供的Web-API）来监控最新区块是有意义的。
- en: '[0-confirmation attack:](toc.xhtml#s178a)'
  id: totrans-329
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[0确认攻击](toc.xhtml#s178a)：'
- en: 'A zero-confirmation attack can be executed if a merchant does not wait for
    transaction confirmation. To execute this attack, the attacker creates two different
    transactions utilizing the same UTXO: one for paying the merchant, and the other
    for moving the value to a different address. The attacker publishes the transaction
    for the merchant only to the merchant’s node while publishing the other transaction
    simultaneously to other nodes.'
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 如果商家不等待交易确认，就可以执行零确认攻击。要执行此攻击，攻击者创建两个利用相同UTXO的不同交易：一个支付给商家，另一个将价值转移到不同地址。攻击者只将商家的交易发布到商家的节点，同时将另一个交易同时发布到其他节点。
- en: The merchant nodes accept the transaction it received first, which is the transaction
    paid to him, and rejects the other one. If the other transaction gets into a block,
    then the transaction containing payment to the merchant is rejected, and the merchant
    loses the payment.
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 商家节点接受它首先收到的交易，这是支付给它的交易，并拒绝其他交易。如果其他交易进入了一个区块，那么包含支付给商家的交易就会被拒绝，商家就会失去这笔付款。
- en: The attacker can connect to multiple distant nodes to publish the other transaction
    to improve the probability of success.
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 攻击者可以连接到多个远程节点，以提高成功概率发布另一个交易。
- en: 'The following is the illustration of the attack:'
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是攻击的说明：
- en: '![](images/Figure-8.22.jpg)'
  id: totrans-334
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.22.jpg)'
- en: '**Figure 8.22:** Steps that an attacker takes to perform a 0-confirmation attack'
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: '**图8.22:** 攻击者执行0确认攻击的步骤'
- en: To execute this attack, the attacker needs to know the merchant’s node address
    and needs to connect to it. This attack becomes easier if the merchant is not
    hiding its IP address using the TOR network. The attacker can find out the merchant’s
    IP address by pinging on his website. Alternatively, if it’s a physical store
    that provides WIFI, then the attacker can find IP addresses through the public
    network. There could be other ways to find IP addresses, like using phishing attacks.
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: 要执行此攻击，攻击者需要知道商家的节点地址并连接到它。如果商家没有使用TOR网络隐藏其IP地址，这种攻击会变得更容易。攻击者可以通过ping商家的网站来找出商家的IP地址。或者，如果它是一个提供WIFI的实体店，那么攻击者可以通过公共网络找到IP地址。还有其他找出IP地址的方法，比如使用网络钓鱼攻击。
- en: '[Hiding hash rate](toc.xhtml#s179a)'
  id: totrans-337
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[隐藏算力](toc.xhtml#s179a)'
- en: In *[Chapter 6, Blockchain, Transactions, and Mining](c06.xhtml)* under Topic
    ***Coinbase*** *t****ransaction*****,** you learned that miner adds fingerprint
    in the mined block. This fingerprint can be used to determine the relative hash
    rate contribution of each mining pool. Since we can calculate network hash rate,
    we can utilize this information to calculate the hash rate of each mining pool.
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 在**[第六章，区块链、交易和挖矿](c06.xhtml)**下的主题**Coinbase交易**中，你了解到矿工在挖出的区块中添加指纹。这个指纹可以用来确定每个挖矿池的相对算力贡献。由于我们可以计算网络算力，我们可以利用这些信息来计算每个挖矿池的算力。
- en: However, this happens because miners tell us when they have successfully mined
    a block. If they don’t, then they can easily increase their hash-rate contribution
    without anyone knowing it, except its pool miner who rarely bothers to know. Pool
    miners don’t even try to know if they are really mining Bitcoin or Bitcoin Cash
    or Bitcoin SV.
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，这是因为矿工告诉我们他们成功挖出一个区块的时候。如果他们不这么做，那么他们可以很容易地在不被人知道的情况下增加他们的算力贡献，除了很少关注的池矿工。池矿工甚至不试图知道他们是否真的在挖比特币或比特币现金或比特币SV。
- en: '[Blacklist addresses](toc.xhtml#s180a)'
  id: totrans-340
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[列入黑名单的地址](toc.xhtml#s180a)'
- en: According to estimates prior to mining crackdown, Chinese miners contributed
    almost two-thirds of the Bitcoin network hash rate. Consequently, the Bitcoin
    network was prone to Chinese political decisions. For instance, China could blacklist
    Bitcoin addresses belonging to a specific entity, such as businesses, institutions,
    or individuals.
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 在矿场打击行动之前的估计显示，中国矿工贡献了比特币网络算力的几乎三分之二。因此，比特币网络容易受到中国政治决策的影响。例如，中国可以列入黑名单特定实体的比特币地址，如企业、机构或个人。
- en: As a clarification, this attack is not about China, because if the mining hash
    rate of another country or a group of countries was higher than 50% of the network
    hash rate, then those countries could also blacklist addresses belonging to specific
    entities.
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一个澄清，这种攻击不是关于中国的，因为如果另一个国家或一组国家的挖矿算力高于网络算力的50%，那么这些国家也可以列入特定实体的地址黑名单。
- en: Since China’s hash rate was greater than 50%, it could ignore any block, which
    includes transactions originating from or received by certain entities, and it
    would be always able to mine longer chains. Consequently, other miners would also
    have to comply with Chinese law enforcement, otherwise they would make losses
    on mined blocks and will soon become bankrupt.
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: 由于中国的算力超过了50%，它可以忽略任何区块，包括来自或发送给某些实体的交易，并且总能挖掘更长的链。因此，其他矿工也必须遵守中国执法部门的规定，否则他们在挖出的区块上会亏损，并很快破产。
- en: A country with high network hash rate can also perform a variation of Blacklist
    attack where even with lower than 50% mining hash power it can enforce blacklisting
    by utilizing selfish mining technique.
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: 一个拥有高网络算力的国家也可以执行黑名单攻击的变体，即使低于50%的挖矿算力，它也可以通过利用自私挖矿技术来执行黑名单。
- en: We have seen recently that a miner accepted **Office of Foreign Assets Control**
    (**OFAC**) compliance norms. OFAC is a financial intelligence and enforcement
    agency of the US. Consequently, the miner blacklisted non-compliant transactions
    for sometime but the miner later agreed to not enforce OFAC
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: 我们最近看到一个矿工接受了**外国资产控制办公室**（**OFAC**）的合规标准。OFAC是美国的一个金融情报和执法机构。因此，矿工暂时列入了不符合规定的交易的黑名单，但后来同意不执行OFAC。
- en: '[Replay attack](toc.xhtml#s181a)'
  id: totrans-346
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[重放攻击](toc.xhtml#s181a)'
- en: When the Bitcoin network has a hard-fork and a new type of cryptocurrency is
    created, the new type of coin is akin to a new coin created from scratch. except
    that it shares the same history as the parent cryptocurrency. It is an unnecessary
    burden for a new cryptocurrency to have a history that is not useful. However,
    the benefit is that the new currency can have a name like the original coin so
    that it looks familiar and can easily get recognized.
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: 当比特币网络发生硬分叉并创建了一种新的加密货币时，这种新的货币类似于从零开始创建的新货币。不同的是，它与母加密货币共享相同的历史。对于新的加密货币来说，拥有不实用的历史是一个不必要的负担。然而，好处是新的货币可以有类似于原币的名字，这样看起来熟悉，容易被人认出。
- en: 'The following is an illustration of a hardfork:'
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一个硬分叉的说明：
- en: '![](images/Figure-8.23.jpg)'
  id: totrans-349
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.23.jpg)'
- en: '**Figure 8.23:** illustration of a hardfork'
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: '**图8.23：** 硬分叉说明'
- en: If the new cryptocurrency maintains the same addressing scheme as the parent
    cryptocurrency, then it doesn’t need to onboard users as the users of parent cryptocurrency
    automatically become users of new cryptocurrency. Additionally, their UTXO is
    valid on both chains.
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: 如果新的加密货币维持与母币相同的地址方案，那么它不需要吸引用户，因为母币的用户会自动成为新加密货币的用户。此外，他们的UTXO在两条链上都有效。
- en: However, this has issues as people can mistakenly send coins to the receiver
    on a different chain and lose the payment.
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，这样做的问题是人们可能会错误地将硬币发送到不同链上的接收者，从而失去支付。
- en: Additionally, if transaction format or address schemes are not changed, then
    a transaction that is valid in one network will be also valid in another network.
    These valid transactions can be replayed in different networks and coins can be
    stolen. This is called a ***Replay attack***.
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，如果交易格式或地址方案没有改变，那么在一个网络上有效的交易在另一个网络上也将有效。这些有效的交易可以在不同的网络上重放，硬币可能会被盗。这被称为**重放攻击**。
- en: When a hardfork happens, many users realize that they have additional coins
    in the new forked network. They transfer or sell their coins in order to make
    quick money, but this transaction can be replayed by the attacker on the original
    higher valued network and since the transaction has a much higher value on the
    original network, the attacker gets a bigger value.
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: 当硬分叉发生时，许多用户意识到他们在新的分叉网络中有额外的货币。他们转账或出售自己的货币，以尽快赚钱，但这个交易可以被攻击者在原始价值较高的网络上重放，因为该交易在原始网络上的价值要高得多，攻击者会获得更大的价值。
- en: 'This can be understood from the following illustration:'
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: 这可以通过以下说明理解：
- en: '![](images/Figure-8.24.jpg)'
  id: totrans-356
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.24.jpg)'
- en: '**Figure 8.24:** Bob performing a replay attack'
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: '**图8.24：** 鲍勃执行重放攻击'
- en: In our view, it is unethical for a cryptocurrency to not implement a new addressing
    scheme and transaction format.
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们看来，一种加密货币不实施新的地址方案和交易格式是不道德的。
- en: '[Empty block mining](toc.xhtml#s182a)'
  id: totrans-359
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[空块挖掘](toc.xhtml#s182a)'
- en: Bitcoin consensus rules do not stop miners from mining empty blocks. This means
    in the race to find the correct nonce, a miner can just mine an empty block, and
    it will have the advantage over other miners, which will be using additional processing
    power in selecting, adding transactions to blocks, and calculating total network
    fees they have collected.
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币共识规则并没有阻止矿工挖掘空块。这意味着在寻找正确nonce的竞争中，矿工可以挖掘一个空块，这将使他们优于其他矿工，后者将使用额外的计算能力来选择、将交易添加到区块中，并计算他们收集的总网络费用。
- en: 'The following chart shows the transaction fees as a percentage of block reward:'
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表显示了交易费占区块奖励的百分比：
- en: '![](images/Figure-8.25.jpg)'
  id: totrans-362
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.25.jpg)'
- en: '**Figure 8.25:** Transaction fee as a percentage of Block Reward'
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: '**图8.25：** 交易费占区块奖励的百分比'
- en: After the recent block reward update, block reward in each block is 6.25![](images/Bitcoin.jpg)
    and network fees collected per block is nearly 0.7![](images/Bitcoin.jpg), which
    is significantly large, and no miner will want to lose that amount.
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: 近期区块奖励更新后，每个区块的区块奖励为6.25![](images/Bitcoin.jpg)，网络每块收集的手续费接近0.7![](images/Bitcoin.jpg)，这个数额相当大，没有矿工愿意损失这么多的金额。
- en: 'The following chart shows the number of empty blocks mines each year:'
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表显示了每年挖掘的空块数量：
- en: '![](images/Figure-8.26.jpg)'
  id: totrans-366
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.26.jpg)'
- en: '**Figure 8.26:** Count of Empty blocks mined each year'
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: '**图8.26：** 每年挖掘的空块数量'
- en: We also need to realize that mining has become more competitive over the years,
    which means miners have to spend a lot of money to buy the most efficient equipment.
    Due to this, mining empty blocks is not in the interest of the miners. Consequently,
    as we can see in the preceding chart, the number of empty blocks has reduced over
    the years.
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: 我们也需要意识到，随着岁月的流逝，挖矿变得更加具有竞争力，这意味着矿工不得不花很多钱购买最有效的设备。由于这一点，挖矿空块不符合矿工的利益。因此，正如我们在前面的图表中所看到的，空块的数量逐年减少。
- en: '[Bitcoin mining centralization](toc.xhtml#s183a)'
  id: totrans-369
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[比特币挖矿集中化](toc.xhtml#s183a)'
- en: We know that miners join and form a pool. Few Mining pools control most of the
    network computational power.
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: 我们知道矿工们会加入并形成一个池。少数矿池控制着网络大部分的计算能力。
- en: 'The following image shows the distribution of mining hash rate among mining
    pools:'
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的图片显示了矿池之间的挖矿哈希率分布：
- en: '![](images/Figure-8.27.jpg)'
  id: totrans-372
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-8.27.jpg)'
- en: '**Figure 8.27:** Hash rate distribution of each mining pool'
  id: totrans-373
  prefs: []
  type: TYPE_NORMAL
  zh: '**图8.27:** 各矿池的哈希率分布'
- en: At the time of authoring the book, the top 4 mining pools were F2Pool, AntPool,
    Poolin, and BTC.com.
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: 在撰写本书时，前四大矿池分别是 F2Pool、AntPool、Poolin 和 BTC.com。
- en: 'It is expected mining should get more decentralized over time. In fact, it
    has already become more decentralized in the last 2-3 years. There are two reasons
    why it might happen:'
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: 预计挖矿应该会随着时间的推移变得更加去中心化。实际上，在过去的 2-3 年里，它已经变得更加去中心化了。有两个原因可能导致这种情况：
- en: Mining pools are mostly located at colder places where electricity is subsidized.
    This affects the people of those places. As mining energy need increases, it will
    discourage the government to subsidize power and encourage them to move to the
    off-grid energy source. This will allow miners to move to locations that get more
    sunlight or wind or waste energy from natural gas or oil mines.
  id: totrans-376
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 矿池主要位于电力补贴较冷的地区。这影响了那些地区的人们。随着挖矿能源需求的增加，这将鼓励政府不再补贴电力，并鼓励他们转向离网能源。这将允许矿工转移到获得更多阳光或风能或天然气或石油矿井废能的地区。
- en: Chip miniaturization allows producing more efficient microprocessors, which
    improve ASIC machines to have better energy efficiency. Since ASIC machines were
    improving quite rapidly, the miners closer to chip manufacturing had the advantage
    over miners which were far away as transportation adds to cost and time. As chip
    miniaturization is hitting the limits, efficiency improvements have slowed down
    and so, the advantage is quickly going away. This will allow miners from other
    locations to compete with Chinese miners, leading to further decentralization
    of mining hash power.
  id: totrans-377
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 芯片小型化使得能够生产更高效的微处理器，这使得 ASIC 机器具有更好的能效。由于 ASIC 机器的改进相当快，靠近芯片制造的矿工比远离运输增加成本和时间的矿工具有优势。随着芯片小型化遇到极限，能效改进放缓，因此，这种优势正在迅速消失。这将允许其他地区的矿工与中国矿工竞争，导致挖矿哈希力的进一步去中心化。
- en: 51% Attack
  id: totrans-378
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 51% 攻击
- en: 'A 51% attack is the attack in which a miner has more than half of the network
    hash rate. In such a condition, the miner can do the following:'
  id: totrans-379
  prefs: []
  type: TYPE_NORMAL
  zh: 51% 攻击是指矿工拥有超过网络一半的哈希率的攻击。在这种情况下，矿工可以执行以下操作：
- en: Remove a transaction from a block in the blockchain by mining an already mined
    block.
  id: totrans-380
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过挖出一个已经挖出的区块，从区块链中删除一个交易。
- en: Censor individuals by not including transactions that send or receive bitcoin
    belonging to addresses owned by specific blacklisted addresses of businesses,
    institutions, or individuals.
  id: totrans-381
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过不包含发送或接收属于特定企业、机构或个人黑名单地址的比特币的交易，来审查个人。
- en: Change its own recent transactions.
  id: totrans-382
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更改自己的最近交易。
- en: If the top four miners join hands, their combined hash rate will be more than
    50%, and they can out-compete the rest of the miners and perform a 51% attack.
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: 如果前四大矿工联手，他们的总哈希率将超过 50%，他们可以超越其他矿工，执行一次 51% 攻击。
- en: In July 2014, Ghash.io reached more than half of the network computational power,
    but it later agreed that it will never cross 50% computational power. It is important
    to understand why we never had such a scenario since then and why any miner would
    agree to not take over the network.
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: 2014年7月，Ghash.io 控制了超过一半的网络计算能力，但它后来同意永远不会超过 50% 的计算能力。理解为什么我们自那时以来从未出现过这种情况，以及为什么任何矿工都会同意不接管网络，这一点很重要。
- en: Mining also adds value to the network, which means even though miners can join
    and block transactions from specific countries or exchanges, they will not do
    anything that will get noticed and will affect the network, which is their source
    of earning.
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: 挖矿也为网络增加了价值，这意味着尽管矿工可以加入并阻止来自特定国家或交易所的交易，但他们不会做任何会引起注意并影响网络的事情，因为这会损害他们赚钱的来源。
- en: '[Sybil attack](toc.xhtml#s184a)'
  id: totrans-386
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[Sybil 攻击](toc.xhtml#s184a)'
- en: In the case of the Sybil attack, the attacker creates a substantial number of
    nodes. The victim node will only connect to an attacker node. The attacker nodes
    do not forward transactions and blocks to the target node, essentially disconnecting
    it from the network. The attacker can send the blocks it has created to the target
    node containing transactions that the attacker wants the node to get. Since the
    target node is only getting blocks from attacking nodes, it considers the transaction
    valid even though it was already spent in the actual network.
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Sybil 攻击的情况下，攻击者创建了大量节点。受害节点只连接到攻击者节点。攻击者节点不向目标节点转发交易和区块，从而使目标节点实际上与网络断开连接。攻击者可以将创建的区块发送到包含攻击者希望节点获取的交易的目标节点。由于目标节点只从攻击节点接收区块，因此它认为即使交易在实际网络中已经被花费，该交易也是有效的。
- en: To avoid Sybil attack, Bitcoin core client only makes one connection in /16
    addresses, which means attacking nodes will need to be widely distributed and
    be in multiple /16 addresses and still isolate the node, which is not possible
    as then the attacker will have to take over the entire Bitcoin network.
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: 为了避免 Sybil 攻击，比特币核心客户端只在与 /16 地址中的一个连接，这意味着攻击节点需要广泛分布，并且位于多个 /16 地址中，但仍要隔离节点，这是不可能的，因为那么攻击者将需要接管整个比特币网络。
- en: '[Denial-of-Service (DoS) Attack](toc.xhtml#s185a)'
  id: totrans-389
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[拒绝服务（DoS）攻击](toc.xhtml#s185a)'
- en: A denial-of-service attack or DoS attack is an attack in which the attacker
    floods the target with lots of data, which makes it busy and so the target is
    unable to provide the service it needs to provide.
  id: totrans-390
  prefs: []
  type: TYPE_NORMAL
  zh: 拒绝服务攻击或 DoS 攻击是一种攻击，攻击者向目标发送大量数据，使其忙碌，因此目标无法提供所需的服务。
- en: Bitcoin nodes are robust in handling denial-of-service attacks, but this does
    not mean that DoS attacks can’t happen to Bitcoin nodes. If malicious nodes try
    to flood a node, it will simply blacklist those connections and close them. Flooding
    with a valid message is costly, and invalid messages get quickly rejected. Additionally,
    there are limits being set on transactions, relay fees, and block size by nodes
    to avoid such attacks.
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币节点在处理拒绝服务攻击方面很健壮，但这并不意味着 DoS 攻击不能发生在比特币节点上。如果恶意节点试图淹没一个节点，它将简单地将这些连接列入黑名单并关闭它们。用有效消息进行淹没是昂贵的，无效消息会被迅速拒绝。此外，节点还设置了交易、传播费和区块大小的限制，以避免此类攻击。
- en: 'Here are some of the ways nodes avoid being flooded by DoS messages:'
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
  zh: 节点避免被 DoS 消息淹没的一些方法如下：
- en: Transactions greater than 100 Kbytes are considered nonstandard.
  id: totrans-393
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 大于 100 Kbytes 的交易被认为是非标准的。
- en: Block size is limited to 1MB vsize.
  id: totrans-394
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 区块大小限制为 1MB vsize。
- en: Nodes do not accept or forward transactions with network fees lesser than the
    relay fee set by the node.
  id: totrans-395
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 节点不会接受或转发网络费用低于节点设置的传播费的交易。
- en: Nodes do not forward a double spent transaction.
  id: totrans-396
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 节点不会转发双重花费交易。
- en: Nodes do not forward orphan transactions. Transactions that do not have known
    unspent transactions.
  id: totrans-397
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 节点不会转发孤立交易。即没有已知未花费交易的交易。
- en: Nodes limit the number of orphan transactions.
  id: totrans-398
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 节点限制孤立交易的数量。
- en: Nodes ignore big orphan transactions.
  id: totrans-399
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 节点会忽略大的孤立交易。
- en: Nodes do not forward orphan blocks, i.e., blocks that do not have known the
    previous block.
  id: totrans-400
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 节点不会转发孤立区块，即没有已知前一个区块的区块。
- en: Nodes do not forward blocks that have already been seen or forwarded.
  id: totrans-401
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 节点不会转发已经看到或转发的区块。
- en: Bans IP Addresses that misbehaves for 24 hours by default.
  id: totrans-402
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 默认情况下，禁止行为不良的 IP 地址 24 小时。
- en: Maintains DoS score for each connected node and disconnects if a node misbehaves
    multiple times.
  id: totrans-403
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为每个连接的节点维护 DoS 评分，并在节点多次行为不当时断开连接。
- en: Nodes have an upper limit of the number of signatures they can accommodate in
    the signature cache.
  id: totrans-404
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 节点在签名缓存中有签名数量的上限。
- en: Limits the size of the script.
  id: totrans-405
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 限制脚本的大小。
- en: Limits the keys in OP_CHECKMULTISIG operation.
  id: totrans-406
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 限制 OP_CHECKMULTISIG 操作中的密钥数量。
- en: Limits the size of each value in a transaction.
  id: totrans-407
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 限制交易中每个值的大小。
- en: Only UTXOs are stored in memory.
  id: totrans-408
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 只有未花费的交易输出（UTXO）存储在内存中。
- en: Limits the number of signature checks a transaction input may request.
  id: totrans-409
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 限制交易输入可能请求的签名检查数量。
- en: 'For more detailed information, refer to:'
  id: totrans-410
  prefs: []
  type: TYPE_NORMAL
  zh: 更多信息请参考：
- en: '**[https://en.bitcoin.it/wiki/Weaknesses#Denial_of_Service_.28DoS.29_attacks](https://en.bitcoin.it/wiki/Weaknesses#Denial_of_Service_.28DoS.29_attacks)**.'
  id: totrans-411
  prefs: []
  type: TYPE_NORMAL
  zh: '**[服务拒绝攻击](https://en.bitcoin.it/wiki/Weaknesses#Denial_of_Service_.28DoS.29_attacks)**。'
- en: '[Quantum computing attack](toc.xhtml#s186a)'
  id: totrans-412
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '**量子计算攻击**。'
- en: Quantum computers use superimposition of electron states and entanglement of
    electrons to perform complex operations, which are not possible by classical computers.
    However, quantum computers are not general-purpose computers, and they are useful
    for only certain types of operations.
  id: totrans-413
  prefs: []
  type: TYPE_NORMAL
  zh: 量子计算机使用电子状态的叠加和电子的纠缠来执行复杂操作，这是经典计算机无法实现的。然而，量子计算机并不是通用计算机，它们只对某些类型的操作有用。
- en: Unlike conventional computers, quantum computers use qubits instead of bits.
    While bits can be either 0 or 1, qubits can be both 0 and 1 at the same time.
    So, one qubit has 2 superpositions of states, and N qubits will have 2 to the
    power N superposition of states. This makes N qubit quantum computer equivalent
    to the 2^N bit classical computers. A 500-qubit quantum computer is a 2^500 classical
    computer, which is more than the number of atoms in the whole universe.
  id: totrans-414
  prefs: []
  type: TYPE_NORMAL
  zh: 与传统计算机不同，量子计算机使用量子位而不是位。位可以是0或1，而量子位可以同时是0和1。因此，一个量子位有2种状态的叠加，N个量子位将具有2的N次方种状态的叠加。这使得N个量子位的量子计算机等同于2的N次方个经典位计算机。一个500个量子位的计算机是一个2的500次方个经典位的计算机，这超过了整个宇宙中的原子数量。
- en: 'However, there is a catch: the moment we try to find the quantum states, the
    superposition is lost, and the qubits become normal bits. This is called **quantum
    decoherence**. So, any quantum computation must finally result in non-superimposed
    bits. This makes Quantum computers difficult to program and requires a complete
    redesign of the way computation happens right from the gates to programming language.
    Additionally, it is only suitable for calculations that require a very high level
    of parallelism but results in a relatively short value.'
  id: totrans-415
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，有一个问题：一旦我们试图找到量子态，叠加就会消失，量子位就变成了普通的位。这称为**量子退相干**。因此，任何量子计算最终都必须导致非叠加的位。这使得量子计算机难以编程，并需要从门到编程语言的彻底重新设计。此外，它只适用于需要极高并行性但结果值相对较短的计算。
- en: 'The following algorithms that can be used by attackers against Bitcoin:'
  id: totrans-416
  prefs: []
  type: TYPE_NORMAL
  zh: 攻击者可以针对比特币使用以下算法：
- en: Shor’s algorithm, which, according to estimates, will need nearly 2500 qubits
    to crack the 256-bit ECDSA algorithm used by Bitcoin.
  id: totrans-417
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 肖尔算法，据估计，将需要近2500个量子位来破解比特币所使用的256位的ECDSA算法。
- en: Grover’s algorithm can exponentially speed up Bitcoin mining.
  id: totrans-418
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 格罗夫算法可以指数级加速比特币挖矿。
- en: The SHA-256 hashing used by Bitcoin is safe from Quantum computers.
  id: totrans-419
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币所使用的SHA-256散列对量子计算机是安全的。
- en: In December 2020, Chinese researchers achieved 76 qubit systems. There are still
    problems with Quantum computers. The biggest problem that Quantum Computer faces
    is Quantum Decoherence, which leads to errors and loss of coherence (superposition).
  id: totrans-420
  prefs: []
  type: TYPE_NORMAL
  zh: 2020年12月，中国研究人员实现了76个量子位的系统。量子计算机仍然存在问题。量子计算机面临的最大问题是量子退相干，这会导致错误和相干性（叠加）的丧失。
- en: Quantum decoherence can arise from any environmental factors, such as thermal
    fluctuations, radiations, and magnetic fields. This makes a qubit very unstable,
    and superimposition can be lost within a fraction of milliseconds. Researchers
    try to increase decoherence time by creating an environment that has a very low
    temperature, very low radiation, and a very low magnetic field. We have not been
    successful in achieving that, and as of now, a Quantum computer, irrespective
    of its qubit count, cannot perform any deep operation, which makes them almost
    useless for any real-world applications.
  id: totrans-421
  prefs: []
  type: TYPE_NORMAL
  zh: 量子退相干可以由任何环境因素引起，如热波动、辐射和磁场。这使得量子位非常不稳定，叠加可以在毫秒的分数内丢失。研究人员试图通过创建一个具有非常低温度、非常低辐射和非常低磁场的环境来增加退相干时间。我们还没有成功实现这一点，到目前为止，无论量子位的数量如何，量子计算机都无法执行任何深度操作，这使得它们对于实际应用几乎无用。
- en: The problem of noise-induced quantum error can be solved by quantum error correction.
  id: totrans-422
  prefs: []
  type: TYPE_NORMAL
  zh: 由噪声引起的量子错误可以通过量子错误校正来解决。
- en: This may change in the future as we become better at controlling these environmental
    factors. However, we don’t know when or if quantum computers will ever be a threat
    to asymmetric cryptography.
  id: totrans-423
  prefs: []
  type: TYPE_NORMAL
  zh: 随着我们更好地控制这些环境因素，这种情况可能会在未来发生变化。然而，我们不知道量子计算机何时或是否会成为对称加密的威胁。
- en: If we can build significantly reliable quantum computers with several thousand
    qubits sufficient to crack 256-bit ECDSA used for Bitcoin, then it would only
    affect bitcoins, which is held in addresses with known public keys. As you learned
    in the previous chapters, it is advisable not to reuse addresses. If we don’t
    reuse addresses, hackers cannot use quantum computing to steal bitcoin.
  id: totrans-424
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们能够建造几个拥有几千个量子位的显著可靠的量子计算机，足够用来破解用于比特币的256位ECDSA，那么它只会影响以已知公钥持有的比特币。正如你在前面的章节中学到的，建议不要重复使用地址。如果我们不重复使用地址，黑客不能使用量子计算来窃取比特币。
- en: If quantum computers can crack Bitcoin public keys, then Bitcoin can move to
    quantum-resistant algorithms such as Lamport signatures.
  id: totrans-425
  prefs: []
  type: TYPE_NORMAL
  zh: 如果量子计算机能够破解比特币公钥，那么比特币可以转移到量子抵抗算法，如Lamport签名。
- en: On the other hand, Grover’s algorithm can only accelerate nonce search and give
    an advantage to the miner using quantum computers. However, like other mining
    devices, it will be competing against other quantum computers doing the mining.
    The scenario will be like the situation when ASIC miners introduced mining advantage.
    This does not affect the network; instead, over time, it improves the security
    of the network.
  id: totrans-426
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，Grover算法只能加速nonce搜索，并给使用量子计算机的矿工带来优势。然而，与其他采矿设备一样，它将与其他量子计算机进行采矿竞争。这种情况就像ASIC矿工引入采矿优势时的情况。这不会影响网络，相反，随着时间的推移，它提高了网络的安全性。
- en: '[Hidden bugs, bug exploit, and reorg](toc.xhtml#s187a)'
  id: totrans-427
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[隐藏的漏洞、漏洞利用和重组](toc.xhtml#s187a)'
- en: It is always possible that there exists an unidentified bug in the Bitcoin core
    software, consensus rules, etc. which may get exploited by an attacker. This could
    be an inflation bug that would allow an attacker to pay themselves extra bitcoin
    and would lead to an increase in bitcoin supply. It could lock unspent transactions
    indefinitely. It can affect the miner or user.
  id: totrans-428
  prefs: []
  type: TYPE_NORMAL
  zh: 始终存在这样的可能性：比特币核心软件、共识规则等中存在一个未知的漏洞，这可能会被攻击者利用。这可能是一个通货膨胀的漏洞，攻击者可以给自己支付额外的比特币，并导致比特币供应的增加。它可能会无限期地锁定未花费的交易。它可能会影响矿工或用户。
- en: If a bug is exploited, then it needs to be identified immediately or within
    a few blocks. Once identified bug needs to be fixed, it may be required for the
    Bitcoin community to plan Bitcoin blockchain reorg. Blockchain reorg means convincing
    Miners to upgrade Bitcoin software, invalidating the blocks from the exploited
    blocks, and restart mining.
  id: totrans-429
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一个漏洞被利用，那么它需要立即被识别出来，或者在几个区块内。一旦确定了漏洞，需要修复，可能需要比特币社区计划比特币区块链重组。区块链重组意味着说服矿工升级比特币软件，使从被利用的区块开始的区块无效，并重新开始挖矿。
- en: When a block is mined, the miner cannot immediately move the newly minted bitcoin.
    The miner needs to wait for 100 blocks before they can move it. This allows developers
    to fix the bug and convince miners to reorg before 100 blocks get mined, which
    is roughly 16 hours and 40 minutes. The transactions that were confirmed during
    this time will need to wait to get confirmed again. It is also possible that the
    transaction that was confirmed earlier may not get confirmed again before getting
    dropped by the mempool of most nodes. This will negatively affect the Bitcoin
    network’s credibility.
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
  zh: 当一个区块被挖出时，矿工不能立即移动新铸造的比特币。矿工需要等待100个区块才能移动它。这使得开发者有时间为100个区块被挖出之前修复漏洞，并说服矿工重组，大约需要16小时40分钟。在此期间确认的交易需要再次等待确认。此外，在之前确认的交易可能在我们从大多数节点的内存池中删除之前不会再次确认。这将对比特币网络的信誉产生负面影响。
- en: '[Frauds and robbery](toc.xhtml#s188a)'
  id: totrans-431
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[欺诈和抢劫](toc.xhtml#s188a)'
- en: Bitcoin is very valuable, so it attracts criminals. Like gold, bitcoin is sometimes
    robbed at gunpoint.
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
  zh: Bitcoin非常有价值，因此吸引了罪犯。就像黄金一样，比特币有时会遭到武装抢劫。
- en: Bitcoin can also be stolen by fraudsters through social engineering like using
    rewards, urgency, and fear or through fake services. The frauds could be like
    banking frauds where one gains access to crypto exchange through OTP. A fraudster
    can ask you to fill in details and can take your PIN or wallet seeds. A fraudster
    can also ask you to transfer coins to your wallet in return for service.
  id: totrans-433
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币还可以通过社会工程学手段被盗，例如使用奖励、紧迫感和恐惧或通过伪造服务。这些欺诈行为可能类似于银行欺诈，通过OTP获取加密交易所的访问权限。诈骗者可以要求你填写详细信息，并可以获取你的PIN或钱包种子。诈骗者还可以要求你将币转入你的钱包以换取服务。
- en: '[Conclusion](toc.xhtml#s189a)'
  id: totrans-434
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[结论](toc.xhtml#s189a)'
- en: In this chapter, you learned about the limitations of Bitcoin design, why those
    limitations are necessary, and what developments are happening to address those
    limitations. You also learned about the different ways bitcoin holders and networks
    could be attacked, the different ways by which merchants, miners, and holders
    of Bitcoin can mitigate most of those risks, and why some of the risks are not
    really a risk because those are either too difficult or are financially unviable
    for an attacker.
  id: totrans-435
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你了解到了比特币设计的局限性，为什么这些局限性是必要的，以及正在进行的哪些发展能够解决这些局限性。你还了解到了比特币持有者和网络可能受到的不同攻击方式，以及商家、矿工和比特币持有者可以采取的不同方法来减轻大多数这些风险，以及为什么有些风险实际上并不是风险，因为这些要么太难，要么对攻击者来说经济上不可行。
- en: We discussed how Bitcoin centralization is both bad for network security and
    good for getting enhancement accepted by the Bitcoin mining community. We also
    saw how Bitcoin energy usage is good for the environment.
  id: totrans-436
  prefs: []
  type: TYPE_NORMAL
  zh: 我们讨论了比特币集中化既不利于网络安全，又有利于通过比特币挖矿社区接受改进。我们还看到了比特币能源使用对环境有益。
- en: In the next chapter, you will learn about the Bitcoin address format and understand
    how to generate the private key, public key, and addresses. You will also learn
    about how you can create your bitcoin wallet and how you can protect the wallet
    from hackers.
  id: totrans-437
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，你将学习到比特币地址格式，并理解如何生成私钥、公钥和地址。你还将了解到如何创建你的比特币钱包以及如何保护钱包不受黑客攻击。
- en: '[Points to remember](toc.xhtml#s190a)'
  id: totrans-438
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[要点](toc.xhtml#s190a)'
- en: Blockchain verification time is the most important reason due to which Bitcoin
    block size is limited to 1MB to 4 MB.
  id: totrans-439
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 区块链验证时间是限制比特币区块大小在1MB至4MB最重要的原因。
- en: By replacing multiple signatures and complex scripts with a single public key
    and signature using Taproot, signature aggregation, and Schnorr signatures, we
    can accommodate more transactions in a block and have better privacy.
  id: totrans-440
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过使用Taproot替换多重签名和复杂脚本，只用一个公钥和签名来实现签名聚合和Schnorr签名，我们可以在一个区块中容纳更多的交易，并拥有更好的隐私性。
- en: Lightning Network is a layer two payment protocol.
  id: totrans-441
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 闪电网络是一个层二支付协议。
- en: Lightning Network provides privacy as individual transactions are not recorded
    on the Bitcoin blockchain.
  id: totrans-442
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 闪电网络提供了隐私性，因为个别交易不会记录在比特币区块链上。
- en: Lightning Network provides scaling as an unlimited number of transactions can
    happen between peers.
  id: totrans-443
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 闪电网络提供了扩展性，因为 peers 之间可以发生无限数量的交易。
- en: Bitcoin mining helps lower carbon footprint by encouraging the use of off-grid
    renewable energy sources and utilizing waste energy.
  id: totrans-444
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比特币挖矿通过鼓励使用离网的可再生能源和利用废能，有助于降低碳足迹。
- en: Bitcoin mining difficulty is adjusted at every 2016 block.
  id: totrans-445
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比特币挖矿难度每2016个区块调整一次。
- en: Mining pools being centralized are prone to natural disasters, power failures,
    government crackdowns, or DDoS attacks, which leads to drop in network hash rate.
  id: totrans-446
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 矿池集中化后容易受到自然灾害、电力故障、政府打压或DDoS攻击，这导致了网络哈希率的下降。
- en: A sudden drop-in hash rate causes block time to increase and network fees to
    spike.
  id: totrans-447
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 哈希率的突然下降导致区块时间增加和网络费用飙升。
- en: Lack of legal protection encourages fraud and illegal activities in bitcoin.
  id: totrans-448
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 缺乏法律保护助长了比特币中的欺诈和非法活动。
- en: Most central banks discourage the use of bitcoin and other cryptocurrencies
    to protect their currencies against capital flight.
  id: totrans-449
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 大多数中央银行都鼓励使用比特币和其他加密货币，以保护其货币免受资本外流的影响。
- en: High entropy random number generators help generate private keys that are safe
    from brute force attacks.
  id: totrans-450
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 高熵随机数生成器有助于生成抵御暴力攻击的私钥。
- en: SHA256 is collision-resistant.
  id: totrans-451
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SHA256算法具有抗碰撞性。
- en: Salt protects against rainbow table attacks.
  id: totrans-452
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 盐值保护可防止彩虹表攻击。
- en: Low-round PBKDF2-HMAC-SHA512 algorithms are prone to brute force attacks.
  id: totrans-453
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 低轮次的PBKDF2-HMAC-SHA512算法容易受到暴力攻击。
- en: Hierarchical Deterministic Wallets, along with 12- to 24-word mnemonic code,
    eases securing of private keys.
  id: totrans-454
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 分层确定性钱包，结合 12 至 24 词的助记词代码，简化了私钥的安全保管。
- en: A trojan is a malware that disguises itself as legitimate software.
  id: totrans-455
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 特洛伊木马是一种伪装成合法软件的恶意软件。
- en: Spyware is malicious software that gets installed without the victim’s knowledge
    and steals information and sends it to attackers.
  id: totrans-456
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 间谍软件是一种恶意软件，在受害者不知情的情况下被安装，用于窃取信息并发送给攻击者。
- en: Social Engineering is the use of psychological manipulations in order to collect
    private information.
  id: totrans-457
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 社会工程学是利用心理操纵手段以收集私人信息。
- en: Transaction malleability bug affects the non-SegWit transactions.
  id: totrans-458
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交易可塑性漏洞影响非 SegWit 交易。
- en: BIP62 solves most of the transaction malleability issues.
  id: totrans-459
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: BIP62 解决了大多数交易可塑性问题。
- en: Bitcoin nodes, by default, enforce a minimum transaction fee on all the received
    transactions in order to accept and forward them. This fee is called the relay
    fee.
  id: totrans-460
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比特币节点默认情况下对所有接收的交易实施最小交易费用，以便接受并转发它们。这笔费用称为中继费。
- en: Relay fee protects addresses from dusting attacks.
  id: totrans-461
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 中继费保护地址免受灰尘攻击。
- en: To protect against dusting attacks, a wallet should not accept very small value
    transactions.
  id: totrans-462
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为了防止灰尘攻击，钱包不应该接受非常小的价值交易。
- en: In mempool flood attack, an attacker publishes a large number of small value
    transactions, which increases network fees.
  id: totrans-463
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 mempool 洪水攻击中，攻击者发布大量小额交易，从而增加网络费用。
- en: Mempool flood attacks have become unviable because even relay fee is not cheap.
  id: totrans-464
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于即使是中继费用也不便宜，mempool 洪水攻击变得不可行。
- en: In selfish mining, a malicious mining pool takes greater control over the network
    hash rate by inflicting cost to the competing mining pools.
  id: totrans-465
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在自私挖矿中，一个恶意挖矿池通过给竞争挖矿池带来成本，从而获得对网络哈希率更大的控制权。
- en: Selfish mining is easy to identify as it causes a greater occurrence of competing
    chains.
  id: totrans-466
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自私挖矿很容易被识别，因为它导致竞争链的出现更为频繁。
- en: FIBRE stands for Fast Internet Bitcoin Relay Engine.
  id: totrans-467
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: FIBRE 代表快速互联网比特币中继引擎。
- en: FIBRE is a protocol design that can achieve propagation delay nearly close to
    the physical limit with the help of a well-managed network.
  id: totrans-468
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: FIBRE 是一种协议设计，通过管理良好的网络，可以实现传播延迟接近物理极限。
- en: FIBRE reduces propagation delay to less than a second, which gives little room
    for a malicious mining pool to attack networks using selfish mining.
  id: totrans-469
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: FIBRE 将传播延迟减少到不到一秒，这使得恶意挖矿池利用自私挖矿攻击网络变得非常困难。
- en: Mining pools being centralized are also prone to network partitioning and delay
    attacks using BGP hijacking.
  id: totrans-470
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 集中的挖矿池也容易受到使用 BGP 劫持的网络分区和安全攻击。
- en: Unconfirmed transactions, even if those are SegWit, are prone to double-spend
    attacks.
  id: totrans-471
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 即使是 SegWit 交易，未确认的交易也容易受到双重支付攻击。
- en: Always run a full node to connect using Tor routing.
  id: totrans-472
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 始终运行一个完整节点以使用 Tor 路由进行连接。
- en: Miners add fingerprints in the coinbase transaction of a newly mined block,
    which helps the network know the mining hash rate of each miner.
  id: totrans-473
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 矿工在新挖出的块的 coinbase 交易中添加指纹，这有助于网络了解每个矿工的挖矿哈希率。
- en: A miner can hide its real hash rate and can mine over 51% hash rate if it does
    not add its fingerprints.
  id: totrans-474
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果矿工不添加其指纹，它可以隐藏其真实的哈希率，并且可以挖掘超过 51% 的哈希率。
- en: Since Bitcoin mining is not well distributed across geographies, it is easy
    for governments to enforce blacklisting of addresses based on their political
    agenda.
  id: totrans-475
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于比特币挖矿在地理上分布不均，因此政府很容易根据其政治目标执行地址的黑名单。
- en: A hardfork on Bitcoin consensus can lead investors to replay attacks who try
    to take the profit out of newly added coins.
  id: totrans-476
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比特币共识上的硬分叉可能会导致投资者重复攻击，他们试图从新增的货币中获利。
- en: Hardfork coin having the same address and transaction format as the parent coin
    is the reason for the existence of Replay attacks.
  id: totrans-477
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与父币具有相同地址和交易格式的硬分叉币是重放攻击存在的原因。
- en: If the top four mining pools join hands, then they can execute a 51% attack
    on the network.
  id: totrans-478
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果前四个挖矿池联手，那么它们可以对网络执行 51% 的攻击。
- en: A 51% attacker can force the network to blacklist addresses or double-spend
    the transactions it controls.
  id: totrans-479
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个 51% 的攻击者可以迫使网络将地址列入黑名单或双重支付它控制的交易。
- en: In a Sybil attack, the attacker eclipses the entire network for a victim by
    launching a large number of nodes.
  id: totrans-480
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 Sybil 攻击中，攻击者通过启动大量节点，使整个网络对受害者造成屏蔽。
- en: Bitcoin core client only makes one connection in /16 addresses to prevent Sybil
    attack.
  id: totrans-481
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比特币核心客户端只在与 /16 地址的连接中防止 Sybil 攻击。
- en: In a DoS attack, the attacker floods the victim with lots of data, which prevents
    the victim from providing the intended service.
  id: totrans-482
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在DoS 攻击中，攻击者向受害者发送大量数据，阻止受害者提供预期服务。
- en: Quantum computers use superimposition of electron states and entanglement of
    electrons to perform complex reversible operations, which are not possible by
    classical computers.
  id: totrans-483
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 量子计算机利用电子状态的叠加和电子的纠缠来执行复杂的可逆操作，这是经典计算机无法实现的。
- en: Quantum computers are prone to even the smallest environmental disturbances,
    which cause waveform collapse, and this phenomenon is called quantum decoherence.
  id: totrans-484
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 量子计算机容易受到最微小的环境干扰，这会导致波形坍缩，这种现象称为量子退相干。
- en: Quantum computers can theoretically crack the 256-bit ECDSA algorithm used by
    Bitcoin using few thousand qubits.
  id: totrans-485
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理论上，量子计算机可以使用几千个量子位来破解比特币所使用的256位ECDSA算法。
- en: Quantum computers can use Grover’s algorithm to accelerate Nonce search in bitcoin
    mining.
  id: totrans-486
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 量子计算机可以使用格拉夫算法加速比特币挖矿中的Nonce搜索。
- en: The miner needs to wait for 100 blocks to use the minted coins, which gives
    a window of several hours for developers to fix an exploit and reorg the blockchain.
  id: totrans-487
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 矿工需要等待100个区块才能使用挖出的硬币，这给开发者几小时的时间来修复漏洞并重新组织区块链。
- en: '[Questions](toc.xhtml#s191a)'
  id: totrans-488
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[问题](toc.xhtml#s191a)'
- en: Explain how block size affects Initial Block Download (IBD).
  id: totrans-489
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解释区块大小如何影响初始区块下载（IBD）。
- en: How will the decentralization of Bitcoin mining secure the Bitcoin network?
  id: totrans-490
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 比特币挖矿的去中心化如何保障比特币网络的安全？
- en: Explain all the necessary precautions a retailer should take to protect itself
    from double-spend attacks.
  id: totrans-491
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解释零售商为保护自己免受双重支付攻击应采取的所有必要预防措施。
- en: Explain all the necessary precautions a miner should take to protect against
    different types of attacks and improve profitability.
  id: totrans-492
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解释矿工为保护自己免受不同类型攻击并提高盈利应采取的所有必要预防措施。
- en: Explain all the necessary precautions a Bitcoin user should take to protect
    against different types of attacks.
  id: totrans-493
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解释比特币用户为保护自己免受不同类型攻击应采取的所有必要预防措施。
- en: Explain why privacy is important, and explain the different ways in which Bitcoin
    user can protect their privacy.
  id: totrans-494
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解释隐私的重要性，并说明比特币用户可以采取的不同方式来保护他们的隐私。
- en: 'True/False:'
  id: totrans-495
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 真/假：
- en: SegWit transactions are safe against 0-confirmation attacks.
  id: totrans-496
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: SegWit 交易能够抵御0确认攻击。
- en: Bitcoin is fungible because it is replaceable by an equal quantity of bitcoin
    received from different sources.
  id: totrans-497
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 比特币可替代，因为它可以用从不同来源接收的等量比特币来替换。
- en: CoinJoin is better than mixer services because mixers can steal your coins.
  id: totrans-498
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 相比混合服务，CoinJoin 更好，因为混合服务可能会盗取你的硬币。
- en: SHA256 is safe against quantum computation attacks.
  id: totrans-499
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: SHA256 对量子计算攻击是安全的。
- en: Grover’s algorithm will end bitcoin mining, and Bitcoin will need to change
    the mining algorithm.
  id: totrans-500
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 格拉夫算法将结束比特币挖矿，比特币将需要改变挖矿算法。
- en: 'Fill in the blanks:'
  id: totrans-501
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 填写空白：
- en: In a _________ attack, the attacker floods a node with messages, so the node
    fails to serve other legitimate nodes.
  id: totrans-502
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在_________攻击中，攻击者向节点发送大量消息，导致节点无法为其他合法节点提供服务。
- en: In a ________ attack, the attacker floods the Bitcoin network with transaction
    messages, which increases transaction fees.
  id: totrans-503
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在________攻击中，攻击者向比特币网络发送大量交易消息，从而增加交易费用。
- en: An attacker can partition Bitcoin network by hijacking _________.
  id: totrans-504
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 攻击者可以通过劫持_________来分区比特币网络。
- en: Replay attack happens when hard forked coin uses the same __________ format
    and ___________ scheme.
  id: totrans-505
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重放攻击发生在硬分叉币使用相同的__________格式和___________方案时。
- en: By __________ mining, a mining pool with a hash rate greater than 25% can take
    greater control over network hash power.
  id: totrans-506
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过__________挖矿，一个 hash 率超过25%的挖矿池可以更大程度地控制网络 hash 能力。
- en: Transaction ______________ was resolved with _____________ witness enhancement.
  id: totrans-507
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 交易______________已通过_____________见证增强解决。
