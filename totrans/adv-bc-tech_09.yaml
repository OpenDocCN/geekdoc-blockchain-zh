- en: © The Author(s), under exclusive license to Springer Nature Switzerland AG 2022Y.
    Maleh et al. (eds.)Advances in Blockchain Technology for Cyber Physical SystemsInternet
    of ThingsTechnology, Communications and Computing[https://doi.org/10.1007/978-3-030-93646-4_9](https://doi.org/10.1007/978-3-030-93646-4_9)
  id: totrans-0
  prefs: []
  type: TYPE_NORMAL
  zh: © 作者授权Springer Nature Switzerland AG独家使用 2022Y. Maleh 等(编)区块链技术在网络物理系统中的应用物联网技术、通信和计算[https://doi.org/10.1007/978-3-030-93646-4_9](https://doi.org/10.1007/978-3-030-93646-4_9)
- en: Blockchain-Based Communication for Digital Twins
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 基于区块链的数字孪生体通信
- en: Zhihan Lv^([1](#Aff7)  ), Yuxi Li^([2](#Aff8)), Liang Qiao^([2](#Aff8)), Jingyi Wu^([2](#Aff8))
    and Anna Jia Gander^([3](#Aff9))(1)Qingdao Institute of Bioenergy and Bioprocess
    Technology, Chinese Academy of Sciences, Beijing, China(2)College of Computer
    Science and Technology, Qingdao University, Qingdao, China(3)Department of Applied
    IT, The University of Gothenburg, Gothenburg, SwedenKeywordsDigital twinsBlockchainData
    securityResource allocationEdge computing
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 吕志翰^([1](#Aff7)  ), 李宇熹^([2](#Aff8)), 乔亮^([2](#Aff8)), 吴靖仪^([2](#Aff8)) 和 安娜·贾·甘德^([3](#Aff9))(1)中国科学院青岛生物能源与过程研究所,
    中国科学院, 北京, 中国(2)青岛大学计算机科学与技术学院, 青岛, 中国(3)应用信息技术系, 哥德堡大学, 哥德堡, 瑞典关键词数字孪生体区块链数据安全资源分配边缘计算
- en: 1 Introduction
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 1 介绍
- en: Digital twins convert physical assets into virtual counterparts and create digital
    copies of machines/equipment or physical sites through the use of sensors. These
    digital assets can even be created before the assets are physically constructed.
    From the time the digital twins were proposed to the present, its application
    fields have been more focused on scenarios related to spatial architecture such
    as smart buildings, smart parks, and smart cities [[1](#CR1)–[3](#CR3)]. In fact,
    digital twins can be built from multiple data sources, including historical performance
    statistics, real-time sensor and manufacturing output, and future data provided
    by machine learning. It is to create the most accurate representation possible
    to truly understand the characteristics of the physical object and even predict
    its performance changes over time. With the transformation and upgrading of traditional
    industrial enterprises, digital twins have been extended to the field of industry
    4.0 intelligent manufacturing where industrial infrastructure is increasingly
    integrated with general information technology [[4](#CR4), [5](#CR5)]. It collects,
    processes, analyzes, and interprets data through wireless connection with small
    devices capable of sensing, computing, and communication [[6](#CR6)].
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 数字孪生体将物理资产转化为虚拟对应物，并通过传感器创建机器/设备或物理站点的数字副本。这些数字资产甚至可以在物理构建之前创建。从数字孪生体提出至今，其应用领域更多地集中在与空间建筑相关的场景，如智能建筑、智能公园和智能城市[[1](#CR1)–[3](#CR3)]。事实上，数字孪生体可以从多个数据源构建，包括历史性能统计、实时传感器和制造输出，以及机器学习提供的未来数据。它旨在尽可能创建最准确的表示，以真正理解物理对象的特性，甚至预测其随时间的性能变化。随着传统工业企业的转型升级，数字孪生体已扩展到工业4.0智能制造领域，工业基础设施越来越多地与通用信息技术集成[[4](#CR4),
    [5](#CR5)]。它通过与能够感知、计算和通信的小型设备无线连接，收集、处理、分析和解释数据[[6](#CR6)]。
- en: Integrating digital twins with industrial manufacturing is full of promise,
    but its introduction also brings new attack vectors. The vulnerabilities in the
    infrastructure system will induce different attacks, which may bring catastrophic
    consequences to the applications involved in the decision-making process [[7](#CR7)–[9](#CR9)].
    Considering the involvement of many entities in the complex industrial process,
    to ensure the reliability of data obtained from heterogeneous databases is the
    first priority. Blockchain technology has made breakthroughs in product life cycle
    data management and data security. The use of blockchain technology allows the
    sharing of data on distributed ledgers to realize the traceability in case of
    critical failures and securely record events in an immutable and irrevocable manner
    [[10](#CR10)]. The combination of digital twins and blockchains can reshape the
    industry. Secure data management is ensured based on blockchain technology, and
    then trusted data is used as input through digital twins to obtain data with guiding
    value to maintain the system.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 将数字孪生与工业制造相结合充满了希望，但其引入也带来了新的攻击向量。基础设施系统中的漏洞将引发不同的攻击，这可能会给涉及决策过程的应用程序带来灾难性后果[[7](#CR7)–[9](#CR9)]。考虑到复杂工业过程中涉及许多实体，确保从异构数据库获取的数据的可靠性是首要任务。区块链技术在产品生命周期数据管理和数据安全方面取得了突破。利用区块链技术可以实现在关键故障情况下数据的可追溯性，并以不可变和不可撤销的方式安全记录事件[[10](#CR10)]。数字孪生和区块链的结合可以重塑行业。基于区块链技术确保了安全的数据管理，然后通过数字孪生将信任的数据用作输入，以获得具有指导价值的数据以维护系统。
- en: 'In general, the integration of digital twins and blockchain ensures the safe,
    efficient, and credible creation of virtual models. The creation process of the
    digital twins usually includes four stages: design, construction, testing, and
    delivery. The beginning of each stage depends on the completion of the previous
    stage. The auxiliary application of the blockchain can ensure that the creation
    process of the digital twins is safe and reliable. This research focuses on the
    data security in the case of untrusted multiple parties sharing data, and the
    constraint conditions for the log storage system to achieve secure data sharing
    are proposed. Then, for multiple scenarios in the blockchain, an optimized resource
    allocation algorithm is proposed based on DRL theory, to get rid of the dependence
    on large data centers for data computing.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，数字孪生和区块链的整合确保了虚拟模型的安全、高效和可信的创建。数字孪生的创建过程通常包括四个阶段：设计、构建、测试和交付。每个阶段的开始取决于前一个阶段的完成。区块链的辅助应用可以确保数字孪生的创建过程是安全可靠的。这项研究重点关注在不信任的多方共享数据的情况下的数据安全性，并提出了实现安全数据共享的日志存储系统的约束条件。然后，针对区块链中的多种场景，基于DRL理论提出了一种优化的资源分配算法，以摆脱对大型数据中心进行数据计算的依赖。
- en: 2 Related Works
  id: totrans-7
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 2 相关工作
- en: The concept of digital twins was first proposed by Michael Grieves in 2003 during
    his product life cycle courses. In 2012, NASA formally defined the digital twins
    as a multidisciplinary, multi-physical, multi-scale simulation process to complete
    the mapping in the virtual space and listed it as one of the key technologies
    to drive future development. Digital twins continuously collect real data from
    corresponding physical entities and process them to find potentially valuable
    information from the data. The current creation of digital twins is mainly based
    on traditional methods, and this method has centralized authority to manage entity
    information, so it cannot ensure credibility. Raj (2021) [[11](#CR11)] pointed
    out in his research that the construction of digital twins must avoid data leakage,
    and blockchain plays a role in this process with its unique advantages. The research
    of Kim and Laskowski (2018) [[12](#CR12)] revealed the advantages of blockchain
    suitable for the supply chain industry, including traceability, transparency,
    and tamper-proof logs. These features also make the blockchain a highly secure
    distributed ledger, which aggregates all transaction information of stakeholders
    during the end-to-end creation of the digital twins and finally achieves process
    transparency.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 数字孪生的概念最早是在2003年由迈克尔·格里夫斯在他的产品生命周期课程中提出的。2012年，NASA正式将数字孪生定义为一个多学科、多物理、多尺度的仿真过程，用于在虚拟空间中完成映射，并将其列为推动未来发展的关键技术之一。数字孪生不断收集来自相应物理实体的真实数据，并处理这些数据以发现潜在有价值的信息。目前创建数字孪生主要基于传统方法，而这种方法具有集中管理实体信息的权限，因此无法保证可信性。Raj（2021年）[[11](#CR11)]在他的研究中指出，数字孪生的构建必须避免数据泄露，并且区块链在此过程中发挥着独特优势。Kim和Laskowski（2018年）[[12](#CR12)]的研究揭示了区块链在供应链行业中的优势，包括可追溯性、透明度和防篡改日志。这些特点也使得区块链成为高度安全的分布式分类账，它在数字孪生的端到端创建过程中聚合了所有利益相关者的所有交易信息，最终实现了过程透明化。
- en: Emerging blockchain technology has the potential to overcome security vulnerabilities,
    enabling the application and innovation of digital twins. Christidis and Devetsikiotis
    (2016) [[13](#CR13)] pointed out in their research that the blockchain enables
    us to conduct transactions through verification through a distributed peer-to-peer
    network at the absence of a trusted intermediary. Blockchain allows the exchange
    of time-stamped events, and these events can be permanently stored securely and
    tamper proof in a distributed ledger. Borowski (2021) [[14](#CR14)] believed that
    the establishment of a blockchain that is capable of distributed data storage,
    tamper proof, and immutable can achieve the acquisition of distributed data across
    multiple participating entities in the digital twins. Yaqoob et al. (2020) [[15](#CR15)]
    envisaged the use of blockchain technology to reshape and transform the digital
    twins to achieve safe manufacturing while ensuring the traceability, compliance,
    and authenticity of data.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 新兴的区块链技术有望克服安全漏洞，促进数字孪生的应用和创新。Christidis和Devetsikiotis（2016年）[[13](#CR13)]在他们的研究中指出，区块链使我们能够在没有可信中介的情况下通过分布式对等网络进行交易验证。区块链允许交换时间戳事件，并且这些事件可以在分布式分类账中安全地永久存储和防篡改。Borowski（2021年）[[14](#CR14)]认为，建立一种具有分布式数据存储、防篡改和不可变性的区块链可以实现数字孪生中多个参与实体之间的分布式数据获取。Yaqoob等人（2020年）[[15](#CR15)]设想使用区块链技术重塑和转变数字孪生，实现安全制造，并确保数据的可追溯性、合规性和真实性。
- en: Above, it can be induced that based on blockchain technology, it is possible
    to track the creation process of digital twins safely and reliably. However, there
    lacks in-depth research on the constraints of data that cannot be tampered with.
    This research draws attention to the data security sharing mode of the blockchain
    from the perspective of data traceability and proposes a reliable and efficient
    edge computing resource allocation method.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 综上所述，基于区块链技术，可以安全可靠地追踪数字孪生的创建过程。然而，对于不能篡改的数据的约束缺乏深入研究。本研究从数据可追溯性的角度关注区块链的数据安全共享模式，并提出了一种可靠高效的边缘计算资源分配方法。
- en: 3 Methods
  id: totrans-11
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 3 方法
- en: Blockchain-Based Digital Twins
  id: totrans-12
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 基于区块链的数字孪生技术
- en: The developers of the digital twins have carried out in-depth research on the
    information foundation of the simulated physical system, which is helpful for
    visualization and the development of a mathematical model that simulates the physical
    system of the real world.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 数字孪生技术的开发人员对模拟物理系统的信息基础进行了深入研究，这有助于可视化和开发模拟真实世界物理系统的数学模型。
- en: In fact, from the perspective of building objects, digital twin technology can
    be divided into three types, namely, things, people, and human-to-thing interaction,
    and it is mainly used in intelligent IoT, citizen code, and smart city [[16](#CR16),
    [17](#CR17)]. The creation process of the digital twins is mainly divided into
    four stages. In Stage 1, the engineer uses computer-aided design tools to analyze
    the data and directly captures the target data and converts it into a virtual
    copy of the entity. In Stage 2, the model will be continuously updated based on
    the captured data and will send the information feedback. Whether in the supply
    chain or any other environment that is highly dependent on data, it is necessary
    to ensure that the built model works well in the real environment. In Stage 3,
    after the digital twins are successfully built, it is tested using the test bench
    to eliminate logic errors or possible design defects. In Stage 4, after successful
    testing and verification, the digital twins can be deployed, and it is available
    for all owners on the blockchain. Figure [1](#Fig1) shows the process of creating
    digital twins using the blockchain as a management entity (Fig. [1](#Fig1)).![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig1_HTML.png)
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 事实上，从构建对象的角度来看，数字孪生技术可以分为三种类型，即物、人和人与物的交互，并且主要应用于智能物联网、市民代码和智能城市[[16](#CR16)，[17](#CR17)]。数字孪生的创建过程主要分为四个阶段。在第1阶段，工程师使用计算机辅助设计工具分析数据，直接捕获目标数据并将其转换为实体的虚拟副本。在第2阶段，模型将基于捕获的数据持续更新，并发送信息反馈。无论是在供应链还是在任何其他高度依赖数据的环境中，都有必要确保所构建的模型在真实环境中能够很好地工作。在第3阶段，成功构建数字孪生后，使用测试台进行测试，以消除逻辑错误或可能的设计缺陷。在第4阶段，经过成功测试和验证后，数字孪生可以部署，并且可供区块链上的所有所有者使用。图[1](#Fig1)显示了使用区块链作为管理实体创建数字孪生的过程（图[1](#Fig1)）。![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig1_HTML.png)
- en: Fig. 1
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 图1
- en: The main process of creating digital twins with the blockchain as a management
    entity
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 以区块链作为管理实体创建数字孪生的主要过程
- en: The encryption feature of the blockchain ensures the security of data transmission.
    Through reliable authentication of users and data sources, the immutability of
    data and the security of digital twins are of high application value [[18](#CR18)].
    In the blockchain, transactions between nodes, as the basic communication utterances,
    are only recorded in the time-stamped log in the shared ledger. The blockchain
    stores the digital certificate, which contains all the relevant data of the product.
    The blockchain ensures that the data embedded in the digital certificate will
    not be copied, modified, or even deleted by others [[19](#CR19), [20](#CR20)].
    The consensus mechanism is adopted to establish a safe and reliable network node,
    and then the transaction is organized into a block through the consensus algorithm
    and attached to the distributed ledger. Each block contains the hash value of
    the previous block, so it is easy to detect the tampering and destruction of the
    block by the attacker. Based on the consensus mechanism in blockchain technology,
    multiple stakeholders, partners, and users can share one umbrella, and confidential
    information, customer information, and corporate information can all be safely
    transmitted and shared. Combining blockchain technology with digital twins can
    expand the application scope of digital twins and provide a technical basis for
    building a mirrored world. Figure [2](#Fig2) shows the framework of digital twins
    based on blockchain. First, participating entities such as sensors, devices, and
    people are registered as authorized entities in the blockchain. Next, at the data
    layer, information-physical mapping is performed by monitoring, collecting, and
    processing the specified parameters from the physical space to the virtual space.
    Based on the collected data, the digital twins generate relevant knowledge and
    store historical data in the storage layer. The application layer further analyzes
    the data to schedule services or provide model calibration services, thereby completing
    a feedback loop. The digital twins use credible source data as input. In this
    process, the blockchain ensures the security of data management, and finally the
    data analysis is performed to predict events and evaluate related factors [[14](#CR14),
    [15](#CR15), [21](#CR21)].![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig2_HTML.png)
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链的加密功能确保了数据传输的安全性。通过对用户和数据源的可靠认证，数据的不可变性和数字孪生的安全性具有很高的应用价值[[18](#CR18)]。在区块链中，节点之间的交易作为基本的通信表达，仅记录在共享账本中的时间戳日志中。区块链存储数字证书，其中包含产品的所有相关数据。区块链确保数字证书中嵌入的数据不会被他人复制、修改，甚至删除[[19](#CR19),
    [20](#CR20)]。采用共识机制建立安全可靠的网络节点，然后通过共识算法将交易组织成区块并附加到分布式账本上。每个区块都包含上一个区块的哈希值，因此很容易检测到攻击者对区块的篡改和破坏。基于区块链技术中的共识机制，多个利益相关者、合作伙伴和用户可以共享一个伞，保密信息、客户信息和企业信息都可以安全传输和共享。将区块链技术与数字孪生相结合可以扩大数字孪生的应用范围，并为构建镜像世界提供技术基础。图[2](#Fig2)展示了基于区块链的数字孪生框架。首先，参与实体如传感器、设备和人员在区块链中注册为授权实体。接下来，在数据层，通过监测、收集和处理物理空间中的指定参数，进行信息物理映射，将其从物理空间映射到虚拟空间。基于收集的数据，数字孪生生成相关知识，并将历史数据存储在存储层中。应用层进一步分析数据以调度服务或提供模型校准服务，从而完成反馈循环。数字孪生使用可信源数据作为输入。在这个过程中，区块链确保了数据管理的安全性，最终进行数据分析以预测事件并评估相关因素[[14](#CR14),
    [15](#CR15), [21](#CR21)]。![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig2_HTML.png)
- en: Fig. 2
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 图2
- en: Framework of the blockchain-based digital twins
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 基于区块链的数字孪生框架
- en: Secure Data Sharing Model Based on Blockchain
  id: totrans-20
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 基于区块链的安全数据共享模型
- en: The blockchain is formed by linking one block with another [[22](#CR22)]. Each
    block points to the previous block, which is called a child block of the previous
    block. Each block has a block header, which contains the hash value generated
    by the parent block header, and the parent block can be found through this hash
    value [[23](#CR23)–[25](#CR25)]. When there is any change in the parent block,
    the hash value of the parent block also changes, and this will force the hash
    value of the child-block to change, and so on, the subsequent sub-sub-blocks will
    also be affected. If a block has many descendants, the recalculation of all descendants
    of this block requires much effort, so a longer blockchain is more difficult to
    be changed. Now that new transactions are generated every second, to achieve tampering,
    the results must be quickly calculated, while new transactions are not generated,
    whereas under the current computer capabilities, the attack takes much longer
    than normal transaction time, so it is impossible to tamper [[26](#CR26), [27](#CR27)].
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链是通过将一个块与另一个块链接而形成的[[22](#CR22)]。每个块指向前一个块，称为前一个块的子块。每个块都有一个块头，其中包含由父块头生成的哈希值，可以通过此哈希值找到父块[[23](#CR23)–[25](#CR25)]。当父块发生任何更改时，父块的哈希值也会更改，这将迫使子块的哈希值更改，以此类推，随后的子子块也会受到影响。如果一个块有许多后代，则重新计算此块的所有后代需要很多工作，因此更长的区块链更难以更改。现在每秒都会产生新的交易，要实现篡改，必须快速计算结果，而不会产生新的交易，而在当前的计算机能力下，攻击所需的时间比正常交易时间长得多，因此无法进行篡改[[26](#CR26)，[27](#CR27)]。
- en: The log storage system of the blockchain is mainly used as the interface for
    writing and reading data operation logs. In this research, a hybrid storage strategy
    for data is proposed, as shown in Fig. [3](#Fig3). Only the hash of the log data
    will be stored in the log storage system, and the log data itself will be stored
    in other storage media with lower overhead. Data is usually broken down into three
    parts of data shards, data index information, and check hash. Although data shards
    and data index information are stored on an untrusted medium, the data is still
    credible because the data hash is kept unchanged on the storage medium.![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig3_HTML.png)
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链的日志存储系统主要用作写入和读取数据操作日志的接口。在这项研究中，提出了一种用于数据的混合存储策略，如图[3](#Fig3)所示。日志数据的哈希值将仅存储在日志存储系统中，而日志数据本身将存储在具有更低开销的其他存储介质中。数据通常被分解为数据碎片、数据索引信息和检查哈希三部分。虽然数据碎片和数据索引信息存储在不受信任的介质上，但数据仍然可信，因为数据哈希在存储介质上保持不变！[](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig3_HTML.png)
- en: Fig. 3
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 图3
- en: Hybrid storage strategy for data
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 数据的混合存储策略
- en: The validity of the log data needs the signature of both the system and the
    user at the same time, and a single-party signature is invalid. For example, in
    a scenario, there are three roles of the user *P* [1], system *P* [2], and log
    storage system *P*; *P* [1] and *P* [2] can encrypt data in their own way, but
    they can all be decrypted by the log storage system *P*. During the key generation
    process, the log storage system *P* selects an odd integer *p* ← [2^(*η* − 1), 2^(*η*)] ∩ (2*Z* + 1)
    of *η* bit as the private key *sk*. ![
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 日志数据的有效性需要系统和用户同时签名，单方签名无效。例如，在一个场景中，用户*P*[1]、系统*P*[2]和日志存储系统*P*有三个角色；*P*[1]和*P*[2]可以以自己的方式加密数据，但它们都可以被日志存储系统*P*解密。在密钥生成过程中，日志存储系统*P*选择一个奇整数*p* ← [2^(*η* − 1), 2^(*η*)] ∩ (2*Z* + 1)作为私钥*sk*。![
- en: $$ {q}_0,{q}_1\dots {q}_{\tau}\leftarrow Z\cap \left[0,\frac{2\gamma }{p}\right)
    $$
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: $$ {q}_0,{q}_1\dots {q}_{\tau}\leftarrow Z\cap \left[0,\frac{2\gamma }{p}\right)
    $$
- en: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_IEq1.png) is chosen
    to maximize *q* [0]. *r* [0], *r* [1]…*r* [*τ*] ← *Z* ∩ [−2^(*ρ*), 2^(*ρ*)] is
    chosen, and then the equation is obtained as follows:!['
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_IEq1.png)被选择以最大化*q*[0]。*r*[0]，*r*[1]…*r*[*τ*] ← *Z* ∩ [−2^(*ρ*), 2^(*ρ*)]被选择，然后方程为：!['
- en: $$ {x}_0\leftarrow {q}_0p+2{r}_0,{x}_i\leftarrow {\left[{q}_ip+2{r}_i\right]}_{x_0}
    $$
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: $$ {x}_0\leftarrow {q}_0p+2{r}_0,{x}_i\leftarrow {\left[{q}_ip+2{r}_i\right]}_{x_0}
    $$
- en: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ1.png)(1)At
    this time, the public key can be expressed as follows:!['
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 在此时，公钥可以表示如下：![
- en: $$ pk=\left\langle {x}_0,{x}_1\dots {x}_{\tau}\right\rangle $$
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: $$ pk=\left\langle {x}_0,{x}_1\dots {x}_{\tau}\right\rangle $$
- en: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ2.png)(2)In
    the encryption process, a set *S* [*i*] ⊆ {1, 2, …*τ* [*i*]} and an integer !['
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ2.png)(2)在加密过程中，集合
    *S* [*i*] ⊆ {1, 2, …*τ* [*i*]}，以及一个整数 !['
- en: $$ {t}_i\leftarrow \left\{-{2}^{\rho },{2}^{\rho_i}\right\} $$
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: $$ {t}_i\leftarrow \left\{-{2}^{\rho },{2}^{\rho_i}\right\} $$
- en: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_IEq2.png) are randomly
    selected, and the output ciphertext can be expressed as follows:!['
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_IEq2.png)被随机选择，输出密文可以表示如下:!['
- en: $$ {c}_i={\left[{m}_i+2{t}_i+{\sum_{j\in S}}^{x_{i,j}}\right]}_{x_{i,0}} $$
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: $$ {c}_i={\left[{m}_i+2{t}_i+{\sum_{j\in S}}^{x_{i,j}}\right]}_{x_{i,0}} $$
- en: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ3.png)(3)'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ3.png)(3)'
- en: During the decryption process, the log storage system *P* can decrypt to obtain
    the plaintext *m* [*i*] ← [[*c* [*i*]][*p*]][2] according to the key *sk* = *p*.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 在解密过程中，日志存储系统 *P* 可以根据密钥 *sk* = *p* 解密以获取明文 *m* [*i*] ← [[*c* [*i*]][*p*]][2]。
- en: To ensure the reliability of the data source, this research uses the Flume structure
    to complete the collection, aggregation, and transmission of data. Figure [4](#Fig4)
    shows the Flume logic architecture. The Flume event is defined as a data flow
    unit with byte payload and optional string attributes [[28](#CR28)]. The core
    of Flume is an agent. This agent has two external interaction places, one is to
    receive data input-source, and the other is data output-sink [[29](#CR29)]. After
    the source receives the data, it sends the data to the channel. The channel acts
    as a data buffer to temporarily store the data, and then the sink sends the data
    in the channel to the designated place. When the log storage system receives a
    request for data reading, Influence Chain will first read the data index information
    on the untrusted low-overhead storage medium according to the request and then
    obtain the data information and verify the data by reading the data hash. Finally,
    the data is returned to the user.![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig4_HTML.png)
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 为了确保数据源的可靠性，本研究采用 Flume 结构完成数据的收集、聚合和传输。图[4](#Fig4)展示了 Flume 逻辑架构。Flume 事件被定义为具有字节载荷和可选字符串属性的数据流单元[[28](#CR28)]。Flume
    的核心是代理。这个代理有两个外部交互位置，一个是接收数据输入源，另一个是数据输出汇 [[29](#CR29)]。源接收数据后，将数据发送到通道。通道作为数据缓冲区临时存储数据，然后汇将通道中的数据发送到指定位置。当日志存储系统收到数据读取请求时，Influence
    Chain 将根据请求首先从不受信任的低开销存储介质上读取数据索引信息，然后通过读取数据哈希获取数据信息并验证数据。最后，将数据返回给用户。![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig4_HTML.png)
- en: Fig. 4
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4
- en: Flume logic architecture
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: Flume 逻辑架构
- en: Optimized Resource Allocation in Blockchain
  id: totrans-40
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 区块链中的优化资源分配
- en: Aimed at the trusted resource allocation in the decentralized blockchain network,
    this research proposes an optimal resource allocation strategy for each user in
    the multiuser and multiserver scenario (Fig. [5](#Fig5)). In the scenario where
    there are several edge service providers in the blockchain network, the set of
    the edge server and the set of the user are defined as *N* and *M*, respectively.
    To prevent the system from directly offloading the computing task submitted by
    the user each time to the edge server [[30](#CR30)–[32](#CR32)], first, the task
    needs to be submitted to the system, and then a more reasonable calculation offloading
    and resource allocation strategy is implemented, with user satisfaction as the
    standard.![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig5_HTML.png)
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 为了在分散式区块链网络中进行可信资源分配，本研究针对多用户和多服务器场景提出了每个用户的最优资源分配策略（见图[5](#Fig5)）。在区块链网络中存在多个边缘服务提供商的情况下，边缘服务器集合和用户集合分别定义为
    *N* 和 *M*。为了防止系统每次直接将用户提交的计算任务卸载到边缘服务器[[30](#CR30)–[32](#CR32)]，首先，任务需要提交到系统，然后实施更合理的计算卸载和资源分配策略，以用户满意度为标准。![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig5_HTML.png)
- en: Fig. 5
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5
- en: Multiuser and multiserver scenario
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 多用户和多服务器场景
- en: When the user *i* offloads the task to the edge computing server *j*, the corresponding
    upload rate is as follows:![
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 当用户 *i* 将任务卸载到边缘计算服务器 *j* 时，相应的上传速率如下:![
- en: $$ {\tau}_{i,j}=B\ast {\log}_2\left(1+\frac{p_i\ast {g}_{i,j}}{B\ast {N}_0}\right)
    $$
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: $$ {\tau}_{i,j}=B\ast {\log}_2\left(1+\frac{p_i\ast {g}_{i,j}}{B\ast {N}_0}\right)
    $$
- en: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ4.png)(4)where
    *B* represents bandwidth and *N* [0] refers to the variance of Gaussian white
    noise. *p* [*i*] is the transmission rate that needs to be achieved when the terminal
    device *i* uploads data, and *g* [*i*, *j*] represents the channel gain between
    the device *i* and the edge computing server *j*.The transmission delay for users
    to offload tasks to the edge server can be expressed as follows:!['
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ4.png)(4)其中
    *B* 表示带宽，*N* [0] 是指高斯白噪声的方差。*p* [*i*] 是终端设备 *i* 上传数据时需要达到的传输速率，*g* [*i*, *j*]
    表示设备 *i* 和边缘计算服务器 *j* 之间的信道增益。用户将任务卸载到边缘服务器的传输延迟可以表示为:!['
- en: $$ {t}_0=\frac{s_i}{\tau_{i,j}}{\alpha}_{i,j} $$
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: $$ {t}_0=\frac{s_i}{\tau_{i,j}}{\alpha}_{i,j} $$
- en: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ5.png)(5)where
    *s* [*i*] represents the amount of transactions that users can monitor in the
    blockchain network and *α* [*i*, *j*] is the offloading decision vector.The delay
    of edge server processing user computing tasks can be expressed as follows:!['
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ5.png)(5)其中
    *s* [*i*] 表示用户在区块链网络中可以监视的交易量，*α* [*i*, *j*] 是卸载决策向量。边缘服务器处理用户计算任务的延迟可以表示为:！'
- en: $$ {t}_1=\frac{s_i\ast d}{f_j} $$
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: $$ {t}_1=\frac{s_i\ast d}{f_j} $$
- en: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ6.png)(6)where
    *f* [*j*] represents the CPU frequency of the server.Taken together, the overall
    delay of task offloading is as follows:!['
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ6.png)(6)其中
    *f* [*j*] 表示服务器的 CPU 频率。总的任务卸载延迟如下:!['
- en: $$ {T}_{i,j}={t}_0+{t}_1=\frac{s_i}{\tau_{i,j}}{\alpha}_{i,j}+\frac{s_i\ast
    d}{f_j} $$
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: $$ {T}_{i,j}={t}_0+{t}_1=\frac{s_i}{\tau_{i,j}}{\alpha}_{i,j}+\frac{s_i\ast
    d}{f_j} $$
- en: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ7.png)(7)To
    allow more users to participate in the blockchain network, the user satisfaction
    *St* is used as an effective indicator of resource allocation to maximize the
    results. After the user submits the task to the system, the system will make a
    resource allocation decision *β* [*i*, *j*]. The definition of *St* is based on
    the system delay, and they are inversely proportional to each other. Then, the
    equation is obtained as follows:!['
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ7.png)(7)为了让更多用户参与到区块链网络中来，用户满意度
    *St* 被用作最大化结果的有效指标。用户将任务提交给系统后，系统将做出资源分配决策 *β* [*i*, *j*]。*St* 的定义是基于系统延迟的，它们彼此成反比关系。然后，得到以下方程:!['
- en: $$ {St}_i=\frac{pure_i}{T_i} $$
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: $$ {St}_i=\frac{pure_i}{T_i} $$
- en: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ8.png)(8)The
    target expression of the system can be derived as follows:!['
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ8.png)(8)系统的目标表达式可以推导如下:!['
- en: $$ \max \frac{1}{M}\sum \limits_{i\in M}\frac{pure_i}{T_i} $$
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: $$ \max \frac{1}{M}\sum \limits_{i\in M}\frac{pure_i}{T_i} $$
- en: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ9.png)(9)!['
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ9.png)(9)!['
- en: $$ s.t.\left\{\begin{array}{l}{\alpha}_{i,j}\in \left\{0,1\right\}\\ {}\sum
    \limits_{j\in N}{\alpha}_{i,j}=1\\ {}\sum \limits_{i\in M}{\beta}_{i,j}&lt;V\\
    {}V\ge {v}_{i,j}&gt;0\\ {}V\ge {\beta}_{i,j}&gt;0\\ {}{\beta}_{i,j}=0 if\;{\alpha}_{i,j}=0\end{array}\right.
    $$
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: $$ s.t.\left\{\begin{array}{l}{\alpha}_{i,j}\in \left\{0,1\right\}\\ {}\sum
    \limits_{j\in N}{\alpha}_{i,j}=1\\ {}\sum \limits_{i\in M}{\beta}_{i,j}&lt;V\\
    {}V\ge {v}_{i,j}&gt;0\\ {}V\ge {\beta}_{i,j}&gt;0\\ {}{\beta}_{i,j}=0 if\;{\alpha}_{i,j}=0\end{array}\right.
    $$
- en: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ10.png)(10)'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ10.png)(10)'
- en: The optimal resource allocation vector *β* [*i*, *j*] can be obtained by solving
    the above target expression, but it is not a convex problem, and the complexity
    of the problem will increase with the increase of the number of users. In this
    regard, DRL is introduced. The deep Q network uses four adjacent frames in time
    as the original image input. After process by the deep CNN and the fully connected
    neural network, the state-action Q function is output to realize end-to-end learning
    control.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 通过解决上述目标表达式可以获得最优资源分配向量 *β* [*i*, *j*]，但这不是一个凸问题，并且随着用户数量的增加，问题的复杂性会增加。在这方面，引入了
    DRL。深度 Q 网络将四个相邻的时间帧用作原始图像输入。经过深度 CNN 和全连接神经网络的处理后，输出状态-动作 Q 函数以实现端到端的学习控制。
- en: '*S* = {*s*(*t*)} is used to represent the network state space, and then the
    network state *s*(*t*) at moment *t* can be expressed as follows:!['
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '*S* = {*s*(*t*)} 用于表示网络状态空间，然后时刻 *t* 的网络状态 *s*(*t*) 可以表示为:!['
- en: $$ S=\left\{s(t)\right\}s(t)=\left({v}_j(t),{s}_i(t),d(t),{\Gamma}_{i,j}(t)\right)
    $$
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: $$ S=\left\{s(t)\right\}s(t)=\left({v}_j(t),{s}_i(t),d(t),{\Gamma}_{i,j}(t)\right)
    $$
- en: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ11.png)(11)where
    Γ[*i*, *j*](*t*) represents the signal-to-noise ratio between *i* and *j* at time
    *t*.Each resource allocation in the blockchain network includes user unloading
    decisions and resource allocation decisions, and then the actions of the network
    are defined as follows:!['
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ11.png)(11)其中Γ[*i*,
    *j*](*t*)表示时间*t*时*i*和*j*之间的信噪比。区块链网络中的每个资源分配包括用户卸载决策和资源分配决策，然后定义网络的行为如下:!['
- en: $$ a(t)=\left({\alpha}_{1,1}(t)\ast {\beta}_{1,1}(t),\dots, {\alpha}_{M,N}(t)\ast
    {\beta}_{M,N}(t)\right) $$
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: $$ a(t)=\left({\alpha}_{1,1}(t)\ast {\beta}_{1,1}(t),\dots, {\alpha}_{M,N}(t)\ast
    {\beta}_{M,N}(t)\right) $$
- en: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ12.png)(12)With
    the user satisfaction used as the reward in the reinforcement learning process,
    the income of user *i* at the moment *t* can be expressed as follows:!['
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ12.png)(12)以用户满意度作为强化学习过程中的奖励，用户*i*在时刻*t*的收益可以表示为:!['
- en: $$ {I}_i^t=\frac{\sum_j{\alpha}_{i,j}^t\ast {\beta}_{i,j}^t}{\sum_i{\sum}_j{\alpha}_{i,j}^t\ast
    {\beta}_{i,j}^t}\ast \left(T+{rs}_i^t\right)\ast {e}^{-\frac{1}{\lambda}\mu {s}_i^t}
    $$
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: $$ {I}_i^t=\frac{\sum_j{\alpha}_{i,j}^t\ast {\beta}_{i,j}^t}{\sum_i{\sum}_j{\alpha}_{i,j}^t\ast
    {\beta}_{i,j}^t}\ast \left(T+{rs}_i^t\right)\ast {e}^{-\frac{1}{\lambda}\mu {s}_i^t}
    $$
- en: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ13.png)(13)The
    cost of user *i* can be expressed as follows:!['
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ13.png)(13)用户*i*的成本可以表示为:!['
- en: $$ \mathit{\cos}{t}_i=\gamma d\ast {s}_i^t\sum \limits_j\frac{f_j}{v_j}\ast
    {\alpha}_{i,j} $$
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: $$ \mathit{\cos}{t}_i=\gamma d\ast {s}_i^t\sum \limits_j\frac{f_j}{v_j}\ast
    {\alpha}_{i,j} $$
- en: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ14.png)(14)Finally,
    the reward at the moment *t* is obtained:!['
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ14.png)(14)最后，得到时刻*t*的奖励:!['
- en: $$ r(t)=\sum \limits_i\frac{pure_i^t}{T_i^t}=\sum \limits_i\frac{I_i^t-\mathit{\cos}{t}_i}{T_i^t}
    $$
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: $$ r(t)=\sum \limits_i\frac{pure_i^t}{T_i^t}=\sum \limits_i\frac{I_i^t-\mathit{\cos}{t}_i}{T_i^t}
    $$
- en: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ15.png)(15)The
    above expression reflects the reward brought by each action of DRL, and parameters
    need to be supplemented on this basis to get the overall reward.!['
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ15.png)(15)以上表达反映了DRL的每个动作带来的奖励，需要在此基础上补充参数以获得总体奖励!['
- en: $$ R(t)=\sum \limits_{t^{\prime }=t}^T{\in}^{t^{\prime }-t}r(t) $$
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: $$ R(t)=\sum \limits_{t^{\prime }=t}^T{\in}^{t^{\prime }-t}r(t) $$
- en: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ16.png)(16)where
    ∈ represents the rate of loss of subsequent earnings. If ∈ approaches 0, the system
    will pay more attention to the current profit at this time.'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: '](../images/513458_1_En_9_Chapter/513458_1_En_9_Chapter_TeX_Equ16.png)(16)其中∈表示后续收益损失率。如果∈接近于0，系统将更加关注当前时刻的利润。'
- en: The resource allocation algorithm based on DRL can be divided into two solving
    processes, namely, forward transmission and reverse training. In the forward transmission
    process, a deep neural network is constructed with the purpose to maximize user
    satisfaction, while in the reverse training process, the deep neural network is
    trained in the reverse direction by minimizing the time difference error.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 基于DRL的资源分配算法可以分为两个求解过程，即正向传输和反向训练。在正向传输过程中，构建深度神经网络的目的是最大化用户满意度，而在反向训练过程中，通过最小化时间差错来反向训练深度神经网络。
- en: Simulation Experiment and System Setting
  id: totrans-74
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 模拟实验和系统设置
- en: For the blockchain-based network data sharing system, the system test environment
    is as follows. The host machine CPU is Intel® Core™ i7, with 16 GB running memory
    and Windows 10 operating system. The client and server are Ubuntu operating system.
    The server is used to simulate the test environment, and the client is responsible
    for initiating the test. The blockchain benchmark environment is the Ethereum
    blockchain system; the client environment adopts a server with JDK 8\. It is proved
    that the introduction of the log storage system can meet the constraint requirements
    of reading and writing and will not affect the original performance of the system.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 对于基于区块链的网络数据共享系统，系统测试环境如下。主机CPU为Intel® Core™ i7，运行内存为16 GB，操作系统为Windows 10。客户端和服务器均为Ubuntu操作系统。服务器用于模拟测试环境，客户端负责发起测试。区块链基准环境为以太坊区块链系统；客户端环境采用带有JDK
    8的服务器。证明引入日志存储系统可以满足读写约束要求，且不会影响系统的原始性能。
- en: To prove the effectiveness of the algorithm proposed in this research in the
    edge computing resource allocation of blockchain network, five other algorithms
    are selected for comparative experiments, namely, genetic algorithm, random allocation
    algorithm, preference allocation, ant colony, and Q-learning algorithm. Q-Learning
    is a value-based reinforcement learning algorithm. The Q function is recorded
    by the state-action table. The Bellman equation can be used to solve the optimal
    strategy for the Markov process.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 为了证明本研究提出的算法在区块链网络边缘计算资源分配中的有效性，选择了其他五种算法进行比较实验，分别是遗传算法、随机分配算法、偏好分配、蚂蚁群和Q学习算法。Q学习是一种基于值的强化学习算法。Q函数由状态-动作表记录。贝尔曼方程可用于解决马尔可夫过程的最优策略。
- en: A simulation platform is built based on Python, and the number of users in the
    blockchain network is set to 10, 20, 30, 40, and 50; the number of edge service
    areas is 2, 3, 4, 5, and 6, and the server processing frequency is 1, 2, 3, 4,
    and 5\. The channel bandwidth is 180 kHz, the noise is 90 dBm, the upper limit
    of the number of resources of a single edge server is 100, and the channel gain
    is in the following range [[1](#CR1), [10](#CR10)].
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 基于Python构建了仿真平台，区块链网络中的用户数量设置为10、20、30、40和50；边缘服务区域的数量为2、3、4、5和6，服务器处理频率为1、2、3、4和5。信道带宽为180
    kHz，噪声为90 dBm，单个边缘服务器的资源数量上限为100，信道增益在以下范围内[[1](#CR1), [10](#CR10)]。
- en: 4 Results and Discussion
  id: totrans-78
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 4 结果与讨论
- en: Evaluation of Data Security Sharing Strategy
  id: totrans-79
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 数据安全共享策略评估
- en: In this research, the blockchain benchmark environment is used as a control,
    and the query request from the client is used as the workload. The workload acts
    on the base environment and the main chain environment, respectively. To ensure
    the accuracy of the test results, three repeated experiments are carried out,
    and finally, the average delay under different load conditions is calculated.
    Figure [6](#Fig6) shows the experimental results. It is noted that in the three
    experiments, the difference between the blockchain benchmark environment and the
    main chain environment is very subtle in terms of average latency. This also suggests
    that the introduction of the log storage system in the blockchain network will
    not have a significant impact on the performance of the reference environment
    to read data, and it can also meet the constraint requirements in terms of effectiveness.
    Hence, this solution is feasible. Figure [7](#Fig7) shows the storage overhead
    of the system when the file data size is between 1 KB and 1 MB. It is noted in
    Fig. [7](#Fig7) that the improved environment after the introduction of the log
    storage system reduces the storage overhead of the system by about 75% compared
    with the blockchain benchmark environment. Although different storage modes will
    have varying degrees of impact on the experimental results, as long as the storage
    overhead of the local file system less than the blockchain network, the solution
    is considered effective.![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig6_HTML.png)
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 在这项研究中，区块链基准环境被用作控制，客户端的查询请求被用作工作负载。工作负载分别作用于基础环境和主链环境。为了确保测试结果的准确性，进行了三次重复实验，最终计算了不同负载条件下的平均延迟。图
    [6](#Fig6) 展示了实验结果。需要注意的是，在三次实验中，就平均延迟而言，区块链基准环境和主链环境之间的差异非常微小。这也表明，在区块链网络中引入日志存储系统对于参考环境读取数据的性能不会产生显著影响，而且还可以满足有效性方面的约束要求。因此，这个解决方案是可行的。图
    [7](#Fig7) 展示了当文件数据大小在 1 KB 到 1 MB 之间时，系统的存储开销。需要注意的是，在图 [7](#Fig7) 中，引入日志存储系统后改进的环境相比于区块链基准环境将系统的存储开销减少了约
    75%。虽然不同的存储模式会对实验结果产生不同程度的影响，但只要本地文件系统的存储开销小于区块链网络，该解决方案就被认为是有效的！[](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig6_HTML.png)
- en: Fig. 6
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6
- en: Comparison of request delays under different loads
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 不同负载下请求延迟的比较
- en: '![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig7_HTML.png)'
  id: totrans-83
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig7_HTML.png)'
- en: Fig. 7
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7
- en: Comparison of data storage overhead under different source data volumes
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 不同源数据量下数据存储开销的比较
- en: Figure [8](#Fig8) shows the corresponding execution time on the endorser node
    when the client simultaneously initiates different numbers of data write requests.
    It is noted that there is not much difference in the calculation time of the endorser
    node between the cache enhancement strategy and the non-cache enhancement strategy.
    Figure [9](#Fig9) shows the calculation amount corresponding to the endorser node
    when the client initiates 100 data write requests at the same time. It is noted
    that the calculation amount of the system under the cache enhancement strategy
    is smaller, and the calculation efficiency is about 1–2 times that under the non-cache
    enhancement strategy.![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig8_HTML.png)
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 图 [8](#Fig8) 展示了当客户端同时发起不同数量的数据写入请求时，背书节点上的相应执行时间。需要注意的是，在缓存增强策略和非缓存增强策略下，背书节点的计算时间几乎没有太大的差异。图
    [9](#Fig9) 展示了当客户端同时发起 100 个数据写入请求时，背书节点对应的计算量。需要注意的是，在缓存增强策略下，系统的计算量较小，计算效率约为非缓存增强策略下的
    1–2 倍！[](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig8_HTML.png)
- en: Fig. 8
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8
- en: Execution time results under different numbers of requests
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 不同请求数量下的执行时间结果
- en: '![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig9_HTML.png)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig9_HTML.png)'
- en: Fig. 9
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9
- en: Calculated results under different proportions of conflicting write requests
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 不同冲突写入请求比例下的计算结果
- en: Performance Analysis of Resource Allocation Algorithms
  id: totrans-92
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 资源分配算法性能分析
- en: Figure [10](#Fig10) shows the user satisfaction under different numbers of users.
    The increase in the number of users means that limited computing resources will
    be shared by more users, and thus the average user satisfaction will decline.
    However, compared with other resource allocation algorithms, the allocation method
    based on DRL significantly improves user satisfaction. The Q-learning algorithm
    also has good performance. In the case of a small number of users, the needs of
    most users can be met, and user satisfaction is high. Figure [11](#Fig11) shows
    the user satisfaction under different edge server performance. With the increase
    in the frequency of edge servers, the system will process data faster, so user
    satisfaction will increase linearly. Figure [12](#Fig12) shows the user satisfaction
    under different numbers of servers. The increase in the number of servers means
    that more parallel tasks can be supported and the user satisfaction will increase
    accordingly. The advantages of the resource allocation algorithm based on DRL
    theory are not obvious under a small number of servers. When the number of servers
    is greater than 5, user satisfaction has been significantly improved compared
    with the other five resource allocation algorithms, and compared with the Q-learning
    algorithm, its user satisfaction has increased by about 15%.![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig10_HTML.png)
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 图 [10](#Fig10) 显示了在不同用户数量下的用户满意度。用户数量的增加意味着有限的计算资源将被更多用户共享，因此平均用户满意度将下降。然而，与其他资源分配算法相比，基于
    DRL 的分配方法显著提高了用户满意度。Q 学习算法也具有良好的性能。在用户数量较少的情况下，大多数用户的需求可以得到满足，用户满意度很高。图 [11](#Fig11)
    显示了在不同边缘服务器性能下的用户满意度。随着边缘服务器频率的增加，系统将更快地处理数据，因此用户满意度将呈线性增长。图 [12](#Fig12) 显示了在不同服务器数量下的用户满意度。服务器数量的增加意味着可以支持更多的并行任务，用户满意度也会相应提高。基于
    DRL 理论的资源分配算法的优势在服务器数量较少时并不明显。当服务器数量大于 5 时，与其他五种资源分配算法相比，用户满意度显著提高，并且与 Q 学习算法相比，其用户满意度提高约
    15%。![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig10_HTML.png)
- en: Fig. 10
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10
- en: The relationship between the number of users and the user satisfaction
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 用户数量与用户满意度之间的关系
- en: '![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig11_HTML.png)'
  id: totrans-96
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig11_HTML.png)'
- en: Fig. 11
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11
- en: The relationship between edge server performance and user satisfaction
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 边缘服务器性能与用户满意度之间的关系
- en: '![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig12_HTML.png)'
  id: totrans-99
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig12_HTML.png)'
- en: Fig. 12
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12
- en: The relationship between the number of servers and the user satisfaction
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 服务器数量与用户满意度之间的关系
- en: Figure [13](#Fig13) shows the running time. The running time of the algorithm
    will increase as the number of users increases. When the number of users is less
    than 30, the running time of the random allocation algorithm is the shortest,
    and the resource allocation algorithm based on DRL has the longest running time
    among the six because of the addition of the link of training the deep network.
    When the number of users increases, the number of two-dimensional tables stored
    by the Q-learning algorithm also increases, and the running time of the algorithm
    increases almost exponentially. Figure [14](#Fig14) shows the time delay. It is
    noted that the preference allocation algorithm adopts a greedy strategy and preferentially
    allocates servers with low delay to users, so its time delay is the shortest among
    the six. The Q-learning algorithm is found to have a serious impact on the system
    delay when the number of users is large. Figure [15](#Fig15) shows the changes
    in the revenue. It is noted that as the number of users increases, the Q-learning
    algorithm and the one based on DRL can obtain more user benefits, and the overall
    growth is exponential.![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig13_HTML.png)
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 图 [13](#Fig13) 显示了运行时间。随着用户数量的增加，算法的运行时间将增加。当用户数量小于 30 时，随机分配算法的运行时间最短，而基于 DRL
    的资源分配算法由于添加了训练深度网络的链接，其运行时间在六种算法中最长。当用户数量增加时，Q-learning 算法存储的二维表的数量也增加，算法的运行时间几乎呈指数增长。图
    [14](#Fig14) 显示了时间延迟。值得注意的是，偏好分配算法采用贪婪策略，优先将延迟较低的服务器分配给用户，因此其时间延迟在六种算法中最短。当用户数量较大时，发现
    Q-learning 算法对系统延迟影响较大。图 [15](#Fig15) 显示了收入的变化。值得注意的是，随着用户数量的增加，Q-learning 算法和基于
    DRL 的算法可以获得更多的用户收益，并且总体增长是指数级的。![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig13_HTML.png)
- en: Fig. 13
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13
- en: The relationship between the number of users and the running time
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 用户数量与运行时间之间的关系
- en: '![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig14_HTML.png)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig14_HTML.png)'
- en: Fig. 14
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14
- en: The relationship between the number of users and the algorithm delay
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 用户数量与算法延迟之间的关系
- en: '![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig15_HTML.png)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/513458_1_En_9_Chapter/513458_1_En_9_Fig15_HTML.png)'
- en: Fig. 15
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 图 15
- en: The relationship between the number of users and the revenue
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 用户数量与收入之间的关系
- en: 5 Conclusion
  id: totrans-111
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 5 结论
- en: With the vigorous development of interactive Internet of things devices, a large
    amount of multi-structured data is generated, transmitted, and stored in local
    and remote storage systems. By building digital twins for IoT devices, it is possible
    to have a deeper understanding of their structural characteristics and behaviors
    in different environments. Digital twins can even simulate the working status
    of physical entities based on changing conditions, but at the same time, hackers
    can remotely penetrate IoT devices and cause irreparable damage to IoT systems
    and applications. This will result in the digital twins may not be accessible,
    and if the tampered data is submitted to the digital twin model, it will lead
    to wrong decisions. In this regard, in this article, possible connections between
    the digital twins and the blockchain are explored to defend against security threats.
    The decentralization of blockchain technology allows nodes that do not trust each
    other to trust the stored data.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 随着互动物联网设备的蓬勃发展，大量的多结构数据在本地和远程存储系统中产生、传输和存储。通过为物联网设备构建数字孪生体，可以更深入地了解它们在不同环境中的结构特征和行为。数字孪生甚至可以根据不同的条件模拟物理实体的工作状态，但同时，黑客可以远程侵入物联网设备并对物联网系统和应用程序造成无法挽回的损害。这将导致数字孪生可能无法访问，并且如果篡改数据提交到数字孪生模型中，将导致错误的决策。在这方面，本文探讨了数字孪生与区块链之间的可能联系，以抵御安全威胁。区块链技术的去中心化使得不相互信任的节点可以信任存储的数据。
- en: A resource allocation method based on DRL theory is proposed to maximize the
    user satisfaction. First, the operation delay and user benefits of the blockchain
    are taken into account, and then the optimization problem is transformed into
    a DRL model to obtain a reasonable network state. Finally, the optimal resource
    allocation plan is obtained after the network training. With the optimal user
    satisfaction as the strategy, simulation experiments have further confirmed that
    the allocation method based on DRL significantly improves user satisfaction. Moreover,
    the algorithm can obtain more user benefits, and the overall growth is exponential.
    This article provides ideas for the data maintenance, prevention of tampering,
    and data traceability during the construction of digital twins under decentralization.
    However, there are still some shortcomings. Because the experiment is carried
    out on a simulation platform, it fails to consider the deployment and execution
    methods in the real network environment. Therefore, in the follow-up, the system
    throughput should be expanded to enhance the practicability of the plan.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 基于DRL理论的资源分配方法旨在最大化用户满意度。首先，考虑了区块链的操作延迟和用户收益，然后将优化问题转化为DRL模型，以获取合理的网络状态。最后，在网络训练后获得最佳的资源分配方案。以最佳的用户满意度作为策略，仿真实验进一步证实了基于DRL的分配方法显着提高了用户满意度。此外，该算法可以获得更多的用户收益，整体增长呈指数级。本文提供了在去中心化数字孪生建设过程中进行数据维护、防篡改和数据可追溯性的思路。然而，仍然存在一些缺点。由于实验是在模拟平台上进行的，未能考虑在实际网络环境中的部署和执行方法。因此，在后续工作中，应扩展系统吞吐量以增强计划的实用性。
