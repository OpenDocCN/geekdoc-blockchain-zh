- en: Santiago Palladino
  id: totrans-0
  prefs: []
  type: TYPE_NORMAL
  zh: 圣地亚哥·帕拉迪诺
- en: Ethereum for Web Developers
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 以太坊Web开发者指南
- en: Learn to Build Web Applications on top of the Ethereum Blockchain
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 学习在以太坊区块链上构建Web应用程序
- en: '![../images/476252_1_En_BookFrontmatter_Figa_HTML.png](../images/476252_1_En_BookFrontmatter_Figa_HTML.png)Santiago PalladinoCiudad
    Autónoma de Buenos Aires, ArgentinaISBN 978-1-4842-5277-2e-ISBN 978-1-4842-5278-9[https://doi.org/10.1007/978-1-4842-5278-9](https://doi.org/10.1007/978-1-4842-5278-9)©
    Santiago Palladino 2019This work is subject to copyright. All rights are reserved
    by the Publisher, whether the whole or part of the material is concerned, specifically
    the rights of translation, reprinting, reuse of illustrations, recitation, broadcasting,
    reproduction on microfilms or in any other physical way, and transmission or information
    storage and retrieval, electronic adaptation, computer software, or by similar
    or dissimilar methodology now known or hereafter developed.Trademarked names,
    logos, and images may appear in this book. Rather than use a trademark symbol
    with every occurrence of a trademarked name, logo, or image we use the names,
    logos, and images only in an editorial fashion and to the benefit of the trademark
    owner, with no intention of infringement of the trademark. The use in this publication
    of trade names, trademarks, service marks, and similar terms, even if they are
    not identified as such, is not to be taken as an expression of opinion as to whether
    or not they are subject to proprietary rights.While the advice and information
    in this book are believed to be true and accurate at the date of publication,
    neither the authors nor the editors nor the publisher can accept any legal responsibility
    for any errors or omissions that may be made. The publisher makes no warranty,
    express or implied, with respect to the material contained herein.Distributed
    to the book trade worldwide by Springer Science+Business Media New York, 233 Spring
    Street, 6th Floor, New York, NY 10013\. Phone 1-800-SPRINGER, fax (201) 348-4505,
    e-mail orders-ny@springer-sbm.com, or visit www.springeronline.com. Apress Media,
    LLC is a California LLC and the sole member (owner) is Springer Science + Business
    Media Finance Inc (SSBM Finance Inc). SSBM Finance Inc is a Delaware corporation.'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '![../images/476252_1_En_BookFrontmatter_Figa_HTML.png](../images/476252_1_En_BookFrontmatter_Figa_HTML.png)Santiago
    Palladino阿根廷布宜诺斯艾利斯自治市ISBN 978-1-4842-5277-2e-ISBN 978-1-4842-5278-9[https://doi.org/10.1007/978-1-4842-5278-9](https://doi.org/10.1007/978-1-4842-5278-9)©
    Santiago Palladino 2019本作品受版权保护。出版商对整个或部分材料拥有版权，具体包括翻译、再版、插图重复使用、朗诵、广播、微缩胶片或任何其他物理方式的复制，以及信息存储和检索、电子适应、计算机软件或通过现在已知或今后开发的类似或不同的方法传输。商标名称、标识和图像可能出现在本书中。与其在每次商标名称、标识或图像出现时使用商标符号，我们仅在编辑上使用名称、标识和图像，并且只对商标所有者有利，没有侵权意图。本出版物中使用的商业名称、商标、服务标记和类似术语，即使它们没有被标识为这样，也不应被视为对它们是否受专有权利的意见表达。尽管本书中的建议和信息被认为在出版日期时是真实和准确的，但作者、编辑和出版商都不能对可能出现的任何错误或遗漏承担法律责任。出版商对此处所含材料不作任何明示或暗示的保证。由
    Springer Science+Business Media New York 在全球范围内向图书贸易分销，地址：纽约市 Spring Street 233
    号，6 楼，邮编 10013。电话 1-800-SPRINGER，传真 (201) 348-4505，电子邮件 orders-ny@springer-sbm.com，或访问
    www.springeronline.com。Apress Media, LLC 是加利福尼亚有限责任公司，唯一成员（所有者）是 Springer Science
    + Business Media Finance Inc (SSBM Finance Inc)。SSBM Finance Inc 是特拉华州的一家公司。'
- en: '*To Ale, my soon-to-be-wife, who supported me through the many days that went
    on while writing this book.*'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '*致 Ale，我的即将成为妻子，她在我写这本书的许多日子里一直支持着我。*'
- en: '*To my parents, both computer scientists, who passed down their passion on
    to me.*'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '*致我那些都是计算机科学家的父母，他们将自己的激情传给了我。*'
- en: Introduction
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 介绍
- en: It was not easy to write a book on Ethereum. Ethereum is one of the fastest
    evolving technologies I have ever seen. It builds on an entirely new computing
    model that did not even exist five years ago, and has undergone countless transformations
    since its conception. Writing something as static as a book feels an almost futile
    attempt to try to capture it. Combining this with web development, another area
    known for its rapid-changing environment, seemed like a daunting task.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 写一本关于以太坊的书并不容易。以太坊是我见过的发展最快的技术之一。它建立在一个完全新的计算模型之上，这个模型甚至在五年前都不存在，并且自其构思以来已经经历了无数次变革。写一本像书一样静态的东西几乎是徒劳的尝试去捕捉它。再加上网页开发，另一个以其快速变化环境而闻名的领域，似乎是一个艰巨的任务。
- en: Nevertheless, there are concepts that have become fundamental to developing
    blockchain-based applications. Even if the space is new, we are seeing many new
    chains being launched ^([1](#Fn1)) after Bitcoin and Ethereum, and all share many
    of its basic building blocks. Those are the concepts that this book attempts to
    capture, seen from the perspective of a web developer. I believe they will be
    as helpful in several years’ time as they are today, even if the tools and practices
    we rely on change completely.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管如此，有一些概念已经成为开发基于区块链的应用程序的基本概念。即使这个领域是新的，我们看到了许多新的链在比特币和以太坊之后被启动^([1](#Fn1))，而且它们都共享许多基本构建块。这些就是这本书试图从网页开发人员的角度捕捉到的概念。我相信它们将在未来几年中像今天一样有用，即使我们依赖的工具和实践完全改变。
- en: Throughout the book, you may read many disclaimers in the form of *at the time
    of this writing* , to emphasize things that are bound to change in the near future –
    some of them even did in the time it took me to write and review each chapter.
    However, it is important for you to keep in mind that the disclaimer applies to
    the entire book, as the Ethereum ecosystem is in constant evolution.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 在整本书中，你可能会读到许多免责声明，形式上是*在撰写本文时*，以强调一些即将发生变化的事情，甚至有些在我写和审阅每一章的时间内都发生了变化。然而，你要牢记的是，免责声明适用于整本书，因为以太坊生态系统正在不断发展。
- en: Who this book is for
  id: totrans-10
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 本书适合谁
- en: This book is for me a few years ago, before entering the blockchain space. I
    had worked as a full stack developer for several years, and moving into Ethereum
    rocked the foundations of how I had been building and thinking applications.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书是为了我几年前进入区块链领域之前而写的。我曾经作为一个全栈开发人员工作了几年，进入以太坊领域后，我的构建和思考应用程序的基础受到了震撼。
- en: At that moment, it was surprisingly difficult to find comprehensive material
    to understand all the aspects of Ethereum needed to build a decentralized application.
    And it still is today, for information is mostly fragmented, and often tailored
    for a specific toolset.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 当时，想找到全面的资料来理解构建去中心化应用程序所需的以太坊的所有方面非常困难。而且，即使到今天，信息大多是零散的，并且通常是针对特定工具集量身定制的。
- en: So, this book is for developers experienced in web applications, who want to
    apply their skillset to this new decentralized platform that is Ethereum. What
    we are seeing is much like the mobile revolution, which completely changed how
    we interacted with the web over a decade ago. It required developers to relearn
    and adjust to a new paradigm. The same is happening now.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，这本书是为有经验的 Web 应用程序开发人员而写的，他们想将自己的技能应用到这个新的去中心化平台——以太坊。我们正在经历的情况很像是移动革命，它彻底改变了我们十多年前与网络的互动方式。这需要开发人员重新学习和适应一种新的范式。现在也是一样的。
- en: With that in mind, this book presents, on top of traditional web development,
    the new concepts that come from having an Ethereum network at your disposal.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 有了这个前提，本书提供了传统 Web 开发之外，从你可以使用以太坊网络的新概念出发的内容。
- en: What you should know
  id: totrans-15
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 你应该知道的内容
- en: Being written for web developers, this book assumes that you already know and
    master what a web application is, are comfortable with javascript as a development
    language, and understand concepts such as client-server architecture, relational
    databases, the HTTP request/response cycle, and DNS.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书是为 Web 开发人员编写的，假定你已经知道并精通什么是 Web 应用程序，熟悉 JavaScript 作为一种开发语言，并且理解客户端-服务器架构、关系数据库、HTTP
    请求/响应周期和 DNS 等概念。
- en: In particular, we will make use of React as a front-end library to simplify
    the development of many examples throughout the book. Considering that React has
    existed for longer than Ethereum itself, and given its popularity today, it seems
    like an adequate choice. We will not rely on any framework or state-management
    solution, as we will keep our examples simple and focused on the Ethereum side
    of the picture.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 特别是，我们将使用 React 作为前端库来简化本书中许多示例的开发。考虑到 React 存在的时间比以太坊本身还要长，并且考虑到它今天的流行程度，它似乎是一个合适的选择。我们不会依赖任何框架或状态管理解决方案，因为我们将保持我们的示例简单，并专注于以太坊的方面。
- en: Even though we will be working with a cryptocurrency, it is not necessary to
    have prior knowledge of cryptography or currencies to approach this book. We will
    be covering the basics of hashing and public key cryptography in the first chapter,
    and briefly go through financial incentives in the last ones. Of course, if either
    of those areas are of interest to you, blockchain is a fantastic place to exercise
    them.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 即使我们将与加密货币一起工作，也不需要事先了解加密学或货币学的知识来阅读本书。我们将在第一章中介绍哈希和公钥加密的基础知识，并在最后几章中简要介绍财务激励。当然，如果你对这两个领域中的任何一个感兴趣，区块链是一个非常好的练习场所。
- en: The working environment
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作环境
- en: Much of this book is composed of code samples. Even if the value of this book
    relies on the concepts it attempts to pass on to you, each chapter includes several
    code snippets or full applications to help illustrate them. With that in mind,
    you may want to have an environment ready to reproduce the experiments listed.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 本书的很大一部分是由代码示例组成的。即使这本书的价值在于它试图向您传达的概念，每一章都包括了几个代码片段或完整的应用程序来帮助说明它们。考虑到这一点，您可能希望准备一个环境来重现列出的实验。
- en: All code samples are written in Javascript ES6, were developed and tested on
    an Ubuntu Linux system, and run on nodejs ^([2](#Fn2)) 10.16 from a bash shell.
    With Javascript being multiplatform, the samples should seamlessly run on OSX
    or Windows environments, though your mileage may vary. That said, having npm ^([3](#Fn3))
    working and being able to run a create-react-app ^([4](#Fn4)) locally should be
    enough for most code samples. Certain chapters may also require you to install
    and run an Ethereum node, such as Geth ^([5](#Fn5)) or Parity Ethereum. ^([6](#Fn6))
    Refer to their websites for platform-specific instructions for installing them.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 所有的代码示例都是用Javascript ES6编写的，在Ubuntu Linux系统上开发和测试，并在一个bash shell上通过nodejs ^([2](#Fn2))
    10.16运行。由于Javascript是多平台的，这些示例应该可以在OSX或Windows环境中无缝运行，尽管效果可能有所不同。也就是说，只要npm ^([3](#Fn3))工作正常，并且能够在本地运行create-react-app
    ^([4](#Fn4))，大多数代码示例都应该足够了。某些章节可能还需要您安装并运行以太坊节点，如Geth ^([5](#Fn5))或Parity Ethereum。
    ^([6](#Fn6))请参考它们的网站以获取特定平台的安装说明。
- en: We will make very limited usage of Ethereum-specific tools and libraries throughout
    the book. We will limit ourselves to a single Javascript library for interacting
    with the Ethereum network, ^([7](#Fn7)) plus a tool for simplifying the compilation
    of smart contracts, ^([8](#Fn8)) and a library of standard contracts to avoid
    reimplementing them from scratch. ^([9](#Fn9)) The tooling and framework space
    in Ethereum changes fast, and I wanted to avoid tying the book to one of them.
    Nevertheless, when you start your new Ethereum application, relying on an existing
    framework such as OpenZeppelin, Buidler, Truffle, Embark, or Etherlime may help
    you speed things up.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 在整本书中，我们将非常有限地使用特定于以太坊的工具和库。我们将限制自己只使用一个Javascript库与以太坊网络交互，^([7](#Fn7))再加上一个简化智能合约编译的工具，^([8](#Fn8))以及一个标准合约库，以避免从头开始重新实现它们。^([9](#Fn9))以太坊的工具和框架领域变化很快，我希望避免将书与其中一个绑定在一起。然而，当您开始您的新的以太坊应用程序时，依赖于现有框架，如OpenZeppelin，Buidler，Truffle，Embark或Etherlime可能会帮助您加快速度。
- en: A walkthrough of the chapters
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 章节概览
- en: The first chapter will be the only one free of code. It will introduce what
    a blockchain is, with a bit on history going from Bitcoin to Ethereum, plus the
    fundamental concepts of accounts, transactions, and blocks, along with the basic
    bits of cryptography that will be needed throughout the book. It will also briefly
    cover blockchain use cases, and introduce the concept of decentralized applications.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 第一章将是唯一没有代码的章节。它将介绍什么是区块链，从比特币到以太坊的历史，以及账户、交易和区块的基本概念，以及本书中需要的基本加密知识点。它还将简要介绍区块链用例，并介绍分布式应用程序的概念。
- en: Chapter two is fully hands-on. It compensates for the lack of code on the previous
    one by going heads-on to develop a complete decentralized application from scratch.
    Many concepts will be quickly glossed over, but this chapter should help you understand
    in a practical way how all the components fit together, so you have a clear idea
    of their role when they are explored in depth later.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 第二章完全是动手实践。它通过从零开始开发一个完整的分布式应用程序来弥补上一章节缺少代码的不足。许多概念将被快速概述，但是这一章应该能够帮助您以实践的方式理解所有组件是如何相互配合的，以便在后面深入探讨它们的作用时，您对它们的角色有一个清晰的了解。
- en: Chapter three is the only one unrelated to web development. It provides a crash-course
    on smart contracts, a key construct in Ethereum. Having a good understanding of
    smart contracts and knowing what they can and cannot do will help you design the
    architecture of your applications. Most of the chapter builds on Solidity, the
    most popular high-level language for writing contracts.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 第三章是唯一与网页开发无关的章节。它提供了智能合约的速成课程，这是以太坊中的一个关键构建。对智能合约有一个良好的理解，并知道它们能做什么，不能做什么，将有助于您设计应用程序的架构。该章的大部分内容都建立在
    Solidity 上，这是撰写合约的最流行的高级语言。
- en: 'Chapters four and five go back to web development, going in-depth with very
    basic tasks: reading and writing data from the blockchain. Gathering blockchain
    data is not like sending a SQL query to your average relational database, and
    sending a transaction requires managing concepts like gas and signatures. In blockchain
    development, long confirmation times and reorganizations may dwarf the challenges
    you know from NoSQL databases’ eventual consistency. These two chapters will present
    those issues, and several techniques for dealing with them.'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 第四章和第五章回到网页开发，深入研究非常基础的任务：从区块链读取和写入数据。获取区块链数据不像向您的平均关系数据库发送 SQL 查询，发送交易需要管理燃气和签名等概念。在区块链开发中，长时间的确认时间和重新组织可能会使您从
    NoSQL 数据库的最终一致性中了解到的挑战变得微不足道。这两章将介绍这些问题，并介绍处理它们的几种技术。
- en: Chapter six will challenge decentralization itself. Up to this point, all samples
    were built as a static single-page application using the blockchain as its only
    back end. This chapter will introduce centralized components to the architecture
    of a decentralized application, such as indexing and storage solutions.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
- en: 'Finally, chapters seven and eight deal with two of the most pressing challenges
    in Ethereum development as of today: user onboarding and scalability. Getting
    started in the Ethereum space for a non-technical user can be challenging, as
    they get bombarded with concepts like private keys or mnemonics, in an unforgiving
    space where they could lose all their funds if they make a mistake. Furthermore,
    having a platform with a global throughput of a dozen transactions per second
    severely limits the applications it can run – think of a cloud provider that offers
    no more than twelve database writes per second shared across all its clients.
    These two chapters explore these problems in depth, and include a survey of the
    current solutions available. These are also the two scenarios most rapidly changing,
    but the chapters will give you the basics to help you navigate this space, so
    you can then build an outstanding Ethereum application.'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
- en: The mandatory disclaimer
  id: totrans-30
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Security in software development is hard. Security in blockchain development
    is even harder. Smart contract applications potentially manage large amounts of
    funds, and are like sitting ducks to attackers in a public executable environment.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
- en: '*I want you to write a program that has to run in a concurrent environment
    under Byzantine circumstances where any adversary can invoke your program with
    any arguments of their choosing. The environment in which your program executes
    (and hence any direct or indirect environmental dependencies) is also under adversary
    control. If you make a single exploitable mistake or oversight in the implementation,
    or even in the logical design of the program, then either you personally or perhaps
    the users of your program could lose a substantial amount of money. Where your
    program will run, there is no legal recourse if things go wrong. Oh, and once
    you release the first version of your program, you can never change it. It has
    be right first time.*'
  id: totrans-32
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*我希望你编写的程序必须在拜占庭环境下运行，并且任何对手都可以使用他们选择的任何参数调用你的程序。你的程序执行的环境（因此任何直接或间接的环境依赖关系）也受对手控制。如果在实现中或者甚至在程序的逻辑设计中出现了一个可以被利用的错误或疏忽，那么你个人或者你的程序的用户可能会损失大量的钱。在你的程序将运行的地方，如果出了问题，就没有法律途径可供追究。哦，一旦你发布了你的程序的第一个版本，你就再也不能改变它。第一次就必须正确。*'
- en: ''
  id: totrans-33
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '—Adrian Colyer, “Zeus: Analyzing safety of smart contracts” ^([10](#Fn10))'
  id: totrans-34
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '—Adrian Colyer，“Zeus: 分析智能合约的安全性” ^([10](#Fn10))'
- en: Even though all code samples in this book have been reviewed, they have not
    been formally audited. And even if they were, there could still be an overseen
    security bug. The goal of the code in this book is to teach you, not to be copy-pasted
    into your application – we already have StackOverflow for that. Neither the author
    nor the publisher of this book can offer any warranties on the security of the
    code you will find here.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 即使本书中的所有代码示例都经过了审核，但它们并没有经过正式审计。即使进行了审计，仍可能存在未被发现的安全漏洞。本书中的代码目标是教会你，而不是被简单地复制粘贴到你的应用程序中
    - 我们已经有了StackOverflow来解决这个问题。本书的作者和出版商都不能对你在这里找到的代码的安全性提供任何保证。
- en: Bottom line is that you should not blindly trust any code snippet from this
    book – or from any other source, for that matter. Always make sure you have a
    good understanding of what you are doing, and have your code reviewed and audited
    by third parties before going to production in the Ethereum network.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 底线是，你不应该盲目地信任本书中的任何代码片段 - 或者来自任何其他来源的代码片段。始终确保你对自己在做什么有很好的理解，并在将代码投入以太坊网络生产之前，通过第三方进行代码审查和审计。
- en: '*THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
    FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
    COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
    IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
    WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.*'
  id: totrans-37
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*本软件按“原样”提供，不提供任何明示或暗示的担保，包括但不限于适销性、特定用途的适用性和非侵权性的保证。在任何情况下，作者或版权所有者均不对任何索赔、损害或其他责任负责，无论是在合同、侵权或其他方面产生的，与软件或软件使用或其他交易有关。*'
- en: Without further ado, let’s get started.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 没有更多拖延，让我们开始吧。
- en: Acknowledgments
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 致谢
- en: I want to thank, first and foremost, the awesome team at OpenZeppelin. OpenZeppelin
    was my first contact with the mind-blowing world of Ethereum, and where I learned
    everything that you will read throughout this book.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我要特别感谢 OpenZeppelin 团队。OpenZeppelin 是我第一次接触到令人惊叹的以太坊世界的地方，也是我学到了你们在本书中将要读到的一切内容。
- en: I also want to thank all the colleagues with whom I shared my professional life
    as a developer, in particular those at manas.tech, where I worked and learned
    for almost a decade. Those years got me to be the developer I am today.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 我还要感谢所有与我一同度过作为开发者职业生涯的同事，特别是在 manas.tech 工作并学习了近十年的同事。那些年让我成为了今天的开发者。
- en: A big thank you also goes to the entire Ethereum community. Many of the buidlers
    ^([11](#Fn11)) and maintainers of the infrastructure that keeps everything running
    often go unnoticed or unappreciated. It is through their great efforts that this
    ecosystem thrives and grows.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 还要特别感谢整个以太坊社区。许多建设者和维护者们常常被忽视或未被赏识，但正是通过他们的努力，这个生态系统得以蓬勃发展。
- en: I also have eternal gratitude to the teachers of the public and free University
    of Buenos Aires, where I got an invaluable education in computer science. Even
    if blockchain did not even exist during my time as a student, the foundations
    I learned there still help me today when approaching any topic.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 我也要永远感谢布宜诺斯艾利斯公共自由大学的老师们，在那里我获得了计算机科学方面的宝贵教育。即使在我作为学生的时代区块链甚至还不存在，但我在那里学到的基础知识今天在接触任何主题时仍然对我有所帮助。
- en: Last but not least, a special thanks to the team at Apress who helped me in
    putting this book together, and in getting it to your hands.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 最后但同样重要的是，特别感谢 Apress 团队，他们帮助我编写了这本书，并使它到达了你们的手中。
- en: And of course, to my cat, who unrelentingly slept by my side every single hour
    I spent writing this book.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，还要感谢我的猫，它在我写这本书的每一个小时里都坚定不移地陪在我身边睡觉。
- en: Table of Contents
  id: totrans-46
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 目录
- en: '[Chapter 1:​ Blockchains](476252_1_En_1_Chapter.xhtml) 1[A Refresher on Cryptography](476252_1_En_1_Chapter.xhtml#Sec1)
    1[Hash Functions](476252_1_En_1_Chapter.xhtml#Sec2) 1[Public Key Cryptography](476252_1_En_1_Chapter.xhtml#Sec3)
    2[Blockchain 101](476252_1_En_1_Chapter.xhtml#Sec4) 2[Transactions and Blocks](476252_1_En_1_Chapter.xhtml#Sec5)
    3[From Bitcoin to Ethereum](476252_1_En_1_Chapter.xhtml#Sec9) 7[Decentralized
    Applications](476252_1_En_1_Chapter.xhtml#Sec12) 9[Why Blockchain?​](476252_1_En_1_Chapter.xhtml#Sec15)
    12[Advantages and Use Cases](476252_1_En_1_Chapter.xhtml#Sec16) 12[Limitations](476252_1_En_1_Chapter.xhtml#Sec17)
    14[Non-public Blockchains](476252_1_En_1_Chapter.xhtml#Sec18) 15[Summary](476252_1_En_1_Chapter.xhtml#Sec19)
    16[Chapter 2:​ A Sample DApp](476252_1_En_2_Chapter.xhtml) 17[About Our DApp](476252_1_En_2_Chapter.xhtml#Sec1)
    17[Our Requirements](476252_1_En_2_Chapter.xhtml#Sec2) 17[The Smart Contract](476252_1_En_2_Chapter.xhtml#Sec3)
    17[The Architecture](476252_1_En_2_Chapter.xhtml#Sec4) 19[Setting Up the Environment](476252_1_En_2_Chapter.xhtml#Sec5)
    19[Building Our Application](476252_1_En_2_Chapter.xhtml#Sec8) 22[Compiling the
    Smart Contract](476252_1_En_2_Chapter.xhtml#Sec9) 22[Connecting to the Network
    Via Web3](476252_1_En_2_Chapter.xhtml#Sec10) 24[The Contract Interface](476252_1_En_2_Chapter.xhtml#Sec11)
    26[Interacting with Our Smart Contract](476252_1_En_2_Chapter.xhtml#Sec12) 28[Wiring
    Our Component](476252_1_En_2_Chapter.xhtml#Sec13) 28[Querying the Contract’s State](476252_1_En_2_Chapter.xhtml#Sec14)
    31[Sending a Transaction](476252_1_En_2_Chapter.xhtml#Sec15) 33[Monitoring Updates
    Via Events](476252_1_En_2_Chapter.xhtml#Sec16) 37[Deploying the Application](476252_1_En_2_Chapter.xhtml#Sec17)
    38[Summary](476252_1_En_2_Chapter.xhtml#Sec18) 38[Chapter 3:​ A Crash Course on
    Smart Contracts](476252_1_En_3_Chapter.xhtml) 39[What is a Smart Contract?​](476252_1_En_3_Chapter.xhtml#Sec1)
    39[External Accounts vs.​ Smart Contracts](476252_1_En_3_Chapter.xhtml#Sec2) 40[Code
    and State](476252_1_En_3_Chapter.xhtml#Sec3) 42[Gas Usage](476252_1_En_3_Chapter.xhtml#Sec4)
    44[Transactions](476252_1_En_3_Chapter.xhtml#Sec5) 46[Calls](476252_1_En_3_Chapter.xhtml#Sec6)
    49[Solidity](476252_1_En_3_Chapter.xhtml#Sec7) 50[Remix](476252_1_En_3_Chapter.xhtml#Sec8)
    51[Your First Solidity Contract](476252_1_En_3_Chapter.xhtml#Sec9) 52[What’s in
    a Function?​](476252_1_En_3_Chapter.xhtml#Sec10) 56[Value Data Types](476252_1_En_3_Chapter.xhtml#Sec15)
    61[Reference Types](476252_1_En_3_Chapter.xhtml#Sec20) 66[Emitting Events](476252_1_En_3_Chapter.xhtml#Sec24)
    73[Imports, Inheritance, and Libraries](476252_1_En_3_Chapter.xhtml#Sec25) 74[Well-known
    Smart Contracts](476252_1_En_3_Chapter.xhtml#Sec26) 77[Application Binary Interface](476252_1_En_3_Chapter.xhtml#Sec27)
    77[EIPs and ERCs](476252_1_En_3_Chapter.xhtml#Sec28) 78[ERC20 Tokens](476252_1_En_3_Chapter.xhtml#Sec29)
    78[ERC721 Non-fungible Tokens](476252_1_En_3_Chapter.xhtml#Sec30) 81[Summary](476252_1_En_3_Chapter.xhtml#Sec31)
    87[Chapter 4:​ Querying the Network](476252_1_En_4_Chapter.xhtml) 89[Connecting
    to the Network](476252_1_En_4_Chapter.xhtml#Sec1) 89[About Full and Light Nodes](476252_1_En_4_Chapter.xhtml#Sec2)
    89[The JSON-RPC Interface](476252_1_En_4_Chapter.xhtml#Sec4) 90[The Provider Object](476252_1_En_4_Chapter.xhtml#Sec7)
    93[Choosing the Right Connection](476252_1_En_4_Chapter.xhtml#Sec10) 96[Retrieving
    Data](476252_1_En_4_Chapter.xhtml#Sec14) 98[Network Information](476252_1_En_4_Chapter.xhtml#Sec15)
    98[Account Balances and Code](476252_1_En_4_Chapter.xhtml#Sec16) 100[Calling into
    a Contract](476252_1_En_4_Chapter.xhtml#Sec17) 102[Detecting Changes](476252_1_En_4_Chapter.xhtml#Sec18)
    105[Polling for New Blocks](476252_1_En_4_Chapter.xhtml#Sec19) 105[Installing
    Event Filters](476252_1_En_4_Chapter.xhtml#Sec20) 106[Creating Subscriptions](476252_1_En_4_Chapter.xhtml#Sec21)
    107[Example Application](476252_1_En_4_Chapter.xhtml#Sec22) 109[Setup](476252_1_En_4_Chapter.xhtml#Sec23)
    109[Building the Application](476252_1_En_4_Chapter.xhtml#Sec27) 111[Displaying
    Transfer Events](476252_1_En_4_Chapter.xhtml#Sec30) 117[Summary](476252_1_En_4_Chapter.xhtml#Sec34)
    124[Chapter 5:​ Sending Transactions](476252_1_En_5_Chapter.xhtml) 127[Setting
    Up the Environment](476252_1_En_5_Chapter.xhtml#Sec1) 127[Development Nodes](476252_1_En_5_Chapter.xhtml#Sec2)
    127[Creating Contracts](476252_1_En_5_Chapter.xhtml#Sec5) 134[Managing Accounts](476252_1_En_5_Chapter.xhtml#Sec8)
    138[Issuing Transactions](476252_1_En_5_Chapter.xhtml#Sec11) 143[Transaction Parameters](476252_1_En_5_Chapter.xhtml#Sec12)
    143[Lifecycle of a Transaction](476252_1_En_5_Chapter.xhtml#Sec16) 151[Replacing
    a Transaction](476252_1_En_5_Chapter.xhtml#Sec20) 157[Error Handling](476252_1_En_5_Chapter.xhtml#Sec21)
    159[Example Application](476252_1_En_5_Chapter.xhtml#Sec22) 160[Setup](476252_1_En_5_Chapter.xhtml#Sec23)
    161[The Application](476252_1_En_5_Chapter.xhtml#Sec26) 164[Main ERC721 Component](476252_1_En_5_Chapter.xhtml#Sec30)
    169[Summary](476252_1_En_5_Chapter.xhtml#Sec35) 180[Chapter 6:​ Indexing and Storage](476252_1_En_6_Chapter.xhtml)
    181[Indexing Data](476252_1_En_6_Chapter.xhtml#Sec1) 181[Tracking ERC20 Token
    Holders](476252_1_En_6_Chapter.xhtml#Sec2) 182[Handling Chain Reorganizations](476252_1_En_6_Chapter.xhtml#Sec6)
    189[Unit Testing](476252_1_En_6_Chapter.xhtml#Sec10) 195[A Note on Centralization](476252_1_En_6_Chapter.xhtml#Sec14)
    202[Storage](476252_1_En_6_Chapter.xhtml#Sec17) 204[Off-chain Storage](476252_1_En_6_Chapter.xhtml#Sec18)
    204[Interplanetary Storage](476252_1_En_6_Chapter.xhtml#Sec21) 209[Summary](476252_1_En_6_Chapter.xhtml#Sec25)
    213[Chapter 7:​ User Onboarding](476252_1_En_7_Chapter.xhtml) 215[The Problem](476252_1_En_7_Chapter.xhtml#Sec1)
    215[Interacting Without Accounts](476252_1_En_7_Chapter.xhtml#Sec2) 216[Sending
    Funds from an Exchange](476252_1_En_7_Chapter.xhtml#Sec3) 217[Single-use Addresses](476252_1_En_7_Chapter.xhtml#Sec6)
    221[Application Local Accounts](476252_1_En_7_Chapter.xhtml#Sec10) 227[Creating
    and Using a Local Wallet](476252_1_En_7_Chapter.xhtml#Sec11) 227[Encrypted Keystores](476252_1_En_7_Chapter.xhtml#Sec12)
    229[Mnemonics](476252_1_En_7_Chapter.xhtml#Sec13) 231[Smart Accounts](476252_1_En_7_Chapter.xhtml#Sec14)
    232[Identities as Smart Contracts](476252_1_En_7_Chapter.xhtml#Sec15) 233[Sample
    Implementation](476252_1_En_7_Chapter.xhtml#Sec16) 234[Deploying a Smart Account
    (Take One)](476252_1_En_7_Chapter.xhtml#Sec17) 237[Upgrading User Accounts](476252_1_En_7_Chapter.xhtml#Sec18)
    239[Gasless Transactions](476252_1_En_7_Chapter.xhtml#Sec22) 246[Signatures in
    Ethereum](476252_1_En_7_Chapter.xhtml#Sec23) 246[Introducing Meta Transactions](476252_1_En_7_Chapter.xhtml#Sec24)
    249[Relayers and Rewards](476252_1_En_7_Chapter.xhtml#Sec27) 253[Native Meta Transactions](476252_1_En_7_Chapter.xhtml#Sec31)
    259[Revisiting Smart Accounts Deployment](476252_1_En_7_Chapter.xhtml#Sec33) 262[Ethereum
    Names](476252_1_En_7_Chapter.xhtml#Sec37) 266[A DNS for Ethereum](476252_1_En_7_Chapter.xhtml#Sec38)
    267[Names Resolution](476252_1_En_7_Chapter.xhtml#Sec39) 268[Giving Names to Our
    Users](476252_1_En_7_Chapter.xhtml#Sec40) 269[Summary](476252_1_En_7_Chapter.xhtml#Sec41)
    273[Chapter 8:​ Scalability](476252_1_En_8_Chapter.xhtml) 275[What is Layer 2?​](476252_1_En_8_Chapter.xhtml#Sec1)
    275[Channels](476252_1_En_8_Chapter.xhtml#Sec2) 277[Unidirectional Payment Channels](476252_1_En_8_Chapter.xhtml#Sec3)
    277[Bidirectional Payment Channels](476252_1_En_8_Chapter.xhtml#Sec7) 291[State
    Channels](476252_1_En_8_Chapter.xhtml#Sec12) 300[Channel Networks](476252_1_En_8_Chapter.xhtml#Sec15)
    304[Sidechains](476252_1_En_8_Chapter.xhtml#Sec16) 306[Proof of Authority](476252_1_En_8_Chapter.xhtml#Sec17)
    306[Plasma Chains](476252_1_En_8_Chapter.xhtml#Sec21) 317[Summary](476252_1_En_8_Chapter.xhtml#Sec22)
    318[Index](476252_1_En_BookBackmatter_OnlinePDF.xhtml#Ind1) 321'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
- en: About the Author and About the Technical Reviewer
  id: totrans-48
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 关于作者和关于技术审阅员
- en: About the Author
  id: totrans-49
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 关于作者
- en: Santiago Palladino![../images/476252_1_En_BookFrontmatter_Figb_HTML.jpg](../images/476252_1_En_BookFrontmatter_Figb_HTML.jpg)
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: Santiago Palladino![../images/476252_1_En_BookFrontmatter_Figb_HTML.jpg](../images/476252_1_En_BookFrontmatter_Figb_HTML.jpg)
- en: has been working as a professional software developer since 2005, working extensively
    in web applications for over 10 years. He entered the Ethereum space in 2017,
    when he joined the OpenZeppelin team as one of the first employees. There he worked
    as security researcher in several audits, and led the development of open source
    tools and services for building Ethereum applications. He has an MSc in Computer
    Science from University of Buenos Aires, where he was a TA in Algorithms and Numerical
    Methods for a total of 7 years. He has written several online articles on Ethereum
    development and Blockchain in general. You can find him on Twitter @smpalladino,
    or Github @spalladino.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 自2005年以来一直担任专业软件开发人员，专注于 Web 应用程序开发已有超过 10 年的经验。他于2017年进入以太坊领域，加入OpenZeppelin团队成为最早的几名员工之一。在那里，他参与了多次审计工作，担任安全研究员，并带领开发了用于构建以太坊应用程序的开源工具和服务。他拥有布宜诺斯艾利斯大学的计算机科学硕士学位，在那里担任了7年的算法和数值方法助教。他撰写了几篇关于以太坊开发和区块链的在线文章。你可以在
    Twitter 上找到他 @smpalladino，或在 Github 上找到他 @spalladino。
- en: About the Technical Reviewer
  id: totrans-52
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 关于技术审阅员
- en: Alexander Chinedu Nnakwue![../images/476252_1_En_BookFrontmatter_Figc_HTML.jpg](../images/476252_1_En_BookFrontmatter_Figc_HTML.jpg)
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: Alexander Chinedu Nnakwue![../images/476252_1_En_BookFrontmatter_Figc_HTML.jpg](../images/476252_1_En_BookFrontmatter_Figc_HTML.jpg)
- en: has a background in Mechanical Engineering from the University of Ibadan, Nigeria
    and has been a front-end developer for over 3 years working on both web and mobile
    technologies. He also has experience as a technical author, writer, and reviewer.
    He enjoys programming for the web, and occasionally, you can also find him playing
    soccer. He was born in Benin City and is currently based in Lagos, Nigeria.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 拥有尼日利亚伊巴丹大学机械工程背景，并担任前端开发人员已有超过3年，在 Web 和移动技术领域都有工作经验。他还有作为技术作者、写手和审阅员的经历。他热爱
    Web 编程，偶尔也会踢足球。他出生在贝宁城，目前居住在尼日利亚拉各斯。
