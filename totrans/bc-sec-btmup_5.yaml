- en: CHAPTER 6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Considerations for Secure Blockchain Design
  prefs: []
  type: TYPE_NORMAL
- en: Blockchain systems face security threats at every level of the blockchain ecosystem.
    Everything from the underlying cryptography to the smart contracts running on
    top of the distributed ledger can be attacked in various ways.
  prefs: []
  type: TYPE_NORMAL
- en: 'However, not all blockchains are created equal, nor are they equally vulnerable
    to attack. In this chapter, we explore some key factors to consider when designing
    a blockchain system, including the types of blockchain, privacy and security enhancements,
    and legal and regulatory considerations.  ## Blockchain Type'
  prefs: []
  type: TYPE_NORMAL
- en: Bitcoin, the original blockchain, was designed as a platform that was universally
    accessible and fully decentralized. Anyone could create a Bitcoin account, and
    all accounts could participate in any aspect of the blockchain's operations, such
    as ledger storage and block creation.
  prefs: []
  type: TYPE_NORMAL
- en: Since Bitcoin, new models for blockchain have emerged that use the same underlying
    technology but move slightly away from the ideals of full decentralization. Now,
    blockchains can be classified as public versus private and as open versus permissioned.
  prefs: []
  type: TYPE_NORMAL
- en: '### Public vs. Private'
  prefs: []
  type: TYPE_NORMAL
- en: Public blockchains like Bitcoin and Ethereum are designed to be globally accessible,
    allowing anyone to create an account on the blockchain. However, this model is
    not ideal for all use cases, especially for organizations looking to take advantage
    of the benefits of blockchain technology for their internal operations.
  prefs: []
  type: TYPE_NORMAL
- en: The distinction between public and private blockchains defines who has the ability
    to create an account on a blockchain platform and create transactions. Public
    blockchains are openly accessible, while private ones are available only to certain
    authorized users or from specific networks or systems.
  prefs: []
  type: TYPE_NORMAL
- en: '#### *Benefits of Public vs. Private Blockchains*'
  prefs: []
  type: TYPE_NORMAL
- en: 'Public and private blockchains both have their advantages and disadvantages,
    making them each better suited to different use cases. The following list includes
    some of the advantages of public blockchain platforms:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Anonymity:** In a public blockchain, there is no need to determine whether
    a user is authorized to use the platform. This makes it possible to have anonymous
    accounts where identity management and authentication are based on knowledge of
    an account''s private key.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Decentralization:** Public blockchains allow anyone to create an account,
    which results in a larger userbase and greater decentralization. Also, limiting
    access to only authorized users, which is necessary for private networks, requires
    a system to permit or deny access, which can create a single point of failure.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Resiliency:** Public blockchains tend to be larger and more distributed than
    private ones. This provides a greater degree of resiliency because cyberattacks,
    natural disasters, and other disruptive events are less likely to impact all nodes
    within the blockchain network.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Private blockchains are often a better choice for enterprise use cases. Here
    are some of the benefits that a private blockchain provides:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Access Management****:** A private blockchain allows an organization to manage
    who has access to the blockchain system. This provides greater control over the
    data and functionality hosted on the blockchain.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Data Privacy****:** On a public blockchain, all users have full visibility
    into the transactions on the distributed ledger. Private blockchains allow an
    organization to limit access to the data stored on the ledger.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Efficiency****:** Private blockchains tend to be smaller than public ones.
    As a result, they have less redundancy and inefficiency.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Regulatory Compliance****:** Data protection regulations commonly require
    organizations to control access to sensitive data and protect it in certain ways.
    This is easier to accomplish with a private blockchain where the organization
    has complete control over the network.  ### Open vs. Permissioned'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In addition to the distinction between public and private blockchains, blockchains
    can be differentiated based on the permission granted to various users. For example,
    open blockchains put user accounts on an equal footing, where any account can
    do anything, while permissioned blockchains grant special privileges to certain
    accounts.
  prefs: []
  type: TYPE_NORMAL
- en: '#### *Benefits of Open vs. Permissioned Blockchains*'
  prefs: []
  type: TYPE_NORMAL
- en: 'Open and permissioned blockchains have both their pros and their cons. Here
    are some of the benefits of an open blockchain:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Decentralization****:** Open blockchains allow any node to participate in
    all aspects of the blockchain''s operations. This provides greater decentralization
    than private blockchains, where only a subset of nodes can perform certain functions.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Simplicity****:** Implementing multiple privilege levels requires additional
    complexity to prevent access controls from being bypassed. Open blockchains are
    usually less complex than permissioned ones, which decreases the probability of
    design or implementation errors.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**User Privacy****:** Permissioned blockchains may require knowledge of users''
    real-world identities to assign the appropriate permissions. Open blockchains
    allow anonymous accounts, which protects user privacy.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Building permissions and privileges into a blockchain has the following advantages:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Access Management****:** Permissioned blockchains allow an organization to
    build access controls into the blockchain. This provides greater control over
    user access and privileges.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Data Control****:** Open blockchains allow all users full access to all aspects
    of the blockchain. Permissioned blockchains make it possible to restrict access
    based on privilege levels.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Regulatory Compliance****:** Data protection regulations often require an
    organization to control access to protected data. Permissioned blockchains make
    this easier to implement on the blockchain.  ### Choosing a Blockchain Architecture'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Blockchains can be any combination of public versus private and open versus
    permissioned. For example, the Enterprise Ethereum Alliance (EEA) supports the
    deployment of private instances of the Ethereum blockchain. Other, public blockchains
    include master nodes or other privileged accounts in a publicly accessible blockchain.
  prefs: []
  type: TYPE_NORMAL
- en: 'The selection of the right type of blockchain for a given application depends
    on the use case and the various security trade-offs. In some cases, the increased
    decentralization and resiliency of an open and public blockchain might be worth
    the greater exposure of potentially sensitive information on the ledger. In others,
    regulatory requirements might mandate strict control over sensitive data, in which
    a private and permissioned blockchain is the only viable option.  ## Privacy and
    Security Enhancements'
  prefs: []
  type: TYPE_NORMAL
- en: One of the biggest critiques of blockchain technology is lack of privacy. The
    design of the blockchain means that the source, destination, and value of every
    transaction is publicly visible.
  prefs: []
  type: TYPE_NORMAL
- en: However, using additional cryptographic algorithms, it is possible to conceal
    all of this information and improve users' privacy without breaking blockchain
    decentralization and nodes' ability to validate transactions before accepting
    them. Privacy coins like Monero use zero-knowledge proofs, stealth addresses,
    and ring signatures to conceal the value, destination, and source of blockchain
    transactions.
  prefs: []
  type: TYPE_NORMAL
- en: '### Zero-Knowledge Proofs'
  prefs: []
  type: TYPE_NORMAL
- en: Zero-knowledge proofs (ZKPs) are constructs that allow someone to prove knowledge
    of a secret without revealing the secret itself. For example, imagine that you
    want to prove to a friend who has colorblindness that two otherwise identical
    balls are the same color without revealing which ball is which color.
  prefs: []
  type: TYPE_NORMAL
- en: To do so, you could give both balls to the friend and have them hide them from
    you. They would then show you one ball, conceal it, and then again show you one
    ball. After doing so, they would ask if they were the same ball.
  prefs: []
  type: TYPE_NORMAL
- en: If the balls are in fact different colors, you could differentiate between them
    with perfect accuracy. If not, there is a 50 percent chance of guessing correctly.
    By repeating this process many times, it would be possible to decrease the probability
    of repeated lucky guesses to statistical improbability, proving that the balls
    are different colors. However, even after an infinite number of trials, the friend
    still does not know which ball is which color.
  prefs: []
  type: TYPE_NORMAL
- en: 'ZKPs can be used for various purposes, such as proving knowledge of a password.
    On the blockchain, a ZKP can demonstrate that a particular account has the balance
    required to perform a transaction without revealing the transaction or account
    balance. This makes it possible to implement decentralized transaction validation
    by blockchain nodes while improving data privacy on the blockchain.  ### Stealth
    Addresses'
  prefs: []
  type: TYPE_NORMAL
- en: On the blockchain, the source and destination address of every transaction is
    publicly visible. This enables decentralized validation of transactions because
    value received in one transaction will be used to fund a later one. Verifying
    that an account contains the necessary balance to perform a transaction requires
    the ability to look back to these past transactions.
  prefs: []
  type: TYPE_NORMAL
- en: Stealth addresses are single-use addresses for receiving transactions on the
    blockchain. These single-use addresses are derived from the user's address, and
    the owner of the address can derive the private key for these addresses from their
    private key. This allows them to digitally sign transactions from this address.
  prefs: []
  type: TYPE_NORMAL
- en: 'Stealth addressing improves privacy because it makes it infeasible for an attacker
    to determine that a stealth address is associated with a user''s account. Also,
    it is infeasible to determine if two transactions to different stealth addresses
    are sent to the same user. However, blockchain nodes can validate transactions
    because transactions from these single-use addresses will be digitally signed
    with the appropriate private key.  ### Ring Signatures'
  prefs: []
  type: TYPE_NORMAL
- en: Stealth addresses protect the identity of the recipient of a transaction. Ring
    signatures provide a level of anonymity to the sender of a transaction.
  prefs: []
  type: TYPE_NORMAL
- en: Blockchains use digital signatures to verify the authenticity of a transaction.
    However, validation of a digital signature requires the public key that matches
    the private key associated with that account. This reveals the identity of the
    transaction signer.
  prefs: []
  type: TYPE_NORMAL
- en: Ring signatures make it possible to digitally sign data as a group. Ring signatures
    enable a user to generate a digital signature that verifies that the signer was
    the owner of one of a set of public keys, without revealing which one.
  prefs: []
  type: TYPE_NORMAL
- en: 'Ring signatures work because they require knowledge of a set of public keys
    and the private key associated with one of those public keys. Since public keys
    are public and revealed alongside digital signatures, it is easy for a user to
    collect a set of decoy public keys to use within a ring signature. However, since
    a private key is required as well, a ring signature validates that the signer
    is a member of the group.  ## Legal and Regulatory Compliance'
  prefs: []
  type: TYPE_NORMAL
- en: Blockchain technology has received significant attention from businesses ranging
    from small startups to major enterprises. Blockchain's design and the unique benefits
    that it provides offer promising alternatives to traditional ways of doing business.
  prefs: []
  type: TYPE_NORMAL
- en: However, a major challenge for companies wishing to adopt blockchain technology
    is aligning it with their legal and regulatory responsibilities. The regulatory
    landscape has evolved rapidly in recent years as the passage and enactment of
    the European Union's General Data Protection Regulation (GDPR) has inspired the
    creation of similar laws in other jurisdictions.
  prefs: []
  type: TYPE_NORMAL
- en: 'Blockchain technology offers many benefits and can even be an asset in some
    aspects of regulatory compliance due to its immutable digital ledger. However,
    blockchain can also be a source of compliance headaches for various reasons:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Data Control****:** Data privacy laws commonly mandate that an organization
    demonstrates control over data protected under the law. For public blockchains,
    an organization surrenders all control once a transaction is broadcast to the
    blockchain network.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Data Privacy****:** Blockchain''s digital ledgers are designed to be transparent
    to enable decentralized transaction validation. This conflicts with organizations''
    responsibilities to keep certain data private.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Encryption Requirements****:** Regulations mandate that data be protected
    with strong encryption. The immutability of the blockchain ledger and potential
    life spans of blockchain platforms may mean that sensitive data would be exposed
    if encryption algorithms are broken.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Immutable Ledger****:** The blockchain''s digital ledger is designed to be
    immutable. This conflicts with the requirements of the GDPR and similar regulations
    that mandate the deletion of certain data once it is no longer needed for its
    original purpose.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Jurisdictional Boundaries****:** Some regulations, such as the GDPR, restrict
    transfers of their constituents'' data across certain jurisdictional boundaries.
    Many blockchains have global footprints, meaning that sensitive data in blockchain
    transactions could cross these boundaries.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Regulatory Changes****:** Regulatory requirements are changing rapidly, so
    compliant implementations may be noncompliant in the near future. Blockchain decentralization,
    ledger immutability, and other factors can make it difficult to adapt to changing
    requirements.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Blockchain technology has the potential to drastically improve corporate processes
    across various metrics. However, blockchain-based systems are not always the right
    tool for the job, and security, regulatory, and legal implications are all important
    factors when considering a blockchain-based solution.  ## Designing Secure Blockchains
    for the Future'
  prefs: []
  type: TYPE_NORMAL
- en: Blockchain technology is rapidly evolving and is still in its early stages.
    Today, it is impossible to tell which smart contract platforms will gain mainstream
    adoption and if blockchain will turn out to be a passing fad or the basis for
    the future of technology.
  prefs: []
  type: TYPE_NORMAL
- en: Blockchain security evolves along with the blockchain. Some attacks and vulnerabilities
    may become obsolete as technology changes and new attacks emerge. For example,
    [Chapter 1](c01.xhtml) of this book predates many of the attacks referenced in
    the case studies of later chapters.
  prefs: []
  type: TYPE_NORMAL
- en: No book can provide a comprehensive description of all possible blockchain vulnerabilities
    and attack vectors, but hopefully this one provided foundation and background
    needed to get started. To keep up with the latest vulnerabilities and hacks, check
    out blockchain platforms' vulnerability pages, the news, and social media.
  prefs: []
  type: TYPE_NORMAL
