- en: CHAPTER 4
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第4章
- en: Infrastructure
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 基础设施
- en: '[Chapter 3](c03.xhtml) explored blockchains at the theoretical, protocol level.
    Like HTTP, these protocols define how different systems should interact to achieve
    a particular goal.'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '[第3章](c03.xhtml)探讨了理论层面和协议级别的区块链。就像HTTP一样，这些协议定义了不同系统如何交互以实现特定目标。'
- en: While the blockchain theory described in a blockchain's white paper fully defines
    how the system should work, blockchains need to be implemented to be usable. This
    creates a reliance on underlying infrastructure.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然区块链白皮书描述的理论完全定义了系统应该如何工作，但区块链需要被实现才能被使用。这创建了对底层基础设施的依赖。
- en: Blockchain protocols can be implemented in various different ways. For example,
    Bitcoin could be run using pen, paper, and carrier pigeon; however, this approach
    would create a very slow and unusable system.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链协议可以以各种不同的方式实现。例如，比特币可以用笔、纸和信鸽运行；然而，这种方法会创建一个非常慢且无法使用的系统。
- en: 'Blockchain technology relies on modern IT equipment. This includes implementing
    blockchain as software running on blockchain nodes and communicating over computer
    networks.  ## Nodes'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '区块链技术依赖于现代IT设备。这包括将区块链作为在区块链节点上运行的软件，并通过计算机网络进行通信。  ## 节点'
- en: Blockchain systems are implemented as software. This software runs on computers
    called *nodes*.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链系统作为软件实现。这种软件运行在被称为*节点*的计算机上。
- en: While a blockchain may have very strong security at the theoretical level, implementing
    the protocols as code introduces additional risks. Blockchain software could contain
    business logic or implementation errors or be vulnerable to attacks by other software
    operating within the same environment.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然区块链在理论层面可能具有非常强大的安全性，但是将协议以代码形式实现会引入额外的风险。区块链软件可能包含业务逻辑或实现错误，或者可能受到在同一环境中运行的其他软件的攻击。
- en: '### Inside a Blockchain Node'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '### 区块链节点内部'
- en: 'A blockchain node is just software running on a computer. However, a blockchain
    node may have many different responsibilities. The following roles are among those
    that a blockchain node may fulfill:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链节点就是运行在计算机上的软件。然而，区块链节点可能承担许多不同的职责。以下是一些区块链节点可能承担的角色：
- en: '**Ledger Storage:** Every node in the blockchain network can maintain a copy
    of the blockchain''s digital ledger. This requires the ability to store the contents
    of the ledger and access the contents of transactions or blocks as needed.'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**账本存储：** 区块链网络中的每一个节点都可以维护区块链数字账本的一个副本。这需要能够存储账本的内容，并根据需要访问交易或区块的内容。'
- en: '**Block Production:** The blockchain''s digital ledger is updated by blocks
    containing collections of transactions. A blockchain node may participate in the
    consensus process and the creation and distribution of block candidates.'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**区块生产：** 区块链的数字账本通过包含交易集合的区块进行更新。区块链节点可能参与共识过程和区块候选的创作与分发。'
- en: '**Block Validation:** Blockchains are designed to perform decentralized validation
    of the transactions stored on the blockchain''s digital ledger. A blockchain node
    is expected to validate each block it receives before adding the block to its
    copy of the digital ledger.'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**区块验证：** 区块链被设计用来对存储在区块链数字账本上的交易进行去中心化验证。区块链节点在将区块添加到其数字账本的副本之前，预期要验证其接收到的每个区块。'
- en: '**Smart Contract Execution:** Smart contract platforms allow programs to run
    on top of the digital ledger. Nodes in a smart contract platform host a virtual
    machine and execute code within it as part of the process of validating blocks
    and updating the digital ledger.'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**智能合约执行：** 智能合约平台允许程序在数字账本之上运行。智能合约平台上的节点托管虚拟机，并在验证区块和更新数字账本的过程中在其中执行代码。'
- en: Not every node in the blockchain network fulfills all of these roles. For example,
    a node may elect not to participate in consensus and block production.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链网络中的每一个节点并不一定都承担这些角色。例如，一个节点可能选择不参与共识和区块生产。
- en: 'However, meeting the needs of the blockchain network requires significant resources
    on behalf of the blockchain node. Attacks against these nodes that disrupt access
    to these resources can have significant impacts on the performance and security
    of the blockchain network.  ### Attacking Blockchain Nodes'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '然而，满足区块链网络的需求需要区块链节点投入大量的资源。针对这些节点的攻击，如果扰乱了访问这些资源的通道，将对区块链网络的性能和安全性产生重大影响。  ###
    攻击区块链节点'
- en: 'Blockchain nodes can be attacked in various different ways. In the following
    sections, I''ll cover some of the primary threats to the security of blockchain
    nodes and their users:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链节点可能以各种不同的方式受到攻击。在以下部分，我将介绍一些针对区块链节点及其用户的主要安全威胁：
- en: Blockchain-specific malware
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 区块链特定恶意软件
- en: Denial-of-service attacks
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 拒绝服务攻击
- en: Failure to update
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 未能更新
- en: Malicious inputs
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 恶意输入
- en: Software misconfigurations
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 软件配置错误
- en: '#### *Blockchain-Specific Malware*'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '#### 区块链特定恶意软件'
- en: Blockchain software running on a node is also running alongside other software,
    including both legitimate programs and potential malware.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 运行在节点上的区块链软件还与其他软件一起运行，包括合法程序和潜在的恶意软件。
- en: 'Some malware variants are specifically designed to target blockchain systems.
    Some of the potential effects of these malware variants are as follows:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 一些恶意软件变种被专门设计用来针对区块链系统。这些恶意软件变种的潜在影响如下：
- en: '**Theft of Private Keys:** Malware installed on a node or blockchain user''s
    computer may monitor the clipboard and scan the computer''s memory for data that
    resembles blockchain private keys. The keys can then be exfiltrated to the attacker,
    providing full control over the user''s account.'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**私钥盗窃：**安装在节点或区块链用户计算机上的恶意软件可能监控剪贴板并扫描计算机内存以寻找类似于区块链私钥的数据。然后将这些密钥导出给攻击者，为攻击者提供用户账户的完全控制权。'
- en: '**Transaction Modification:** Blockchain malware may be designed to make changes
    to transaction data before it is digitally signed by a user. For example, malware
    may replace the destination address of a transaction with that of the attacker
    or modify transactions to create malicious approvals for attackers to extract
    a user''s tokens from decentralized finance (DeFi) projects.'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**交易修改：**区块链恶意软件可能被设计在用户数字签名之前修改交易数据。例如，恶意软件可能会将交易的目的是攻击者的地址替换，或修改交易以创建对攻击者的恶意批准，从而使攻击者能够从去中心化金融（DeFi）项目中提取用户的代币。'
- en: '**Traffic Filtering:** A blockchain node''s view of the state of the blockchain
    and ability to participate in its operations depend on its ability to receive
    and send transactions and blocks. Malware that intercepts and filters a node''s
    blockchain traffic could feed it a false version of the state of the blockchain.
    This could trick the user into supporting a divergent blockchain that supports
    an attacker''s 51% attack.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**流量过滤：**区块链节点的区块链状态视图及其参与其操作的能力取决于其接收和发送交易和块的能力。拦截和过滤节点区块链流量的恶意软件可能会向其提供区块链状态的虚假版本。这可能会诱使用户支持支持攻击者的51%攻击的分叉区块链。'
- en: '**Denial-of-Service Attacks:** Malware running on a node could perform a denial-of-service
    attack on that node. This could be accomplished by consuming resources, attacking
    the blockchain software process, or other means.'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**拒绝服务攻击：**节点上运行的恶意软件可能会对该节点执行拒绝服务攻击。这可以通过消耗资源、攻击区块链软件进程或其他手段来实现。'
- en: The security of a blockchain account and the blockchain network as a whole depends
    on the security of the blockchain software running on nodes. Malware installed
    on these nodes could disrupt their operation in various ways.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链账户的安全以及整个区块链网络的安全取决于运行在节点上的区块链软件的安全。安装在这些节点上的恶意软件可能会以各种方式干扰它们的操作。
- en: '##### Countermeasures'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '##### 应对措施'
- en: 'Malware infections are a traditional IT security threat, and blockchain-specific
    malware is not very different from other variants. Traditional anti-malware solutions
    can help to protect against this threat.  ##### Case Studies'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 恶意软件感染是传统的IT安全威胁，区块链特定恶意软件与其它变种并没有太大不同。传统的防恶意软件解决方案可以帮助防御这种威胁。##### 案例研究
- en: 'The Tron blockchain was vulnerable to DoS attacks due to the use of big decimals
    in the code.[¹](#c04-note-0001) Each load of a big decimal takes 2 to 3 minutes
    on a modern laptop and the code used 6 big decimals per request. An attacker exploiting
    this vulnerability could tie up a Tron node''s CPU and also fill up its memory,
    making the blockchain software unusable.  #### *Denial-of-Service Attacks*'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 由于代码中使用了大数字，TRON区块链容易受到拒绝服务（DoS）攻击。[¹](#c04-note-0001) 在现代笔记本电脑上，每次加载一个大数字需要2到3分钟，而代码每个请求使用了6个大数字。利用这一漏洞的攻击者可以将TRON节点的CPU占用尽，并填满其内存，使区块链软件无法使用。####
    拒绝服务攻击
- en: Denial-of-service (DoS) attacks can occur at most levels of the blockchain ecosystem.
    At the node level, a denial-of-service attack involves crashing the blockchain
    software running on an individual node.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 拒绝服务（DoS）攻击可以在区块链生态系统的任何层面发生。在节点层面，拒绝服务攻击涉及崩溃运行在单个节点上的区块链软件。
- en: DoS attacks can be performed against a node in various different ways. A node
    may be the victim of a distributed denial-of-service (DDoS) attack that overwhelms
    it with spam traffic and renders it unable to respond to legitimate requests.
    Malware installed on a node could consume memory or computational resources to
    hinder blockchain-related processes. Blockchain transactions may be specially
    crafted to consume resources and crash blockchain nodes.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 针对一个节点可以以多种不同的方式实施拒绝服务攻击。一个节点可能成为分布式拒绝服务（DDoS）攻击的受害者，该攻击通过垃圾流量淹没它，使其无法对合法请求做出响应。安装在节点上的恶意软件可能消耗内存或计算资源来阻碍与区块链相关的进程。区块链交易可能是特别设计的，消耗资源并使区块链节点崩溃。
- en: A DoS attack can hurt both the blockchain node and the network as a whole. A
    blockchain node targeted by a DoS attack may no longer be able to participate
    in the blockchain network. The loss of this node could also impact the security
    and performance of the blockchain network by rendering it unable to participate
    in consensus and block production.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 拒绝服务攻击可能伤害到区块链节点以及整个网络。受到DDoS攻击的区块链节点可能再也无法参与区块链网络。这个节点的损失也可能通过使它无法参与共识和区块生产，从而影响到区块链网络的安全和性能。
- en: '##### Countermeasures'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '##### 应对措施'
- en: 'Denial-of-service attacks can come from both inside and outside the blockchain
    ecosystem. Nodes can deploy traditional anti-DDoS and anti-malware solutions to
    protect against external threats. Inside the blockchain ecosystem, systems must
    be designed to protect against malicious transactions designed to consume resources
    and overwhelm blockchain nodes.  ##### Case Studies'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '拒绝服务攻击可以来自区块链生态系统的内部和外部。节点可以部署传统的抗DDoS和抗恶意软件解决方案来保护外部威胁。在区块链生态系统内部，必须设计系统来保护节点，防止恶意交易消耗资源并压垮区块链节点。  #####
    案例研究'
- en: 'Denial-of-service attacks have been performed multiple different times against
    blockchain networks by exploiting software flaws. A flaw in the Bitcoin Core codebase
    enabled an attacker to either perform a denial-of-service attack against nodes
    or inflate the cryptocurrency by using the same Bitcoin in multiple transactions.[²](#c04-note-0002)
    This vulnerability was enabled by poor code review of the Bitcoin Core software
    and was patched before it was exploited on the Bitcoin blockchain. However, other
    blockchains forked the Bitcoin Core software and were vulnerable to the same attacks
    as a result. The Pigeoncoin cryptocurrency became famous as a blockchain attacked
    using this vulnerability, enabling the attacker to print 235 million Pigeoncoins
    (nearly a quarter of the intended maximum supply).  #### *Failure to Update*'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '拒绝服务攻击多次通过利用软件漏洞针对区块链网络实施。比特币核心代码库中的一个缺陷让攻击者能够对节点执行拒绝服务攻击，或者通过在多笔交易中使用同一笔比特币来膨胀加密货币。[²](#c04-note-0002)
    这个漏洞是由于对比特币核心软件的代码审查不力造成的，在比特币区块链上被利用之前就已经修补了。然而，其他区块链分叉了比特币核心软件，因此也容易受到同样的攻击。鸽子币（Pigeoncoin）这种加密货币因为利用了这个漏洞而被攻击，攻击者能够打印出2.35亿鸽子币（接近计划最大供应量四分之一）。  ####
    *未能更新*'
- en: Blockchain software is software, and all software occasionally needs updates.
    The updates may be designed to add functionality or correct issues identified
    with earlier releases.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链软件是软件，所有软件偶尔都需要更新。更新可能是为了增加功能或修复早期版本中识别出的问题。
- en: Update and patch management is a significant challenge in the traditional IT
    space. This leads to attackers scanning for and exploiting publicly known vulnerabilities
    for which patches are available.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 在传统的IT领域，更新和补丁管理是一个重大挑战。这导致攻击者扫描并利用公开已知的漏洞，而这些漏洞已有可用的补丁。
- en: However, blockchain decentralization exacerbates the update and patch management
    process. The security of the blockchain network depends on the security of the
    nodes in the network, but no centralized authority exists with the power to compel
    nodes to make updates.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，区块链的去中心化加剧了更新和补丁管理过程。区块链网络的安全取决于网络中节点的 security，但不存在有力量强制节点进行更新的集中权威。
- en: This problem is exacerbated by the fact that some updates to blockchain protocols
    may be controversial. For example, Bitcoin Cash forked from Bitcoin over the SegWit
    upgrade, and Ethereum Classic diverged due to Ethereum's response to the DAO hack.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 这个问题加剧的原因之一是一些对区块链协议的更新可能存在争议。例如，比特币现金就是由于对SegWit升级的分叉而从比特币中分离出来的，而以太坊经典则是因为以太坊对DAO攻击的回应而分叉。
- en: 'Blockchain nodes face several update-related security risks:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链节点面临一些与更新相关的安全风险：
- en: '**Node Exploitation:** Some blockchain software updates are designed to correct
    security vulnerabilities that place blockchain nodes at risk. If a node fails
    to install an update, it may be exploited by an attacker.'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**节点利用：** 一些区块链软件更新旨在修复使区块链节点面临风险的安全漏洞。如果一个节点未能安装更新，它可能会被攻击者利用。'
- en: '**Blockchain Forks:** Blockchain is governed by the longest chain rule, which
    states that the longest version of two conflicting versions of the blockchain
    should be accepted. If an update contains a hard fork, nodes that have and have
    not installed the update may follow different blockchain forks. This can cause
    disruption and increases a blockchain network''s exposure to consensus attacks.'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**区块链分叉：** 区块链遵循最长链规则，该规则认为应接受两个相互冲突的区块链版本中最长的那个。如果一个更新包含硬分叉，那么安装了更新和未安装更新的节点可能会遵循不同的区块链分叉。这可能会造成干扰，并增加区块链网络受到共识攻击的风险。'
- en: '**Malicious Updates:** Blockchain software is commonly developed under an open-source
    model with contributions accepted from third parties. Attackers may insert malicious
    functionality into blockchain code that is distributed as part of a software update.'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**恶意更新：** 区块链软件通常是在开源模式下开发的，接受来自第三方的贡献。攻击者可能会在分发作为软件更新的区块链代码中插入恶意功能。'
- en: Software updates are essential to maintaining the security of the blockchain
    and expanding its functionality. However, often blockchain developers need to
    walk a fine line between encouraging nodes to install updates and publicizing
    vulnerabilities when enough blockchain nodes are vulnerable that attacks could
    disrupt the functioning of the blockchain network.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 软件更新对于维护区块链的安全性和扩展其功能至关重要。然而，通常区块链开发者需要在鼓励节点安装更新和公开漏洞之间谨慎行事，当足够多的区块链节点存在漏洞，攻击可能会
    disrupt 区块链网络的正常运行时。
- en: '##### Countermeasures'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: '##### 应对措施'
- en: 'Blockchain software often operates under Linus''s law, which states that “given
    enough eyeballs, all bugs are shallow.” However, this only applies if qualified
    developers actually audit the code. Blockchain software should follow secure development
    practices to ensure that updates are high quality, and nodes should install updates
    as soon as they are available.  ##### Case Studies'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链软件通常遵循林纳斯定律，该定律认为“只要有足够的眼睛，所有的bug都是浅显的。”然而，这仅当有资格的开发人员实际审计代码时才适用。区块链软件应遵循安全开发实践，以确保更新高质量，节点应该在更新一可用时就安装。#####
    案例研究
- en: 'The Ethereum Parity client had an integer overflow vulnerability up to version
    2.2.10 that would allow an attacker to remotely crash Parity nodes.[³](#c04-note-0003)
    A month after the vulnerability was announced, 40 percent of Parity nodes still
    had not applied the patch. These nodes represented 15 percent of all Ethereum
    nodes at the time, so exploitation of the vulnerability could have had a noticeable
    impact on the performance and security of the Ethereum network.  #### *Malicious
    Inputs*'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '以太坊派利客户端在2.2.10版本之前存在整数溢出漏洞，该漏洞将允许攻击者远程崩溃派利节点。[³](#c04-note-0003) 在漏洞公布一个月后，仍有40%的派利节点未应用补丁。这些节点当时占所有以太坊节点的15%，因此利用该漏洞可能会对以太坊网络的性能和安全性产生明显影响。  ####
    *恶意输入*'
- en: Blockchain software is designed to process untrusted input. Users have the ability
    to submit transactions to the blockchain that will be processed and possibly executed
    by the blockchain software.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链软件旨在处理不可信输入。用户有权提交交易到区块链，这些交易将由区块链软件处理，甚至可能被执行。
- en: Ideally, all of this processing is performed within the blockchain's isolated
    virtual machine. However, if the code that processes transactions, smart contract
    code, or blocks contains a vulnerability, an attacker may be able to exploit it
    to attack the blockchain network or break out of the sandboxed blockchain environment.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 理想情况下，所有这些处理都应该在区块链的隔离虚拟机内完成。然而，如果处理交易、智能合约代码或区块的代码中存在漏洞，攻击者可能利用这些漏洞攻击区块链网络，或者突破沙盒式区块链环境。
- en: These injection attacks can have significant impacts on a node or the rest of
    the network. A blockchain breakout could allow an attacker to access the underlying
    host, potentially causing it to crash or allowing the attacker to take it over.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 这些注入攻击可能对节点或网络的其他部分产生重大影响。区块链突破可能允许攻击者访问底层主机，可能导致它崩溃或允许攻击者接管它。
- en: Attacks on blockchain nodes could also affect the blockchain network as a whole.
    For example, exploitation of a DoS vulnerability that causes vulnerable nodes
    to crash could make it easier for an attacker to perform a 51% attack against
    the network due to the significant reduction in the network's hashpower.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 对区块链节点的攻击也可能影响整个区块链网络。例如，利用导致易受攻击节点崩溃的DoS漏洞可能会使攻击者更容易针对网络执行51%攻击，因为网络的哈希功率显著降低。
- en: '##### Countermeasures'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: '##### 应对措施'
- en: 'Malicious inputs and injection vulnerabilities are enabled by poor input validation.
    Any code that accepts and processes untrusted user input should verify that the
    input is valid before processing it.  ##### Case Studies'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '恶意输入和注入漏洞是由糟糕的输入验证引起的。任何接受并处理不可信用户输入的代码在处理输入之前应该验证输入是否有效。  ##### 案例研究'
- en: This sort of attack could have happened to users of the EOS distributed ledger
    software. Pre-launch, researchers from security firm Qihoo 360 examined the EOS
    source code and identified a failure to correctly check the bounds of an array
    before writing to it.[⁴](#c04-note-0004) This vulnerability was in the code that
    parsed EOS transactions, meaning that it would be exploitable by a malicious EOS
    user. The researchers ethically reported it to the EOS team, and it was corrected.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 这种攻击可能已经发生在使用EOS分布式账本软件的用户身上。在发布前，来自安全公司奇虎360的研究人员检查了EOS源代码，并发现了一个在向数组写入数据前没有正确检查其边界的错误。[⁴](#c04-note-0004)
    这个漏洞存在于解析EOS交易的代码中，这意味着它会被恶意EOS用户利用。研究人员道德上向EOS团队报告了这一问题，并得到了修复。
- en: 'The impact of this vulnerability would allow an attacker to write code anywhere
    within the running EOS code. The Qihoo researchers developed proof of concept
    attacks demonstrating that it was possible to use the vulnerability to generate
    a reverse shell. This would allow the attacker to gain control over the affected
    computer with the same permissions as the EOS process. Since every node in a blockchain
    network would process all transactions included in a block, getting a malicious
    transaction included in a block would allow an attacker to exploit all nodes in
    the EOS network.  #### *Software Misconfigurations*'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '这个漏洞的影响将允许攻击者在任何运行中的EOS代码中写入代码。奇虎360的研究人员开发了概念验证攻击，证明利用这个漏洞生成反向壳是可能的。这将允许攻击者以与EOS进程相同的权限控制受影响的计算机。由于区块链网络中的每个节点都会处理包含在区块中的所有交易，因此将恶意交易包含在区块中将允许攻击者利用EOS网络中的所有节点。  ####
    *软件配置错误*'
- en: Blockchain software can contain a great deal of optional functionality. For
    example, blockchain nodes may have the opportunity to connect with external applications
    for managing private keys, performing transactions, and so on.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链软件可能包含大量的可选功能。例如，区块链节点可能有机会与外部应用程序连接，用于管理私钥、执行交易等。
- en: With these optional features comes the risk that users may enable them without
    knowing or considering the security implications. For example, the ability to
    connect to external systems that can make transactions using a blockchain account
    is great for an order processing or logistics management system but a major problem
    if accessed by an attacker.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 随着这些可选功能的出现，用户可能在不知道或考虑安全影响的情况下启用它们的风险。例如，能够连接到可以使用区块链账户进行交易的外部系统对于订单处理或物流管理系统来说很好，但如果被攻击者访问就是一个大问题。
- en: '##### Countermeasures'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '##### 应对措施'
- en: 'Optional features in blockchain software should be disabled by default. Before
    enabling any features, users should research their purpose, how they work, and
    best practices for using and securing them.  ##### Case Studies'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '区块链软件中的可选功能应该默认禁用。在启用任何功能之前，用户应该研究它们的目的、如何工作以及使用和保护它们的最佳实践。  ##### 案例研究'
- en: An example of attackers taking advantage of this sort of tinkering is a series
    of thefts from Ethereum wallets.[⁵](#c04-note-0005) This wallet software had the
    ability to open up port 8545 to allow external software to interact with the wallet
    via remote procedure calls (RPCs). This feature is designed to allow the wallet
    to be integrated with an organization's software that would be empowered to perform
    transactions on the Ethereum blockchain.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 攻击者利用这种篡改的一个例子是一系列来自以太坊钱包的盗窃。[⁵](#c04-note-0005) 这款钱包软件具有打开端口8545的能力，以允许外部软件通过远程过程调用（RPCs）与钱包交互。这个功能是为了使钱包能够与组织软件集成，该组织软件有权在以太坊区块链上执行交易。
- en: 'The feature is designed to be used internally, so users should block port 8545
    at the network firewall to prevent exploitation. The feature is disabled by default,
    but some hobbyists enabled it without knowing the appropriate security precautions
    to take. As a result, over $20 million in Ether was stolen from Ethereum users
    by attackers that scanned for port 8545 being open on vulnerable devices.  ###
    Threat Modeling for Blockchain Nodes'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 这个功能是为了内部使用设计的，因此用户应该在网络防火墙处封锁端口8545，以防止利用。该功能默认禁用，但一些爱好者在不知晓采取适当安全预防措施的情况下启用了它。结果，攻击者扫描并利用端口8545开放的脆弱设备，从以太坊用户那里窃取了超过2000万美元的以太币。###
    区块链节点的威胁建模
- en: 'Blockchain nodes have security threats that cover all of the STRIDE categories
    except repudiation:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链节点存在覆盖了所有STRIDE类别（除了抵赖）的安全威胁：
- en: '**Spoofing:** Blockchain malware can steal private keys or modify transactions
    to perform actions on behalf of a blockchain account.'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**伪装**：区块链恶意软件可以窃取私钥或修改交易，以代表区块链账户执行操作。'
- en: '**Tampering:** Malware can be used to perform eclipse/routing attacks, which
    can enable 51% attacks and rewriting of the history of the distributed ledger.'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**篡改**：恶意软件可以用来执行日食/路由攻击，这可能使攻击者能够实施51%攻击，重写分布式账本的历史。'
- en: '**Information Disclosure:** Theft of private keys by blockchain malware can
    allow the attacker to decrypt messages intended for the account owner.'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**信息泄露**：区块链恶意软件窃取私钥可能使攻击者能够解密账户所有者预期的消息。'
- en: '**Denial of Service:** Blockchain nodes can suffer DoS attacks in various ways,
    such as malware attacks or not being able to access the blockchain after a hard
    fork due to a failure to apply updates.'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**服务拒绝**：区块链节点可能以多种方式遭受DoS攻击，例如恶意软件攻击或由于未能应用更新而在硬分叉后无法访问区块链。'
- en: '**Elevation of Privileges:** Blockchain malware can steal private keys, providing
    unauthorized access to a user''s account. Exploitation of injection vulnerabilities
    with malicious inputs could provide an attacker with access to or control over
    the underlying node.  ## Networks'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**权限提升**：区块链恶意软件可以窃取私钥，为用户账户提供未经授权的访问。利用恶意输入的注入漏洞可能使攻击者获得对或控制底层节点的访问。  ## 网络'
- en: Blockchain nodes must be able to communicate with one another. Nodes need access
    to the latest transactions and blocks in order to perform updates to their copies
    of the blockchain's distributed ledger.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链节点必须能够彼此通信。节点需要访问最新的交易和区块，以便对其区块链分布式账本的副本进行更新。
- en: Decentralization is a core tenet of blockchain, so blockchain networks do not
    operate under a client-server model. Instead, blockchains use a peer-to-peer network
    where each node is directly connected to a few other nodes. Information percolates
    across the blockchain via multiple different hops. Any pair of nodes has multiple
    different paths linking them, making blockchain networks highly redundant and
    resilient.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 去中心化是区块链的核心原则之一，因此区块链网络不采用客户端-服务器模型。相反，区块链使用点对点网络，其中每个节点直接连接到几个其他节点。信息通过多个不同的跃点在区块链上传播。任意两个节点之间都有多个不同的路径连接，使得区块链网络具有高度的冗余性和弹性。
- en: Reliable, high-performance communications are essential to blockchain consensus
    and the synchronization of the blockchain network. For this reason, the security
    of the underlying network infrastructure that blockchain relies upon can have
    a significant impact on the security of the blockchain protocol itself.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 可靠、高性能的通信对于区块链共识和区块链网络的同步至关重要。因此，区块链依赖的基础网络基础设施的安全性对区块链协议本身的安全性有重大影响。
- en: '### Attacking the Blockchain Network'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '### 攻击区块链网络'
- en: 'Blockchain networks can be attacked in a few different ways. The impacts of
    these attacks range from disruptions and degraded performance to the potential
    for double-spends and attacks on blockchain consensus. Three types of network-level
    attacks against the blockchain are as follows:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链网络可以以几种不同的方式受到攻击。这些攻击的影响范围从干扰和性能下降到双重支出和针对区块链共识的攻击。针对区块链的网络级攻击有以下三种：
- en: Denial of service
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 服务拒绝
- en: Eclipse/routing
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eclipse/路由
- en: Sybil
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sybil
- en: '#### *Denial-of-service Attacks*'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '#### 拒绝服务攻击'
- en: As a distributed, decentralized system, blockchains are supposed to be immune
    to traditional denial-of-service (DoS) attacks. In a traditional DoS attack, the
    attacker attempts to overwhelm a single point of failure or bottleneck in the
    system, resulting in degraded functionality. For example, many real-world DoS
    attacks attempt to flood a webserver with connection attempts. Once the webserver's
    connection capacity is exceeded, it can no longer accept legitimate connections.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一种分布式、去中心化的系统，区块链本应对抗传统的拒绝服务（DoS）攻击免疫。在传统的DoS攻击中，攻击者试图压倒系统中的单一故障点或瓶颈，从而导致功能下降。例如，许多现实世界的DoS攻击试图用连接尝试淹没一个Web服务器。一旦Web服务器的连接容量被超出，它就无法再接受合法的连接。
- en: In a fully decentralized blockchain, there is no central authority operating
    the network, so no permanent single point of failure exists. However, temporary
    single points of failure exist in many blockchain implementations, and some implementations
    are not fully decentralized. Either of these enable DoS attacks to be performed
    against the system.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 在一个完全去中心化的区块链中，没有运行网络的中心权威，因此不存在永久的单一故障点。然而，许多区块链实现中存在临时的单一故障点，一些实现并不完全去中心化。这两个都可能使系统遭受DoS攻击。
- en: An example of a temporary single point of failure is the block creator selected
    by the blockchain consensus algorithm. These algorithms are designed to ensure
    that only a single person can be selected to create a block within a given interval.
    If an attacker can predict the next block creator before they have the opportunity
    to generate and distribute a block (which is definitely possible in Proof of Stake),
    they can DoS that user. At a minimum, distribution of the block may be delayed,
    and the block may even be ignored if it is not published within the appropriate
    interval.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 一个临时单一故障点的例子是由区块链共识算法选择的区块创建者。这些算法旨在确保在给定时间间隔内只有一个人能被选中创建一个区块。如果攻击者能够在他们有机会生成和分发区块之前预测下一个区块创建者（在权益证明中绝对可能），他们可以对那个用户进行DoS攻击。至少，区块的分发可能会被延迟，如果它没有在适当的时间间隔内发布，该区块甚至可能会被忽略。
- en: While the original blockchain had no permanent single points of failure, modifications
    have been made to the protocol to create them in some instances. All private and
    permissioned blockchain implementations have some level of centralization since
    someone has the ability to allow/deny access to the blockchain network or elevated
    privileges on the network. Examples of these single points of failure (which can
    be DoSed) include membership service providers (MSPs) on the Hyperledger private
    blockchain and the use of masternodes on a variety of permissioned blockchains.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管原始的区块链没有永久的单一故障点，但为了在某些实例中创建它们，对协议进行了修改。所有私有和受许可的区块链实现都存在一定程度的集中化，因为有人能够允许或拒绝区块链网络的访问或网络上的高级权限。这些单一故障点的例子（可以被DoS攻击）包括在Hyperledger私有区块链上的会员服务提供商（MSPs）和在一系列受许可的区块链上使用的masternodes。
- en: '##### Countermeasures'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: '##### 对抗措施'
- en: 'DoS attacks against block producers and other single points of failure in blockchain
    networks use traditional methods to degrade or destroy the availability of these
    systems. Anti-DDoS, anti-malware, and similar solutions can help to protect a
    node against these attacks.  ##### Case Studies'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 针对区块链网络中的区块生产者和其他单一故障点的DoS攻击使用传统方法来降低或破坏这些系统的可用性。防DDoS、防恶意软件和其他类似解决方案可以帮助保护节点免受这些攻击。#####
    案例研究
- en: 'To perform a DoS attack against a block producer or other node critical to
    the blockchain''s operation, it is necessary to unmask the identity of that node.
    However, this is easier than it should be. In a 2018 talk at Devcon 4, Péter Szilágyi
    outlined a few ways in which the identity of Ethereum users can be revealed, including
    trackers and the discovery protocol used to connect light nodes to the network.[⁶](#c04-note-0006)
    With information on nodes'' IP addresses and locations, it is possible to target
    them for DDoS and other attacks.  #### *Eclipse/Routing Attacks*'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 要针对区块链操作中的区块生产者或其他关键节点执行 DoS 攻击，有必要揭露该节点的身份。然而，这比应有的要容易。在 2018 年 Devcon 4 的一个演讲中，Péter
    Szilágyi 概述了几种可以揭露以太坊用户身份的方法，包括跟踪器以及用于将轻节点连接到网络的发现协议。[⁶](#c04-note-0006) 有了关于节点
    IP 地址和位置的信息，就可以针对它们进行 DDoS 和其他攻击。#### *日食/路由攻击*
- en: An important assumption for blockchain security is that all nodes in the network
    have a connection to one another, either directly or through a series of peer
    connections. In an eclipse or routing attack, an attacker deliberately isolates
    one or more nodes from the rest of the blockchain network. This isolation allows
    the attacker to affect the targeted nodes' view of the state of the blockchain
    ecosystem and can be used as part of several different attacks.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链安全的一个重要假设是网络中的所有节点彼此都有连接，直接或通过一系列的对等连接。在日食或路由攻击中，攻击者故意将一个或多个节点与区块链网络的其余部分隔离。这种隔离允许攻击者影响目标节点对区块链生态系统的状态的看法，并可以作为多种不同攻击的一部分。
- en: '[Figure 4.1](#c04-fig-0001) illustrates an eclipse/routing attack on the blockchain.
    The malicious node in the center of the image controls all routes of communication
    between two segments of the blockchain network. This allows the node to control
    data flowing between these two segments.'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.1 说明了针对区块链的日食/路由攻击。图中的恶意节点控制着区块链网络两个段之间的所有通信路由。这允许节点控制这两个段之间的数据流动。
- en: '![Schematic illustration of routing attack.](images/c04f001.png)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![路由攻击的示意图](images/c04f001.png)'
- en: '[**Figure 4.1**](#R_c04-fig-0001): Routing attack'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 4.1](#R_c04-fig-0001)：路由攻击'
- en: One simple use of an eclipse/routing attack is performing a double-spend attack.
    By sending different versions of the same transaction to each isolated segment
    of the network, the attacker can get users in those segments to accept and act
    upon the version they see. When the attack is completed, the isolated segments
    will reconnect and find that they have conflicting versions of history. Under
    the longest chain rule, the shorter version will be discarded, leaving only one
    version of the conflicting transactions in the official history of the network.
    Since the attacker controls how and for how long the network is split, they can
    ensure that the longer chain contains the version of history they prefer.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 日食/路由攻击的一个简单用途是执行双重支付攻击。通过向网络的每个孤立段发送同一交易的不同版本，攻击者可以让这些段的用户接受并根据他们看到的版本采取行动。当攻击完成时，孤立段将重新连接并发现它们有冲突的历史版本。根据最长链规则，较短版本将被丢弃，只留下网络正式历史中的一个冲突交易版本。由于攻击者控制了网络分割的方式和时间，他们可以确保较长链包含他们更喜欢的版本的历史。
- en: Eclipse/routing attacks can also be used to make a 51% attack easier to perform.
    If one isolated segment only has 60 percent of the network's hashpower, then the
    attacker only needs to control 30 percent of the hashpower to create the accepted
    version of the blockchain in that segment. Once the attacker's version is accepted
    and endorsed by that 60 percent and becomes the longest overall chain, the attacker
    can end the eclipse/routing attack. The attacker's version of the blockchain would
    then be accepted by the entire network.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 日食/路由攻击也可以用来使执行 51% 攻击变得更容易。如果一个孤立的段仅有网络 60% 的哈希力，那么攻击者只需要控制 30% 的哈希力就可以在该段创建被接受的区块链版本。一旦攻击者的版本被那
    60% 接受并得到支持，并成为最长的总链，攻击者就可以结束日食/路由攻击。之后，攻击者的区块链版本将被整个网络接受。
- en: Eclipse and routing attacks can be performed through a variety of different
    means. If the attack is targeting a single user (an eclipse attack), malware or
    a Sybil attack can be used to control the victim's connection to the rest of the
    blockchain network. If malware controls a node's network connection or the attacker
    controls enough Sybil accounts that all of a node's peers are malicious, then
    the attacker can filter the node's view of the blockchain network.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: eclipse和路由攻击可以通过多种不同的手段进行。如果攻击目标是单个用户（eclipse攻击），恶意软件或Sybil攻击可以用来控制受害者与区块链网络其他部分的连接。如果恶意软件控制了一个节点的网络连接，或者攻击者控制了足够的Sybil账户，使得一个节点的所有对等节点都是恶意的，那么攻击者就可以过滤节点对区块链网络的视图。
- en: A means of partitioning groups of nodes from one another (a routing attack)
    is through a Border Gateway Protocol (BGP) hijack. BGP is designed to define paths
    between autonomous systems (ASs)—such as an ISP's network—on the Internet, and
    an AS will implicitly trust the authenticity of provided routes to a set of IP
    addresses. If an attacker successfully spoofs a BGP route that is shorter than
    all legitimate ones, it will be the one selected. As a result, all traffic between
    two peers (or even two sets of IP prefixes) will pass through the attacker's control
    before reaching its destination. This allows an attacker to manipulate the topology
    of the blockchain network, severing links between segments to isolate them except
    through attacker-controlled nodes.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 将节点组彼此分隔的一种方法是通过边界网关协议（BGP）劫持。BGP旨在定义互联网上自治系统（AS）之间的路径——如ISP的网络——并且AS会隐式信任提供给一组IP地址的路径的真实性。如果攻击者成功地伪造了一个比所有合法路径更短的BGP路由，它将被选择。结果是，两个对等体（或甚至两组IP前缀）之间的所有流量在到达目的地之前都会通过攻击者的控制。这使得攻击者能够操纵区块链网络的拓扑结构，切断段之间的链接，使它们除了通过攻击者控制的节点外无法相互连接。
- en: '##### Countermeasures'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: '##### 对策'
- en: 'Eclipse and routing attacks depend on the attacker''s ability to break the
    blockchain network into multiple, isolated segments. Nodes can make this more
    difficult by deliberately selecting distributed peers, using multihomed nodes
    connected to different IP prefixes, and analyzing network statistics for slowdowns
    caused by a sudden loss of hashpower due to network partitioning.  ##### Case
    Studies'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: Eclipse和路由攻击依赖于攻击者将区块链网络分割成多个孤立的部分的能力。节点可以通过故意选择分布式对等体，使用连接不同IP前缀的多宿主节点，并分析由网络分区导致的哈希能力突然丧失引起的网络延迟，来使这种攻击更加困难。#####
    案例研究
- en: A 2017 study found that routing attacks would be relatively easy to perform
    due to the distribution of Bitcoin nodes over the Internet.[⁷](#c04-note-0007)
    At the time, 60 percent of Bitcoin network traffic passed through three ISPs.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 2017年的一项研究发现，由于比特币节点分布在互联网上，路由攻击将相对容易进行。[⁷](#c04-note-0007)当时，60%的比特币网络流量通过了三家ISP。
- en: 'The prevalence of BGP routing attacks meant that Bitcoin nodes were often impacted
    by these attacks. In fact, at least 100 nodes had traffic rerouted by BGP hijacking
    attacks in each month between October 2015 and March 2016, and approximately 8
    percent of Bitcoin nodes were impacted by an attack in November 2015.  #### *Sybil
    Attacks*'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币节点经常受到BGP路由攻击的影响。实际上，从2015年10月到2016年3月，每个月都有至少100个节点受到BGP劫持攻击的影响，2015年11月大约有8%的比特币节点受到了攻击的影响。####
    Sybil攻击
- en: Sybil attacks are simple network-level attacks designed to facilitate other
    types of attacks. In a Sybil attack, the attacker creates a large number of user
    accounts on the blockchain. [Figure 4.2](#c04-fig-0002) illustrates a Sybil attack.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: Sybil攻击是一种简单的网络层攻击，旨在促进其他类型的攻击。在Sybil攻击中，攻击者会在区块链上创建大量用户账户。图4.2说明了Sybil攻击。
- en: '![Schematic illustration of Sybil attack.](images/c04f002.png)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![Sybil攻击的示意图](images/c04f002.png)'
- en: '[**Figure 4.2**](#R_c04-fig-0002): Sybil attack'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: '[**图4.2**](#R_c04-fig-0002)：Sybil攻击'
- en: Sybil attacks differ from 51% attacks in that each Sybil account doesn't necessarily
    have to have a large number of computational resources at its disposal. In fact,
    Sybil nodes can be an important component of different attacks simply by acting
    as an active account that relays received blocks and transactions to its peers.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: Sybil攻击与51%攻击的区别在于，每个Sybil账户并不一定需要有大量的计算资源。实际上，Sybil节点可以通过作为活跃账户，将接收到的区块和交易传递给其对等节点，从而成为不同攻击的重要组成部分。
- en: A common example of a Sybil attack is a malicious blockchain user attempting
    to exploit a poorly designed on-chain governance system. If, in on-chain voting,
    every account on the blockchain network gets a vote, then an attacker can control
    the governance system by creating a large number of dummy accounts to participate
    in voting. For this reason, many blockchain systems using on-chain governance
    allocate voting power based upon the user's stake in the network, either directly
    or by defining certain users as masternodes based upon their ownership of a certain,
    minimum amount of the blockchain's cryptocurrency.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 一个Sybil攻击的常见例子是恶意区块链用户试图利用设计不当的链上治理系统。如果在链上投票中，区块链网络上的每个账户都有一票，那么攻击者可以通过创建大量伪账户来参与投票，从而控制治理系统。因此，许多采用链上治理的区块链系统根据用户在网络中的权益来分配投票权，要么直接要么通过定义某些用户为基于他们拥有的一定最小数量的区块链加密货币的masternode。
- en: Sybil attacks can also be used to facilitate eclipse/routing attacks as shown
    in [Figure 4.2](#c04-fig-0002). If an attacker controls a large percentage of
    a network's accounts and nodes, other nodes are more likely to select a malicious
    node as a peer. If all routes between two nodes pass through a malicious node,
    then an attacker has the ability to filter traffic flowing between these nodes.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: Sybil攻击也可以用来促进日食/路由攻击，如图4.2所示。[如果一个攻击者控制了网络账户和节点的大部分，其他节点更有可能选择一个恶意节点作为同伴。如果两个节点之间的所有路由都通过一个恶意节点，那么攻击者就有能力过滤这两个节点之间的流量。
- en: '##### Countermeasures'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '##### 应对措施'
- en: 'Most blockchain consensus and governance algorithms are designed to protect
    against Sybil attacks by using control of a scarce asset as a proxy for votes.
    The impacts of Sybil attacks at the network level can be mitigated by following
    best practices for detecting and mitigating eclipse/routing attacks.  ##### Case
    Studies'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '大多数区块链共识和治理算法都是设计用来抵御Sybil攻击的，通过控制稀缺资源作为投票的代理。通过遵循检测和减轻日食/路由攻击的最佳实践，可以减轻网络层面Sybil攻击的影响。  #####
    案例研究'
- en: 'The anonymity of blockchain accounts makes it difficult to detect a Sybil attack.
    A 2019 study that simulated the effects of a Sybil attack found that Sybil nodes
    could impact blockchain performance but that malicious nodes could be detected
    by checking if a node only forwarded transactions or blocks from particular nodes.[⁸](#c04-note-0008)  ###
    Threat Modeling for Blockchain Networks'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '区块链账户的匿名性使得检测Sybil攻击变得困难。2019年的一项研究模拟了Sybil攻击的效果，发现Sybil节点可能会影响区块链性能，但恶意节点可以通过检查一个节点是否只转发来自特定节点的交易或区块来被发现。[⁸](#c04-note-0008)  ###
    区块链网络的威胁建模'
- en: 'Attacks on blockchain networks fall into several STRIDE threat categories:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 针对区块链网络的攻击可分为几个STRIDE威胁类别：
- en: '**Tampering:** Eclipse/routing attacks can help an attacker to perform a 51%
    attack, which rewrites the history of the distributed ledger.'
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**篡改**：日食/路由攻击可以帮助攻击者执行51%攻击，从而重写分布式账本的历史。'
- en: '**Repudiation:** Eclipse/routing attacks can enable double-spends and 51% attacks,
    allowing an attacker to repudiate past transactions.'
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**否认**：日食/路由攻击可以实现双重支付和51%攻击，允许攻击者否认过去的交易。'
- en: '**Denial of Service:** Blockchain networks can fall victim to denial-of-service
    attacks in various ways.'
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**服务拒绝**：区块链网络可能以各种方式成为服务拒绝攻击的受害者。'
- en: '**Elevation of Privileges:** Eclipse/routing attacks can make a 51% achievable,
    granting the attacker control over the blockchain.  ## Conclusion'
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**权限提升**：日食/路由攻击可以使51%攻击成为可能，赋予攻击者对区块链的控制权。  ## 结论'
- en: Blockchain nodes and networks constitute the physical infrastructure that transforms
    theoretical blockchain protocols into workable systems. However, this transition
    from theory to practice can create additional attack vectors against blockchain
    systems.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链节点和网络构成了将理论区块链协议转化为可行系统的物理基础设施。然而，从理论到实践的这种转变可能会为区块链系统创造额外的攻击向量。
- en: 'In the next chapter, we''ll move beyond the basic blockchain protocol defined
    and implemented by Bitcoin and similar blockchain networks. Smart contract platforms
    allow programs to run on top of the blockchain''s digital ledger, and blockchain
    extensions enable blockchain scalability, extensibility, and interoperability.  ##
    Notes'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '在下一章中，我们将超越比特币和其他类似区块链网络实施的的基本区块链协议。智能合约平台允许程序在区块链的数字账本之上运行，而区块链扩展则实现了区块链的可扩展性、可扩展性和互操作性。  ##
    注释'
- en: '[1](#R_c04-note-0001).  `[www.yahoo.com/video/tron-discloses-critical-vulnerability-could-211000583.html](http://www.yahoo.com/video/tron-discloses-critical-vulnerability-could-211000583.html)`'
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[2](#R_c04-note-0002).  `[www.coindesk.com/markets/2018/10/02/bitcoin-bug-exploited-on-crypto-fork-as-attacker-prints-235-million-pigeoncoins](http://www.coindesk.com/markets/2018/10/02/bitcoin-bug-exploited-on-crypto-fork-as-attacker-prints-235-million-pigeoncoins)`'
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[3](#R_c04-note-0003).  `[https://cointelegraph.com/news/data-just-2-3-of-eth-nodes-running-parity-have-been-patched-against-critical-security-flaw](https://cointelegraph.com/news/data-just-2-3-of-eth-nodes-running-parity-have-been-patched-against-critical-security-flaw)`'
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[4](#R_c04-note-0004).  `[https://thehackernews.com/2018/05/eos-blockchain-smart-contract.html](https://thehackernews.com/2018/05/eos-blockchain-smart-contract.html)`'
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[5](#R_c04-note-0005).  `[https://cointelegraph.com/news/ethereum-hacks-on-the-rise-again-as-price-remains-below-100](https://cointelegraph.com/news/ethereum-hacks-on-the-rise-again-as-price-remains-below-100)`'
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[6](#R_c04-note-0006).  `[www.coindesk.com/markets/2018/11/08/the-little-known-ways-ethereum-reveals-user-location-data](http://www.coindesk.com/markets/2018/11/08/the-little-known-ways-ethereum-reveals-user-location-data)`'
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[7](#R_c04-note-0007).  `[https://btc-hijack.ethz.ch](https://btc-hijack.ethz.ch)`'
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[8](#R_c04-note-0008).  `[https://ieeexplore.ieee.org/document/8944507](https://ieeexplore.ieee.org/document/8944507)`'
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
