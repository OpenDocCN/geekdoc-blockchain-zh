- en: '[CHAPTER 3](toc.xhtml#c03)'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[第3章](toc.xhtml#c03)'
- en: '[Understanding the Bitcoin Network](toc.xhtml#c03)'
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[理解比特币网络](toc.xhtml#c03)'
- en: In the previous chapter, you learned about technological developments that led
    to the development of Bitcoin. You also learned about the events that happened
    since the Bitcoin Whitepaper was written and tried to understand the need for
    Bitcoin, the problem it solves, and how solving the problem may change the world.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，您学习了导致比特币发展的技术发展。您还学习了自比特币白皮书撰写以来发生的事件，并试图理解比特币的需求、它解决的问题以及解决问题可能改变世界的方式。
- en: When we pay bitcoin from our wallet to someone else’s address, a transaction
    is created and broadcasted on the Bitcoin network. This goes into mempool, and
    a miner mines a block in which this transaction gets included. To make this happen,
    the Bitcoin network needs to communicate with each other and publish these transactions
    and blocks on the network. Bitcoin network plays an important role in making the
    network decentralized.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们从我们的钱包中支付比特币到别人的地址时，将创建一个交易并在比特币网络上进行广播。这进入了mempool，然后矿工挖出一个包含此交易的区块。为了实现这一点，比特币网络需要相互通信，并在网络上发布这些交易和区块。比特币网络在使网络去中心化方面发挥着重要作用。
- en: In this chapter, we will first learn about the different types of nodes that
    constitute the Bitcoin network. We will understand why different types of nodes
    are required and how they interact with each other. We will then understand the
    Bitcoin consensus network, its building blocks, and why each component of the
    consensus network is required.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们首先学习构成比特币网络的不同类型的节点。我们将了解为什么需要不同类型的节点以及它们如何相互交互。然后我们将了解比特币共识网络、其构建模块以及为什么共识网络中的每个组件都是必需的。
- en: '[Structure](toc.xhtml#s41a)'
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 结构
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将介绍以下主题：
- en: Bitcoin physical network topology
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比特币物理网络拓扑
- en: Mining nodes
  id: totrans-8
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 挖矿节点
- en: Pool mining
  id: totrans-9
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 池挖矿
- en: Solo mining
  id: totrans-10
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 独立挖矿
- en: Full node
  id: totrans-11
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 完整节点
- en: Simplified Payment Verification (SPV)
  id: totrans-12
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 简化支付验证（SPV）
- en: Bitcoin consensus network
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比特币共识网络
- en: Transactions
  id: totrans-14
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交易
- en: Blockchain
  id: totrans-15
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 区块链
- en: Consensus rules
  id: totrans-16
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 共识规则
- en: Proof –of work (PoW)
  id: totrans-17
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 工作量证明（PoW）
- en: Verifying nodes
  id: totrans-18
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 验证节点
- en: Mempool
  id: totrans-19
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: mempool
- en: Cryptography
  id: totrans-20
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 密码学
- en: Gossip protocol
  id: totrans-21
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 八卦协议
- en: Bitcoin network security
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比特币网络安全
- en: '[Objectives](toc.xhtml#s42a)'
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[目标](toc.xhtml#s42a)'
- en: The objective of this chapter is to give readers a high-level understanding
    of the Bitcoin network. This will give you an understanding of the depth of Bitcoin’s
    core concepts, like decentralization and censorship resistance, are integrated
    into its design. Additionally, it will help you visualize and grasp the content
    in the upcoming chapters, where we will go deeper into the technology and do programming.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的目标是给读者一个关于比特币网络的高级理解。这将使您了解比特币的核心概念，如去中心化和抗审查，是如何整合到其设计中的。此外，它还将帮助您在接下来的章节中更深入地了解技术和进行编程。
- en: It will also help you understand what might be going on in the background when
    you make a payment and how transactions get included in the blockchain.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 它还将帮助您了解在您进行支付时可能发生的背景情况以及交易如何包含在区块链中。
- en: '[Bitcoin physical network topology](toc.xhtml#s43a)'
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[比特币物理网络拓扑](toc.xhtml#s43a)'
- en: The Bitcoin network consists of nodes that interact with each other to send
    and receive transactions and blocks. A node can join or leave the Bitcoin network
    anytime.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币网络由与其他节点交互以发送和接收交易和块的节点组成。节点可以随时加入或离开比特币网络。
- en: A transaction is like a ledger entry containing the source of funding, the receiver
    of funds, and the amount transferred. These transactions are added to the block
    by a miner and broadcast to other nodes.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 交易就像一个包含资金来源、资金接收者和转移金额的账目条目。这些交易由矿工添加到区块中，并广播给其他节点。
- en: 'The following illustration shows Bitcoin network topology:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 以下插图显示了比特币网络拓扑：
- en: '![](images/Figure-3.1.jpg)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-3.1.jpg)'
- en: '**Figure 3.1:** Bitcoin network topology'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '**图3.1：** 比特币网络拓扑'
- en: In the preceding figure, miners create a block and forward it to other nodes.
    A solo miner also receives blocks because it is also a full node. Full nodes are
    responsible for verifying transactions and blocks and forwarding them. SPV nodes
    are lightweight nodes that depend on the full nodes for receiving the necessary
    information.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的图中，矿工创建一个区块并发送给其他节点。单独挖矿的矿工也接收区块，因为它也是一个完整节点。完整节点负责验证交易和区块并转发它们。SPV节点是轻量级节点，它们依赖完整节点接收必要的信息。
- en: Pool mining nodes connect with the mining pool server. The pool mining nodes
    receive jobs from the server and try to mine blocks based on the job they receive.
    If it is successful, Pool miner sends the block to the server. The mining pool
    server also receives blocks and transactions from other nodes, which is why there
    is an arrow from the pool mining node to the mining pool server. Bitcoin network
    is otherwise peer-to-peer and non-hierarchical.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 池挖矿节点与挖矿池服务器相连。池挖矿节点从服务器接收任务，并根据接收到的任务尝试挖掘区块。如果成功，池挖矿节点将区块发送给服务器。挖矿池服务器还从其他节点接收区块和交易，这就是为什么从池挖矿节点到挖矿池服务器有一箭头的原因。比特币网络本是点对点的非层级结构。
- en: '[Mining nodes](toc.xhtml#s44a)'
  id: totrans-34
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[挖矿节点](toc.xhtml#s44a)'
- en: Mining nodes compete in solving a cryptographic puzzle and whichever node solves
    the puzzle is able to construct a block with choosen transactions. A transaction
    gets confirmed when it gets included in a block. So, mining is an act of transaction
    confirmation.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 挖矿节点竞争解决一个加密难题，哪个节点解决了难题，就能够构造带有选择交易的区块。当一个交易包含在一个区块中时，这个交易就被确认了。所以，挖矿是交易确认的行为。
- en: Solving a cryptographic puzzle to confirm a transaction by using computation
    power is called **proof –of work**.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 使用计算能力解决加密难题以确认交易，这称为**工作量证明**。
- en: A miner can decide to do solo mining or join a mining pool.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 矿工可以选择进行单独挖矿，或者加入挖矿池。
- en: 'The following is an image of mining equipment:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是挖矿设备的图片：
- en: '![](images/Figure-3.2.jpg)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-3.2.jpg)'
- en: '**Figure 3.2:** Mining equipment in action'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '**图3.2：** 正在工作中的挖矿设备'
- en: '[Pool mining](toc.xhtml#s45a)'
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[池挖矿](toc.xhtml#s45a)'
- en: Mining is only profitable nowadays if done in a pool. In this case, miners join
    a mining pool to collaborate in the mining effort. Each miner in the pool tries
    to solve a cryptographic puzzle, and the mining pool is aware of the computational
    power contributed by the miner. Miners solve the cryptographic puzzle, and the
    mining pool gets the block reward. The mining pool then shares the block reward
    with all the miners in the pool by dividing it based on their contribution to
    computational power. Miners who solve the cryptographic puzzle do not get any
    special advantage. This setup is beneficial for all the miners because solving
    the puzzle is based on probability determined by the contribution in computation
    power. Miners do not interact with the network directly; instead, they are given
    a job by the mining pool server.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，只有进行池挖矿才是有利润的。在这种情况下，矿工加入挖矿池以共同进行挖矿努力。挖矿池中的每个矿工都尝试解决一个加密难题，挖矿池了解矿工贡献的计算能力。矿工解决加密难题后，挖矿池获得区块奖励。然后，挖矿池根据矿工对计算能力的贡献将区块奖励分给所有矿工。解决加密难题的矿工没有任何特殊优势。这种设置对所有矿工都有利，因为解谜是基于计算能力的贡献来确定的概率。矿工不直接与网络交互；相反，他们是由挖矿池服务器分配一个任务。
- en: '[Solo mining](toc.xhtml#s46a)'
  id: totrans-43
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[单独挖矿](toc.xhtml#s46a)'
- en: Bitcoin computation requirement has become so high that it is virtually impossible
    to be able to mine blocks individually. However, there is one benefit. Currently,
    there are a few mining pools that have almost all the computational power of the
    network. It will only take a few mining pools to join hands, and the Bitcoin network
    will have a 51% attack. If most nodes were solo miners, this was not possible.
    So, by doing solo mining, we can make mining more decentralized.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币的计算需求已经变得如此之高，以至于单独挖矿几乎是不可能的。然而，有一个好处。目前，有几个挖矿池拥有网络几乎全部的计算能力。只要几个挖矿池联手，比特币网络就会遭受51%攻击。如果大多数节点都是单独挖矿的矿工，这是不可能的。因此，通过单独挖矿，我们可以使挖矿更加去中心化。
- en: '[Full node](toc.xhtml#s47a)'
  id: totrans-45
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[完整节点](toc.xhtml#s47a)'
- en: Full nodes are the verifying nodes that keep the copy of the blockchain and
    verify all the transactions and blocks received by them. They also forward blocks
    and transactions to other nodes.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 完整节点是验证节点，它们保持区块链的一个副本，并验证接收到的所有交易和区块。它们还将区块和交易转发给其他节点。
- en: '[Simplified Payment Verification (SPV)](toc.xhtml#s48a)'
  id: totrans-47
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[简化支付验证（SPV）](toc.xhtml#s48a)'
- en: SPV nodes are lightweight nodes, which means they do not maintain the whole
    blockchain and cannot verify a block without the help of the Full node. SPVs require
    very little disk space and can be set up on embedded devices or can execute in
    memory, making them cheaper to maintain and carry.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: SPV节点是轻量级节点，这意味着它们不维护整个区块链，并且没有全节点的帮助无法验证区块。SPV要求非常少的磁盘空间，并且可以在嵌入式设备上设置或在内存中执行，使它们更便宜的维护和携带。
- en: '[Bitcoin consensus network](toc.xhtml#s49a)'
  id: totrans-49
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[Bitcoin共识网络](toc.xhtml#s49a)'
- en: Bitcoin consensus network is based on the proof –of work consensus mechanism.
    Transactions are created and published on the network using gossip protocol with
    the help of a node. Verifying nodes or full nodes verify the received transaction
    and then add it to their mempool. A miner uses their computational power to solve
    a cryptographic puzzle in order to create a block containing the transactions
    it wants to include in the block. The block is chained with the previous block.
    The created block is the proof –of work, and the chain of blocks forms blockchain.
    The miner then publishes the newly created block to the Bitcoin network using
    the gossip protocol. Verifying nodes then receive the block, verify it based on
    consensus rules, and forward it to the connected nodes again using the gossip
    protocol. All these activities use cryptography.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: Bitcoin共识网络基于工作量证明（Proof-of-Work，PoW）机制。交易通过节点辅助使用八卦协议创建并发布在网络上。验证节点或全节点验证接收到的交易，然后将其添加到它们的内存池中。矿工利用他们的计算能力解决一个加密谜题，以创建包含它想要包含在区块中的交易的区块。区块与前一个区块相连。创建的区块是工作量证明，区块链由这些区块组成。矿工然后使用八卦协议将新创建的区块发布到Bitcoin网络。验证节点基于共识规则接收并验证区块，然后再次使用八卦协议将其转发给连接的节点。所有这些活动都使用密码学。
- en: 'Here’s the illustration of the Bitcoin consensus network:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是比特币共识网络的说明：
- en: '![](images/Figure-3.3.jpg)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-3.3.jpg)'
- en: '**Figure 3.3:** Bitcoin Consensus Network'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '**图3.3：**比特币共识网络'
- en: 'Key components of the Bitcoin consensus network are as follows:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: Bitcoin共识网络的关键组成部分如下：
- en: Transactions
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交易
- en: Blockchain
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 区块链
- en: Consensus rules
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 共识规则
- en: Proof –of work
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 工作量证明
- en: Validating nodes
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 验证节点
- en: Mempool
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 内存池
- en: Cryptography
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 密码学
- en: Gossip protocol
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 八卦协议
- en: These are explained in the following sections.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 这些将在以下章节中解释。
- en: '[Transactions](toc.xhtml#s50a)'
  id: totrans-64
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[交易](toc.xhtml#s50a)'
- en: 'Transaction is the single record of spending. It contains three things:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 交易是唯一的支出记录。它包含三件事：
- en: Sources of funding
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 资金来源
- en: Receivers of the fund
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 资金接收者
- en: The amount received by each of the receivers
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每位接收者接收的金额
- en: 'The following is an illustration of transaction:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是对交易结构的说明：
- en: '![](images/Figure-3.4.jpg)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-3.4.jpg)'
- en: '**Figure 3.4:** Bitcoin transaction funding and payments'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '**图3.4：**比特币交易资金与支付'
- en: '[Blockchain](toc.xhtml#s51a)'
  id: totrans-72
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 区块链
- en: Blockchain is the immutable sequence of blocks that records transactions. The
    chain of blocks also is in time sequence. Each block is linked to its previous
    block. The end of the chain is the recent block.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链是记录交易的不可变区块序列。区块链也是按时间顺序排列。每个区块都链接到它的前一个区块。链的末端是最近的区块。
- en: 'The following is the illustration of blockchain based on what you have learned:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 根据您所学的，以下是对区块链的说明：
- en: '![](images/Figure-3.5.jpg)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-3.5.jpg)'
- en: '**Figure 3.5:** Structure of a blockchain'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '**图3.5：**区块链结构'
- en: '[Consensus rules](toc.xhtml#s52a)'
  id: totrans-77
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[共识规则](toc.xhtml#s52a)'
- en: Bitcoin network, like a network protocol, has agreed-upon rules for blocks and
    transactions. These rules are supposed to be protected by the Miners through the
    proof –of work consensus mechanism.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: Bitcoin网络，就像网络协议一样，对区块和交易有共识规则。这些规则应该通过矿工通过工作量证明共识机制来保护。
- en: '[Proof of work (PoW)](toc.xhtml#s53a)'
  id: totrans-79
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[工作量证明（PoW）](toc.xhtml#s53a)'
- en: Proof –of work or PoW is a mechanism that was created to prevent denial-of-service
    attacks by forcing the attacker to spend computational power. This makes denial-of-service
    attack non-viable for the attacker. Bitcoin uses proof –of work to make double-spending
    very difficult and costly.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 工作量证明或PoW是一种机制，旨在通过迫使攻击者花费计算资源来防止服务拒绝攻击。这使得服务拒绝攻击对攻击者变得不可行。比特币使用工作量证明使双重支付变得非常困难和昂贵。
- en: 'This can be understood with the following analogy:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 这可以通过以下类比来理解：
- en: In the olden times, there were houses, temples, wells, etc., which were easy
    to replicate, but there were also monuments, fortresses, and so on, which were
    unique. Monuments such as the pyramids in Egypt, the Great Wall of China, and
    the Kailasa Temple in Ellora, India, are among the greatest monuments that, after
    hundreds of years, are still very difficult to replicate. The thing that is common
    to all of them is the difficulty of making them. The difficulty has kept them
    unique over centuries. The structures themselves are the evidence of the hard
    work that has been undertaken to construct them. The evidence of work is called
    proof –of work.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 在古代，有许多房子、寺庙、水井等容易复制的建筑，但也有一些纪念碑、堡垒等是独一无二的。像埃及的吉萨金字塔、中国的长城、印度埃洛拉的凯拉萨寺庙这样的纪念碑，在经历了数百年后，仍然很难复制。它们的共同点是制造它们的难度。难度使它们在数百年保持独特。这些结构本身就是证明建造它们所付出的艰辛工作的证据。这种工作的证明被称为工作量证明。
- en: 'The following figure shows two of the famous monuments:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的图表显示了两个著名的纪念碑：
- en: '![](images/Figure-3.6.jpg)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-3.6.jpg)'
- en: '**Figure 3.6:** Unique and famous monuments'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '**图3.6:** 独特且著名的纪念碑'
- en: Each miner competes in computational power to solve the cryptographic puzzle
    and create a block of the transaction as the next block in the blockchain. After
    a certain number of blocks are created, the difficulty of the cryptographic puzzle
    is adjusted to increase or decrease the average time to solve a cryptographic
    puzzle. Due to this mining equipment, manufacturing companies also compete in
    their cost-effectiveness. This battle in the mining arena keeps the network secure
    and protects it from double-spending.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 每个矿工都以计算能力竞争，解决密码学难题并创建一个交易区块作为区块链中的下一个区块。在创建一定数量的区块后，密码学难题的难度会根据增加或减少解决密码学难题的平均时间进行调整。由于这种挖矿设备，制造公司也在成本效益方面进行竞争。挖矿领域的这场战斗保持了网络的安全并保护它免受双重支付的威胁。
- en: '**It is a mechanism in which a party needs to prove to the verifier that it
    has performed the desired work (or computational power) in order to be allowed
    to perform some tasks.**'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '**这是一种机制，其中一方需要向验证者证明它已经执行了所需的工作（或计算能力），以获得执行某些任务的权限。**'
- en: The difficulty to change any block increases exponentially as the block gets
    deeper into the chain. Even though miners are competing to create a block, they
    are agreeing to the terms of consensus rules. This is the reason why it is called
    the *proof –of work* consensus mechanism. Many cryptocurrencies and blockchain
    technologies use other forms of consensus mechanisms, such as *proof –of stake,
    proof –of authority, practical Byzantine fault tolerance,* and so on.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 随着区块在链中越深入，改变任何区块的难度将以指数方式增加。尽管矿工之间存在竞争，他们在创建区块的同时，也在同意共识规则的条款。这就是它被称为*工作量证明*共识机制的原因。许多加密货币和区块链技术使用其他形式的共识机制，如*权益证明、权威证明、实用拜占庭容错*等。
- en: Mining can be defined as p*roof* –*of* w*ork in action*.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 挖矿可以被定义为*工作量证明*在实践中的行动。
- en: We know that miners join and form a pool. A few mining pools control most of
    the network computational power. If two to three top miners join, they can out-compete
    the rest of the miners.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 我们知道矿工加入并组成一个池。一些矿工池控制着网络的大部分计算能力。如果有两到三个顶尖矿工加入，他们就能超越其他矿工。
- en: In July 2014, *Ghash.io* reached more than half of the network computational
    power, but it later agreed that it will never cross the 50% computational power.
    It is important to understand why we never had such a scenario since and why any
    miner would agree not to take over the network.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 2014年7月，*Ghash.io* 控制了网络计算能力的一半以上，但后来同意其计算能力永远不会超过50%。理解为什么我们此后从未出现过这种情况，以及任何矿工为什么会同意不接管网络是很重要的。
- en: Mining also adds value to the network, which means even though miners can join
    and block transactions from specific countries or exchanges, they will not do
    anything that will get noticed and will affect the network that is their source
    of earning.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 挖矿也为网络增加了价值，这意味着尽管矿工可以阻止来自特定国家或交易所的交易，但他们不会做任何会引起注意并影响他们收入来源的网络的事情。
- en: '[Validating nodes](toc.xhtml#s54a)'
  id: totrans-93
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[验证节点](toc.xhtml#s54a)'
- en: Bitcoin doesn’t fully depend on mining nodes to protect against double-spending;
    instead, it also has validating nodes that verify all the transactions and blocks
    received. The verifying nodes are also called full nodes, and these nodes further
    broadcast transactions and blocks.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币不完全依赖挖矿节点来防止双重支付，相反，它还有验证节点来验证收到的所有交易和区块。验证节点也被称为全节点，这些节点进一步传播交易和区块。
- en: '[Mempool](toc.xhtml#s55a)'
  id: totrans-95
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[Mempool](toc.xhtml#s55a)'
- en: Mempool is the in-memory store for an unconfirmed transaction. A miner picks
    up transactions from mempool, and only valid transactions are stored in mempool.
    A transaction may expire because it did not get included in the blockchain for
    a very long time. A mempool transaction is not confirmed and can become invalid
    due to race conditions.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: Mempool是未确认交易的内存存储。矿工从mempool中挑选交易，只有有效的交易才会存储在mempool中。一个交易可能因为很长时间没有被包含在区块链中而失效。mempool中的交易没有确认，可能因竞争条件而变得无效。
- en: '[Cryptography](toc.xhtml#s56a)'
  id: totrans-97
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[密码学](toc.xhtml#s56a)'
- en: Cryptography is the heart of Bitcoin. It is used in proof –of work, transaction,
    blockchain, and verification.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 密码学是比特币的核心。它在工作量证明、交易、区块链和验证中都有应用。
- en: 'Here are the uses of cryptography in the Bitcoin network:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是比特币网络中密码学的应用：
- en: Mining nodes need to solve the cryptographic puzzle in order to create a block
    of transactions.
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 挖矿节点需要解决密码学难题才能创建一个交易区块。
- en: Each block uses cryptography to protect all transactions from modification.
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个区块使用密码学保护所有交易不被修改。
- en: Each block uses the cryptographic hash to protect the chain of blocks from modification.
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个区块使用密码学哈希保护区块链不被修改。
- en: The transaction uses cryptography to unlock funds from the source and lock it
    for the receiver to claim.
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交易使用密码学从源解锁资金并将其锁定，以便接收者认领。
- en: '[Gossip protocol](toc.xhtml#s57a)'
  id: totrans-104
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[Gossip protocol](toc.xhtml#s57a)'
- en: Bitcoin transactions and blocks need to reach quickly to almost all nodes. Bitcoin
    nodes are always listening to the connected nodes and make them aware of the blocks
    in the Bitcoin blockchain it has. When a block or a transaction is received by
    a node, it verifies it according to consensus rules and then sends it to the nodes
    which need it. Gossip protocol is the method of communication between nodes using
    messages containing command and payload.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币交易和区块需要迅速地被几乎所有节点接收。比特币节点始终在监听连接的节点，并让它们了解自己拥有的比特币区块链中的区块。当一个节点接收到一个区块或交易时，它会根据共识规则进行验证，然后将其发送给需要它的节点。八卦协议是节点之间使用包含命令和有效载荷的消息进行通信的方法。
- en: 'Here’s an illustration of the gossip protocol in message broadcast:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是八卦协议在消息广播中的说明：
- en: '![](images/Figure-3.7.jpg)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-3.7.jpg)'
- en: '**Figure 3.7:** Simple representation of gossip protocol in a message broadcast'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '**图3.7：** 八卦协议在消息广播中的简单表示'
- en: '[Bitcoin network security](toc.xhtml#s58a)'
  id: totrans-109
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[比特币网络安全](toc.xhtml#s58a)'
- en: 'Securing a network is not only a mathematical or cryptographic problem but
    also a game theory problem. Bitcoin network is secured by both cryptography and
    game theory. So, there are many factors that work together to secure the network:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 保护网络不仅是数学或密码学问题，也是博弈论问题。比特币网络通过密码学和博弈论来保护。因此，有很多因素共同作用来保护网络：
- en: Mining makes it difficult to modify a block, and the difficulty increases exponentially
    as the block gets deeper into the blockchain.
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 挖矿使得修改区块变得困难，而且随着区块深入区块链，难度会指数级增加。
- en: Mining difficulty adds to the value of the network. Its value is not only in
    terms of computational power but also in terms of cost and time.
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 挖矿难度增加了网络的价值。它的价值不仅在于计算能力，还在于成本和时间。
- en: Mining equipment companies compete in the cost-effectiveness of their equipment.
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 采矿设备公司竞相降低设备的成本效益。
- en: Verifying nodes watch the network and make sure that the network behaves as
    expected.
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 验证节点观察网络，确保网络按预期运行。
- en: Many block exploration websites and independent enthusiasts are also observing
    the network in different ways. They are constantly observing nodes, blockchain,
    and mempool.
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 许多区块链浏览器网站和独立爱好者以不同的方式观察网络。他们不断观察节点、区块链和mempool。
- en: '[Conclusion](toc.xhtml#s59a)'
  id: totrans-116
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[结论](toc.xhtml#s59a)'
- en: In this chapter, you learned the network topology of the Bitcoin network. You
    learned about the different types of nodes that are present in the Bitcoin network
    and their roles and need. Then, you understood how the Bitcoin consensus mechanism
    works and what the different components that form the Bitcoin consensus network
    are. We also covered each of those components to give us a fair understanding
    of the structure and functioning of the Bitcoin network without getting in-depth
    into its real functioning.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您学习了比特币网络的网络拓扑。您了解了比特币网络中存在的不同类型的节点以及它们的角色和需求。然后，您了解了比特币共识机制是如何工作的，以及构成比特币共识网络的不同组件。我们还涵盖了每个这些组件，以公平地了解比特币网络的结构和运作，而不深入了解其真实的运作。
- en: In the next chapter, you will understand how bitcoin is used in the real world
    and learn about the regulation on use of bitcoin in different countries.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，您将了解比特币在现实世界中的使用，并学习不同国家对比特币使用的监管。
- en: '[Points to remember](toc.xhtml#s60a)'
  id: totrans-119
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[需记住的要点](toc.xhtml#s60a)'
- en: Mining is proof –of work in action.
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 挖矿是工作量证明的实践。
- en: The Bitcoin network consists of mining pool server, pool miner nodes, solo miners,
    full nodes, and SPV nodes.
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比特币网络由挖矿池服务器、池矿工节点、独立矿工、全节点和SPV节点组成。
- en: Pool Miner nodes do not interact with the Bitcoin network directly; instead,
    they depend on the mining pool server for jobs.
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 池矿工节点不直接与比特币网络交互；相反，它们依赖挖矿池服务器获取工作。
- en: Solo mining has a negligible chance in solving a cryptographic puzzle.
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 独立挖矿解决加密难题的几率微乎其微。
- en: Full nodes are also called validating nodes as they verify blocks and transactions
    based on consensus rules.
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 全节点也被称为验证节点，因为它们根据共识规则验证区块和交易。
- en: Gossip protocol is the method of communication between nodes using messages
    containing command and payload.
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 八卦协议是节点之间使用包含命令和有效载荷的消息进行通信的方法。
- en: '[Questions](toc.xhtml#s61a)'
  id: totrans-126
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[问题](toc.xhtml#s61a)'
- en: How is block validation different from block confirmation? Which node is responsible
    for block validation, and which one is for block confirmation?
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 区块验证与区块确认有何不同？哪个节点负责区块验证，哪个节点负责区块确认？
- en: What are the top four mining pools, and what is their current share of network
    computational power?
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前四大挖矿池是什么，它们目前占网络计算力的比重是多少？
- en: If you are planning to buy Bitcoin mining equipment, what parameters will you
    look for, and how will you judge which equipment is better for you?
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您计划购买比特币挖矿设备，您会关注哪些参数，以及您如何判断哪种设备对您更好？
- en: If a miner cannot accommodate all received transactions in a mempool into the
    next block, on what basis will it select a transaction for adding to the next
    block?
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果一个矿工不能将收到的所有交易放入内存池到下一个块中，它将根据什么标准选择将交易添加到下一个块中？
- en: 'Fill in the blanks:'
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 填空：
- en: The Bitcoin network is a ____________ network, which means there are no servers
    and clients and no hierarchy.
  id: totrans-132
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 比特币网络是一个____________网络，这意味着没有服务器和客户端，也没有等级制度。
- en: In pool mining, _________ solves cryptographic puzzle and _________ connects
    with Bitcoin network for blocks.
  id: totrans-133
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在池挖矿中，_________解决加密难题，_________与比特币网络连接以获取区块。
- en: SPV needs ____________ node to verify incoming blocks.
  id: totrans-134
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: SPV需要____________节点来验证传入的区块。
- en: 'True/False:'
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 真/假：
- en: The mining node does not require mempool.
  id: totrans-136
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 挖矿节点不需要内存池。
- en: Nodes can join and leave the Bitcoin network anytime.
  id: totrans-137
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 节点可以随时加入和离开比特币网络。
- en: Each full node maintains a copy of the blockchain.
  id: totrans-138
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 每个全节点都维护着区块链的一个副本。
