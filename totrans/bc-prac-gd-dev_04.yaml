- en: 4   Legal and Governance Use Cases
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 4   法律和治理用例
- en: 'The legal industry will also be transformed and disrupted by blockchain technology
    and the associated scripting language and protocols known as *smart contracts*.
    As we have seen, this technology is already affecting the banking, financial services,
    and payments industries. They implement blockchain to facilitate transactions,
    save on fees, and approach instantaneous clearing of transactions. The fintech
    movement, which has embraced blockchain, is always looking to disrupt traditional
    banking models and the software that supports it to deliver increased convenience,
    efficiency for service consumers, reduced risk, and of course lower cost of operations
    for financial services providers. For too long, lawyers have been slow to adopt
    new technologies. This is all changing; lawyers need to understand how to communicate
    securely and protect their client data. In particular, they need to understand
    blockchain and smart contracts. The New York County Law Association as well as
    many bar associations nationwide provides legal technology education so their
    members can avoid potentially being at odds with the new American Bar Association
    (ABA) rules. ABA Model Rule 1.1, Comment 8 says:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 法律服务行业也将受到区块链技术和与之相关的被称为*智能合约*的脚本语言和协议的改造和颠覆。正如我们所看到的，这项技术已经影响了银行、金融服务和支付行业。他们实施区块链以促进交易，节省费用，并使交易结算接近即时。已经接纳区块链的金融科技运动总是试图颠覆传统的银行模式及其支持软件，以向服务消费者提供更大的便利、效率、降低风险，当然还有对金融服务提供商运营成本的降低。长期以来，律师们对采用新技术反应迟缓。这一切都在改变；律师需要了解如何安全地进行通信并保护他们的客户数据。特别是，他们需要了解区块链和智能合约。纽约县律师协会以及全国许多律师协会提供法律科技教育，以便他们的成员可以避免与新的美国律师协会（ABA）规则发生冲突。ABA示范规则1.1，评论8说：
- en: “To maintain the requisite knowledge and skill, a lawyer should keep abreast
    of changes in the law and its practice, including the benefits and risks associated
    with relevant technology, engage in continuing study and education and comply
    with all continuing legal education requirements to which the lawyer is subject.”
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: “为了保持所需的知识和技能，律师应该跟上法律及其实践的变化，包括与相关技术相关的利益和风险，参与持续的学习和教育，并遵守律师应当遵守的所有持续法律教育要求。”
- en: Only recently, in response to demand and new standards, have lawyers started
    to use and rely on computing and communications tools. For example, e-discovery
    software is now a standard used to search email, documents, and other artifacts
    in the litigation discovery process. This process as well as other legal procedures
    would be facilitated with blockchain, which is an immutable and virtually infinite
    log. Blockchain when it is universally accepted will obviate most evidentiary
    issues. One question is how to treat blockchain data as evidence. In the U.S.
    judicial system, the standard for admissibility of evidence turns on whether a
    human has sworn under penalty of perjury that the information is true.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 仅仅是最近，为了响应需求和新标准，律师们才开始使用和依赖计算机和通信工具。例如，电子发现软件现在已经是一个标准，用于在诉讼发现过程中搜索电子邮件、文件和其他物品。这个过程以及其他的法律程序可以通过区块链得到促进，区块链是一个不可篡改且几乎无限的日志。当区块链被普遍接受时，将消除大多数证据问题。一个问题是如何将区块链数据作为证据处理。在美国司法系统中，证据的可接受性的标准取决于一个人是否在伪证的惩罚下宣誓信息是真实的。
- en: Stand-alone documentary evidence is usually not admitted. It’s hearsay, “an
    out-of-court statement offered to prove the truth of the matter asserted.” For
    example, to submit evidence from government or other sources, we produce the artifact
    and attach an affidavit to attest that the artifact was kept in the usual course
    of business and that the information in the artifact is true, to the best of the
    custodian’s knowledge. Blockchain technology, an immutable log of events, will
    change the evidentiary rules. When we mature the technology both functionally
    and legally, blockchain can create a more efficient documentary evidence standard.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 独立的文件证据通常不会被采纳。这是传闻，“法庭外陈述，用于证明所断言事项的真实性。”例如，为了提交来自政府或其他来源的证据，我们出示物品，并附上宣誓书，证明物品是在正常业务过程中保存的，并且物品中的信息是真实的，尽管理者所知。区块链技术，一个不可篡改的事件日志，将改变证据规则。当我们使技术在功能和法律上成熟时，区块链可以创建一个更高效的文件证据标准。
- en: That said, law firms also are relatively weak in terms of information governance.
    Recent data break-ins at large law firms have resulted in stolen client information.
    Blockchain provides for use cases that can secure the information held in large
    law firms, especially contracts and other very confidential information. Futurists
    and technology vendors have already created the vision for how blockchain will
    change the way lawyers operate.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 话说回来，律师事务所也在信息治理方面相对较弱。近期大型律师事务所的数据泄露导致客户信息被盗。区块链提供了可以使用案例来保护大型律师事务所持有的信息，尤其是合同和其他非常机密的信息。未来学家和技术供应商已经创造了区块链将如何改变律师操作方式的愿景。
- en: 'To put this in context, Janet Yellen, chair of the U.S. Federal Reserve at
    the time of this writing, recently said: “[blockchain] could have very significant
    implications for the payments system and the conduct of business […]. I think
    innovation using these technologies could be extremely helpful and bring benefits
    to society.” (See [www.thinkconsortium.com/](http://www.thinkconsortium.com/)
    on the topic “Think Consortium Blockchain, 2017 Outlook: Blockchain Impacts on
    Enterprise and Government.”)'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 为了说明这一点，当时的美国联邦储备委员会主席珍妮特·耶伦近期表示：“区块链可能对支付系统和企业运营产生非常重大的影响 […]。我认为利用这些技术进行创新可能非常有帮助，并为社会带来好处。”（参见关于“Think
    Consortium区块链，2017年展望：区块链对企业及政府的影响”话题的[www.thinkconsortium.com](http://www.thinkconsortium.com/)。）
- en: 'The *Harvard Business Review* in February 2017 had some thought-provoking insights:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 2017年2月的《哈佛商业评论》上发表了一些发人深省的观点：
- en: “Contracts, transactions and the records of them are among the defining structures
    in our economic, legal and political systems. They protect assets and set organizational
    boundaries. They establish and verify identities and chronological events. They
    govern interactions among nations, organizations, communities and individuals.
    They guide managerial and social action. And yet these critical tools and the
    bureaucracies formed to manage them have not kept up with the economy’s digital
    transformation. They’re like a rush-hour gridlock trapping a Formula 1 race car.
    In a digital world, the way we regulate and maintain administrative control has
    to change.” (See [https://hbr.org/2017/01/the-truth-about-blockchain](https://hbr.org/2017/01/the-truth-about-blockchain).)
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: “合同、交易及其记录是我们经济、法律和政治体系中定义性的结构。它们保护资产，设定组织边界。它们建立和验证身份及时间顺序事件。它们管理国家、组织、社区和个人之间的互动。它们指导管理和社会行动。然而，这些关键工具及其形成的官僚机构并没有跟上经济数字化转型的步伐。它们就像是高峰时段的拥堵，困住了一辆一级方程式赛车。在数字世界里，我们规范和维护行政控制的方式必须改变。”（参见[https://hbr.org/2017/01/the-truth-about-blockchain](https://hbr.org/2017/01/the-truth-about-blockchain)。）
- en: Blockchain Changes the Legal Landscape
  id: totrans-9
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 区块链改变法律格局
- en: “Code is law,” as described in Lawrence Lessig’s book *Code and Other Laws of
    Cyberspace*, refers to the idea that computer code has progressively established
    itself as a predominant way to regulate behavior to the same degree as legal code.
    (See updates to these ideas on [http://codev2.cc//](http://codev2.cc//).) With
    the advent of blockchain technology, code is assuming an even stronger role in
    regulating people’s interactions. However, while computer code can enforce rules
    more efficiently than legal code, it also comes with a series of limitations.
    With vast regulatory implications, blockchain applications have already raised
    many legal questions as they offer new capabilities to engage activities in ways
    that don’t fit neatly into existing legal frameworks. Let’s drill down and examine
    blockchain and its varied intersections with the law.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 劳伦斯·莱西格在其著作《代码及其网络空间的其他法律》中提到的“代码即法律”，是指计算机代码逐渐确立了自己作为一种主要的行为规范方式，与法律代码具有同等程度的影响力。（参见这些想法在[http://codev2.cc//](http://codev2.cc//)上的更新。）随着区块链技术的发展，代码在规范人们互动方面扮演着更加重要的角色。然而，尽管计算机代码比法律代码更有效地执行规则，但它也带来了一系列局限。区块链应用已经引发了许多法律问题，因为它们以不符合现有法律框架的方式提供新的能力来参与活动。让我们深入探讨区块链及其与法律的各种交叉点。
- en: Cryptocurrencies as Legal Tender
  id: totrans-11
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 加密货币作为法定货币
- en: Bitcoin, the world’s most recognizable digital currency, uses encryption techniques
    to regulate the generation of units of currency and verify the transfer of funds,
    operating independently of a central bank. This means that this money has not
    passed through a bank or other financial institution, nor has it been screened
    by any government agency. If you have a major transaction that is normally required
    to be reported, it simply isn’t. This leads to significant challenges, mostly
    concerning government regulators and current laws. As developers, it is important
    to at least be aware of this changing landscape.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币，世界上最知名的数字货币，利用加密技术来规范货币生成单位，并验证资金转移，独立于中央银行运作。这意味着这种货币没有经过银行或其他金融机构，也没有被任何政府机构审查。如果你有一笔通常需要报告的大交易，它简单地就不会被报告。这导致了重大的挑战，主要涉及政府监管机构和现有法律。作为开发者，了解这一不断变化的环境是很重要的。
- en: 'As of late 2017, lots of new laws and regulations are being proposed and may
    be in place soon. That said, Bitcoin’s “monetary policy” is written into its code:
    New money is mined and issued every 10 minutes. The supply is limited, and a hard
    money rule similar to the gold standard is applied, i.e., the money supply is
    fixed to a commodity and not determined by government. In the United States, bitcoin
    is deemed a commodity as per the Commodity Futures Trading Commission (CFTC) (see
    [www.cftc.gov/](http://www.cftc.gov/)). The CFTC has jurisdiction over local bitcoin
    exchanges. For the first time ever, the CFTC has given permission to a private
    company to exchange and clear any number of cryptocurrency derivatives. The New
    York–based startup LedgerX was granted a derivatives clearing organization (DCO)
    license allowing it to clear and provide custodian services for financial instruments
    backed by bitcoin, ether, and any number of blockchain-based cryptocurrencies.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 截至2017年底，有许多新的法律和规定正在提议，并可能很快实施。话说回来，比特币的“货币政策”是其代码所规定的：每10分钟挖掘并发行新的货币。货币供应有限，并采用类似金本位的硬货币规则，即货币供应固定在一个商品上，不由政府决定。在美国，根据商品期货交易委员会（CFTC）的规定，比特币被视为商品（参见[www.cftc.gov/](http://www.cftc.gov/)）。CFTC对当地的比特币交易所具有监管权。前所未有的，CFTC首次批准一家私人公司交换和清算任意数量的加密货币衍生品。位于纽约的初创公司LedgerX获得了衍生品清算组织（DCO）许可，允许其清算并为支持比特币、以太坊以及任意数量基于区块链的加密货币的金融工具提供保管服务。
- en: 'Whether or not it’s a currency under certain legislation might determine whether
    bitcoin transactions can be taxed (see [www.irs.gov/pub/irs-drop/n-14-21.pdf](http://www.irs.gov/pub/irs-drop/n-14-21.pdf)).
    When it comes to taxes, the Internal Revenue Service has ruled that bitcoins and
    other “convertible virtual currencies” are “treated as property” and not treated
    as currency. According to the IRS, virtual currencies are property for tax purposes:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 是否根据某些立法将其视为货币可能会决定比特币交易是否可以征税（参见[www.irs.gov/pub/irs-drop/n-14-21.pdf](http://www.irs.gov/pub/irs-drop/n-14-21.pdf)）。谈到税收，美国国内收入税务局（IRS）规定，比特币及其他“可转换虚拟货币”被视为“财产”，并不作为货币处理。根据IRS的规定，虚拟货币在税务上是作为财产处理的：
- en: •   There is capital gain or loss when disposing of virtual currency.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 处置虚拟货币时，会产生资本收益或损失。
- en: •   Income is taxable, even if you are paid in virtual currency.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 即使你用虚拟货币支付，收入也是应税的。
- en: '•   Spending virtual currency is really two transactions in one: disposing
    of the virtual currency and spending the dollar-equivalent amount.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 使用虚拟货币进行消费实际上是两个交易合二为一：处置虚拟货币以及消费等值的美元金额。
- en: •   Business transactions in bitcoin are subject to all the normal rules for
    sales tax, withholding, and information reporting.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币中的商业交易应遵守所有正常的销售税、扣税和信息报告规则。
- en: 'The IRS definitions around virtual currency are:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 美国国内收入税务局对虚拟货币的定义包括：
- en: •   “Virtual currency is a digital representation of value that functions as
    a medium of exchange, a unit of account, and/or a store of value.”
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 虚拟货币是一种数字价值表示，作为交换媒介、计价单位和/或价值储存手段。
- en: •   Virtual currency “does not have legal tender status in any jurisdiction.”
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 虚拟货币“在任何司法管辖区内都不具有法定货币地位。”
- en: •   “Virtual currency that has an equivalent value in real currency, or that
    acts as a substitute for real currency, is referred to as ‘convertible’ virtual
    currency.”
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: “与真实货币等值或有真实货币替代功能的虚拟货币，称为‘可转换’虚拟货币。”
- en: •   “Bitcoin is one example of a convertible virtual currency.”
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: “比特币是可转换虚拟货币的一个例子。”
- en: •   “Bitcoin can be digitally traded between users and can be purchased for,
    or exchanged into, U.S. dollars, Euros, and other real or virtual currencies.”
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: • “比特币可以在用户之间进行数字化交易，并且可以用美元、欧元以及其他真实或虚拟货币购买或兑换。”
- en: 'IRS tax treatment around virtual currency is:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: IRS对虚拟货币的税务处理是：
- en: •   “For federal tax purposes, virtual currency is treated as property. General
    tax principles applicable to property transactions apply to transactions using
    virtual currency.”
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: • “对于联邦税收目的，虚拟货币被视为财产。适用于财产交易的通用税收原则适用于使用虚拟货币的交易。”
- en: •   “A taxpayer who receives virtual currency as payment for goods or services
    must, in computing gross income, include the fair market value of the virtual
    currency, measured in U.S. dollars, as of the date that the virtual currency was
    received.”
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: • “收到虚拟货币作为商品或服务的支付的纳税人，在计算毛收入时，必须包含截至收到虚拟货币当日的虚拟货币的公平市场价值，该价值以美元计算。”
- en: •   “Transactions using virtual currency must be reported in U.S. dollars” on
    the tax return.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: • “使用虚拟货币进行的交易必须在税务申报表上以美元报告。”
- en: •   “Taxpayers will be required to determine the fair market value of virtual
    currency in U.S. dollars as of the date of payment or receipt.”
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: • “纳税人将需要确定截至支付或收到日期虚拟货币的公平市场价值，以美元计算。”
- en: •   “If a virtual currency is listed on an exchange and the exchange rate is
    established by market supply and demand, the fair market value of the virtual
    currency is determined by converting the virtual currency into U.S. dollars …
    at the exchange rate, in a reasonable manner that is consistently applied.”
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: • “如果一种虚拟货币在交易所上市，并且其汇率由市场供求关系决定，该虚拟货币的公平市场价值则通过将虚拟货币兑换成美元来确定……按照汇率，以一致适用的合理方式进行。”
- en: At the state level, senators in Nevada have unanimously backed a proposal that
    would block local authorities from instituting taxes or fees on blockchain use
    (see [www.coindesk.com/nevada-senators-blockchain-tax-ban/](http://www.coindesk.com/nevada-senators-blockchain-tax-ban/)).
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 在州一级，内华达州的参议员一致支持一项提案，该提案将阻止地方当局对区块链使用实施税收或费用（参见[www.coindesk.com/nevada-senators-blockchain-tax-ban/](http://www.coindesk.com/nevada-senators-blockchain-tax-ban/)）。
- en: With respect to money laundering and other illegal monetary transactions, Bitcoin’s
    blockchain has remained somewhat resilient to attack, and it supports a robust
    payment system. But this doesn’t mean the people using this technology are always
    upstanding citizens. Blockchain actions are automated and fall outside of human
    legal action. So, despite their incentive structure flaws, mining pools account
    for more than 95 percent of Bitcoin’s computation power. An adversary with a tiny
    amount of computing power and capital can execute an attack against mining pools
    in which a malicious party pays pool members to withhold their solutions from
    their pool operator (see [https://eprint.iacr.org/2017/230.pdf](https://eprint.iacr.org/2017/230.pdf)).
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 关于洗钱和其他非法货币交易，比特币的区块链对攻击保持一定的抵抗力，并且支持一个健壮的支付系统。但这并不意味着使用这项技术的个人总是品行端正的公民。区块链操作是自动化的，并且不受人类法律行动的约束。因此，尽管他们的激励结构存在缺陷，挖矿池占据了比特币超过95%的计算能力。一个拥有少量计算能力和资本的对手可以对挖矿池发起攻击，其中恶意方支付池成员不将其解决方案提交给池运营商（参见[https://eprint.iacr.org/2017/230.pdf](https://eprint.iacr.org/2017/230.pdf)）。
- en: In 2013, regulatory bodies responsible for preventing financial crimes introduced
    new regulations to bring Bitcoin within the scope of its enforcement. In 2013,
    22 Bitcoin companies and investors were subpoenaed by the New York Department
    of Financial Services (NYDFS), culminating in federal agents shutting down their
    operations. The Silk Road (see [https://silkroaddrugs.org/](https://silkroaddrugs.org/))
    also created a “Bitcoin is for criminals” narrative. The Silk Road illegal marketplace
    was accessible only via the “dark web,” an anonymous network that requires specialized
    software to use, such as the Tor browser. As Silk Road grew in popularity, so
    did recognition that bitcoins could be used for illicit activity, and so did the
    government’s interest in it. The government shut down Silk Road and many other
    bitcoin operations.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 2013年，负责防止金融犯罪的监管机构引入了新的规定，将比特币纳入其监管范围。2013年，纽约州金融服务部（NYDFS）传唤了22家比特币公司和投资者，最终导致联邦特工关闭了他们的业务。《丝绸之路》（参见[https://silkroaddrugs.org/](https://silkroaddrugs.org/)）还创造了一种“比特币是犯罪分子的工具”的叙述。《丝绸之路》非法市场只能通过“暗网”访问，这是一个需要特殊软件才能使用的匿名网络，比如Tor浏览器。随着丝绸之路的流行，越来越多的人认识到比特币可以用于非法活动，政府对其的关注也越来越多。政府关闭了丝绸之路以及许多其他比特币业务。
- en: Lawmakers in West Virginia have deemed it a felony to use bitcoins or other
    cryptocurrencies for money laundering, with an update to the state’s anti–money
    laundering (AML) statutes. The law specifically created a definition for cryptocurrency
    that is recognized as a “monetary instrument” in the state. Striking the right
    balance in these new regulations to promote growth but stifle illegal activity
    is a continuing challenge. See the Uniform Regulation of Virtual-Currency Businesses
    Act ([www.uniformlaws.org/](https://www.uniformlaws.org/)), which will give you
    an idea of how many of these challenges there are.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 西弗吉尼亚州的立法者将使用比特币或其他加密货币进行洗钱定为重罪，这是对州反洗钱法规的更新。该法律专门为加密货币创建了一个定义，这个定义在该州被视为一种“货币工具”。在新法规中找到适当的平衡以促进增长但抑制非法活动是一个持续的挑战。参见统一虚拟货币业务法([www.uniformlaws.org/](https://www.uniformlaws.org/)），这将让你了解到有多少这样的挑战。
- en: As mentioned, one of the key innovations of Bitcoin and other virtual currencies
    is the ability to transact pseudonymously. Most virtual currency transactions
    do not require the transacting parties to know each other, meet face-to-face,
    or directly interact to exchange value. Florida House Bill 1379 (flsenate.gov/Session/Bill/2017/01379)
    defines virtual currency and prohibits its use in laundering criminal proceeds.
    The bill adds the term “virtual currency” to the definition of “monetary instruments”
    under Florida’s Money Laundering Act. The act defines digital currency as a “medium
    of exchange in electronic or digital format that is not a coin or currency of
    the United States or any other country.” Previously, the act only applied money
    laundering to legacy financial transactions of various types, including bank deposits,
    investments, and wire transfers. The resulting outcome is that criminals using
    cryptocurrencies will be charged with money laundering as well as the underlying
    criminal activity. In most countries, financial services need to comply with rules
    pertaining to “know your customer” (KYC) and AML. Over time, blockchains and various
    new payment networks will not be exempt from such requirements. As such, some
    countries have severely restricted or even banned cryptocurrencies.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，比特币和其他虚拟货币的一个关键创新是能够进行匿名交易。大多数虚拟货币交易不需要交易各方相互了解、面对面交流或直接互动来交换价值。佛罗里达州众议院法案1379（[flsenate.gov/Session/Bill/2017/01379](https://flsenate.gov/Session/Bill/2017/01379)）定义了虚拟货币，并禁止其用于洗钱犯罪收益。法案将“虚拟货币”添加到佛罗里达州反洗钱法中“货币工具”的定义中。该法案将数字货币定义为“以电子或数字格式存在的、不是美国或其他任何国家的硬币或货币的交换媒介。”此前，该法案仅将洗钱应用于各种类型的传统金融交易，包括银行存款、投资和电汇。因此，犯罪分子使用加密货币将被指控犯有洗钱罪以及
    underlying 犯罪活动。在大多数国家，金融服务需要遵守与“了解你的客户”（KYC）和反洗钱（AML）相关的规定。随着时间的推移，区块链和各种新的支付网络将不再免除此类要求。因此，一些国家对加密货币实施了严格的限制，甚至禁止使用。
- en: Blockchain and Privacy Laws
  id: totrans-36
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 区块链与隐私法
- en: Blockchain, like any formal ledger, will become the official record for tracking
    the history and validity of transactions and other information. That record will
    effectively be visible to all, even though individual elements of the transactions
    are encrypted and not publicly visible. Here, the division of what information
    is public and what is private on a blockchain is especially interesting.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链，像任何正式的账本，将成为跟踪交易和其他信息历史和有效性的官方记录。这个记录实际上对所有人都是可见的，尽管交易的个别元素是加密的，并不对公众可见。在这里，区块链上哪些信息是公开的，哪些是私人的，这一点尤其有趣。
- en: For example, your passport or other identity information might be securely encrypted,
    but the proof of the validation could be used publicly on a blockchain to prove
    that you are you for purposes of that transaction, without revealing the underlying
    private data. To that end, the startup ObjectTech ([http://objecttechgroup.com](http://objecttechgroup.com))
    provides a digitized passport that incorporates a feature called self-sovereign
    identity for privacy protection, which it claims allows passengers to control
    which parties can view their passport information.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，你的护照或其他身份信息可能已经被安全地加密，但是验证证明可以公开地在一个区块链上使用，以证明在进行那笔交易时你就是你，而无需透露底层的私有数据。为此，初创公司ObjectTech([http://objecttechgroup.com](http://objecttechgroup.com))提供了一种数字化的护照，它包含了一个名为自我主权身份的特性以保护隐私，该公司声称这使得乘客能够控制哪些方可以查看他们的护照信息。
- en: In addition to these typical technology issues, the sale of illegal goods has
    also put a dark cloud over the blockchain cryptocurrency Bitcoin. Public or unpermissioned
    blockchains provide an opportunity for nefarious transactions such as facilitating
    the sale of illegal goods and supporting the ransomware payment model, given the
    anonymous nature of participants. Blockchains could raise challenges where financial
    institutions are forced to comply with certain privacy laws. Some financial organizations
    are required by law to be able to permanently remove data when required to do
    so by a court. As of late 2017, the United States with its patchwork of privacy
    legislation has not determined how blockchain will be regulated. With respect
    to protected health information we are not sure how blockchain technology will
    match with privacy and security rules under the Health Insurance Portability and
    Accountability Act of 1996 (HIPAA/HITECH, U.S. Public Law 104–191). The soon to
    be enacted European privacy “right to be forgotten” laws will also present a challenge.
    Data privacy legislation in Europe as of May 2018 will be dictated by the EU General
    Data Protection Regulation (GDPR). The GDPR’s “right to erasure” presents issues
    that need to be addressed when personal information is stored in blockchain-based
    storage systems like IPFS, which was discussed in [Chapter 3](ch3.xhtml#ch3).
    We will need to consider some of the following issues. Information stored in blockchain
    cannot be altered or deleted once added. Any application will need to address
    how to comply with the data protection principles of accuracy and an individual’s
    right to correct data; see GDPR Rec. 39; Art. 5(1)(e).
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 除了这些典型的技术问题，非法商品的销售也给区块链加密货币比特币带来了阴影。公共或未授权的区块链为恶意的交易提供了机会，例如促进非法商品的销售和支持勒索软件的支付模式，鉴于参与者的匿名性。当金融机构被迫遵守某些隐私法律时，区块链可能会提出挑战。一些金融机构根据法律要求能够在法院要求时永久删除数据。截至2017年底，美国由于隐私立法的零散性，尚未确定如何对区块链进行监管。关于受保护的健康信息，我们还不确定区块链技术将如何与1996年健康保险便携性和责任法案（HIPAA/HITECH，美国公共法104-191）下的隐私和安全规则相匹配。即将实施的欧洲隐私“被遗忘权”法律也将提出挑战。截至2018年5月，欧洲的数据隐私立法将由欧盟通用数据保护条例（GDPR）决定。GDPR的“删除权”提出了需要在个人信息存储在基于区块链的存储系统（如IPFS）时解决的问题，这已在第3章中讨论([ch3.xhtml#ch3)]。我们需要考虑以下一些问题。存储在区块链上的信息一旦添加就不能被更改或删除。任何应用程序都需要解决如何遵守数据保护原则的准确性和个人修正数据的权益；参见GDPR建议39；第5条（1）（e）。
- en: “Personal data must be kept in a form that permits identification of data subjects
    for no longer than is necessary for the purposes for which the personal data are
    processed. Personal data may be stored for longer periods insofar as the data
    will be processed solely for archiving purposes in the public interest, or scientific,
    historical, or statistical purposes in accordance with Art. 89(1) and subject
    to the implementation of appropriate safeguards.”
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: “个人数据必须以允许识别数据主体的形式保持，且保持的时间不应超过处理个人数据的目的所必需的时间。个人数据可以出于公共利益的档案目的或根据第89(1)条以及适当的安全措施进行科学、历史或统计目的存储更长时期。”
- en: Assuming personal information is encrypted before it is written to a blockchain,
    destroying the key renders the data unreadable. Is this enough to comply with
    the GDPR if the data is technically still there? The destruction of a key as an
    erasure for the purposes of the GDPR should probably suffice so long as the destruction
    is done in accordance with best practices and in an auditable way.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 假设在个人信息被写入区块链之前已被加密，销毁密钥将使数据变得不可读。如果技术上数据仍然存在，这足以遵守GDPR吗？只要按照最佳实践并以可审计的方式进行销毁，GDPR目的下的密钥销毁应足够作为数据擦除。
- en: 'Another risk exists where blockchain applications are implemented across multiple
    jurisdictions without a single entity responsible for their operation in any jurisdiction.
    Any application will need to address cross-border data flows, and wider legal
    questions of enforceability, liability, dispute resolution, discovery, and extraterritorial
    application. An amended Rule 41 of the Federal Rules of Criminal Procedure by
    the United States Department of Justice facilitates U.S. law enforcement and intelligence
    agencies to get authorization to hack into Americans computers and electronic
    communications devices. The U.S. has many diplomatic arrangements in place with
    other countries to cooperate in investigations that cross national borders, including
    Mutual Legal Assistance Treaties (MLATs). The new version permits a federal judge
    to approve a single warrant for accessing multiple computers remotely. This amended
    Rule 41 ignores the fact that “remotely” could mean in a different country. This
    clearly has some serious implications for blockchain-based storage services providers
    operating overseas and their customers, as blockchain can be regarded as anonymizing
    technology. This FRCP Rule 41 states:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 当区块链应用程序在多个司法管辖区实施，而没有单个实体负责任何司法管辖区内的运行时，存在另一种风险。任何应用程序都需要解决跨境数据流动问题，以及更广泛的法律问题，如可执行性、责任、争议解决、发现和域外适用。美国司法部通过修改联邦刑事诉讼规则第41条，便利了美国执法和情报机构获得授权，入侵美国公民的计算机和电子通信设备。美国与许多国家建立了多项外交安排，以在跨国调查中进行合作，包括相互法律协助条约（MLATs）。新版允许一名联邦法官批准一个搜查令，远程访问多台计算机。这一修订版的第41条忽略了“远程”可能意味着在另一个国家。这显然对在海外运营的基于区块链的存储服务提供商及其客户有重大影响，因为区块链可以被视为匿名化技术。该FRCP第41条规定：
- en: FEDERAL RULES OF CRIMINAL PROCEDURE
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 联邦刑事诉讼规则
- en: Rule 41\. Search and Seizure
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 规则41。搜查和扣押
- en: '(b) Authority to Issue a Warrant. At the request of a federal law enforcement
    officer or an attorney for the government:(6) a magistrate judge with authority
    in any district where activities related to a crime **may have occurred** has
    authority to issue a warrant to use remote access to search electronic storage
    media and to seize or copy electronically stored information located within or
    outside that district, if:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: (b) 发出搜查令的权力。在联邦执法官员或政府律师的请求下：(6)在任何可能发生犯罪活动的地区具有管辖权的治安法官有权发出搜查令，利用远程访问搜索电子存储介质，并获取或复制位于该地区内或外的电子存储信息，如果：
- en: (A) the district where the media or information is located has been concealed
    through technological means; or
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: (A) 存储介质或信息的所在地区已通过技术手段隐瞒；或
- en: (B) in an investigation of a violation of 18 U.S.C. § 1030(a)(5), the media
    are protected computers that have been damaged without authorization and are located
    in five or more districts.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: (B) 在对18 U.S.C. § 1030(a)(5)的违反行为进行调查时，媒体是未经授权而遭到损坏的受保护计算机，并且位于五个或更多地区。
- en: This rule, effective December 2016, allows law enforcement in the U.S. to circumvent
    probable cause and chain of custody by allowing a federal magistrate judge to
    issue law enforcement a warrant to hack or deploy malware on any number of computers/servers,
    even those tangentially related to their investigations. The only prerequisite
    is that some effort has been taken by the suspected party to obscure the location
    of said computers. Obviously, Tor (“the onion router”) browser users are a prime
    candidate for abuse with this change (see [https://www.torproject.org](https://www.torproject.org)).
    The vague wording and broad application means it could also apply to virtual private
    networks (VPNs), which are the preferred access by banks and businesses to secure
    their critical data. The change is the law enforcement equivalent of a blank check,
    enabling unchecked surveillance to be applied to blockchain-based transactions.
    Tor directs Internet traffic through a free, worldwide, volunteer overlay network
    consisting of more than 7,000 relays to conceal a user’s location and usage from
    anyone conducting network surveillance.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 这项规定自2016年12月起生效，允许美国执法部门绕过合理怀疑和证据链，通过让联邦地方法官签发搜查令，对任何数量的计算机/服务器进行黑客攻击或部署恶意软件，即使这些计算机/服务器与他们正在调查的案件只有间接关联。唯一的前提是，被怀疑方已经采取了一些努力来隐藏这些计算机的位置。显然，Tor（“洋葱路由”）浏览器用户是这种变化后被滥用的主要候选者（参见[https://www.torproject.org](https://www.torproject.org)）。这个含糊其辞且应用广泛的表述意味着它也可能适用于虚拟私人网络（VPNs），这是银行和企业为保护其关键数据所偏好的接入方式。这一变化使得执法部门可以对基于区块链的交易实施无限制的监控，相当于一张空白支票。Tor通过一个由7000多个中继组成的免费、全球、志愿者构成的网络，将互联网流量引导至世界各地，以掩盖用户的地理位置和使用情况，防止任何进行网络监控的人。
- en: In summation, open source protocols that empower individuals to conduct business
    can be targeted by law enforcement. Blockchain and Bitcoin users should take notice
    and issue with these events. Many parallels can be drawn between the current state
    of Tor and Bitcoin. Rule 41 sets a difficult precedent for what the government
    deems acceptable when it comes to other distributed, open source, privacy enabling
    protocols that it has a vested interest in stopping—namely blockchain. This can
    stunt the growth and evolution of blockchain technologies as businesses must assess
    these risks as part of their implementation.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 总之，开放源代码协议可以被执法部门针对，使个人能够进行商业活动。区块链和比特币用户应对这些事件保持警惕。当前Tor和比特币之间存在许多相似之处。规则41树立了一个难以设定的先例，即政府认为在处理其他分布式、开源、隐私保护协议时是可以接受的——尤其是区块链。这可能会阻碍区块链技术的成长和进化，因为企业在实施时必须评估这些风险。
- en: Legal Ramifications of Blockchain Records
  id: totrans-50
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 区块链记录的法律后果
- en: Owing to its stringent encryption techniques, blockchain will have more legal
    bearing in court. Courts have already begun to evaluate computer-generated information,
    albeit in a limited capacity as evidence. In *United States v. Lizarraga-Tirado*,
    the U.S. Federal Court for the Ninth Circuit analyzed the use of a Google Maps
    entry of a crime scene in an immigration case (see 789 F.3d 1107 [9th Cir. 2015]).
    Federal prosecutors introduced as evidence a Google Maps screenshot with a computer-generated
    GPS “thumbtack” stuck to the alleged scene of the defendant’s apprehension within
    U.S. borders.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 由于其严格的加密技术，区块链在法庭上的法律效力将会有所增强。法院已经开始评估作为证据的计算机生成的信息，尽管这种评估能力是有限的。在*美国诉丽萨拉加-蒂拉多*案中，美国第九巡回上诉法院分析了在一个移民案件中使用谷歌地图记录犯罪现场的情况（参见789
    F.3d 1107 [9th Cir. 2015]）。联邦检察官提交了一张带有计算机生成的GPS“图钉”的谷歌地图截图，作为证据，显示了被告在美国边境内被逮捕的地点。
- en: Delaware, the corporate-friendly state, has laid the foundation for companies
    doing business there to use blockchain technology for company record-keeping.
    Delaware General Corporation Law (DGCL) marks a key milestone in the Delaware
    Blockchain Initiative to encourage the use of blockchain technology and smart
    contracts in business (see [http://legis.delaware.gov/BillDetail/25730](http://legis.delaware.gov/BillDetail/25730)).
    The Delaware amendments provide for corporations to keep their “books and records”
    on a blockchain or distributed ledger. Sections 219 and 224 of the DGCL would
    be amended to permit the corporation to rely on the contents of a distributed
    ledger itself as the stock ledger. Vermont bill H868 ([http://legislature.vermont.gov/bill/status/2016/H.868](http://legislature.vermont.gov/bill/status/2016/H.868))
    makes records verified through blockchain technology admissible as evidence in
    court. Laws such as this create a kind of legal backing for blockchain-based information.
    In Nevada, a bill has deemed smart contracts and blockchain signatures acceptable
    records under state law. Nevada Senate Bill 398 specifies, “If a law requires
    a record to be in writing, submission of a blockchain which electronically contains
    the record satisfies the law.”
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 特拉华州，这个对企业友好的州，为在该州开展业务的公司使用区块链技术记录公司信息奠定了基础。特拉华州普通公司法（DGCL）标志着特拉华州区块链倡议的关键里程碑，该倡议鼓励在商业中使用区块链技术和智能合约（参见[http://legis.delaware.gov/BillDetail/25730](http://legis.delaware.gov/BillDetail/25730)）。特拉华州的修正案允许公司将其“账簿和记录”保存在区块链或分布式账本上。DGCL的第219节和第224节将被修改，允许公司依赖分布式账本本身作为股票账本的内容。佛蒙特州的法案H868([http://legislature.vermont.gov/bill/status/2016/H.868](http://legislature.vermont.gov/bill/status/2016/H.868))将通过区块链技术验证的记录作为法庭证据采纳。这样的法律为基于区块链的信息创造了某种法律支持。在内华达州，一项法案将智能合约和区块链签名视为符合州法规定的记录。内华达州参议院法案398具体规定，“如果法律规定记录需要书面形式，提交包含记录的区块链满足该法律。”
- en: As blockchain ledgers and systems become more common, their possible use in
    cases as evidence and discovery becomes more likely. This means lawyers will need
    to know such records exist as well as how to access and handle that evidence—that
    is, what specific information to request.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 随着区块链账本和系统的日益普及，它们作为证据和发现案例的可能用途变得越来越有可能。这意味着律师需要知道这些记录的存在，以及如何获取和处理这些证据——即，需要请求哪些具体信息。
- en: As we mentioned earlier, property ownership is obviously an excellent use case
    for a blockchain application. In many developing countries, wealth is created
    through ownership. Unfortunately, one of the most challenging aspects is determining
    who owns a certain piece of land, and disputes often occur when corrupt governments
    or individuals take advantage of the undereducated.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 如我们之前提到的，财产所有权显然是区块链应用的一个优秀用例。在许多发展中国家，财富是通过所有权创造的。不幸的是，确定某块土地的所有者是最具挑战性的方面之一，而在腐败的政府或个人利用未受教育的人时，争议常常发生。
- en: Having a public blockchain ledger would allow everyone to be aware of who owns
    which parcel of land, and it would make the exchange of ownership much easier
    and more equitable. This streamlined proof of ownership would create a better
    base for authentication, and governments could fairly tax individuals and businesses.
    To understand the potential of a blockchain land registry system, analysts argue
    one must first understand how property changes hands. When a purchaser seeks to
    buy property today, he or she must find and secure the title and have the lawful
    owner sign it over. This search has become more difficult. For a large number
    of residential mortgage holders, flawed paperwork, forged signatures, and defects
    in foreclosure and mortgage documents have marred proper documentation of property
    ownership. The resulting situation means that the property no longer has a “good
    title” attached to it and is no longer legally sellable, leaving the prospective
    buyer in many cases with no remedies. These issues are even more pronounced outside
    the United States. For example, in Haiti, natural disasters, forced evacuations,
    and the corruption of dictatorships have made the prospect of figuring out who
    actually owns the land one lives on impossible. This was remedied by an Ethereum-based
    blockchain (see [https://media.consensys.net/how-blockchain-can-help-haiti-recover-b1657b609ad1](https://media.consensys.net/how-blockchain-can-help-haiti-recover-b1657b609ad1)).
    In the Gaza Strip, land speculation is made problematic by conflicting claims
    by both the Israeli government and the Palestinian Authority, as well as the possible
    intervention of third parties. Blockchain can help. The Republic of Georgia teamed
    with the Bitfury Group ([http://bitfury.com](http://bitfury.com)), a provider
    of blockchain infrastructure, to use the Bitcoin blockchain to validate property-related
    transfers, marking the first time a national government used the Bitcoin blockchain
    to validate and secure government actions. Blockchain technology has also be tapped
    to improve land ownership in developing countries. A team of blockchain technology
    pioneers from Ghana, Denmark, and the U.S. launched the Bitland initiative (see
    [http://landing.bitland.world](http://landing.bitland.world)) to establish usable
    land titles and free up trillions of dollars for infrastructure development in
    West Africa. The Bitland initiative will educate the population about technology
    and provide the benefits of documented land ownership to those who don’t have
    it. It will begin in Ghana and expand throughout Africa, with hopes of catapulting
    infrastructure development and strengthening democracy.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 拥有一个公共区块链账本能让每个人都清楚知道谁拥有哪块土地，这将使土地所有权的交换变得更加容易和公平。这种简洁的所有权证明将为认证提供一个更好的基础，政府可以公平地向个人和企业征税。为了理解区块链土地登记系统的潜力，分析师们认为首先要理解房产是如何易手的。当买家想要今天购买房产时，他或她必须找到并确保产权，并让合法所有者签字转让。这一搜索变得越来越困难。对于大量住宅按揭持有者来说，产权文件存在缺陷，签名被伪造，以及催收和按揭文件中的缺陷，这些都使得房产所有权的正式文件变得不完善。这意味着房产不再附有“清晰产权”的标签，并且不再可以合法出售，在许多情况下，潜在买家没有任何补救措施。这些问题在美国之外更为突出。例如，在海地，自然灾害、强制疏散以及独裁统治的腐败使得弄清楚实际拥有居住土地的人变得不可能。这通过基于以太坊的区块链得到了解决（参见[https://media.consensys.net/how-blockchain-can-help-haiti-recover-b1657b609ad1](https://media.consensys.net/how-blockchain-can-help-haiti-recover-b1657b609ad1)）。在加沙地带，土地投机问题由于以色列政府和巴勒斯坦权力机构的相互冲突主张，以及第三方的可能干预而变得复杂。区块链可以提供帮助。格鲁吉亚共和国与提供区块链基础设施的Bitfury集团合作([http://bitfury.com](http://bitfury.com))，利用比特币区块链验证与房产相关的转让，这是首次有国家政府利用比特币区块链验证和保障政府行为。区块链技术也已被利用来改善发展中国家的土地所有权。来自加纳、丹麦和美国的一队区块链技术先驱发起了Bitland计划（参见[http://landing.bitland.world](http://landing.bitland.world)），以建立可使用的土地产权证书，并释放西非的基础设施发展中的数万亿美元。Bitland计划将教育人口关于技术，并将记录土地所有权的益处提供给那些没有的人。它将始于加纳，并扩展到整个非洲，希望借此推动基础设施发展并加强民主。
- en: 'The Beginning of Autonomous Law: Smart Contract'
  id: totrans-56
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 自主法律的起点：智能合约
- en: 'A computer scientist, legal scholar, and cryptography expert named Nick Szabo
    is credited for developing the concept of a smart contract. He defined a smart
    contract as “a set of promises, specified in digital form, including protocols
    within which the parties perform on these promises.” (See Nick Szabo, “Smart Contracts:
    Building Blocks for Digital Markets,” 1996, [www.alamut.com/subj/economics/nick_szabo/smartContracts.html](http://www.alamut.com/subj/economics/nick_szabo/smartContracts.html).)'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 一位计算机科学家、法学家和密码学专家尼克·萨博（Nick Szabo）因发展智能合约的概念而闻名。他将智能合约定义为“一组以数字形式规定的承诺，包括各方根据这些承诺行事的协议。”（参见尼克·萨博，“智能合约：数字市场的构建模块”，1996年，[www.alamut.com/subj/economics/nick_szabo/smartContracts.html](http://www.alamut.com/subj/economics/nick_szabo/smartContracts.html)。）
- en: So, a smart contract is a computerized algorithm (yet another way of describing
    it), which performs the terms of the contract. However, this definition does not
    differentiate smart contracts from some already well-known contractual constructs
    implementing automated performance, such as vending machines.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，智能合约是一种计算机算法（这是另一种描述方式），它执行合同条款。然而，这个定义并没有区分智能合约和一些已经众所周知的、实现自动化执行的合同结构，如自动售货机。
- en: Vending machines are defined as self-contained automatic machines that dispense
    goods or provide services when coins are inserted or payment by, let’s say, a
    credit card is made. Vending machines are programmed with certain rules and perform
    by these rules.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 自动售货机被定义为当投入硬币或通过信用卡支付时，能自动分发商品或提供服务的独立自动机器。自动售货机用某些规则编程并按照这些规则执行。
- en: If there is no principal difference between vending machines and smart contracts,
    then smart contracts are as old as Roman law itself. In the first century CE,
    a Greek engineer and mathematician, Hero of Alexandria, documented the first vending
    machine in the published journal *Pneumatika*. His machine accepted a drachma
    coin and then dispensed holy water (for the mechanical details, see [www.google.com.pg/patents/US95577400](http://www.google.com.pg/patents/US95577400)).
    Fast-forward to the 1980s. We essentially programmed financial smart contracts
    for Merrill Lynch when Paul and I used designated order turnaround (DOT) to perform
    automated program trading—trades frequently executed not by a trader himself but
    by a computer system based on a trading strategy implemented as a COBOL/C/SQL–based
    program. As of 2014, more than 75 percent of the securities traded on stock exchanges
    originated from automated trading system orders. So, smart contracts per se are
    not new.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 如果自动售货机和智能合约之间没有本质区别，那么智能合约的历史和罗马法一样悠久。公元一世纪，希腊工程师和数学家赫罗·亚历山大在其发表的期刊《Pneumatika》中记录了第一个自动售货机。该机器接受德拉克马硬币，然后分发圣水（有关机械细节，请参见[www.google.com.pg/patents/US95577400](http://www.google.com.pg/patents/US95577400)）。快进到1980年代。当保罗和我使用指定订单转换（DOT）执行自动化程序交易时，我们本质上为梅里尔·林奇编程了金融智能合约——这种交易经常不是由交易员本人执行，而是由基于COBOL/C/SQL程序实现的交易策略计算机系统执行。截至2014年，超过75%的股票交易所交易的证券起源于自动化交易系统订单。所以，智能合约本身并不是什么新鲜事物。
- en: Smart Contract Evolution
  id: totrans-61
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 智能合约的演变
- en: Most of today’s legal contracts are created using word processing templates
    customized by attorneys and other legal professionals. They contain standardized
    legal languages which specify terms and conditions, e.g., manifest within a Word
    document. They rely on third parties for interpretation and enforcement. This
    process is time consuming and redundant. Moreover, if issues occur, the parties
    to the contract rely on arbitrators and the courts to remedy the situation. This
    is also time consuming, as well as hard to predict and expensive. The solution
    is the smart contract—i.e., a computer program that can carry out the contract.
    It contains code (e.g., Ethereum JavaScript Solidity) that is capable of executing
    the terms and conditions of an agreement. The contract code defines the terms
    and conditions as a set of if/then/else syllogisms in the same way that a legal
    document would. The conditions can be validated and confirmed by RPC calls to
    other smart contracts or initially to “off-chain” oracles. In this way smart contract
    code can then be automatically executed on the blockchain. Smart contracts will
    herald the dawn of new attorney and legal professionals who by necessity will
    need to be versed in both law and computer programming.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 今天大多数法律合同都是使用由律师和其他法律专业人士定制的文字处理模板创建的。它们包含标准化的法律语言，用于指定条款和条件，例如，在Word文档中显式表达。它们依赖于第三方进行解释和执行。这个过程既耗时又重复。而且，如果出现问题时，合同各方需要依靠仲裁员和法院来解决问题。这也耗时，而且难以预测且成本高昂。解决方案就是智能合同，即能够执行合同的计算机程序。它包含的代码（例如，以太坊JavaScript
    Solidity）能够执行协议的条款和条件。合同代码将条款和条件定义为一系列if/then/else的三段论，就像法律文件所做的那样。条件可以通过对其他智能合同的RPC调用或最初对“离链”预言机的调用进行验证和确认。这样，智能合同代码就可以在区块链上自动执行。智能合同将预示着法律专业人士新时代的到来，他们有必要同时精通法律和计算机编程。
- en: For example, a contract that automatically calculates the payments that are
    due and the goods to be delivered between the parties, and then automatically
    arranges for those payments to be made and the goods to be delivered, relies on
    software code (see [Figure 4-1](ch4.xhtml#ch4fig1)). The contract terms are expressed
    in logic statements such as if buyer Joe orders a guitar of a particular brand,
    make, and year, which becomes available via seller Gibson, then Joe’s party pays
    money to Gibson’s party’s bank account, and the guitar is delivered to Joe’s home.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，一个合同能够自动计算双方应支付的款项和需交付的商品，并自动安排支付这些款项和交付这些商品（参见[图4-1](ch4.xhtml#ch4fig1)）。合同条款用诸如如果买家Joe订购了特定品牌、型号和年份的吉他，该吉他通过卖家Gibson变得可用，那么Joe方将向Gibson方的银行账户支付款项，并将吉他送到Joe家的逻辑语句表达。
- en: '![Images](fig4-1.jpg)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
  zh: '![Images](fig4-1.jpg)'
- en: '**FIGURE 4-1   Smart contract flow**'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '**图4-1   智能合同流程**'
- en: As we shall see in the next chapters containing smart contract code examples,
    it is critical not only that the code is developed and tested but also that it
    is written with security checks on the identity of the parties.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 如我们在接下来的章节中包含的智能合同代码示例所看到的，代码的开发和测试至关重要，而且它必须包含对各方身份的安全检查。
- en: Smart Contract Components
  id: totrans-67
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 智能合同组件
- en: 'As the smart contract evolves, there initially will be hybrids built with separate
    components: on the blockchain and off the blockchain. Eventually, as blockchain
    technology becomes mature and widely accepted, smart contracts will be on-blockchain-only
    components.'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 随着智能合同的发展，最初将会有采用不同组件的混合型：区块链上和区块链下。最终，随着区块链技术的成熟和被广泛接受，智能合同将仅作为区块链上的组件。
- en: 'Here are some of the possibilities:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一些可能性：
- en: •   Smart contract code, for example, Ethereum Solidity code that is stored,
    verified, and executed on a blockchain.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh:   •   智能合同代码，例如，存储在、验证在、并在区块链上执行的以太坊Solidity代码。
- en: •   Smart legal contracts written as a specification for using smart contract
    code as a complement or complete substitute for legal contracts.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh:   •   作为使用智能合同代码作为补充或完全替代法律合同的智能法律合同。
- en: •   An actual contract may initially be a smart contract and some off-chain
    logic and execution; as the concept evolves it will become a fully blockchain-executed
    smart contract. A very simple contract can be fully automated. Other contracts
    may require both self-executing terms and terms that are outside the software
    code. This is because not all decisions or steps in a contract can be reduced
    to logic statements, especially for complex contracts.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: •   一个实际的合同可能最初是一个智能合同，还有一些链下逻辑和执行；随着概念的发展，它将变成一个完全基于区块链执行的智能合同。一个非常简单的合同可以完全自动化。其他合同可能需要自我执行的条款和软件代码之外的条款。这是因为不是合同中的所有决策或步骤都可以简化为逻辑陈述，特别是对于复杂的合同。
- en: To the dapp programmers, a smart contract is just a well-written program that
    executes the contract, i.e., a contract written in code. They would say all programs
    are really contracts anyway.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 对于dapp程序员来说，智能合同只是一个执行合同的很好写的程序，即用代码编写的合同。他们会说所有的程序本质上是合同。
- en: To lawyers, the concept of a contract has a different meaning. It requires offer
    and acceptance, consideration, and specific terms and conditions. They are hard
    pressed to believe that code can be law.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 对于律师来说，合同的概念有不同的含义。它需要提供和接受、考虑以及具体的条款和条件。他们很难相信代码可以是法律。
- en: Smart Contract Benefits
  id: totrans-75
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 智能合同的好处
- en: Like any new technology, there are benefits and risks to smart contracts. As
    we have seen in [Chapter 1](ch1.xhtml#ch1), the benefit of a distributed blockchain
    is that it provides a more trustworthy ledger than relying on one trusted central
    ledger. With blockchain technology there is more security, traceability, and transparency
    of records and transactions for participants and regulators as well as lower operational
    costs. The combination of smart contracts with blockchain adds certainty, security,
    and resilience. Terms can be verified by independent parties. Moreover, the information
    stored on the blockchain is protected from security threats as it is maintained
    on multiple nodes where more than 51 percent of the nodes would have to be compromised
    before any problematic issue would be manifest.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 像任何新技术一样，智能合同也有利有弊。正如我们在[第1章](ch1.xhtml#ch1)所见，分布式区块链的好处在于它比依赖一个可信的中心账本提供更值得信赖的账本。借助区块链技术，参与者和监管者的记录和交易更加安全、可追溯和透明，同时运营成本也较低。智能合同与区块链的结合增加了确定性、安全性和弹性。条款可以由第三方进行验证。此外，存储在区块链上的信息受到安全威胁的保护，因为它存储在多个节点上，只有超过51%的节点被攻破，才会出现任何问题。
- en: Smart Contract Challenges
  id: totrans-77
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 智能合同挑战
- en: 'The success of blockchain, as we’ll cover in [Chapter 9](ch9.xhtml#ch9), will
    depend on whether it can be implemented practically and which applications are
    proper candidates. Briefly, the key deployment risks and challenges are listed
    here:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链的成功，如我们将在[第9章](ch9.xhtml#ch9)中讨论的，将取决于它是否可以实际实施，以及哪些应用是合适的候选。简单地说，关键的部署风险和挑战如下：
- en: •   **Performance**   The computing resources and performance required for transaction
    processing, validation, and fraud detection will determine which banking, financial,
    and payment services it can best be applied to. Currently blockchain is not performant
    enough to handle thousands of transactions per second. It will be relegated to
    asset transfers that are not time dependent, such as buying/selling a highly traded
    and volatile security.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: •   **性能**   交易处理、验证和欺诈检测所需的计算资源和性能将决定它最适合应用于哪些银行、金融和支付服务。目前区块链的性能还不足以处理每秒数千笔交易。它将被限制在非时间依赖的资产转移上，例如买卖高度交易和波动的证券。
- en: •   **Interoperability**   Ensuring interoperability between different blockchain
    implementations so they can talk to one another. What is the cost to achieve that?
    This will be determined by the alliance groups who will hopefully develop standards.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: •   **互操作性**   确保不同区块链实现之间的互操作性，使它们能够相互通信。实现这一切的成本是多少？这将由联盟集团决定，希望他们能制定标准。
- en: •   **Scalability**   Each node in the particular blockchain network must know
    about every single transaction that occurs globally, which may create a significant
    drag on the network. The goal is to perform all transactions with a higher efficiency,
    but in a way that doesn’t sacrifice the decentralization and security that the
    network provides.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: •   **可扩展性**   特定区块链网络中的每个节点都必须知道全球发生的每一笔交易，这可能会对网络造成重大拖累。目标是提高所有交易的高效性，但以不牺牲网络提供的去中心化和安全为前提。
- en: Smart Contract Risks
  id: totrans-82
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 智能合约风险
- en: The use of evolving smart contracts and blockchain technologies does create
    a number of potential risks, including governance, deployment, risk management,
    regulatory, and legal. These risks and how they are managed fundamentally underpin
    market confidence in the technology. We will discuss them in more detail in the
    sections that follow. To be effective, blockchain and smart contracts require
    standards, i.e., a set of common rules by which all participants operate, in order
    to ensure accuracy and trustworthiness. The decentralized model poses challenges
    when you need to change the rules, because those changes need to be agreed upon
    and accepted by all participants to function consistently. A governance framework
    will be required to implement and operate blockchain as a legal application and
    needs to take into account oversight and monitoring functions, rule setting, and
    acceptance and change control management. Governance in general will be a requirement
    not only for legal but for all technologies that manage information. This transformation
    to some common rules for information governance is not only critical to blockchain
    but to other pursuits like e-discovery and cybersecurity. Governance standards
    around the blockchain (see [http://hbr.org/2017/04/who-controls-the-blockchain](http://hbr.org/2017/04/who-controls-the-blockchain))
    will contribute to market confidence in the technology and the legal and regulatory
    environment. This will accelerate the adoption and success of the smart contract.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 不断发展的智能合约和区块链技术的使用确实带来了一系列潜在风险，包括治理、部署、风险管理、监管和法律风险。这些风险以及如何管理它们从根本上支撑着市场对这项技术的信心。我们将在接下来的章节中更详细地讨论它们。为了有效，区块链和智能合约需要一套标准，即所有参与者都遵循的一套共同规则，以确保准确性和可信度。去中心化模型在需要更改规则时提出了挑战，因为这些更改需要得到所有参与者的同意和接受，才能保持一致的功能。将需要一个治理框架来实施和运行区块链作为一项法律应用，并需要考虑监督和监控功能、规则设置、接受和变更控制管理。一般来说，治理不仅对法律，对所有管理信息的技术都是必需的。这种向信息治理共同规则的转变不仅对区块链至关重要，对电子发现和网络安全等其他追求也同样关键。围绕区块链的治理标准（参见[http://hbr.org/2017/04/who-controls-the-blockchain](http://hbr.org/2017/04/who-controls-the-blockchain)）将有助于提升市场对这项技术和法律及监管环境的信心。这将加速智能合约的采用和成功。
- en: Smart Contract Legal Challenges
  id: totrans-84
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 智能合约法律挑战
- en: Smart contracts also raise a number of interesting and challenging legal questions.
    For starters, has a legally binding contract been formed? As mentioned, the current
    hybrid nature of a smart contract combined with a traditional nonprogrammed or
    manual contract, e.g., Word document with terms and conditions, creates some new
    issues as to its validity. Whether a smart contract is legally binding will depend
    on a number of factors, including the specific use case, the type of smart contract
    being used, and the applicable law.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 智能合约也引发了许多有趣且具有挑战性的法律问题。首先，是否形成了一份具有法律约束力的合同？如前所述，智能合约当前的混合性质，结合了传统非编程或手动合同，例如带有条款和条件的Word文档，使其有效性产生了一些新问题。一个智能合约是否具有法律约束力将取决于多个因素，包括具体的应用场景、所使用的智能合约类型以及适用的法律。
- en: As we have seen, some states like Delaware and Arizona have passed legislation
    to recognize the smart contract. Seeking to avoid any legal uncertainty surrounding
    blockchain transactions and smart contracts relating to certain digital assets,
    in 2017 Arizona passed the amended Arizona Electronic Transactions Act (AETA),
    HB 2417, which includes a very specific definition of blockchain technology as
    a “distributed, decentralized, shared and replicated ledger, which may be public
    or private, permissioned or permission less, or driven by tokenized crypto economics
    or token less” and provides that the “data on the ledger is protected with cryptography,
    is immutable and auditable and provides an uncensored truth.” HB 2417 also includes
    a definition of smart contracts as an “event driven program, with state, that
    runs on a distributed, decentralized, shared and replicated ledger that can take
    custody over and instruct transfer of assets on that ledger.” Forward-thinking
    states like Delaware and Arizona enact such legislation to encourage blockchain
    development in their respective states. That said, the electronic nature of smart
    contracts is unlikely to be a barrier to establishing contractual formation in
    many jurisdictions.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们所看到的，一些州，如特拉华州和亚利桑那州，已经通过了立法来认可智能合约。为了避免围绕区块链交易和与某些数字资产相关的智能合约的法律不确定性，2017年亚利桑那州通过了修订后的亚利桑那州电子交易法（AETA，HB
    2417），其中对区块链技术进行了非常具体的定义，即“分布式、去中心化、共享和复制的账本，可能是公共或私人、受许可或无许可，或由代币化加密经济学或无代币”驱动，并规定“账本上的数据通过加密保护，是不可变的且可审计，并提供未审查的真相。”HB
    2417 还定义了智能合约作为一种“事件驱动程序，具有状态，在分布式、去中心化、共享和复制的账本上运行，可以掌管并指导该账本上的资产转移。”具有前瞻性思维的州，如特拉华州和亚利桑那州，通过此类立法鼓励在本州内发展区块链。话说回来，智能合约的电子性质在许多司法管辖区不太可能成为建立合同形成的障碍。
- en: The legal requirement of “certainty” might not be satisfied easily, as not all
    smart contracts operate in conjunction with natural language contract terms. How
    will the parties to a smart contract get notice of its terms and conditions? When
    will they get to see those terms prior to or after the smart contract is agreed
    and executed? How will we address those contracts that are required by law to
    be in writing? Is computer code a writing? How do we deal with the formal execution
    requirements for deeds, i.e., in writing and signed by specified individuals/roles?
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 法律上对“确定性”的要求可能不容易满足，因为并非所有智能合约都与自然语言合同条款共同运行。各方如何获得智能合约的条款和条件的通知？在智能合约达成和执行之前或之后，他们何时能够看到这些条款？我们如何处理法律要求以书面形式出现的合同？计算机代码是书面形式吗？我们如何处理遗嘱的正式签署要求，即书面并由特定个人/角色签署？
- en: There is a spectrum of possible smart contract models. On the one hand, there
    are those who promote the “code is contract” approach. On the other hand, there
    are those who see smart contracts as consisting of digitizing the performance
    of business logic, e.g., payment, which is happening today and may or may not
    be associated with a natural language contract. In between these two extremes
    a number of permutations are likely to emerge, including, for example, a “split”
    smart contract model under which natural language contract terms are connected
    to computer code via parameters.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 存在可能的智能合约模型的光谱。一方面，有提倡“代码即合约”方法的人。另一方面，有些人认为智能合约是由业务逻辑的数字化组成，例如支付，这正在发生，可能与自然语言合同相关，也可能不相关。在这两个极端之间可能出现许多变体，例如，一个“分离”的智能合约模型，其中自然语言合同条款通过参数与计算机代码连接。
- en: There are jurisdictional variations on whether smart contracts can give rise
    to legally binding contractual relations under the laws of a number of key contracting
    jurisdictions. The answer may vary significantly depending on the jurisdiction.
    Certainty as to what constitutes the contractual terms and whether they are comprehensive
    enough is often a critical factor necessary to establish the formation of a legally
    binding contract in many jurisdictions. Smart contracts that purely digitize a
    process but do not include, or operate in conjunction with, contractual terms
    may not satisfy such requirements.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 关于智能合约能否在多个关键缔约司法管区的法律下产生具有法律约束力的合同关系，存在管辖权差异。答案可能因司法管辖区而显著不同。在许多司法管辖区，合同条款的确定性和是否足够全面通常是建立具有法律约束力的合同形成的关键因素。纯粹数字化流程的智能合约，若不包括或与合同条款共同运行，可能无法满足这些要求。
- en: •   **Enforceability**   Where a smart contract has a legally binding contractual
    effect, the technology within which it is deployed may sometimes give rise to
    problems in relation to legal enforceability. There may be no central administering
    authority to resolve a dispute. Dispute resolution mechanisms could address enforceability
    and jurisdictional variations. Inserting a dispute resolution mechanism into a
    smart contract will be pro forma to address the issues around enforceability and
    jurisdictional variations.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: •  **强制执行**   智能合同具有法律约束力的合同效果时，部署其内的技术有时可能与法律强制执行问题有关。可能没有中央管理当局来解决争议。争端解决机制可以解决执行问题和司法管辖区差异。在智能合同中插入争端解决机制将是形式上的，以解决执行问题和司法管辖区差异的问题。
- en: •   **Transparency**   Blockchain can involve a level of transparency. But what
    if the parties don’t want the details divulged? How do you keep parts of the contract
    private and retain the other benefits of blockchain?
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: •  **透明度**   区块链可以涉及一定程度的透明度。但是，如果各方不想透露细节呢？如何保持合同的某些部分私密，同时保留区块链的其他好处？
- en: •   **Changes** How do you unwind transactions that shouldn’t have happened—for
    example, if there has been duress—or it is a contract that is for some reason
    (or is somewhere) illegal or in breach of regulatory requirements? This has already
    occurred on the Ethereum platform, with a technical “hard fork” response (a split
    in the blockchain where non-upgraded nodes cannot validate blocks created by upgraded
    nodes following new consensus rules).
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: •  **变更**   那么，如何撤销那些本不应该发生的交易——例如，如果存在胁迫——或者是因为某些原因（或是在某些地方）非法或违反监管要求而进行的交易呢？这已经在以太坊平台上发生过，通过技术上的“硬分叉”反应（区块链上的一个分叉，其中未升级的节点无法验证升级节点根据新共识规则创建的区块）。
- en: •   **Coding limitations**   Contracts often deal with the unknown and have
    clauses that aren’t easily reduced to code or that can execute automatically as
    a simple “if this, then that” procedure. Force majeure is a good example. Contracts
    often include concepts of subjective judgment, reasonableness, and acting in good
    faith. These concepts currently cannot be readily translated into logic statements.
    That said, there will be code services that can provide “reasonability” tests,
    which have been used in securities trading for years.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: •  **编码限制**   合同通常涉及未知事项，并包含不易转化为代码的条款，或者可以作为简单的“如果这个，那么那个”程序自动执行。不可抗力就是一个很好的例子。合同通常包括主观判断、合理性和善意行事的概念。这些概念目前无法轻易转化为逻辑语句。话说回来，将会有提供“合理性”测试的代码服务，这些服务已经在证券交易中使用了多年。
- en: •   **Liability for mistake, error, or fraud**   If something does go wrong
    with the execution of the contract and someone suffers a loss, where do they go
    for recourse? We will need a court system that is tech savvy. The courts have
    started to recognize blockchain not only for cryptocurrency but also for how it
    can improve the administration of law. Just as the courts got technical with e-discovery,
    they will need to be able to work with blockchain evidence.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: •  **错误、错误或欺诈的责任**   如果合同的执行出现什么问题，有人遭受损失，他们应该找谁寻求救济？我们需要一个精通技术的法院系统。法院已经开始认可区块链，不仅用于加密货币，还因为它可以改善法律的行政管理。正如法院对电子发现变得技术化一样，他们还需要能够处理区块链证据。
- en: Blockchain as Evidence and Digital Signature
  id: totrans-95
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 区块链作为证据和数字签名
- en: In addition to the benefits, challenges, and risks, for blockchain applications
    to have bearing in the real world, digital signatures need to be as binding as
    pen and paper, and evidence recorded on blockchains needs to be admissible in
    court. Courts have complex rules of evidence about what information can come in
    and in what format. Right now in most legal systems, blockchain evidence can be
    considered but only with the help of expensive expert witnesses to explain what
    it means. This process would eliminate the potential efficiencies gained through
    use of blockchain technology, and would instead increase court costs and decrease
    access to justice.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 除了好处、挑战和风险之外，对于区块链应用要在现实世界中发挥作用，数字签名需要与笔墨纸张一样具有法律约束力，区块链上记录的证据需要在法庭上可采纳。法院关于证据的规则复杂，关于什么信息可以进来以及以什么格式进来有严格要求。目前在大多数法律体系中，区块链证据可以被考虑，但只有在昂贵的专家证人的帮助下才能解释其含义。这个过程将消除通过使用区块链技术获得潜在效率的可能性，反而会增加法庭成本并降低获得正义的机会。
- en: Under U.S. Federal Rule of Evidence 901, “[t]o satisfy the requirement of authenticating
    or identifying an item of evidence, the proponent must produce evidence sufficient
    to support a finding that the item is what the proponent claims it is.” This requirement
    is important to ensure litigants do not try to introduce falsified or tampered
    evidence. How does this work in practice? Typically, transaction and other business
    records can be admitted into court proceedings, but a witness typically must testify
    to authenticate the records. For example, if you are involved in a dispute with
    a security exchange over a trade, the exchange could introduce its computer records
    of your account and trades, but one of its techies would need to testify about
    the authenticity of the data. Thus, transaction records generally require a witness
    to explain what the transaction record is, how it is kept or was generated, and
    what it represents.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 根据美国联邦证据规则901条，“为满足证实或标识证据的要求，主张方必须提供足够的证据来支持这样一个发现：该物品就是主张方声称的那样。”这一要求对于确保诉讼当事人不试图引入伪造或篡改的证据非常重要。那么在实际操作中这是如何进行的呢？通常，交易和其他商业记录可以被提交到法庭程序中，但通常需要证人作证以证实这些记录的真实性。例如，如果你与一家证券交易所就一笔交易发生争议，该交易所可以引入其关于你账户和交易的计算机记录，但它的一名技术人员需要就数据的真实性作证。因此，交易记录通常需要证人解释交易记录是什么，它是如何保持或生成的，以及它代表什么。
- en: On the blockchain, if signature data is kept, it is easier to later authenticate
    the transaction record by referring to the digital signature used to validate
    the transaction. This will help meet the evidentiary requirement that the blockchain
    record “is what the proponent claims it is,” i.e., the blockchain receipt for
    the specific transaction. Not all digital signatures are born equal. Sometimes
    there is a good reason to choose one system over another, like avoiding a system
    that has been poorly designed or modified by a surveilling agency (see [https://privacyinternational.org/node/51](https://privacyinternational.org/node/51)).
    But other times it’s completely arbitrary. Governments have set complicated standards
    for digital signatures to give them the same weight as pen and paper (see [https://www.nist.gov/](https://www.nist.gov/)).
    The process of signing electronic documents is full of friction. As discussed
    earlier, the Arizona Electronic Transactions Act (AETA) stipulates that records
    or signatures in electronic form cannot be denied legal effect and enforceability
    based on the fact that they are in electronic form. There is also a Federal E-Sign
    Act(15 U.S.C. § 7001), which generally provides that a signature, contract, or
    other transaction record may not be deemed invalid or unenforceable solely because
    it is in electronic form. It is to be determined whether the federal statute preempts
    AETA. Under AETA electronic records, electronic signatures and smart contract
    terms secured through blockchain technology and governed under U.C.C. Articles
    2, 2A, and 7 will be considered to be in an electronic form and to be an electronic
    signature. The statute also provides that a contract relating to a transaction
    may not be denied legal effect, validity, or enforceability solely because that
    contract contains a “smart contract term.”
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 在区块链上，如果保留了签名数据，通过参考用于验证交易的数字签名，后来验证交易记录会更加容易。这将有助于满足区块链记录“就是主张方声称的那样”的证据要求，即特定交易的区块链收据。并非所有的数字签名都生来平等。有时选择一个系统而非另一个系统有充分的理由，比如避免一个设计拙劣或被监视机构修改的系统（参见[https://privacyinternational.org/node/51](https://privacyinternational.org/node/51)）。但有时这是完全随机的。政府为数字签名设定了复杂的标准，以赋予它们与笔和纸相同的权重（参见[https://www.nist.gov/](https://www.nist.gov/)）。签署电子文件的过程充满了摩擦。如前所述，亚利桑那州电子交易法（AETA）规定，不能因为记录或签名以电子形式而否认其法律效果和强制执行。还有一部联邦电子签名法（15
    U.S.C. § 7001），通常规定签名、合同或其他交易记录仅因其以电子形式而无效或不可执行。需要确定联邦法规是否取代了AETA。根据AETA，通过区块链技术保障并以U.C.C.第2、2A和7条规定的电子记录、电子签名和智能合同条款将被视为以电子形式存在，并且是电子签名。该法规还规定，与交易有关的合同不得因合同包含“智能合同条款”而否认其法律效果、有效性和强制执行。
- en: The bottom line is that governments are looking to streamline rules of evidence
    to allow blockchain evidence to be deemed admissible without an expert. States
    are leading the way. In addition to Arizona, Vermont passed a bill that creates
    a presumption of admissibility of blockchain records that meet certain requirements.
    Admitted records can be used as evidence of contractual parties or terms, effective
    dates, ownership, money transfers, identity, authenticity of a document, or anything
    else. We can expect to see much more in terms of legal developments in 2018.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 归根结底，政府正在寻求简化证据规则，允许区块链证据无需专家即可被认为是可接受的。各州正引领这一进程。除了亚利桑那州，佛蒙特州也通过了一项法案，该法案创建了对符合某些要求的区块链记录的默认可接受性。被接受的记录可以用作合同各方或条款、生效日期、所有权、金钱转账、身份、文档真实性或其他任何事物的证据。我们预计在2018年将看到更多关于法律发展的情况。
- en: Smart Contract Design Example
  id: totrans-100
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 智能合约设计示例
- en: So we see that smart contract development will require a team of not only Solidity
    and distributed application developers but also business and legal professionals
    knowledgeable in the law and regulation of the blockchain. Let’s design a smart
    contract that is used by affiliate and social media marketing businesses to receive
    compensation for their marketing efforts. They are paid based on campaign performance
    metrics known as CPA and CPC.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们可以看出，智能合约开发将需要一个不仅精通Solidity和分布式应用开发团队，还需要精通法律和区块链法规的业务和法律专业人士。让我们设计一个智能合约，该合约被联盟和社会媒体营销业务使用，以获取他们营销努力的收入。他们是基于被称为CPA和CPC的营销活动表现指标付费的。
- en: CPA (cost per action or cost per acquisition) advertising is performance based
    and is common in the affiliate marketing sector of the business. In this payment
    scheme, the publisher takes all the risk of running the ad, and the advertiser
    pays only for the number of users who complete a transaction, such as a purchase
    or signup. This is the best type of rate to pay for banner advertisements and
    the worst type of rate to charge.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: CPA（按行动成本或按获取成本）广告是基于业绩的，在商业的联盟营销领域中很常见。在这种支付方案中，发布者承担运行广告的所有风险，而广告商仅对完成交易的用户数量付费，比如购买或注册。这是支付横幅广告的最佳类型费率，也是最糟糕的收费类型。
- en: CPC (cost per click) is a payment option that compensates a publisher whenever
    their referred customers click on a link for an advertiser offer. CPC is also
    an Internet-marketing formula used to price banner ads. Some advertisers will
    pay publishers based on the number of clicks a banner gets. We will design a smart
    contract that accesses HitPath performance and payment data so that affiliate
    networks can streamline the entire performance-to-payment cycle for global affiliates
    to reduce friction. HitPath (see [www.hitpath.com/](http://www.hitpath.com/))
    is popular advertising campaign tracking software which maintains a central ledger
    of activity around publishers. [Table 4-1](ch4.xhtml#ch4tab1) depicts a list of
    data rows identifying the publisher, the offer, and whether the hit resulted in
    CPC and CPA. This performance tracking log for HitPath provides the basis for
    payment.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: CPC（按点击成本）是一种支付选项，每当发布者引用的客户点击广告商提供的链接时，就会补偿发布者。CPC也是用于定价横幅广告的互联网营销公式。一些广告商将根据横幅广告获得的点击次数向发布者支付。我们将设计一个智能合约，访问HitPath的表现和支付数据，以便联盟网络可以简化全球联盟的业绩到支付周期的整个流程，以减少摩擦。HitPath（参见[www.hitpath.com/](http://www.hitpath.com/)）是流行的广告活动跟踪软件，维护着关于发布者的活动中心账本。表4-1描绘了一组数据行，标识发布者、广告优惠以及点击是否导致CPC和CPA。HitPath的这种表现跟踪日志为支付提供了基础。
- en: '**TABLE 4-1** **Publisher Performance Tracking Log for HitPath**'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '**表4-1** **HitPath的发布者表现跟踪日志**'
- en: '![Images](tab4-1.jpg)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![Images](tab4-1.jpg)'
- en: We will design a smart contract for the marketers to automatically receive compensation—cryptocurrency,
    USD, or tokens deposited in the wallet account—based on social media advertising
    campaigns that result in CPC or CPA. This will be accomplished and verified by
    using an oracle to access the HitPath performance and payment data. An oracle
    is an agent that finds and verifies real-world occurrences (such as HitPath activity)
    and submits this information to be used by our smart contracts. Smart contracts
    contain value and only unlock that value if certain predefined conditions are
    met, for example, if the publisher’s lead generated CPA or CPC. When a particular
    value is reached, such as the end of the month, the smart contract changes its
    state and executes the programmatically predefined algorithms to determine how
    much to compensate the publisher, automatically triggering an event on the blockchain.
    The primary task of oracles is to provide these values to the smart contract in
    a secure and trusted manner. Blockchains cannot access data outside their network
    on their own. So, in short, oracles provide external data and trigger smart contract
    executions when predefined conditions are met. Oracles are part of multisignature
    contracts where, for example, the original trustees sign a contract for future
    release of funds only if certain conditions are met. Before any funds get released
    an oracle has to sign the smart contract as well (see [Figure 4-2](ch4.xhtml#ch4fig2)).
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将为营销人员设计一个智能合约，以便他们可以自动收到基于社交媒体广告活动而产生的CPC或CPA的补偿——加密货币、美元或存入钱包账户的代币。这将通过使用预言机来访问HitPath性能和支付数据来实现和验证。预言机是一个寻找并验证现实世界事件（如HitPath活动）的代理，并将这些信息提交给我们的智能合约使用。智能合约包含价值，并且只有在满足某些预定义条件时才会解锁这些价值，例如，如果出版商的潜在客户产生了CPA或CPC。当达到特定值时，例如月底，智能合约将改变其状态并执行预定义的算法来确定要补偿出版商多少，自动在区块链上触发一个事件。预言机的主要任务是为智能合约提供这些值，以一种安全和可信的方式。区块链无法自行访问其网络外的数据。因此，简而言之，预言机在外部数据和满足预定义条件时触发智能合约执行。预言机是多签名合同的一部分，例如，原始受托人签署一个合同，只有在满足某些条件时才会释放未来的资金。在释放任何资金之前，预言机必须签署智能合约（参见[图4-2](ch4.xhtml#ch4fig2)）。
- en: '![Images](fig4-2.jpg)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![图片](fig4-2.jpg)'
- en: '**FIGURE 4-2   Advertising smart contract flow**'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '**图4-2   广告智能合约流程**'
- en: We can then take the number of CPA and CPC hits for our tracking period, multiply
    it by the agreed-upon rate, and transfer the payment to the publisher’s address.
    [Figure 4-3](ch4.xhtml#ch4fig3) shows an example contract. We have extrapolated
    the variables from the formal contract language using a web-based user interface.
    [Figure 4-4](ch4.xhtml#ch4fig4) shows the advertising contract header.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以然后取我们跟踪期间的CPA和CPC点击次数，乘以商定的比率，并将支付转至出版商地址。 [图4-3](ch4.xhtml#ch4fig3) 展示了一个示例合同。我们使用基于网页的用户界面从正式合同语言中推断了变量。
    [图4-4](ch4.xhtml#ch4fig4) 展示了广告合同头部。
- en: '![Images](fig4-3.jpg)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
  zh: '![图片](fig4-3.jpg)'
- en: '**FIGURE 4-3   Example contract**'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '**图4-3   示例合同**'
- en: '![Images](fig4-4.jpg)'
  id: totrans-112
  prefs: []
  type: TYPE_IMG
  zh: '![图片](fig4-4.jpg)'
- en: '**FIGURE 4-4   Advertising contract header**'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: '**图4-4   广告合同头部**'
- en: Is an Advertising Payment Application a Blockchain Fit?
  id: totrans-114
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 广告支付应用适合区块链吗？
- en: We will look at a practical application of blockchain technologies by designing
    a smart contract for advertisers to be paid in a smart contract automated way
    from scratch. We will lay out a very basic blockchain automated payment contract
    based on the advertising CPA and CPC we discussed earlier. Later, in [Chapters
    10](ch10.xhtml#ch10) and [11](ch11.xhtml#ch11), we will delve in great detail
    into the description and use of the JavaScript and Ethereum tools needed to create,
    build, and deploy an entire application using Ethereum Solidity. That said, not
    all applications are well suited for blockchain. What would be the advantages
    of using blockchain for our advertiser payment application?
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将从头开始设计一个智能合约为广告商以智能合约自动支付方式支付。我们将根据我们之前讨论的广告CPA和CPC建立一个非常基础的区块链自动支付合同。后来，在[第10章](ch10.xhtml#ch10)和[第11章](ch11.xhtml#ch11)中，我们将详细介绍JavaScript和以太坊工具的描述和使用，这些工具用于使用以太坊Solidity创建、构建和部署整个应用程序。话说回来，并非所有应用程序都适合于区块链。使用区块链对我们广告支付应用的优势是什么？
- en: •   Cryptographically secure authentication
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: • 加密安全身份验证
- en: •   Fast, frictionless, low-fee payments
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: • 快速、无摩擦、低成本的支付
- en: •   A network with 100 percent uptime
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: • 网络运行时间100%
- en: •   Publicly verifiable and guaranteed code transaction execution
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: •   公开可验证和保证的代码交易执行
- en: 'There are no real disadvantages to using blockchain:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 使用区块链没有真正的劣势：
- en: •   The relatively slow blockchain network is not an issue as it is still faster
    than manual billing.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: •   相对较慢的区块链网络不是问题，因为它仍然比手工计费快。
- en: •   The relatively limited transaction rate is not an issue as it is still faster
    than manual billing.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: •   相对有限的交易率不是问题，因为它仍然比手工计费快。
- en: •   Contract code deployment cannot exceed the block gas limit.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: •   Contract code deployment cannot exceed the block gas limit.
- en: 'Let’s take a look now at payment applications. Here are some required features:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们来看看支付应用。以下是所需的一些功能：
- en: •   Frequent payment processing
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: •   频繁的支付处理
- en: •   Handle contracts from multiple countries with different currencies
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: •   处理多国不同货币的合约
- en: •   Provide verifiable and consistent payment execution
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: •   提供可验证和一致的支付执行
- en: These requirements are much better suited to a blockchain solution. One of the
    issues for advertising payment has been moving money around through wires and
    bank transfers. Network publishers must wait three to five business days to deposit
    or withdraw money from their bank accounts and must trust the advertiser site
    with their banking information. The sites in turn must secure this information,
    take appropriate security measures to protect their sites from hacking, and stay
    in compliance with a series of financial regulations in the various countries
    in which they operate. Additionally, transacting in different countries requires
    supporting a variety of different currencies and banks, all of which contribute
    to the complexity of the operation.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 这些要求非常适合区块链解决方案。广告支付的一个问题是通过电线和银行转账移动资金。网络出版商必须等待三到五个工作日才能从银行账户存入或取出资金，并且必须将他们的银行信息交给广告商网站。相应的网站必须保护这些信息，采取适当的网络安全措施以保护其网站免受黑客攻击，并遵守其在运营的各个国家所需遵守的一系列金融法规。此外，在不同国家进行交易需要支持各种不同的货币和银行，所有这些都增加了运营的复杂性。
- en: 'Using a blockchain solution allows advertisers and publishers to transfer money
    across borders easily for international betting sites and have a guarantee that
    their compensation will be paid out in a timely fashion. So we will need some
    functions to effect the contract:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 使用区块链解决方案可以让广告商和出版商轻松地进行跨境转账，为国际博彩网站提供保证，确保他们的报酬能够及时支付。因此，我们需要一些功能来实现合约：
- en: •   createContract(…various contract attributes as depicted in [Figure 4-3](ch4.xhtml#ch4fig3)…)
    will create our contract by pulling the variables specified in [Table 4-1](ch4.xhtml#ch4tab1)
    and instantiating, i.e., breathing life into this contract to be referenced as
    contractid.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: •   createContract(…如图4-3(ch4.xhtml#ch4fig3)所示的各种合约属性…)将通过拉取[表4-1](ch4.xhtml#ch4tab1)中指定的变量并实例化创建我们的合约，即赋予这个合约生命，以供作为contractid引用。
- en: •   setCPAPaymentResult((uint contractid)constant returns (uint)), setCPCPaymentResult((uint
    contractid)constant returns (uint)) will periodically access the HitPath tracking
    data to determine how many CPA/CPC hits we had during the billing period using
    the rate variables specified in [Figure 4-3](ch4.xhtml#ch4fig3) to calculate the
    payment.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: •   setCPAPaymentResult((uint contractid)constant returns (uint)), setCPCPaymentResult((uint
    contractid)constant returns (uint)) 将定期访问HitPath跟踪数据以确定在计费期间我们有多少CPA/CPC点击，使用[图4-3](ch4.xhtml#ch4fig3)中指定的速率变量来计算支付。
- en: •   payContract(uint contractid) will transfer an amount equal to the payment
    from the advertiser’s address to the publisher’s address and send notifications
    to each party that the transaction has been completed.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: •   payContract(uint contractid) 将从广告商的地址转移相当于支付的金额到出版商的地址，并发送通知给各方交易已完成。
- en: Defining Contract Data Structures
  id: totrans-133
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 定义合约数据结构
- en: Before we can start coding our contract, we need to define the necessary data
    structures.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们开始编写合约代码之前，需要定义必要的数据结构。
- en: 'This structure will house all the variables from our contract. See [Table 4-1](ch4.xhtml#ch4tab1)
    and [Figure 4-3](ch4.xhtml#ch4fig3) for a view of these variables from the contract
    and tracking sources. As we shall see in [Chapter 10](ch10.xhtml#ch10), a variable
    can have data types like string, integer, boolean, the address of a blockchain
    wallet account, an array of all these data types, or other structures. See [Figure
    4-3](ch4.xhtml#ch4fig3) for variables. In Ethereum Solidity, it will look something
    like this:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 这个结构将包含我们合约中的所有变量。参见[表4-1](ch4.xhtml#ch4tab1)和[图4-3](ch4.xhtml#ch4fig3)了解从合约中查看这些变量及其跟踪源的视图。正如我们将在[第10章](ch10.xhtml#ch10)中看到的，变量可以有字符串、整数、布尔值等数据类型，区块链钱包账户的地址，这些数据类型的数组或其他结构。参见[图4-3](ch4.xhtml#ch4fig3)中的变量。在以太坊Solidity中，它看起来像这样：
- en: '![Images](p0092-01.jpg)'
  id: totrans-136
  prefs: []
  type: TYPE_IMG
  zh: '![Images](p0092-01.jpg)'
- en: '![Images](p0093-01.jpg)'
  id: totrans-137
  prefs: []
  type: TYPE_IMG
  zh: '![Images](p0093-01.jpg)'
- en: Smart Contract Events
  id: totrans-138
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 智能合约事件
- en: As we shall see in detail later, Solidity events are used to log transaction
    activity to the blockchain. Event logs are less expensive than creating new entries
    in the state tree, so it is a best way to store read-only data. Logs are not accessible
    from within a contract (only variables are), but can be read by external client
    libraries like web3.js (more on this in [Chapter 10](ch10.xhtml#ch10)). Ethereum
    transactions are asynchronous and usually do not mine for 15–30 seconds after
    they have been broadcast to the network. Because of this, transactions cannot
    return values. The only way a transaction can create an output is by modifying
    the state or adding an event log. Client libraries usually parse the logs to determine
    the output of a transaction.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们稍后详细看到的那样，Solidity事件用于将交易活动记录到区块链上。与在状态树中创建新条目相比，日志记录成本较低，因此它是存储只读数据的最佳方式。日志不能从合约内部访问（只能访问变量），但可以被web3.js等外部客户端库读取（关于这方面的更多信息请参见[第10章](ch10.xhtml#ch10)）。以太坊交易是异步的，通常在它们被广播到网络后15-30秒内不会挖掘。正因为如此，交易不能返回值。交易创建输出的唯一方式是修改状态或添加事件日志。客户端库通常解析日志以确定交易的结果。
- en: A Solidity event is a schema for logs. Logs are automatically indexed by contract
    address and event type for efficient querying. In addition, Solidity events allow
    you to define three custom indexed fields. Only indexed fields can be queried
    when parsing logs.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: Solidity事件是日志的架构。日志会根据合约地址和事件类型自动索引，以便高效查询。此外，Solidity事件允许您定义三个自定义索引字段。在解析日志时，只有索引字段可以查询。
- en: '![Images](p0093-02.jpg)'
  id: totrans-141
  prefs: []
  type: TYPE_IMG
  zh: '![Images](p0093-02.jpg)'
- en: There is an event associated with each of the major state modifications that
    can occur in our contract. Together, they provide a history of the actions taken
    by the contract on the blockchain.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 每个主要的状态修改事件都与我们的合约相关联，它们共同构成了合约在区块链上执行动作的历史记录。
- en: Smart Contract Functions
  id: totrans-143
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 智能合约函数
- en: Let’s create a list of the functions we will be defining in our application.
    Functions, like variables, can be either public or private. Public functions can
    be accessed by other contracts and client libraries and are listed as part of
    the application binary interface (ABI), which is basically how you call functions
    in a contract and get data back. Private functions are only accessible by other
    functions in the same contract. Web3.js is Ethereum’s JavaScript API to interact
    with the Ethereum node. It contains a host of modules to facilitate blockchain
    functionality.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们创建一个我们将要在应用程序中定义的函数列表。函数和变量一样，可以是公共的或私有的。公共函数可以被其他合约和客户端库访问，并作为应用程序二进制接口（ABI）的一部分列出，这是调用合约中的函数并获取数据回调的基本方式。私有函数只能被同一个合约中的其他函数访问。Web3.js是用于与以太坊节点交互的以太坊JavaScript
    API。它包含了一系列模块，以促进区块链功能。
- en: '![Images](p0093-03.jpg)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![Images](p0093-03.jpg)'
- en: 'When we get an ABI, and have saved it in a separate file abi.js, we can load
    it from the application into the abiArray variable. We also need the smart contract
    address, in the advertiserContract variable. We can then get hold of a JavaScript
    instance for the contract:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们得到一个ABI，并将其保存在一个单独的文件abi.js中时，我们可以将其从应用程序加载到abiArray变量中。我们还需要智能合约地址，在advertiserContract变量中。然后我们可以获取到该合约的JavaScript实例：
- en: '![Images](p0094-01.jpg)'
  id: totrans-147
  prefs: []
  type: TYPE_IMG
  zh: '![Images](p0094-01.jpg)'
- en: Once we have our web3 object, we can start calling some APIs to find out what
    is going on in the blockchain, like getting your balance in wei and converting
    it to ether.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦我们有了web3对象，我们就可以调用一些API来了解区块链上发生了什么，比如获取你的以太币余额并以wei为单位转换。
- en: In addition, there are constant functions that read from, but do not modify,
    the blockchain. Public constant functions return immediately with their result,
    do not send a transaction to the network, and do not consume any gas when called.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，还有一些常量函数只从区块链读取，但不修改区块链。公共常量函数立即返回其结果，不发送交易到网络，并且在调用时不会消耗任何燃料。
- en: 'Here are the public functions we will need:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是我们将需要的公共函数：
- en: '![Images](p0094-02.jpg)'
  id: totrans-151
  prefs: []
  type: TYPE_IMG
  zh: '![Images](p0094-02.jpg)'
- en: 'Once the contract has been created, we emit a ContractCreated event to log
    the state modification we just made and return a variable to indicate that there
    were no errors. You will probably need some public constant functions such as:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦合约被创建，我们将发出一个ContractCreated事件来记录我们刚刚执行的状态修改，并返回一个变量以指示没有错误发生。你可能需要一些公共常量函数，如：
- en: '![Images](p0094-03.jpg)'
  id: totrans-153
  prefs: []
  type: TYPE_IMG
  zh: '![Images](p0094-03.jpg)'
- en: Once a number of contracts have been created, we need to be able to identify
    active contracts.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦创建了一定数量的合约，我们需要能够识别活跃的合约。
- en: 'In addition, we will be defining some private functions for our own internal
    use:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，我们还将定义一些仅供我们内部使用的私有函数：
- en: '![Images](p0094-04.jpg)'
  id: totrans-156
  prefs: []
  type: TYPE_IMG
  zh: '![Images](p0094-04.jpg)'
- en: '`getContractById` is a helper function we will use to get a pointer to a specific
    contract.'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: '`getContractById`是我们将使用的一个辅助函数，用于获取对特定合约的指针。'
- en: '`payContract(uint contract_id) private`'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '`payContract(uint contract_id) private`'
- en: Constant functions return a value whose type must be specified with the syntax
    above.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 常量函数返回一个类型必须在上面的语法中指定的值。
- en: 'So our advertiser smart contract will:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们的广告商智能合约将会：
- en: '•   Execute the `createContract` for each publisher we do business with:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: •   为每个与我们做生意的出版商执行`createContract`：
- en: '`createContract(…)`'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: '`createContract(…)`'
- en: '•   Calculate how many CPAs and CPCs occurred for this publisher during the
    current month:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: •   计算该出版商在当前月份发生的CPA和CPC数量：
- en: '![Images](p0095-01.jpg)'
  id: totrans-164
  prefs: []
  type: TYPE_IMG
  zh: '![Images](p0095-01.jpg)'
- en: '•   Compensate each affiliate for CPAs and CPCs that occurred for this publisher
    during the current month:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: •   为该出版商在当前月份发生的每笔CPA和CPC补偿每个联盟成员：
- en: '![Images](p0095-02.jpg)'
  id: totrans-166
  prefs: []
  type: TYPE_IMG
  zh: '![Images](p0095-02.jpg)'
- en: The application will probably have a web-based front end and will require MetaMask,
    an extension for accessing Ethereum-enabled distributed applications, or dapps
    in your normal Chrome browser. The extension injects the Ethereum web3 API into
    every website’s JavaScript context, so that dapps can read from the blockchain.
    MetaMask also lets the user create and manage their own identities, so when a
    dapp wants to perform a transaction and write to the blockchain, the user gets
    a secure interface to review the transaction before approving or rejecting it
    (see [Figure 4-5](ch4.xhtml#ch4fig5)).
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 该应用程序可能需要一个基于网页的前端，并且需要MetaMask，一个用于访问以太坊启用分布式应用的扩展程序，或者dapps，在你的普通Chrome浏览器中。这个扩展程序将以太坊web3
    API注入到每个网站的JavaScript上下文中，这样dapps就可以读取区块链。MetaMask还允许用户创建和管理他们自己的身份，所以当一个dapp想要执行一个交易并写入区块链时，用户可以通过一个安全的界面来审查交易，然后再批准或拒绝它（见[图4-5](ch4.xhtml#ch4fig5)）。
- en: '![Images](fig4-5.jpg)'
  id: totrans-168
  prefs: []
  type: TYPE_IMG
  zh: '![Images](fig4-5.jpg)'
- en: '**FIGURE 4-5   Advertising contract oracle flow**'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: '**图4-5   广告合约预言机流程**'
- en: This smart contract design must be coded to handle the functionality we enumerated
    here. In [Chapters 10](ch10.xhtml#ch10) and [11](ch11.xhtml#ch11), we will detail
    and illustrate an entire application (betting) from the development setup all
    the way to production implementation, with explanations of the coding and execution
    as well as a web-based front end.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 这个智能合约设计必须编写以处理我们在这里列举的功能。在[第10章](ch10.xhtml#ch10)和[第11章](ch11.xhtml#ch11)中，我们将详细说明并展示一个完整的应用程序（投注），从开发设置到生产实施，包括代码编写和执行的解释以及基于网页的前端。
- en: Smart Contracts in Practice
  id: totrans-171
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 智能合约实践
- en: As we have seen in the previous sections of this chapter, there is confusion
    about what a smart contract means as well as its enforceability and evolving jurisdictional
    issues. Technologists come up with a programmable component that has the word
    “contract” in its name, and lawyers are intrigued and want to get involved in
    this new form of business and contract execution. Drafting actual standalone contracts
    is not what developers want to do. Developers build platforms and applications
    (see [http://consensys.net/ventures/spokes/](http://consensys.net/ventures/spokes/)
    for an array of existing applications). Smart contracts are just components. The
    traditional work of lawyers who draft contracts will change with widespread adoption
    of smart contracts. The new world where lawyers draft smart contracts will involve
    a team of legal and technology professionals. The makeup of these teams and the
    new contract development life cycle are incubating as we speak.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们在这章的前几节所看到的，对于智能合约的含义以及其执行力和不断发展的司法问题存在混淆。技术人士提出了一个带有“合同”一词的可编程组件，律师们感到好奇并希望参与这种新的商业和合同执行形式。起草实际的独立合同并不是开发者想要做的事情。开发者构建平台和应用程序（见[http://consensys.net/ventures/spokes/](http://consensys.net/ventures/spokes/)，了解一系列现有的应用程序）。智能合约只是组件之一。随着智能合约的广泛采用，起草合同的传统律师工作将会改变。在律师起草智能合约的新世界中，将涉及法律和技术专业人士的团队。这些团队的构成和新的合同开发生命周期正在孵化中。
- en: Decentralized Autonomous Organizations
  id: totrans-173
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 去中心化自治组织
- en: 'A decentralized autonomous organization (DAO), also known as a decentralized
    autonomous corporation (DAC), is an organization that is run through rules encoded
    as smart contracts. A DAO’s financial transaction record and program rules are
    maintained on a blockchain. The concept of a DAO entity is initially introduced
    in a document. There are several examples of this business model (see [http://download.slock.it/public/DAO/WhitePaper.pdf](http://download.slock.it/public/DAO/WhitePaper.pdf)).
    The use of blockchain, smart contracts, and DAOs raises significant legal issues.
    As these blockchain-based technologies become widely used, we will need laws and
    regulations to provide a legal framework within which blockchain can be utilized.
    As developers in this new paradigm, we need to understand these issues so we can
    build compliant blockchain applications. Some developing legal issues are as follows:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 去中心化自治组织（DAO），也被称为去中心化自治公司（DAC），是一种通过编码为智能合约的规则来运行的组织。DAO的财务交易记录和程序规则保存在区块链上。DAO实体的概念最初是在一份文档中引入的。这种商业模式有几个例子（见[http://download.slock.it/public/DAO/WhitePaper.pdf](http://download.slock.it/public/DAO/WhitePaper.pdf)）。区块链、智能合约和DAO的使用引发了重大的法律问题。随着这些基于区块链的技术得到广泛应用，我们将需要法律和法规来提供一个法律框架，以便在框架内利用区块链。作为这个新范式中的开发者，我们需要了解这些问题，这样我们才能构建符合规定的区块链应用程序。一些正在发展中的法律问题如下：
- en: •   When servers are decentralized and located around the globe, we will need
    to consider jurisdiction where a breach or failure occurred and then apply cross-border
    laws, which may cause expensive resolutions that undermine blockchain benefits.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: • 当服务器是去中心化和全球分布时，我们需要考虑在违反或失败发生时的司法管辖区，并适用跨境法律，这可能导致破坏区块链优势的昂贵解决方案。
- en: •   When the entity is essentially self-governing software engaging in or facilitating
    commerce, what legal status will attach to DAOs? Are they simple corporations
    or something else?
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: • 当实体基本上是自我管理的软件，从事或促进商业活动时，DAO将附有什么法律地位？它们是简单的公司还是别的什么？
- en: •   What, if any, is the liability of DAOs and their creators? Who or what is
    claimed against in the case of a legal dispute?
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: •  DAO及其创建者的责任是什么，如果有责任的话？在法律争端中针对谁或什么？
- en: Additionally, DAOs render traditional concepts of ownership and liability obsolete.
    However, we consider that this perhaps more futuristic view ignores the reality
    that coding may suffer from errors or hosting platforms may fail. What about the
    impacts of fraud at any point in the DAO’s creation or operation? How will the
    courts and regulators allow the wholesale adoption of technology that bypasses
    established oversight?
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，DAO使传统的所有权和责任概念过时。然而，我们认为这种或许更加未来的观点忽略了编码可能出现错误或托管平台可能失败的实际情况。关于DAO在其创建或运营过程中的任何欺诈行为的影响如何？法院和监管机构将如何允许全面采用绕过现有监督的技术？
- en: On July 25, 2017, the U.S. Securities and Exchange Commission (SEC) issued a
    statement on the regulatory significance of offers and sales of digital assets
    carried out using distributed ledger or blockchain technology (see [http://sec.gov/news/press-release/2017-131](http://sec.gov/news/press-release/2017-131)).
    That statement followed the SEC’s Report of Investigation into the DAO, an unincorporated
    organization designed to issue tokens administered on a distributed ledger that
    would allow the holder to share in the anticipated earnings of the organization.
    The DAO and its structure drew a great deal of attention after a hacker stole
    approximately one-third of its assets.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 2017 年 7 月 25 日，美国证券交易委员会（SEC）就使用分布式账本或区块链技术进行的数字资产的提供和销售发表了监管意义声明（参见 [http://sec.gov/news/press-release/2017-131](http://sec.gov/news/press-release/2017-131)）。该声明是在
    SEC 对一个名为 DAO 的未注册组织的调查报告之后发表的，该组织旨在通过分布式账本发行代币，允许持币者分享组织的预期收益。在一名黑客窃取了其资产的大约三分之一之后，DAO
    及其结构引起了广泛关注。
- en: 'The investigation raised questions regarding the application of U.S. federal
    securities laws to the offer and sale of DAO tokens, including the threshold question
    of whether DAO tokens are securities. Based on the investigation, and under the
    facts presented, the commission determined that DAO tokens are securities under
    the Securities Act of 1933 and the Securities Exchange Act of 1934\. The report
    reiterates these fundamental principles of the U.S. federal securities laws and
    describes their applicability to a new paradigm—virtual organizations or capital-raising
    entities that use distributed ledger or blockchain technology to facilitate capital
    raising and/or investment and the related offer and sale of securities. The automation
    of certain functions through this technology, smart contracts, or computer code
    does not remove conduct from the purview of the U.S. federal securities laws.
    See “Report of Investigation Pursuant to Section 21(a) of the Securities Exchange
    Act of 1934: The DAO,” [https://sec.gov/litigation/investreport/34-81207.pdf](https://sec.gov/litigation/investreport/34-81207.pdf).'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 调查引发了关于美国联邦证券法在 DAO 代币的提供和销售中的适用问题的疑问，包括 DAO 代币是否属于证券的根本问题。基于调查，并在呈现的事实基础上，委员会确定
    DAO 代币根据 1933 年证券法和 1934 年证券交易法属于证券。该报告重申了美国联邦证券法的这些基本原则，并描述了它们适用于一个新的范例——使用分布式账本或区块链技术的虚拟组织或资本筹集实体，以促进资本筹集和/或投资及相关证券的提供和销售。通过这项技术、智能合约或计算机代码自动化某些功能并不会将行为排除在美国联邦证券法之外。参见“根据
    1934 年证券交易法第 21(a) 节进行的调查报告：DAO，”[https://sec.gov/litigation/investreport/34-81207.pdf](https://sec.gov/litigation/investreport/34-81207.pdf)。
- en: DAO and Jurisdiction
  id: totrans-181
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: DAO 与司法管辖权
- en: A DAO can cross jurisdictional boundaries as the nodes on a blockchain can be
    located in any country in the world. This poses complex jurisdictional issues
    which will require specialized consideration by lawyers versed in each country’s
    law and the relevant contractual relationships. The principles of contract and
    title differ across jurisdictions and therefore identifying the appropriate governing
    law will be a first step in designing and implementing a DAO. In a decentralized
    environment, it will be critical to identify the appropriate set of rules to apply.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: DAO 能够跨越司法管辖区边界，因为区块链上的节点可以位于世界上的任何国家。这带来了复杂的司法管辖问题，这需要熟悉每个国家法律和相关的合同关系的律师进行专门的考虑。合同和所有权原则在各个司法管辖区之间有所不同，因此确定适当的管辖法律将是设计和实施
    DAO 的第一步。在去中心化环境中，确定适当的规则集将至关重要。
- en: For starters, every transaction could potentially fall under the jurisdiction
    of the location of every node in the network. This could result in the blockchain
    needing to be compliant with a large number of legal and regulatory regimes. Some
    design constraints need to be identified early to facilitate the development of
    a DAO. In the event a fraudulent or erroneous transaction is made, pinpointing
    its location within the blockchain will be an important security consideration.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，网络中每个节点所在位置的司法管辖权都可能覆盖到每笔交易。这可能导致区块链需要符合大量的法律和监管体系。为了促进 DAO 的发展，需要早期确定一些设计约束。如果在区块链中发生了一笔欺诈或错误交易，确定其在区块链中的位置将是重要的安全考虑。
- en: The inclusion of an exclusive governing law and jurisdiction clause is therefore
    essential. It should ensure that a DAO member has legal certainty as to the law
    to be applied to determine the rights and obligations of the parties to the agreement
    and which courts will handle any disputes. One vendor, Aragon ([https://blog.aragon.one](https://blog.aragon.one)),
    has developed a DAO arbitration mechanism, which will be fully operational in
    2018 (see [Figure 4-6](ch4.xhtml#ch4fig6)).
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，包含一个独家管辖法律和司法条款是非常必要的。它应该确保DAO成员在确定协议各方权利和义务适用的法律以及处理任何争议的法院方面有法律确定性。一家供应商，阿拉贡（[https://blog.aragon.one](https://blog.aragon.one/)），已经开发了一种DAO仲裁机制，该机制将于2018年全面投入运行（参见[图4-6](ch4.xhtml#ch4fig6)）。
- en: '![Images](fig4-6.jpg)'
  id: totrans-185
  prefs: []
  type: TYPE_IMG
  zh: '![Images](fig4-6.jpg)'
- en: '**FIGURE 4-6   Aragon arbitration mechanism**'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: '**图4-6   阿拉贡仲裁机制**'
- en: The Aragon Network Jurisdiction requires an individual who has a dispute to
    open a case and post a bond. The bond will be locked for the period of the arbitration
    process and returned if resolved in favor. If not in favor, the bond will be kept
    as a network reserve. Only applicants who have a legitimate reason for dispute
    will post a bond. In extreme cases, there may be cause to freeze operations of
    the organization—for example, when all stakeholder funds are at risk. Any organization
    shareholder can raise an issue if the company’s contracts are frozen and moved
    to a state of review. When an arbitration begins, five judges will be randomly
    selected from a pool of individuals who have posted a bond indicating their interest
    in serving as a judge. The judges will vote on the final judgment of the case
    for this round. If the applicant is unsatisfied with the ruling of the decentralized
    court, they have the option to elevate the issue to the next realm. This is done
    by posting an even larger bond than before. For this round of court, Aragon uses
    a prediction market where all the judges of the network can take part, providing
    the applicant with a much larger audience.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 阿拉贡网络司法区要求有争议的个人开启一个案件并缴纳保证金。保证金将在仲裁过程期间锁定，如果仲裁结果对其有利，则返回；如果不利，则作为网络储备金保留。只有有合法争议理由的申请者才会缴纳保证金。在极端情况下，可能有理由冻结组织的运营，例如，当所有利益相关者的资金面临风险时。任何组织股东如果公司的合同被冻结并处于审查状态，都可以提出问题。当仲裁开始时，将从表明有兴趣担任法官的已缴纳保证金的人员池中随机选出五名法官。法官们将就该案的最终判决进行投票。如果申请者对去中心化法院的裁决不满意，他们可以选择将问题提交到下一个领域。这需要缴纳比之前更大的保证金。在这一轮法院中，阿拉贡使用了一个预测市场，网络中的所有法官都可以参与，为申请人提供了一个更大的受众群体。
- en: If the applicant still finds the issue unsatisfactory, there is the supreme
    court of the Aragon Network Jurisdiction composed of the top nine judges by ANJ
    payout—in other words, these are the individuals with the highest ranking in resolving
    Aragon Network Jurisdiction cases. This time the judgment will be final with no
    appeal process. The judges of the previous round will be rewarded or penalized
    according to the ruling of the supreme court. If the supreme court agrees with
    the previous round’s judges, the judges from that round will be rewarded. The
    judges of that round are penalized for a call that was overturned. The Aragon
    Network Jurisdiction purports to provide the tools needed to solve all issues
    that are not accounted for in the smart contract code. It creates an incentive
    for Aragon organizations to join and take part in the network. All parties that
    want to interact with an organization are guaranteed that, in the case of a breach
    of trust not covered by the contract, their issue will be resolved. Also, if a
    bug is discovered that threatens the organization’s existence, it can be stopped
    by opening an arbitration that freezes all activity until the issue is resolved.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 如果申请者仍然认为问题不令人满意，可以向由ANJ支付最高九名法官组成的阿拉贡网络司法区最高法院提出上诉——换句话说，这些是解决阿拉贡网络司法区案件排名最高的人。这次判决将是最终的，没有上诉过程。前一轮的法官将根据最高法院的裁决受到奖励或惩罚。如果最高法院同意前一轮法官的裁决，那么前一轮的法官将得到奖励。如果最高法院推翻了那一轮的裁决，那一轮的法官将被处罚。阿拉贡网络司法区旨在提供解决智能合约代码中未涵盖的所有问题的工具。它为加入并参与网络的阿拉贡组织创造了激励。所有希望与组织互动的各方都有保证，在合同未涵盖的信任违约情况下，他们的问题将得到解决。此外，如果发现一个威胁组织生存的错误，可以通过开启一个冻结所有活动的仲裁来阻止它，直到问题解决。
- en: DAO Service-Level Liability
  id: totrans-189
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: DAO服务级别责任
- en: An important aspect of DAO adoption is the willingness of vendors (like Aragon)
    to commit to performance assurances and service-level metrics. This will depend
    on considerations such as the vendor risk/reward profile, the service delivery
    model, and the “multiplication factor” of accepting significant liability for
    multiple customers at the same time. This is likely to mean vendors preferring
    to offer the technology and service on an almost “as is” basis, with a limited
    availability service level, and excluding warranties regarding performance of
    the services, leaving customers without any assurance that the technology will
    function as described or the service be reliable and available. For users who
    are utilizing the service as part of their business, this is unlikely to be an
    acceptable proposal. The balance of performance risk will therefore be a key issue.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 去中心化自治组织（DAO）的采用的一个重要方面是供应商（如Aragon）愿意承诺性能保证和服务水平指标。这取决于诸如供应商风险/回报概况、服务交付模型和同时为多个客户提供重大责任的风险“放大因子”等因素。这可能导致供应商更倾向于以几乎“现状”的形式提供技术和服务，提供有限的服务水平，并排除对服务性能的保证，使客户没有保证技术将按描述运行或服务将是可靠和可用的。对于将该服务作为业务一部分使用的用户来说，这可能不是一个可接受的提议。因此，性能风险的平衡将是关键问题。
- en: DAO Liability for Contract Breach
  id: totrans-191
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 去中心化自治组织（DAO）违反合同的责任
- en: 'The risk to customers of a systemic issue with trading related infrastructure
    such as blockchain could be material if trades are not settled or are settled
    incorrectly. Likewise, the risk relating to security and confidentiality will
    be toward the top of the risk issues for any prospective customer. Blockchain
    poses different risks because of the technology and manner of operations: one
    of the main issues affecting public blockchain is the inability to control and
    stop its functioning. In case of a private blockchain, the lack of control on
    the functioning of the platform does not apply, but whether this would be sufficient
    to trigger a liability of the company managing the platform has not yet been tested.
    So the allocation and attribution of risk and liability in relation to a malfunctioning
    blockchain service must be thought through carefully, not just at the vendor/customer
    level but between all relevant participants, in particular the parties affected
    by the issues.'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 如果交易相关的基础设施如区块链出现系统问题，客户的风险可能会很大，如果交易没有结算或结算不正确。同样，与安全和保密性相关联的风险将是任何潜在客户风险问题中的重中之重。由于区块链的技术和运作方式不同，它带来了不同的风险：影响公共区块链的主要问题之一是无法控制和停止其运行。在私有区块链的情况下，平台运行的控制不足的问题不适用，但这种不足是否足以触发管理该平台的公司责任尚无定论。因此，在区块链服务出现故障时，必须仔细思考与风险和责任分配相关的问题，不仅是在供应商/客户层面，而且是在所有相关参与方之间，特别是受到问题影响的各方。
- en: DAO and Intellectual Property
  id: totrans-193
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 去中心化自治组织（DAO）与知识产权
- en: There is value in the blockchain. The ownership of the intellectual property
    (IP) will form an important consideration. Given the amount of investment and
    the potential financial returns of blockchain technology, vendors will have to
    determine their IP strategy. Vendors will likely want to capitalize on any other
    commercial benefits to be generated from the blockchain, including commercialization
    of the underlying dataset. To the extent the dataset relates to the users, this
    will be a carefully negotiated area. Likewise, what of specific developments or
    solutions that overlay the core, developed to meet a customer’s specific requirements?
    Possible IP options are no different from any other software development agreement
    and are likely to hinge on whether those specific requirements could give a customer
    a competitive edge and/or can be used by the blockchain vendor with another customer
    or by the customer with another blockchain vendor. Depending on the answer to
    these questions, a customer may insist on ownership of such developments or may
    only be willing to license them for the term of the agreement. A customer might
    restrict the vendor’s ability to use such developments in some way based upon
    time, use, recipient, or a combination of all three. An “open innovation” approach
    is prevalent throughout fintech. Financial organizations are working toward a
    viable blockchain proof of concept and are developing a lot of code in-house.
    Traditionally, financial organizations have expected to own the IP in any software
    they develop. However, there appears to be a realization that technology will
    have to be shared in order for real value to be gained.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链技术具有价值。知识产权（IP）的所有权将是一个重要的考量因素。考虑到区块链技术的投资规模和潜在的金融回报，供应商必须确定其IP策略。供应商可能希望利用区块链产生的任何其他商业效益，包括底层数据集的商业化。至于数据集与用户相关联的程度，这将是一个需要谨慎谈判的区域。同样，那些覆盖核心的、为满足客户特定需求而开发的具体发展或解决方案又如何呢？可能的IP选项与其他任何软件开发协议无异，并且可能取决于这些特定需求是否能够给客户带来竞争优势，以及/或者区块链供应商能否将这些需求用于另一客户或由客户使用另一区块链供应商。根据这些问题的答案，客户可能会坚持拥有这些发展成果，或者可能只愿意在协议期间对其进行许可。客户可能会根据时间、使用情况、收件人，或这三者的结合，限制供应商使用这些发展成果的能力。在金融科技领域，“开放创新”方法普遍存在。金融机构正在努力实现可行的区块链概念验证，并在内部开发大量代码。传统上，金融机构期望拥有他们开发的任何软件的IP。然而，似乎有一种认识，即为了实现真正的价值，技术必须共享。
- en: DAO and Who or What Is Responsible
  id: totrans-195
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 去中心化自治组织（DAO）及责任归属
- en: DAOs are essentially online, digital entities that operate through the implementation
    of precoded rules. These entities often need minimal to zero input into their
    operation, and they are used to executing smart contracts and recording activity
    on the blockchain.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 去中心化自治组织（DAO）本质上是在线数字实体，通过实施预编码规则来运营。这些实体通常需要对其运营输入最少的到零输入，它们用于执行智能合约和记录区块链上的活动。
- en: Modern legal systems are designed to allow organizations, as well as actual
    people, to participate. Most legal systems do this by giving organizations some
    of the legal powers that real people have—the power to enter into legal contracts,
    to sue, and to be sued. But what legal status will attach to a DAO? Are they simple
    corporations, partnerships, legal entities, legal contracts, or something else?
    Since the DAOs “management” is conducted automatically, legal systems would have
    to decide who is responsible if laws are broken. What, if any, is the liability
    of DAOs and their creators? Who or what is claimed against in the case of a legal
    dispute? Courts and regulators are unlikely to allow the wholesale adoption of
    technology that bypasses established oversight.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 现代法律体系旨在允许组织以及实际个人参与。大多数法律体系通过赋予组织与真实个人相同的法律权力来实现这一点——即进入法律合同、提起诉讼和被诉的权力。但是，DAO将具有什么样的法律地位？它们是简单的公司、合伙企业、法律实体、法律合同，还是其他的东西？由于DAO的“管理”是自动进行的，法律体系必须决定如果违反法律，谁负责。DAO及其创建者的责任是什么，如果有责任的话？在法律纠纷中，对谁或什么提出索赔？法院和监管机构不太可能允许全面采用绕过现有监督的技术。
- en: DAO Compliance with Financial Services Regulation
  id: totrans-198
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 去中心化自治组织（DAO）遵守金融服务法规
- en: Many sourcing arrangements, including the use of certain technology solutions,
    require regulated entities to include in the relevant contracts a series of provisions
    enabling them to exert control, and seek to achieve operational continuity in
    relation to the services to which the contracts relate. With blockchain (as has
    been the case with cloud and certain fintech agreements) this may well be more
    of a challenge.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 许多采购安排，包括使用某些技术解决方案，要求受监管实体在相关合同中包括一系列规定，使它们能够行使控制权，并寻求在合同所涉及的服务方面实现运营连续性。随着区块链（正如云计算和某些金融科技协议所做的那样），这可能是一个更大的挑战。
- en: The DAO and Exiting a Contract
  id: totrans-200
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: DAO 和退出合同
- en: The need for exit assistance will be determined in large part by the specific
    solution and the extent to which the blockchain vendor holds the customer’s data.
    If the customer does not have its own copy of the data, it will require data migration
    assistance to ensure the vendor is obliged to hand over all such data on expiry
    or termination of the agreement and a complete record of all transactions stored
    on the blockchain.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 退出协助的需求将在很大程度上由具体的解决方案和区块链供应商持有客户数据的程度来决定。如果客户没有自己数据的副本，它将需要数据迁移协助，以确保在协议到期或终止时供应商有义务交出所有此类数据，以及存储在区块链上的所有交易记录的完整记录。
- en: DAO Data as Property
  id: totrans-202
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: DAO 数据作为财产
- en: In common law, as a general principle, there is no property right in information
    itself. But while individual items of information do not attract property rights,
    compilations of data may be protected by intellectual property rights. When a
    database of personal information is sold, if a buyer wants to use the personal
    information for a new purpose, to comply with data protection legislation (such
    as the EU’s GDPR) they will have to get consent from the individuals concerned.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 在普通法中，作为一个一般原则，信息本身没有财产权。但是，尽管个别信息不吸引财产权，数据的汇编可能受到知识产权的保护。当个人信息的数据库被出售时，如果买家想要将个人信息用于新的目的，为了遵守数据保护法规（如欧盟的GDPR），他们必须得到有关个人的同意。
- en: DAO and Due Diligence
  id: totrans-204
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: DAO 和尽职调查
- en: Public companies and private investors have already begun to make significant
    capital investments in blockchain technology startups. This trend is likely to
    accelerate as commercial deployments of blockchain technology become a reality.
    Transactional lawyers who are tasked with performing due diligence on the buy
    and/or sell side of these investments need to understand blockchain technology
    and the emerging business models based on the technology. Traditional due diligence
    approaches may need to be adapted. For example, there will be unique issues concerning
    ownership of data residing on decentralized ledgers and intellectual property
    ownership of blockchain-as-a-service offerings operating on open-source blockchain
    technology platforms. These issues will need to be considered in the context of
    the business value proposition and competitive barriers to entry.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 公开公司和私人投资者已经开始对区块链技术初创公司进行大量资本投资。随着区块链技术的商业部署成为现实，这一趋势可能会加速。负责执行这些投资购买和/或销售方面的交易律师需要了解区块链技术和基于该技术的新兴商业模式。传统的尽职调查方法可能需要进行调整。例如，将存在关于分布式账本上数据所有权和基于开源区块链技术平台运行的区块链即服务产品知识产权所有权的独特问题。这些问题需要在业务价值主张和进入竞争壁垒的背景下进行考虑。
- en: Summary
  id: totrans-206
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 摘要
- en: 'By now we see that smart contracts may be the most transformative current blockchain
    component. To that end, Marco Iansiti and Karim Lakhani of Harvard Business School
    offered some revealing insights for business and lawyers in “The Truth About Blockchain,”
    in the *Harvard Business Review*, January–February 2017\. In their view:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经看到智能合约可能是当前最具变革性的区块链组件。为此，哈佛商学院的Marco Iansiti和Karim Lakhani在2017年1月至2月的《哈佛商业评论》中为商业和法律人士提供了一些启示性的见解，“关于区块链的真相”。在他们看来：
- en: “The implications are fascinating… . If contracts are automated, then what will
    happen to traditional firm structures, processes, and intermediaries like lawyers
    and accountants? … Their roles would all radically change… . [W]e are decades
    away from the widespread adoption of smart contracts… . A tremendous degree of
    coordination and clarity on how smart contracts are designed, verified, implemented,
    and enforced will be required. We believe the institutions responsible for those
    daunting tasks will take a long time to evolve. And the technology challenges—especially
    security—are daunting… . [L]aw firms will have to change to make smart contracts
    viable. They’ll need to develop new expertise in software and blockchain programming.”
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: “影响深远……如果合同自动化了，那么传统公司结构、流程以及像律师和会计师这样的中介会发生什么？…他们的角色将发生根本性变化…我们距离智能合同的广泛采用还有几十年时间……在智能合同的设计、验证、实施和执行方面需要极大的协调和清晰度……我们认为负责这些艰巨任务的机构需要很长时间才能演变出来。而技术挑战——尤其是安全性——是巨大的……律所将不得不改变，以使智能合同变得可行。他们需要在新软件和区块链编程方面发展新的专业知识。”
- en: In summary, blockchain, the distributed database technology with the capability
    to execute smart contracts, is more than a platform for cryptography. The universe
    of use cases, which we briefly covered, is expanding exponentially. As this technology
    continues generating new possibilities for the way we interact and exchange information,
    it brings forth challenging and complex legal issues and pushes the boundaries
    of existing laws. Our laws will have to adapt to blockchain technology, just as
    they adapted to the Internet, medical technology, e-discovery, and social media.
    There is a huge change before us as lawyers and as developers. We need to embrace
    it and be part of its evolution.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 总之，区块链，这种具备执行智能合同能力的分布式数据库技术，不仅仅是加密技术的平台。我们简要涉及的使用案例范围正在呈指数级扩大。随着这项技术继续为我们提供新的互动和信息交换方式，它带来了挑战性和复杂的法律问题，并推动现有法律的边界。我们的法律必须像适应互联网、医疗技术、电子发现和社会媒体一样适应区块链技术。作为律师和开发人员，我们面前有一次巨大的变革。我们需要拥抱它，成为其演变的一部分。”
