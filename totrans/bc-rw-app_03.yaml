- en: '3'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '3'
- en: Blockchain Ecosystem
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链生态系统
- en: Distributed ledger technology (DLT), commonly known as “blockchain,” refers
    to the technology of working on decentralized databases that provides control
    over the evolution of data between entities, through a Peer-to-Peer (P2P) network,
    where consensus algorithms ensure replication across the nodes of the network.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 分布式账本技术（DLT），通常被称为“区块链”，是指在去中心化数据库上工作的技术，通过点对点（P2P）网络，提供对数据演化的控制，其中共识算法确保网络节点之间的复制。
- en: '***Nodes***'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '***节点***'
- en: A blockchain system is made up of multiple nodes, each of which has its own
    copy of the ledger. Nodes communicate with each other to reach consensus on the
    records of the ledger, eliminating the need of a central authority for coordination
    or verification.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链系统由多个节点组成，每个节点都有自己的账本副本。节点之间相互通信，以就账本记录达成共识，从而消除了需要中央权威进行协调或验证的需要。
- en: Nodes also help with the entry of new data as well as the verification and transmission
    of submitted data on the blockchain (Lewis and Larsen, 2016). Any node can request
    to add any transaction. However, the transaction is accepted only if majority
    of the nodes agree on its validity (Boucher, 2017). When all nodes reach a consensus
    (Lewis, McPartland, and Ranjan, 2017), transactions are recorded on a new block
    and added to the existing chain (Singh and Singh, 2016). This work is known as
    “mining.”
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 节点还帮助将新数据输入区块链，以及验证和传输提交的数据（Lewis和Larsen，2016）。任何节点都可以请求添加任何交易。然而，只有当大多数节点同意交易的合法性时，该交易才会被接受（Boucher，2017）。当所有节点达成共识（Lewis，McPartland和Ranjan，2017）时，交易记录在新块上并添加到现有链中（Singh和Singh，2016）。这项工作被称为“挖掘”。
- en: '***Miners***'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '***矿工***'
- en: Miners create new blocks on the blockchain chain by a process called mining.
    Each block in a blockchain has its own unique nonce and hash, which refers to
    the hash of the previous block in the chain.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 矿工通过挖掘过程在区块链链上创建新块。区块链中的每个区块都有其自己的唯一nonce和散列值，指的是链中前一个区块的散列值。
- en: Mining a block is a cumbersome task, especially on large chains. Miners use
    specialized software to solve the incredibly complex mathematical problem of finding
    the nonce that generates an acceptable hash. Since the nonce is only 32 bits and
    the hash is 256, the probability of perfect mining is formed after mining about
    four billion possible nonhash combinations.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 挖掘一个区块在大型链上是一项艰巨的任务，尤其是。矿工使用专用软件解决生成可接受散列的非ce的极其复杂的数学问题。由于nonce仅为32位，而散列值为256位，完美挖矿的概率是在挖掘约四亿个可能的非散列组合后形成的。
- en: Thus, after solving a complex cryptographic algorithm, a miner adds each new
    block to the chain, which is accepted as legitimate data by a majority of nodes
    in the network. The network rewards miners with digital credits for adding a valid
    block to the chain. This is an incentive provided for miners to maintain and continuously
    verify the consistency of data across the network.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，在解决复杂的加密算法后，矿工将每个新块添加到链中，该块被网络中的大多数节点接受为合法数据。网络通过为向链中添加有效块的矿工提供数字信用作为奖励。这是为矿工维护和持续验证网络中数据一致性提供的激励。
- en: '***Wallets***'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '***钱包***'
- en: Wallet is an application that allows end-users to create and maintain private
    keys and derive public keys or addresses from them. Unlike real-world wallets
    that store money (cash or credit cards), it’s only the private key that acts as
    an indicator to your tokens in the blockchain. If the private key is lost or compromised;
    the same will happen with the token too, and the holder will not be able to make
    any claim on it.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 钱包是一个允许终端用户创建和维护私钥的应用程序，并从它们派生出公钥或地址。与现实生活中存储货币（现金或信用卡）的钱包不同，只有私钥才作为您在区块链中的代币的指示器。如果私钥丢失或被泄露；代币也会发生同样的情况，持有者将无法对其提出任何索赔。
- en: Wallets can be of two types, deterministic and nondeterministic. The main difference
    between the two is that deterministic wallets allow you to recover a private key
    from a seed. The seed is a pass-phrase or a set of words, written on a piece of
    paper and stored in an offline medium. If the private key is lost, it can be recovered
    through the seed. However, with nondeterministic wallets, if the private key is
    lost, there is no way to recover the same.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 钱包可以分为两种类型，确定性和非确定性。两者的主要区别在于确定性钱包允许您从种子恢复私钥。种子是一个密码短语或一组单词，写在纸上并存储在离线介质中。如果私钥丢失，它可以通过种子恢复。然而，对于非确定性钱包，如果私钥丢失，就没有办法恢复相同的私钥。
- en: Two more factors to be considered when choosing a wallet are the platform where
    it operates and how it preserves the private keys. Wallet can be a web wallet,
    a mobile wallet, or a hardware wallet. Wallets that do not give you direct access
    to your keys are known as custodial wallets.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
- en: 3.1 Working of Blockchain
  id: totrans-14
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Blockchain realizes trust by validation, verification, and consensus algorithms.
    Garg (2021a, 2021b) has illustrated its working in the following manner (see [Figure
    3.1](#c03-fig-0001)):'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: '![](images/c03f001.png)'
  id: totrans-16
  prefs: []
  type: TYPE_IMG
- en: '[**Figure 3.1**](#rc03-fig-0001) Working of blockchain.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
- en: The user, who wants to join the blockchain network, first creates an account
    (see [Figure 3.2](#c03-fig-0002)).![](images/c03f002.png)
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[**Figure 3.2**](#rc03-fig-0002) Creating blockchain account.'
  id: totrans-19
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Then a genesis file is created and a genesis block is initialized (see [Code
    Cell 3.1](#c03-feafxd-0001)).
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-21
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '[**Code Cell 3.1**](#rc03-feafxd-0001) Content of genesis file.'
  id: totrans-22
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: After starting nodes, peers are added using the blockchain APIs (see [Figure
    3.3](#c03-fig-0003)).![](images/c03f003.png)
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[**Figure 3.3**](#rc03-fig-0003) Adding peers on the blockchain.'
  id: totrans-24
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Peer accounts addition may be confirmed (see [Figure 3.4](#c03-fig-0004); [Code
    Cell 3.2](#c03-feafxd-0002)) and the account balances may be checked (see [Figures
    3.5](#c03-fig-0005)) by clicking the given options.![](images/c03f004.png)
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[**Figure 3.4**](#rc03-fig-0004) Checking peer account.'
  id: totrans-26
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![](images/c03f005.png)'
  id: totrans-27
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**Figure 3.5**](#rc03-fig-0005) Checking account balances.'
  id: totrans-28
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-29
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '[**Code Cell 3.2**](#rc03-feafxd-0002)Connected peer node – 1.'
  id: totrans-30
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Using these unlocked accounts, transactions can be initiated on the blockchain
    (see [Figure 3.6](#c03-fig-0006)).![](images/c03f006.png)
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[**Figure 3.6**](#rc03-fig-0006) Transacting on the blockchain.'
  id: totrans-32
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Transactions, the fundamental elements of the blockchain, are validated and
    broadcast.
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Multiple transactions form a block.
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Several blocks form a chain through a digital data link.
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Blocks go through a consensus process to select the next block to be added to
    the chain.
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The chosen block is verified and added to the current chain.
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The validation and consensus processes are carried out by special peer nodes
    called miners.
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Miners are powerful computers executing software defined by the blockchain protocol.
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Blocks are joined together with links created by referenced hashes.
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 3.2 Key Characteristics
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Blockchain has the following key characteristics (Garg, 2021c) (see [Figure
    3.7](#c03-fig-0007)):'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
- en: '![](images/c03f007.png)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
- en: '[**Figure 3.7**](#rc03-fig-0007) Key characteristics of blockchain.'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
- en: 3.2.1 Decentralization
  id: totrans-45
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: In a blockchain, no centralized authority is required to validate the transactions.
    Consensus algorithms sustain data consistency in distributed networks.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
- en: 3.2.2 Persistence
  id: totrans-47
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: It is virtually impossible to delete or rollback a transaction once it is added
    to the blockchain. Transactions are validated quickly, and invalid transactions
    are not admitted by honest miners. Therefore, blocks that contain invalid transactions
    can be detected immediately.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦交易被添加到区块链中，几乎不可能删除或回滚交易。交易被快速验证，无效的交易不会被诚实的矿工接纳。因此，包含无效交易的区块可以立即被检测到。
- en: 3.2.3 Anonymity
  id: totrans-49
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.2.3 匿名性
- en: Each user can transact in the blockchain using a generated address, which does
    not disclose the real identity of the user.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 每个用户可以使用生成的地址在区块链上进行交易，这不会透露用户的真实身份。
- en: 3.2.4 Auditability
  id: totrans-51
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.2.4 可审计性
- en: Blockchain stores data about user balances based on the Unspent Transaction
    Output (UTXO) model (Nakamoto, 2008). Any transaction has to refer to some previous
    unspent transactions.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链根据未花费交易输出（UTXO）模型（Nakamoto, 2008）存储有关用户余额的数据。任何交易都必须引用一些之前的未花费交易。
- en: 3.3 Unspent Transaction Output
  id: totrans-53
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 3.3 未花费交易输出
- en: Used to maintain the state of blockchain
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用于维护区块链的状态
- en: Referenced as inputs and outputs in a transaction
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在交易中被引用为输入和输出
- en: Stored by all participant nodes
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由所有参与节点存储
- en: Transaction is transmitted from one/more input Unspent Transaction Outputs (UTXOs)
    to output UTXOs (see [Figure 3.8](#c03-fig-0008)).
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交易从一个/多个输入未花费交易输出（UTXO）传输到输出UTXO（见[图3.8](#c03-fig-0008)）。
- en: '![](images/c03f008.png)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![](images/c03f008.png)'
- en: '[**Figure 3.8**](#rc03-fig-0008) Input and output UTXOs references.'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '[**图3.8**](#rc03-fig-0008) 输入和输出UTXO引用。'
- en: 3.4 Classification of Blockchain on Access Management
  id: totrans-60
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 3.4 区块链按访问管理分类
- en: 'Current blockchain systems are generally classified into three broad categories:
    public blockchain, private blockchain, and consortium blockchain (Buterin, 2015).'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 当前的区块链系统一般可以分为三大类：公有区块链、私有区块链和联盟区块链（Buterin, 2015）。
- en: 3.4.1 Public Blockchain
  id: totrans-62
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.4.1 公有区块链
- en: In a public blockchain, all records are visible to the public and each node
    can participate in the consensus process. Public blockchains are also known as
    permissionless blockchains. In a public blockchain, any user, whoever wishes to
    transact with the network, can participate and write on the blockchain. This is
    quite useful for those who do not rely on any single central authority. Blockchain
    technology adopts a decentralized consensus mechanism to ensure the reliability
    and consistency of data and transactions. In an unlicensed blockchain, miners
    use different algorithms to validate transactions. Transactions are recorded and
    added to the blockchain when a majority of nodes reach consensus and approve it.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 在公有区块链中，所有记录对公众可见，每个节点都可以参与共识过程。公有区块链也被称为无需许可的区块链。在公有区块链上，任何用户，无论谁希望与网络进行交易，都可以参与并在区块链上书写。这对于那些不依赖任何单一中央权威的人来说非常有用。区块链技术采用去中心化的共识机制来确保数据和交易的可靠性和一致性。在未经许可的区块链中，矿工使用不同的算法来验证交易。当大多数节点达成共识并批准时，交易被记录并添加到区块链中。
- en: A public blockchain uses proof-of-work because it ensures that transactions
    cannot be tampered with as long as no single miner controls more than 50% of the
    network’s hash power. An automated consensus mechanism allows each copy of the
    ledger to be updated almost instantly. Once a transaction is added to the blockchain,
    as all nodes share a copy of the ledger, all ledgers reflect the change.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 公有区块链使用工作量证明（Proof of Work，PoW）因为它确保只要没有单个矿工控制网络超过50%的哈希能力，交易就不能被篡改。自动化的共识机制允许每个账本副本几乎立即更新。一旦交易被添加到区块链中，由于所有节点都共享账本的一个副本，所有账本都反映这一变化。
- en: 3.4.2 Private Blockchain
  id: totrans-65
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.4.2 私有区块链
- en: In contrast, private blockchains only allow nodes coming from a specific organization
    to participate in the consensus process. These are also called “permissioned blockchains.”
    Being fully controlled by one organization, it is often thought of as a centralized
    network. In a permissioned blockchain, the power to access, verify, and add transactions
    in the ledger is delegated to a limited group. There is also a possibility that
    in a permissioned blockchain, some users may be allowed to view all transactions
    in the ledger but may not have rights to write any transaction. Users can view
    information and transactions in the ledger, depending on their level of access.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 相比之下，私有区块链只允许来自特定组织的节点参与共识过程。这些也被称作“许可区块链”。由于完全由一个组织控制，通常被认为是中心化的网络。在许可的区块链中，访问、验证和添加账本交易的权力被委托给一个有限的群体。在许可的区块链中，也可能有一些用户被允许查看账本中的所有交易，但没有权利写入任何交易。用户可以根据他们的访问级别查看账本中的信息和交易。
- en: In a permissioned blockchain, the access levels and roles of users are predetermined.
    Once submitted by the parties involved in a transaction, it is validated by other
    permitted members of the blockchain. Since private blockchain mechanisms are limited
    to just an organization or a group of people involved, it is easy to build consensus.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 在许可的区块链中，用户的访问级别和角色是预先确定的。一旦交易由参与方提交，它就会由区块链中其他允许的成员进行验证。由于私有区块链机制只限于一个组织或一组人参与，所以很容易建立共识。
- en: In order to make the best use of both public and private blockchain solutions,
    a hybrid blockchain model can also be adopted.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 为了充分利用公有和私有区块链解决方案，也可以采用混合区块链模型。
- en: 3.4.3 Consortium Blockchain
  id: totrans-69
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.4.3 联盟区块链
- en: The consortium blockchain enables a group of pre-selected nodes to participate
    in the consensus process. Since only a small fraction of nodes are selected to
    determine consensus, the consortium blockchain built by multiple organizations
    is somewhat decentralized. A comparison between the three types of blockchains
    is listed in [Table 3.1](#c03-tbl-0001).
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 联盟区块链允许一组预选节点参与共识过程。由于只有少量的节点被选中确定共识，由多个组织建立的联盟区块链某种程度上是去中心化的。三种类型区块链的比较列于[表3.1](#c03-tbl-0001)中。
- en: '[**Table 3.1**](#rc03-tbl-0001) Comparisons among public blockchain, consortium
    blockchain, and private blockchain.'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '[**表3.1**](#rc03-tbl-0001) 公有区块链、联盟区块链与私有区块链的比较。'
- en: '| **Property** | **Public blockchain** | **Consortium blockchain** | **Private
    blockchain** |'
  id: totrans-72
  prefs: []
  type: TYPE_TB
  zh: '| **属性** | **公有区块链** | **联盟区块链** | **私有区块链** |'
- en: '| --- | --- | --- | --- |'
  id: totrans-73
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| Centralized | Decentralized | Partially centralized | Fully centralized |'
  id: totrans-74
  prefs: []
  type: TYPE_TB
  zh: '| 中心化 | 去中心化 | 部分中心化 | 完全中心化 |'
- en: '| Consensus process | Permissionless (anyone can join the consensus process)
    | Permissioned | Permissioned |'
  id: totrans-75
  prefs: []
  type: TYPE_TB
  zh: '| 共识过程 | 无许可（任何人都可以加入共识过程） | 许可 | 许可 |'
- en: '| Consensus determination | All miners (each node could take part in the consensus
    process) | Only a selected set of nodes are responsible for validating the block
    | Fully controlled by one organization that could determine the final consensus
    |'
  id: totrans-76
  prefs: []
  type: TYPE_TB
  zh: '| 共识确定 | 所有矿工（每个节点可能参与共识过程） | 只有选定的节点负责验证区块 | 由一个完全控制的组织确定最终共识 |'
- en: '| Read permission | Public | Depends, could be public or restricted | Depends,
    could be public or restricted |'
  id: totrans-77
  prefs: []
  type: TYPE_TB
  zh: '| 读取权限 | 公有 | 取决于，可能是公有或受限 | 取决于，可能是公有或受限 |'
- en: '| Immutability | Nearly impossible to tamper since records are stored with
    a large number of participants | Could be tampered easily as there is only limited
    number of participants | Could be tampered easily as there is only limited number
    of participants |'
  id: totrans-78
  prefs: []
  type: TYPE_TB
  zh: '| 不可变性 | 由于记录是由大量参与者存储，几乎不可能被篡改 | 由于只有有限数量的参与者，可能很容易被篡改 | 由于只有有限数量的参与者，可能很容易被篡改
    |'
- en: '| Efficiency | Low (transaction throughput is limited and the latency is high
    because of the large number of nodes on the public blockchain network). | High
    (with fewer validators, the system is more efficient). | High (with fewer validators,
    the system is more efficient). |'
  id: totrans-79
  prefs: []
  type: TYPE_TB
  zh: '| 效率 | 低（由于公有区块链网络上节点数量众多，交易吞吐量受限且延迟高）。 | 高（由于验证节点较少，系统更高效）。 | 高（由于验证节点较少，系统更高效）。
    |'
- en: '| Examples | Bitcoin, Dash, Ethereum, IOTA, Litecoin, Monera, Steemit, Stellar,
    Zcash, etc. | Quorum, Hyperledger, and Corda | R3 (banks), EWF (Energy), B3i (Insurance
    Corda) |'
  id: totrans-80
  prefs: []
  type: TYPE_TB
  zh: '| 示例 | 比特币、达世币、以太坊、IOTA、莱特币、门罗币、Steemit、恒星币、Zcash 等。 | Quorum、Hyperledger 和
    Corda | R3（银行）、EWF（能源）、B3i（保险Corda）|'
- en: '| Miners | Don’t know each other | May or may not know each other | Know each
    other |'
  id: totrans-81
  prefs: []
  type: TYPE_TB
  zh: '| 矿工 | 不认识彼此 | 可能或可能不认识彼此 | 彼此认识 |'
- en: 3.5 Consensus
  id: totrans-82
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 3.5 共识
- en: A consensus mechanism is a fault tolerant mechanism, used to achieve agreement
    on the state of the blockchain to ensure the validity and authenticity of transactions.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 共识机制是一种容错机制，用于在区块链上达成状态共识，以确保交易的有效性和真实性。
- en: In order to understand the ideology behind the creation of blockchain, one must
    begin with the classical problem, in the distributed system, popularly known as
    the Byzantine Generals Problem (BGP). According to the BGP scheme, several armies
    congregate to attack a castle. The castle may only be conquered if all armies
    attack at the same point of time. Suppose the principal army orders all the other
    armies to attack at a pre-determined time through a messenger. The messenger can
    be captured during transit and thus the message to attack the castle would never
    be distributed. To make sure that the message has been delivered, the sender may
    call for an acknowledgment, but here again, there is a possibility that the deliverer
    of the acknowledgment may also be detained.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 为了理解区块链创建背后的理念，我们必须从分布式系统中的经典问题开始，这个问题通常被称为拜占庭将军问题（BGP）。根据BGP方案，几支军队聚集起来攻打一个城堡。只有所有军队在同一时间点进攻，城堡才能被攻克。假设主军队通过信使命令其他所有军队在预定的时间进攻。信使在途中可能会被捕获，因此进攻城堡的消息可能永远无法分发。为了确保消息已经送达，发件人可能会要求确认，但在这里，确认的送信人也可能被拘留。
- en: Therefore, a consensus has to be reached, certifying that (i) the sender of
    the attack message knows that all other armies have received this message; and
    (ii) each army that receives this message confirms that all other armies have
    received this message. Now presume that instead of sending a messenger, the general
    sends this attack message through a blockchain. The attack is scheduled for six
    hours from now. The Proof-of-Work, used on this blockchain, is that if all armies
    work toward solving the problem at the same point of time, it will take about
    ten minutes for the first solution to appear. Once the general, who has sent the
    attack message, finds valid Proof-of-Work solutions, appearing nearly every ten
    minutes, he could be assured that all other armies have received the message.
    It is unlikely for a few armies to be producing valid Proof-of-Work solutions
    at this rate. At the same time, all other armies would be fully assured that every
    other army has seen the attack message, given the rate at which Proof-of-Work
    solutions are being produced.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，必须达成共识，证明（i）攻击消息的发送者知道所有其他军队已经收到这条消息；（ii）收到这条消息的每个军队都确认所有其他军队已经收到这条消息。现在假设将军不是通过发送信使，而是通过区块链发送这条攻击消息。进攻计划在六个小时后进行。在这个区块链上使用的工作量证明是，如果所有军队在同一时间点解决这个难题，第一个解决方案将会在大约十分钟后出现。一旦发出攻击消息的将军找到几乎每十分钟出现的有效工作量证明解决方案，他可以确信所有其他军队已经收到消息。很少有军队会以这种速度产生有效的工作量证明解决方案。同时，所有其他军队也会确信，鉴于工作量证明解决方案的生产速度，每个军队都看到了攻击消息。
- en: The same logic applies to the idea of a distributed ledger. Just as the blockchain
    solution to the BGP ensures all parties to know that all other parties have seen
    a message, this rationale can be used to verify that all parties agree on the
    current state of a ledger (Mahmoud, Lescisin, and Taei, 2019).
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 同样的逻辑也适用于分布式账本的理念。正如区块链解决方案确保所有各方都知道所有其他各方已经看到一条消息，这个逻辑可以用来验证所有各方对账本当前状态达成一致（Mahmoud,
    Lescisin, 和 Taei, 2019）。
- en: 'In order to achieve consensus, following approaches are used:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 为了实现共识，以下方法被采用：
- en: 3.5.1 Proof-of-Work
  id: totrans-88
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.5.1 工作量证明
- en: Proof-of-Work (PoW) is a consensus strategy used in the Bitcoin network (Nakamoto,
    2008). In a decentralized network, some strategy has to be selected to record
    the transactions, for which random selection is the easiest way. However, random
    selection is susceptible to attacks. So, if a node wants to publish a block of
    transactions, a lot of work (computation) has to be done to prove that the node
    is not expected to attack the network.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 工作量证明（PoW）是比特币网络（Nakamoto, 2008）中使用的一种共识机制。在一个去中心化的网络中，为了记录交易，必须选择某种策略，而随机选择是最简单的方法。然而，随机选择容易受到攻击。因此，如果一个节点想要发布一个交易区块，就必须进行大量计算（计算工作）来证明该节点不会攻击网络。
- en: In PoW, each node of the network calculates a hash value of the block header.
    The block header contains a nonce, and the miners would change the nonce recurrently
    to get different hash values. The consensus requires that the calculated value
    must be equal to or lesser than a certain given value. When one node reaches the
    target value, it would broadcast the block to other nodes, and all other nodes
    must mutually confirm the accuracy of the hash value. If the block is validated,
    other miners would attach this new block to their own blockchain. Nodes that calculate
    the hash values are called “miners,” and the PoW procedure is called “mining.”
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 在PoW中，网络的每个节点都会计算区块头的哈希值。区块头包含一个nonce，矿工会不断更改nonce以获得不同的哈希值。共识要求计算出的值必须等于或小于某个给定的值。当一个节点达到目标值时，它会将区块广播给其他节点，所有其他节点必须互相验证哈希值的准确性。如果区块通过验证，其他矿工会将这个新区块附加到他们自己的区块链上。计算哈希值的节点被称为“矿工”，PoW过程被称为“挖矿”。
- en: In a decentralized network, valid blocks can be generated concurrently when
    multiple nodes find the appropriate nonce nearly at the same time. As a result,
    branches may be generated (see [Figure 3.9](#c03-fig-0009)). Even so, it is unlikely
    that two competing forks will form the next block concomitantly. In PoW protocol,
    a chain that becomes longer is judged as the authentic one. Consider two forks
    created by simultaneously validated blocks U4 and B4\. Miners keep mining their
    blocks until a longer branch is generated. As B4–B5 forms a longer chain, so the
    miners on U4 would switch over to the longer branch. As miners need to do a lot
    of computer calculations in PoW, these works waste plenty of resources.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 在一个去中心化的网络中，当多个节点几乎同时找到适当的nonce时，可以并发地生成有效区块。因此，可能会生成多个分支（参见[图3.9](#c03-fig-0009)）。尽管如此，两个竞争的分叉同时形成下一个区块的可能性不大。在PoW协议中，较长的链被认为是真实的。考虑同时验证的区块U4和B4创建的两个分叉。矿工继续挖掘他们的区块，直到生成更长的分支。由于B4–B5形成了更长的链，因此U4上的矿工会切换到更长的分支。由于在PoW中矿工需要做大量的计算机计算，这些工作浪费了大量的资源。
- en: '![](images/c03f009.png)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![](images/c03f009.png)'
- en: '[**Figure 3.9**](#rc03-fig-0009) Proof-of-work – Fault tolerance mechanism.'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: '[**图3.9**](#rc03-fig-0009) 工作量证明——容错机制。'
- en: 3.5.2 Proof-of-Stake
  id: totrans-94
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.5.2 权益证明
- en: Proof-of-Stake (PoS) is an energy-saving alternative to PoW. Miners in PoS have
    to prove the ownership of the currency. It is assumed that people with more currencies
    are less likely to attack the network. However, this assumption does not seem
    reasonable because the single richest person can dominate the network. Consequently,
    several solutions were proposed with the combination of stake size to decide which
    one to forge the next block. Blackcoin, for instance, uses randomization to predict
    the next generator (Vasin, 2014). It employs a formula that looks for the lowest
    hash value in conjunction with the stake size. Many blockchains adopt PoW in the
    beginning and gradually switch to PoS (Wood, 2014; Zamphir, 2015).
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 权益证明（PoS）是PoW的一种节能替代方案。PoS中的矿工需要证明货币的拥有权。假设拥有更多货币的人攻击网络的可能性较小。然而，这个假设似乎并不合理，因为最富有的人可以控制整个网络。因此，提出了几种结合股份大小来决定谁将下一个区块的解决方案。例如，Blackcoin
    使用随机化来预测下一个生成器（Vasin，2014年）。它使用一个寻找最低哈希值与股份大小相结合的公式。许多区块链在开始时采用PoW，并逐渐过渡到PoS（Wood，2014年；Zamphir，2015年）。
- en: 3.5.3 Peercoin
  id: totrans-96
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.5.3  Peercoin
- en: Peercoin promotes coin-based selection (King and Nadal, 2012). Here, the older
    and larger set of coins have the greater probability of mining the next block.
    But, since the mining cost is almost zero, possibilities of attacks cannot be
    ruled out.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: Peercoin提倡基于币的选择（King 和 Nadal，2012年）。在这里， older and larger币集合有更大的概率挖掘下一个区块。但是，由于挖矿成本几乎为零，不能排除攻击的可能性。
- en: 3.5.4 Practical Byzantine Fault Tolerance
  id: totrans-98
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.5.4 实用拜占庭容错
- en: 'Practical Byzantine Fault Tolerance (PBFT) is a replication algorithm to tolerate
    Byzantine faults (Miguel and Barbara, 1999). A new block is determined in a round.
    In each round, a primary would be selected according to certain rules, which is
    responsible for ordering transactions. The entire process can be divided into
    three phases: pre-prepared, prepared, and committed. In each phase, a node will
    enter the next phase if it has got more than two-thirds of the votes of all nodes.
    It’s a precondition that each node is known to the network. Similar to PBFT, Stellar
    Consensus Protocol (SCP) is also a Byzantine agreement protocol (Mazieres, 2015).
    PBFT mandates each node to query other nodes while SCP provides participants the
    right to choose which group of other participants to trust.'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 实用拜占庭容错算法（PBFT）是一种复制算法，用于容忍拜占庭故障（Miguel 和 Barbara，1999年）。在一个回合中确定一个新的区块。在每一回合，根据某些规则选择一个主节点，负责排序交易。整个过程可以分为三个阶段：预准备、准备和提交。在每一个阶段，如果一个节点获得了所有节点三分之二以上的投票，它将进入下一阶段。每个节点都为网络所知的先决条件。与
    PBFT 类似，恒星共识协议（SCP）也是一种拜占庭协议（Mazieres，2015年）。PBFT 要求每个节点查询其他节点，而 SCP 赋予参与者选择信任哪一组其他参与者的权利。
- en: 3.5.5 Delegated Proof-of-Stake
  id: totrans-100
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.5.5 委托权益证明
- en: Delegated Proof-of-Stake (DPoS) is representative democratic and is different
    from PoS, which is direct democratic. Stakeholders elect their representatives
    to create and validate the block. Since there are fewer nodes to validate the
    block, the block can be confirmed more quickly, leading to faster confirmation
    of transactions. Meanwhile, parameters of the network, such as block size and
    block interval, can be tuned by delegates. In addition, users do not have to worry
    about unscrupulous representatives as they can be voted off easily.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 委托权益证明（DPoS）是一种代表性的民主制度，与直接民主的 PoS 不同。利益相关者选举他们的代表来创建和验证区块。由于验证区块的节点较少，区块可以更快地得到确认，从而加快交易确认。同时，网络的参数，如区块大小和区块间隔，可以通过代表进行调整。此外，用户不必担心肆无忌惮的代表，因为他们可以很容易地被投票下去。
- en: 3.5.6 Ripple
  id: totrans-102
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.5.6 Ripple
- en: 'It is a consensus algorithm that uses trusted sub-networks collectively within
    a larger network (Schwartz, Youngs, and Britto, 2014). In the network, nodes are
    divided into two types: servers for participating in the consensus process and
    clients only for transferring funds. Each server has a unique node list (UNL),
    which is important to the server. When deciding whether to put the transaction
    in the ledger, the server will query the nodes in the UNL, and if the received
    agreement has reached 80%, the transaction will be packed into the ledger. For
    a single node, the ledger will be correct, given that the percentage of faulty
    nodes in the UNL is less than 20%.'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 它是一种共识算法，在更大的网络中使用可信子网络（Schwartz，Youngs 和 Britto，2014年）。在网络中，节点分为两类：参与共识过程的服务器和仅用于传输资金的客户端。每个服务器都有一个独特的节点列表（UNL），这对服务器很重要。在决定是否将交易记录在账本上时，服务器将查询
    UNL 中的节点，如果收到的共识达到80%，则将交易打包到账本中。对于单个节点，只要 UNL 中故障节点的百分比小于20%，账本就是正确的。
- en: 3.5.7 Tendermint
  id: totrans-104
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.5.7 Tendermint
- en: 'It is a Byzantine consensus algorithm (Kwon, 2014). In round one, a new block
    is determined, and a proposer will be selected to broadcast an unconfirmed block.
    It can be divided into three phases: pre-vote, pre-commit, and commit. During
    the pre-vote phase, validators choose whether to broadcast pre-votes for the proposed
    block. In the pre-commit phase, it is determined that if a node has received more
    than two-thirds of the pre-votes on a proposed block, it broadcasts a pre-commit
    for that block. If the node receives more than two-thirds of the pre-commit, it
    enters the commit phase. To finish, the node validates the block and broadcasts
    a commit for that block (commit phase). If the node receives two-thirds of the
    commit, it accepts the block. Unlike PBFT, nodes have to lock their coins in order
    to become validators. Once the verifier is found to be dishonest, they will be
    penalized.'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 它是一种拜占庭共识算法（Kwon，2014年）。第一轮确定一个新的区块，并选择一个提案者来广播一个未确认的区块。它可以分为三个阶段：预投票、预提交和提交。在预投票阶段，验证者选择是否为提议的区块广播预投票。在预提交阶段，确定如果一个节点收到了提议区块超过三分之二的预投票，它将为该区块广播预提交。如果节点收到超过三分之二的预提交，它将进入提交阶段。最后，节点验证区块并为该区块广播提交（提交阶段）。如果节点收到三分之二的提交，它将接受该区块。与
    PBFT 不同，节点必须锁定他们的币才能成为验证者。一旦发现验证者不诚实，他们将被惩罚。
- en: '3.5.8 Consensus Algorithms: A Comparison'
  id: totrans-106
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.5.8 共识算法：比较
- en: Different consensus algorithms have different advantages and disadvantages (Vukolic,
    2015) (see [Table 3.2](#c03-tbl-0002)).
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 不同的共识算法有不同的优点和缺点（Vukolic，2015）（见[表3.2](#c03-tbl-0002)）。
- en: '[**Table 3.2**](#rc03-tbl-0002) Comparisons among Typical Consensus Algorithms.'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '[**表3.2**](#rc03-tbl-0002) 典型共识算法之间的比较。'
- en: '| **Property** | **PoW** | **PoS** | **PBFT** | **DPOS** | **Ripple** | **Tendermint**
    |'
  id: totrans-109
  prefs: []
  type: TYPE_TB
  zh: '| **属性** | **PoW** | **PoS** | **PBFT** | **DPOS** | **Ripple** | **Tendermint**
    |'
- en: '| --- | --- | --- | --- | --- | --- | --- |'
  id: totrans-110
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- | --- | --- |'
- en: '| Node identity management | Open | Open | Permis-sioned | Open | Open | Permis-sioned
    |'
  id: totrans-111
  prefs: []
  type: TYPE_TB
  zh: '| 节点身份管理 | 开放 | 开放 | 受许可 | 开放 | 开放 | 受许可 |'
- en: '| Energy saving | No | Partial | Yes | Partial | Yes | Yes |'
  id: totrans-112
  prefs: []
  type: TYPE_TB
  zh: '| 节能 | 否 | 部分 | 是 | 部分 | 是 | 是 |'
- en: '| Tolerated power of adversary | <25%computingpower | <51%stake | <33.3%faulty
    replicas | <51%validators | <20%Faulty nodes in UNL | <33.3%Byzantine voting power
    |'
  id: totrans-113
  prefs: []
  type: TYPE_TB
  zh: '| 容许的敌手电力 | <25%计算能力 | <51%股份 | <33.3%故障副本 | <51%验证者 | <20%UNL中的故障节点 | <33.3%拜占庭投票权力
    |'
- en: '| Example | Bitcoin (Nakamoto, 2008) | Peercoin (King and Nadal, 2012) | Hyperledger
    Fabric (HPL, 2015) | Bitshares | Ripple (Schwartz, Youngs, Britto, 2014) | Tendermint
    (Kwon, 2014) |'
  id: totrans-114
  prefs: []
  type: TYPE_TB
  zh: '| 示例 | 比特币（Nakamoto，2008） | 同伴币（King和Nadal，2012） | 超级账本纤维（HPL，2015） | Bitshares
    | Ripple（Schwartz，Youngs，Britto，2014） | Tendermint（Kwon，2014） |'
- en: 3.5.8.1 Node Identity Management
  id: totrans-115
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 3.5.8.1 节点身份管理
- en: PBFT needs to know the identity of each miner in order to select a primary in
    each round, while Tendermint needs to know the validators in order to select a
    proposer in each round. For PoW, PoS, DPOS, and Ripple, nodes can connect to the
    network independently.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: PBFT需要知道每个矿工的身份，以便在每一轮中选择一个主要节点，而Tendermint需要知道验证者，以便在每一轮中选择一个提议者。对于PoW、PoS、DPOS和Ripple，节点可以独立连接到网络。
- en: 3.5.8.2 Energy Saving
  id: totrans-117
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 3.5.8.2 节能
- en: In PoW, miners hash the block header nonstop to reach the target value. As an
    effect, the electricity requirement touches maxima on scale. In PoS and DPOS,
    miners have to hash the block header to find the target value, but the work is
    largely reduced due to limited search space. For PBFT, Ripple, and Tendermint,
    since there is no mining in the consensus process, an enormous amount of energy
    is saved.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 在PoW中，矿工不停地 hash 区块头以达到目标值。因此，电力需求在规模上达到最大值。在PoS和DPOS中，矿工需要 hash 区块头来找到目标值，但由于搜索空间有限，工作量大大减少。对于PBFT、Ripple和Tendermint，由于在共识过程中没有挖矿，因此节省了大量的能源。
- en: 3.5.8.3 Tolerated Power of Adversary
  id: totrans-119
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 3.5.8.3 容许的敌手电力
- en: In general, 51% hash power is considered as the threshold for gaining control
    over the network. But selfish mining strategy in PoW systems could help miners
    to gain more revenue with hardly 25% of the hashing power (Eyal and Sirer, 2014).
    PBFT and Tendermint can handle up to one-third faulty nodes. Ripple is capable
    of maintaining correctness, if the faulty nodes in a UNL are less than 20%.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 一般来说，51%的哈希电力被认为是控制网络的阈值。但在PoW系统中的自私挖矿策略可以帮助矿工用不到25%的哈希电力获得更多收入（Eyal和Sirer，2014）。PBFT和Tendermint可以处理多达三分之一的故障节点。如果UNL中的故障节点少于20%，Ripple能够保持正确性。
- en: 3.5.9 Advances in Consensus Algorithms
  id: totrans-121
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.5.9 共识算法进展
- en: A good consensus algorithm means efficiency, security, and convenience. In recent
    times, there has been a tremendous surge in efforts to improve consensus algorithms
    in blockchain. More and more consensus algorithms are being devised to solve some
    of the specific problems of blockchain (Zheng et al., 2017).
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 一个好的共识算法意味着效率、安全和便利。近年来，在区块链改进共识算法方面已经投入了大量的努力。越来越多的共识算法被设计出来以解决区块链的一些特定问题（郑等人，2017）。
- en: One of these new ideas is peer census (Decker, Seidel, and Wattenhofer, 2016).
    It aims to decouple block creation and transaction confirmations in order to increase
    the speed of consensus. Besides, Kraft (2016) has suggested a new consensus scheme
    to ensure that a block is generated at a fairly stable speed, assuming that a
    high rate of block generation may compromise Bitcoin’s security.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 这些新想法之一是同伴普查（Decker，Seidel和Wattenhofer，2016）。它的目的是将区块创建和交易确认解耦，以提高共识速度。此外，Kraft（2016）建议了一种新的共识方案，以确保区块以相对稳定的速度生成，假设高区块生成率可能会威胁到Bitcoin的安全。
- en: In a further advancement, Sompolinsky and Zohar (2013) have recommended a Greedy
    Heaviest-Observed Subtree (GHOST) chain selection rule to solve this problem.
    In this method, instead of the longest branch scheme, GHOST weighs the branches,
    and the miners can choose the better one to follow. Chepurnoy, Larangeira, and
    Ojiganov (2016) also introduced a new consensus algorithm for peer-to-peer blockchain
    systems, where anyone who provides non-interactive proofs of retrievability for
    the past state snapshots, is allowed to generate a block. In such a protocol,
    the miners have to store the old block headers only, and not the entire blocks.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 在进一步的发展中，Sompolinsky 和 Zohar (2013) 推荐了一种贪婪最重观察子树（GHOST）链选择规则来解决这个问题。在这种方法中，而不是最长分支方案，GHOST
    衡量分支，矿工可以选择更好的一个来跟随。Chepurnoy、Larangeira 和 Ojiganov（2016）还引入了适用于点对点区块链系统的新共识算法，其中任何提供非交互式检索证明的过去状态快照的人都可以生成一个区块。在这种协议中，矿工只需存储旧的区块头，而不是整个区块。
- en: 3.6 Payment Verification in Blockchain
  id: totrans-125
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 3.6 区块链中的支付验证
- en: 3.6.1 Simple Payment Verification
  id: totrans-126
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.6.1 简单支付验证
- en: Simple payment verification (SPV) is a process that enables a lightweight client
    to verify whether a transaction is on the Bitcoin blockchain without having to
    download the entire blockchain. An SPV client only needs to download the block
    headers, which are much smaller than the entire block. The SPV client requests
    the Merkle branch to test whether the transaction has been included in the block.
    SPV clients provide better security than web wallets.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 简单支付验证（SPV）是一个过程，它使轻量级客户端能够在不必下载整个区块链的情况下验证交易是否在比特币区块链上。SPV 客户端只需下载区块头，这比整个区块要小得多。SPV
    客户端请求默克尔分支以测试交易是否包含在区块中。SPV 客户端比网络钱包提供更好的安全性。
- en: 3.6.1.1 Key Features
  id: totrans-128
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 3.6.1.1 主要特点
- en: It is easy and more practical to know the longest chain without becoming a miner.
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不成为矿工而知道最长链是容易且更实用的。
- en: A user has to preserve just a copy of the longest proof-of-work chain’s block
    headers and retrieve the Merkle branch that connects the transaction to the block.
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户只需保存最长工作量证明链的区块头副本，并检索将交易连接到块的默克尔分支。
- en: Although a user cannot test a transaction for himself, he can still see if it
    has been approved by a network node. He can tie the transaction to a point in
    the chain and stop it.
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尽管用户不能亲自测试交易，但他仍然可以查看交易是否被网络节点批准。用户可以将交易与链上的一个点绑定并停止它。
- en: Thus, as long as the network is controlled by honest nodes, verification is
    reliable, although it becomes vulnerable as soon as an attacker takes control
    of the network.
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 因此，只要网络由诚实节点控制，验证就是可靠的，尽管一旦攻击者控制了网络，它就变得脆弱。
- en: The simplified approach can be adulterated or destroyed as long as the attacker
    is successful in maintaining dominance over the network.
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 只要攻击者成功保持对网络的主导地位，简化方法就可以被篡改或破坏。
- en: The singular way to defend the process is to accept warnings from network nodes
    when they identify an incorrect block, force the user’s program to download the
    whole block, or notify transactions to validate the discrepancy.
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 保卫过程的唯一方法是接受网络节点在识别错误区块时发出的警告，强制用户程序下载整个区块，或通知交易验证差异。
- en: 3.6.2 Full Payment Verification
  id: totrans-135
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.6.2 完整支付验证
- en: Payment verification, in its totality, requires a complete copy of the blockchain,
    often referred to as a coarse or heavyweight wallet. It helps to verify whether
    the Bitcoins used in the transaction came from a mined block. Here, the blockchain
    is scanned transaction by transaction in retrospect, until they find the source.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 支付验证，从整体上讲，需要区块链的完整副本，通常被称为粗糙或重量级钱包。它帮助验证交易中使用的比特币是否来自挖出的区块。在这里，区块链是回顾性地逐笔扫描，直到找到源头。
- en: 3.6.2.1 Key Features
  id: totrans-137
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 3.6.2.1 主要特点
- en: These wallet applications act as active players in the Bitcoin network. They
    not only manage the user’s transactions but also verify and relay the trades of
    other individuals. In such situations, computers executing these applications
    are called full nodes.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 这些钱包应用程序在比特币网络中充当活跃玩家。它们不仅管理用户的交易，还验证并传递其他个人的交易。在这种情况下，执行这些应用程序的计算机被称为全节点。
- en: Full nodes are all Bitcoin miners, which means they need a complete copy of
    the blockchain to mine.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 全节点都是比特币矿工，这意味着他们需要区块链的完整副本才能挖矿。
- en: So far, the blockchain has grown to ≥15 GB in size and included 35 million transactions
    within five years. The technology is likely to grow over hundred times in the
    next five years.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，区块链已经增长到 ≥15 GB 的大小，在五年内包括了 3500 万笔交易。这项技术在未来的五年里可能会增长一百倍。
- en: Depending on its bandwidth, it can take several days for the blockchain network
    to be downloaded through the Bitcoin wallet application.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 取决于其带宽，通过比特币钱包应用程序下载区块链网络可能需要几天时间。
- en: This requires all parties (all nodes) on the network to be connected to present
    their individual findings and to determine which blockchain has the highest proof-of-work
    to reach consensus.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 这要求网络上的所有各方（所有节点）都要连接起来，以展示他们的个别发现，并确定哪个区块链具有最高的工作量证明以达成共识。
- en: 3.7 Hashgraph
  id: totrans-143
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 3.7 哈希图
- en: It addresses the problem of efficient consensus algorithms from the point of
    view of security and power consumption. It uses an Asynchronous Byzantine Fault
    Tolerance algorithm that can confirm transactions within five seconds (no transaction
    records required) as opposed to about 70 minutes for Proof-of-Work in Bitcoins.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 它从安全和能耗的角度解决了高效共识算法的问题。它使用一个异步拜占庭容错算法，可以在五秒内确认交易（无需交易记录），而比特币的工作量证明需要大约70分钟。
- en: 3.7.1 Elements of Hashgraph
  id: totrans-145
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.7.1 哈希图的要素
- en: Event
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 事件
- en: Transaction
  id: totrans-147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 交易
- en: Directed acyclic graph
  id: totrans-148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 有向无环图
- en: Round
  id: totrans-149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 轮次
- en: Participant node
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 参与节点
- en: 'Witness: both famous and nonfamous witnesses'
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 见证人：著名和非著名的见证人
- en: Consensus (derived or computed) by voting.
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过投票进行共识（派生或计算）。
- en: 3.7.2 Diagrammatic Representation
  id: totrans-153
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.7.2 图解表示
- en: Hashgraph also uses timestamps to order transactions after the round. The vertical
    bars indicate the time dimension in the hashgraph. The direction of the time axis
    is from bottom to top. Rounds of events assist in the virtual voting process.
    The round number is accessed as the roundCreated value.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: Hashgraph 在一轮结束后也使用时间戳来排序交易。垂直的条形表示 hashgraph 中的时间维度。时间轴的方向是从下到上。事件轮次有助于虚拟投票过程。轮次编号可通过
    roundCreated 值来访问。
- en: 'The event is depicted as a filled circle (see [Figure 3.10](#c03-fig-0010))
    and has the following characteristics:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 事件被描绘成一个实心圆圈（参见[图3.10](#c03-fig-0010)）并且具有以下特征：
- en: Event ID
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 事件ID
- en: Hashes of sender and receiver parents
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 发送者和接收者父级的散列值
- en: '![](images/c03f010.png)'
  id: totrans-158
  prefs: []
  type: TYPE_IMG
  zh: '![](images/c03f010.png)'
- en: '[**Figure 3.10**](#rc03-fig-0010) Limenberg’s representation of hashgraph.'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: '[**图3.10**](#rc03-fig-0010) 利门伯格对 hashgraph 的表示。'
- en: The lines joining the events are known as transactions.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 连接事件的线被称为交易。
- en: 3.7.3 How Does Hashgraph Work?
  id: totrans-161
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.7.3 哈希图是如何工作的？
- en: The first event in a round created by each participant is called a witness.
    It may later qualify to become a famous or nonfamous witness, depending on what
    is witnessed by subsequent events.
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 每个参与者创建的每一轮第一个事件被称为见证人。后来，它可能资格成为著名或非著名的见证人，这取决于后续事件见证了什么。
- en: “Seeing” means that there is a path down to all witnesses from an event. By
    “strongly seeing,” it is indicated that one event outperforms the other event
    by the supermajority of participants.
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: “看到”意味着从事件到所有见证人有一条路径。通过“强烈看到”，指的是一个事件在超过参与者超级多数的情况下优于另一个事件。
- en: If the event can see all or a supermajority of witnesses of a round R, then
    roundCreated is incremented by one.
  id: totrans-164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果事件能看到一轮 R 的所有或超级多数的见证人，那么 roundCreated 就会增加一。
- en: After creation of a new round, the fame of the previous witnesses is categorized
    as famous or not-famous.
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建新轮次后，前一轮见证人的名声被归类为著名或不著名。
- en: Votes are counted on the basis of fame status, graph structure, and results
    of perseverance.
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 投票是根据名声地位、图形结构以及坚持结果进行计数。
- en: Events are arranged i.e., roundReceived and Median timestamps are assigned,
    which in turn arrange transactions.
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 事件被安排好，即 roundReceived 和中位数时间戳被分配，这反过来又排列交易。
- en: 3.8 Scalability
  id: totrans-168
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 3.8 可扩展性
- en: 'With the ever-increasing volume of transactions, the blockchain becomes heavy.
    Due to the inherent restrictions of block size and the time lag for generating
    a new block, the Bitcoin blockchain can process around seven transactions per
    second, failing to meet the need to process millions of transactions on a real-time
    basis. Therefore, there can be only two alternatives: one is storage optimization
    and the other is redesigning.'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 随着交易量的不断增加，区块链变得很重。由于块大小固有的限制和生成新块的时间延迟，比特币区块链每秒可以处理大约七笔交易，无法满足实时处理数百万笔交易的需求。因此，只能有两种选择：一种是存储优化，另一种是重新设计。
- en: Bruce (2014) proposed a new cryptocurrency scheme, in which old transaction
    records are deleted (or forgotten) by the network. This is important because it
    is not so easy for a node to operate a full copy of the ledger.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
- en: 'Eyal et al. (2016) proposed Bitcoin-Next Generation to decouple the conventional
    block into two parts: the major block to elect the leader; and the microblocks
    for transaction storage. Time is divided into epochs, and in each epoch, miners
    have to hash, in order to create a major block. Once a key block is generated,
    the node becomes the leader, responsible for generating the microblock. Bitcoin-NG
    also expanded the longest chain strategy with microblocks carrying no weight.
    Thus, by redesigning the blockchain, the trade-off between block size and network
    security is being addressed.'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
- en: Coming up
  id: totrans-172
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The preceding chapter has provided an outline of the blockchain architecture,
    design, and representation. The next chapter deals with the in-depth analysis
    of blockchain at the transaction level from financial and programmable perspectives.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
- en: References
  id: totrans-174
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Boucher P, 2017\. How blockchain technology could change our lives. European
    Parliamentary Research Service, 1–24\. [https://epthinktank.eu/2017/03/01/how-blockchain-technology-could-change-our-lives](https://epthinktank.eu/2017/03/01/how-blockchain-technology-could-change-our-lives)/Accessed
    on 01 March 2017.
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Bruce JD, 2014\. The Mini Blockchain Scheme (Revised 2017). [https://cryptonite.info/files/mbc-scheme-rev3.pdf](https://cryptonite.info/files/mbc-scheme-rev3.pdf)/.
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Buterin V, 2015\. A Next-Generation Smart Contract and Decentralized Application
    Platform. White paper, 1-36\. [https://blockchainlab.com/pdf/Ethereum_white_paper-a_next_generation_smart_contract_and_decentralized_application_platform-vitalik-buterin.pdf](https://blockchainlab.com/pdf/Ethereum_white_paper-a_next_generation_smart_contract_and_decentralized_application_platform-vitalik-buterin.pdf)/Accessed
    on 03 June 2020.
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Chepurnoy A, Larangeira M, and Ojiganov A, 2016\. A Prunable Blockchain Consensus
    Protocol Based on Non-Interactive Proofs of past States Retrievability. [https://www.researchgate.net/publication/301878891_A_Prunable_Blockchain_Consensus_Protocol_Based_on_Non-Interactive_Proofs_of_Past_States_Retrievability](https://www.researchgate.net/publication/301878891_A_Prunable_Blockchain_Consensus_Protocol_Based_on_Non-Interactive_Proofs_of_Past_States_Retrievability)/.
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Decker C, Seidel J, and Wattenhofer R, 2016\. Bitcoin Meets Strong Consistency.
    Proceedings of the 17th International Conference on Distributed Computing & Networking
    Singapore, 13.
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Eyal I, Gencer AE, Sirer EG, and Van Renesse R, 2016\. Bitcoining: A Scalable
    Blockchain Protocol. Proceedings of the 13th USENIX Symposium on Networked Systems
    Design and Implementation, Santa Clara CA, 45–59.'
  id: totrans-180
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Eyal I and Sirer EG, 2014\. Majority Is Not Enough: Bitcoin Mining Is Vulnerable.
    Proceedings of International Conference on Financial Cryptography and Data Security,
    Berlin, 436–454.'
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Garg R, 2021a. Distributed Framework for Real World Applications. Barnes & Noble,
    Basking Ridge, New Jersey US, 1–126.
  id: totrans-182
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Garg R, 2021b. Ethereum Based Smart Contracts for Trade and Finance. International
    Conference on Blockchain and Smart Contracts, Bangkok Thailand. doi: 10.5281/zenodo.5854730
    [https://www.researchgate.net/publication/357510533_Ethereum_based_Smart_Contracts_for_Trade_Finance](https://www.researchgate.net/publication/357510533_Ethereum_based_Smart_Contracts_for_Trade_Finance)/Accessed
    on 02 February 2022.'
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Garg R, 2021c. *Identités Auto-souveraines*. Editions Notre Savoir, France,
    1–104.
  id: totrans-184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Hyperledger, 2015\. Hyperledger: Open Source Blockchain Technologies. [https://www.hyperledger.org](https://www.hyperledger.org)/
    Accessed on 01 December 2020.'
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'King S and Nadal S, 2012\. PPCoin: Peer-to-Peer Cryptocurrency with Proof-of-Stake,
    19\. [https://decred.org/research/king2012.pdf](https://decred.org/research/king2012.pdf).'
  id: totrans-186
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Kraft D, 2016\. Difficulty control for blockchain based consensus systems.
    Peer-to-Peer Networking and Applications, 9 (2): 397–413.'
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Kwon J, 2014\. Tendermint: Consensus without Mining. [https://tendermint.com/static/docs/tendermint.pdf](https://tendermint.com/static/docs/tendermint.pdf).'
  id: totrans-188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Lewis A and Larson M, 2016\. Understanding blockchain technology and what it
    means for your business. DBS Asian Insights. [https://www.dbs.com](https://www.dbs.com)/.
  id: totrans-189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Lewis R, McPartland J, and Ranjan R, 2017\. Blockchain and Financial Market
    Innovation. In Economic Perspectives, 41: 7\. [https://www.chicagofed.org/publications/economic-perspectives/2017/7](https://www.chicagofed.org/publications/economic-perspectives/2017/7).'
  id: totrans-190
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Mahmoud QH, Lescisin M, and Taei MA, 2019\. Research Challenges and Opportunities
    in Blockchain and Cryptocurrencies. *Internet Technology Letters*. Wiley US, 2
    (93): 01–06.'
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Mazieres D, 2015\. The Stellar Consensus Protocol: A Federated Model for Internet-Level
    Consensus. Stellar Development Foundation. [http://www.scs.stanford.edu/17au-cs244b/notes/scp.pdf](http://www.scs.stanford.edu/17au-cs244b/notes/scp.pdf).'
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Miguel C and Barbara L, 1999\. Practical Byzantine Fault Tolerance. Proceedings
    of the 3rd Symposium on Operating Systems Design and Implementation, New Orleans,
    (99) 173–186.
  id: totrans-193
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Nakamoto S, 2008\. Bitcoin: A Peer-to-Peer Electronic Cash System. [https://bitcoin.org/bitcoin.pdf](https://bitcoin.org/bitcoin.pdf).'
  id: totrans-194
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Schwartz D, Youngs N, and Britto A, 2014\. The Ripple Protocol Consensus Algorithm.
    Ripple Labs Inc. White Paper, 5\. [https://ripple.com/files/ripple_consensus_whitepaper.pdf](https://ripple.com/files/ripple_consensus_whitepaper.pdf).
  id: totrans-195
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Singh S and Singh N, 2016\. Blockchain: Future of Financial and Cyber Security.
    2nd International Conference on Contemporary Computing and Informatics, India,
    463–467.'
  id: totrans-196
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Sompolinsky Y and Zohar A, 2013\. Accelerating bitcoins transaction processing.
    Fast money grows on trees, not chains. IACR Cryptology e-Print Archive . [https://eprint.iacr.org/2013/881](https://eprint.iacr.org/2013/881).
  id: totrans-197
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 索姆波利斯基 Y 和佐哈ar A, 2013。加速比特币交易处理。快速赚钱，树木上长钱，而不是链条。IACR密码学电子打印档案。 [https://eprint.iacr.org/2013/881](https://eprint.iacr.org/2013/881)。
- en: Vasin P, 2014\. Blackcoins Proof-of-Stake Protocol. [https://blackcoin.org/blackcoin-pos-protocol-v2-whitepaper.pdf](https://blackcoin.org/blackcoin-pos-protocol-v2-whitepaper.pdf).
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 瓦辛 P, 2014。黑币的权益证明协议。 [https://blackcoin.org/blackcoin-pos-protocol-v2-whitepaper.pdf](https://blackcoin.org/blackcoin-pos-protocol-v2-whitepaper.pdf)。
- en: 'Vukolic M, 2015\. The Quest for Scalable Blockchain Fabric: Proof-of-Work vs
    BFT Replication. International Workshop on Open Problems in Network Security,
    Zurich, 112–125.'
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 武科利奇 M, 2015。寻找可扩展的区块链面料：工作量证明与BFT复制。国际网络安全开放问题研讨会，苏黎世，112-125。
- en: 'Wood G, 2014\. Ethereum: A Secure Decentralized Generalized Transaction Ledger.
    Ethereum Project Yellow Paper. [https://ethereum.github.io/yellowpaper/paper.pdf](https://ethereum.github.io/yellowpaper/paper.pdf).'
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 伍德 G, 2014。以太坊：一个安全的去中心化通用交易账本。以太坊项目黄皮书。 [https://ethereum.github.io/yellowpaper/paper.pdf](https://ethereum.github.io/yellowpaper/paper.pdf)。
- en: Zamfir V, 2015\. Introducing Casper the Friendly Ghost. Ethereum Blog. [https://blog.ethereum.org/2015/08/01/introducing-casper-friendly-ghost](https://blog.ethereum.org/2015/08/01/introducing-casper-friendly-ghost)/.
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 扎姆弗伊 V, 2015。介绍友好的幽灵卡司珀。以太坊博客。 [https://blog.ethereum.org/2015/08/01/introducing-casper-friendly-ghost](https://blog.ethereum.org/2015/08/01/introducing-casper-friendly-ghost)/.
- en: 'Zheng Z, Xie S, Dai H, Chen X, and Wang H, 2017\. An Overview of Blockchain
    Technology: Architecture, Consensus, and Future Trends. IEEE 6th International
    Congress on Big Data, 01–08.'
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 郑 Z, 谢 S, 代 H, 陈 X, 王 H, 2017。区块链技术概述：架构、共识和未来趋势。IEEE 第六届国际大数据会议，01-08。
