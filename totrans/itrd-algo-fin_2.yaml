- en: ''
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Part II
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 第二部分
- en: Algorithmic Issues
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 算法问题
- en: Chapter 8
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第8章
- en: Option Pricing Using Finite Difference Method
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 使用有限差分法进行期权定价
- en: In this chapter, we consider the finite difference method of numerically solving
    the option pricing problem. We start by considering the European call option.
    Pricing of American options is harder due to the possibility of early exercise.
    We later consider the American put option to show how the problem can be tackled.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们考虑了有限差分法数值解决期权定价问题。我们首先考虑欧式看涨期权。由于可能提前行权的可能性，美式期权的定价更加困难。我们随后考虑美式看跌期权，以展示如何解决这个问题。
- en: 'The Black-Scholes equation and boundary condition for a European call option
    *C*(*S*, *t*) are the following:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 对于欧式看涨期权*C*(*S*, *t*)的布莱克-舒尔斯方程和边界条件如下：
- en: '![display-image](../images/CH008_1.jpg)(8.1)'
  id: totrans-7
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_1.jpg)(8.1)'
- en: with
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 具有
- en: '![display-image](../images/CH008_2.jpg)'
  id: totrans-9
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_2.jpg)'
- en: Here *σ* is the volatility parameter and *r* is the risk-free rate of interest.
    In ([8.1](#eq1)), the first two boundary conditions are with respect to *S* and
    specify the values of *C*(*S*, *t*) for *S* = 0 and for *S* → ∞. The last boundary
    condition is with respect to *t*. Note that the boundary condition with respect
    to *t* is a final condition. Due to this, the Black-Scholes equation is said to
    be in the backward form and we are required to obtain the value of *C* for time
    *t* < *T*.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 这里的*σ*是波动率参数，*r*是无风险利率。在([8.1](#eq1))中，前两个边界条件是关于*S*的，并指定了*S* = 0和*S* → ∞时*C*(*S*,
    *t*)的值。最后一个边界条件是关于*t*的。请注意，关于*t*的边界条件是最终条件。由于这个原因，布莱克-舒尔斯方程被称为反向形式，我们需要获得时间*t*
    < *T*时*C*的值。
- en: For the purpose of solution, it is easier to deal with an equation of the forward
    form where an initial value is specified. Some variable substitutions convert
    the Black-Scholes equation into the so-called diffusion equation where an initial
    value is specified.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 为了解决问题，更容易处理一个指定了初始值的前向形式方程。一些变量替换将布莱克-舒尔斯方程转换为所谓的扩散方程，其中指定了初始值。
- en: 'The first set of variable substitutions is the following:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 第一组变量替换如下：
- en: '![display-image](../images/CH008_3.jpg)(8.2)'
  id: totrans-13
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_3.jpg)(8.2)'
- en: In ([8.1](#eq1)), the quantities ![inline-image](../images/CH008_4.jpg), ![inline-image](../images/CH008_5.jpg)
    and ![inline-image](../images/CH008_6.jpg) are required. These are computed from
    ([8.2](#eq2)) using ![inline-image](../images/CH008_7.jpg), ![inline-image](../images/CH008_8.jpg),
    and ![inline-image](../images/CH008_9.jpg). Simplifying the expressions leads
    to
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 在([8.1](#eq1))中，需要计算数量![inline-image](../images/CH008_4.jpg)、![inline-image](../images/CH008_5.jpg)和![inline-image](../images/CH008_6.jpg)。这些是使用![inline-image](../images/CH008_7.jpg)、![inline-image](../images/CH008_8.jpg)和![inline-image](../images/CH008_9.jpg)从([8.2](#eq2))计算的。简化表达式得到
- en: '![display-image](../images/CH008_10.jpg)(8.3)'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_10.jpg)(8.3)'
- en: where ![inline-image](../images/CH008_11.jpg) and the initial condition becomes
    *v*(*x*, 0) = max(e ^(*x*) − 1, 0).
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 其中![inline-image](../images/CH008_11.jpg)，初始条件变为*v*(*x*, 0) = max(e ^(*x*) −
    1, 0)。
- en: In the Black-Scholes equation, it is required to consider the time interval
    ![inline-image](../images/CH008_12.jpg). From ![inline-image](../images/CH008_13.jpg),
    for *t* = *T* we get ![inline-image](../images/CH008_14.jpg) and for *t* = 0,
    we get ![inline-image](../images/CH008_15.jpg). This shows ![inline-image](../images/CH008_16.jpg),
    the initial condition for *t* becomes the final condition for τ and the final
    condition for *t* becomes the initial condition for *τ*.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Black-Scholes 方程中，需要考虑时间间隔 ![inline-image](../images/CH008_12.jpg)。从 ![inline-image](../images/CH008_13.jpg)
    中，对于 *t* = *T*，我们得到 ![inline-image](../images/CH008_14.jpg)，对于 *t* = 0，我们得到 ![inline-image](../images/CH008_15.jpg)。这显示
    ![inline-image](../images/CH008_16.jpg)，时间 *t* 的初始条件成为时间 *τ* 的最终条件，时间 *t* 的最终条件成为
    *τ* 的初始条件。
- en: 'The next substitution is the following:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个替换如下：
- en: '![display-image](../images/CH008_17.jpg)(8.4)'
  id: totrans-19
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_17.jpg)(8.4)'
- en: for some constants *α* and *β* whose values are to be determined. Taking partial
    derivatives with respect to *t* and *x* in ([8.4](#eq4)) and substituting in ([8.3](#eq3))
    gives after simplification
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 对于一些常数 *α* 和 *β*，它们的值需要确定。在 ([8.4](#eq4)) 中对 *t* 和 *x* 做偏导数，然后代入 ([8.3](#eq3))，经过简化后得到
- en: '![display-image](../images/CH008_18.jpg)(8.5)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_18.jpg)(8.5)'
- en: Setting *α* = −(*k* − 1)/2 and *β* = *α* ² + (*k* − 1)*α* − *k* eliminates the
    ![inline-image](../images/CH008_19.jpg) term and the *u* term respectively. With
    these values of *α* and *β*, *v* becomes
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 设定 *α* = −(*k* − 1)/2 和 *β* = *α* ² + (*k* − 1)*α* − *k* 分别消除了 ![inline-image](../images/CH008_19.jpg)
    项和 *u* 项。利用这些 *α* 和 *β* 的值，*v* 变为
- en: '![display-image](../images/CH008_20.jpg)(8.6)'
  id: totrans-23
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_20.jpg)(8.6)'
- en: 'Also ([8.5](#eq5)) gets transformed into the following:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 同时，([8.5](#eq5)) 转换成以下形式：
- en: '![display-image](../images/CH008_21.jpg)(8.7)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_21.jpg)(8.7)'
- en: 'The initial condition with respect to *τ* and the boundary conditions with
    respect to *x* are as follows:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 初始条件关于 *τ* 和边界条件关于 *x* 如下所示：
- en: '![display-image](../images/CH008_22.jpg)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_22.jpg)'
- en: '![display-image](../images/CH008_23.jpg)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_23.jpg)'
- en: '[Equation (8.7)](#eq7) is called the diffusion equation and is used in Physics
    to model temperature in a thin infinite bar at time *τ*. To solve the original
    Black-Scholes equation for *C* it is sufficient to solve the diffusion [equation
    (8.7)](#eq7) for *u* and then use the variable substitutions in reverse to obtain
    the corresponding value of *C*. So, in the following we will consider the diffusion
    equation.'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 方程 (8.7)](#eq7) 被称为扩散方程，用于模拟时间 *τ* 时的薄无限条的温度。为了解 Black-Scholes 方程的原始 *C*，仅需解扩散方程
    (8.7)](#eq7) 得到 *u*，然后反向使用变量替换得到对应的 *C* 值。因此，接下来我们将考虑扩散方程。
- en: 8.1 Crank-Nicolson Method
  id: totrans-30
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 8.1 克兰克-尼科尔森方法
- en: The finite difference method is a technique for numerically solving partial
    differential equations. In this section, we provide an overview of the Crank-Nicolson
    method for solving the diffusion equation given by [equation (8.7)](#eq7). The
    diffusion equation has partial derivatives with respect to two variables. We consider
    discretisations of these derivatives.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 有限差分法是一种数值求解偏微分方程的技术。 在本节中，我们概述了用于求解扩散方程（由[方程（8.7）](#eq7)给出）的Crank-Nicolson方法。
    扩散方程具有关于两个变量的偏导数。 我们考虑对这些导数的离散化。
- en: 'The partial derivative ![inline-image](../images/CH008_24.jpg) may be defined
    to be the limiting difference:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 偏导数![inline-image](../images/CH008_24.jpg)可以定义为极限差值：
- en: '![display-image](../images/CH008_25.jpg)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_25.jpg)'
- en: This can be approximated in the following ways.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 这可以通过以下方式近似。
- en: '![display-image](../images/CH008_26.jpg)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_26.jpg)'
- en: The ‘big-oh’ notation is defined as follows. For positive real valued functions
    ![inline-image](../images/CH008_27.jpg) and ![inline-image](../images/CH008_28.jpg),
    ![inline-image](../images/CH008_29.jpg) (read as *f* is ‘big-oh’ of *g*) if there
    are positive real numbers *M* and *x* 0 such that ![inline-image](../images/CH008_30.jpg)
    for all ![inline-image](../images/CH008_31.jpg).
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: ‘大O’符号的定义如下。 对于正实值函数![inline-image](../images/CH008_27.jpg)和![inline-image](../images/CH008_28.jpg)，如果存在正实数*M*和*x*0，使得对于所有![inline-image](../images/CH008_31.jpg)，都有![inline-image](../images/CH008_30.jpg)。
- en: For the second order partial derivative with respect to *x* in ([8.7](#eq7)),
    two successive approximations are to be considered. Using either of the two strategies
    ‘forward followed by backward’ or ‘backward followed by forward’, the following
    symmetric central-difference approximation is obtained.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 对于在（[8.7](#eq7)）中对*x*的二阶偏导数，需要考虑两次连续的近似。 使用‘先前后向’或‘后向先前’两种策略之一，可得到以下对称的中心差分近似。
- en: '![display-image](../images/CH008_32.jpg)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_32.jpg)'
- en: 8.1.1 Finite difference mesh
  id: totrans-39
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 8.1.1 有限差分网格
- en: Consider the 2-dimensional plane, where *τ* increases along the horizontal line
    and *x* increases along the vertical line. This plane is divided into a mesh where
    the *τ*-line is assumed to be represented by lines which are ![inline-image](../images/CH008_33.jpg)
    apart and the *x*-line is assumed to be represented by lines which are ![inline-image](../images/CH008_34.jpg)
    lines apart. So, points of the mesh are determined by ![inline-image](../images/CH008_35.jpg)
    for integers *m* and *n*. The value of the function ![inline-image](../images/CH008_36.jpg)
    at this point will be denoted by
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑二维平面，其中*τ*沿水平线增加，*x*沿垂直线增加。 这个平面被分成一个网格，其中*τ*线被假定为由间隔为![inline-image](../images/CH008_33.jpg)的线表示，*x*线被假定为由间隔为![inline-image](../images/CH008_34.jpg)的线表示。
    因此，网格的点由整数*m*和*n*确定。 在这一点上函数![inline-image](../images/CH008_36.jpg)的值将被表示为
- en: '![display-image](../images/CH008_37.jpg)(8.8)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_37.jpg)(8.8)'
- en: Consequently,
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，
- en: '![display-image](../images/CH008_38.jpg)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_38.jpg)'
- en: 'Recall that ![inline-image](../images/CH008_39.jpg). In the discretisation
    for *τ*, suppose the interval ![inline-image](../images/CH008_40.jpg) is divided
    into *M* sub-intervals. This sets ![inline-image](../images/CH008_41.jpg) to be
    equal to ![inline-image](../images/CH008_42.jpg). In practice, the conditions
    ![inline-image](../images/CH008_43.jpg) and ![inline-image](../images/CH008_44.jpg)
    are approximated by choosing large positive integers *N* ^− and *N* ^+ and considering
    *x* to be in the interval ![inline-image](../images/CH008_45.jpg). So, the boundary
    and initial conditions become the following:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 回想一下 ![inline-image](../images/CH008_39.jpg)。在 *τ* 的离散化中，假设区间 ![inline-image](../images/CH008_40.jpg)
    被分成 *M* 个子区间。这将使 ![inline-image](../images/CH008_41.jpg) 等于 ![inline-image](../images/CH008_42.jpg)。在实践中，条件
    ![inline-image](../images/CH008_43.jpg) 和 ![inline-image](../images/CH008_44.jpg)
    通过选择大的正整数 *N* ^− 和 *N* ^+ 并考虑 *x* 在区间 ![inline-image](../images/CH008_45.jpg)
    内来近似。因此，边界和初始条件变为以下形式：
- en: '![display-image](../images/CH008_46.jpg)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_46.jpg)'
- en: Note that the boundary condition implies that ![inline-image](../images/CH008_47.jpg)
    is known for ![inline-image](../images/CH008_48.jpg).
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意边界条件意味着 ![inline-image](../images/CH008_47.jpg) 对于 ![inline-image](../images/CH008_48.jpg)
    是已知的。
- en: 'Using the forward difference to approximate ![inline-image](../images/CH008_49.jpg)
    and the symmetric central-difference to approximate ![inline-image](../images/CH008_50.jpg)
    provides the following equation:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 使用前向差分来近似 ![inline-image](../images/CH008_49.jpg)，使用对称中心差分来近似 ![inline-image](../images/CH008_50.jpg)，得到以下方程：
- en: '![display-image](../images/CH008_51.jpg)(8.9)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_51.jpg)(8.9)'
- en: 'Using the backward difference to approximate ![inline-image](../images/CH008_52.jpg)
    and the symmetric central-difference to approximate ![inline-image](../images/CH008_53.jpg)
    provides the following equation:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 使用后向差分来近似 ![inline-image](../images/CH008_52.jpg)，使用对称中心差分来近似 ![inline-image](../images/CH008_53.jpg)，得到以下方程：
- en: '![display-image](../images/CH008_54.jpg)(8.10)'
  id: totrans-50
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_54.jpg)(8.10)'
- en: Changing *m* to *m* + 1 in ([8.10](#eq10)) gives
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 在 ([8.10](#eq10)) 中将 *m* 改为 *m* + 1 得到
- en: '![display-image](../images/CH008_55.jpg)(8.11)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_55.jpg)(8.11)'
- en: 'The average of ([8.9](#eq9)) and ([8.11](#eq11)) is the following:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: ([8.9](#eq9)) 和 ([8.11](#eq11)) 的平均值如下：
- en: '![display-image](../images/CH008_56.jpg)(8.12)'
  id: totrans-54
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_56.jpg)(8.12)'
- en: 'It can be shown that the terms in this equation are accurate to ![inline-image](../images/CH008_57.jpg)
    rather than up to ![inline-image](../images/CH008_58.jpg). Ignoring the error
    terms (i.e., the ‘big-oh’ terms) we have the following approximation:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 可以证明该方程中的项精确到 ![inline-image](../images/CH008_57.jpg)，而不是精确到 ![inline-image](../images/CH008_58.jpg)。忽略误差项（即“大O”项），我们得到以下近似：
- en: '![display-image](../images/CH008_59.jpg)(8.13)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_59.jpg)(8.13)'
- en: for ![inline-image](../images/CH008_60.jpg), where
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 ![inline-image](../images/CH008_60.jpg)，其中
- en: '![display-image](../images/CH008_61.jpg)(8.14)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_61.jpg)(8.14)'
- en: '[Equation (8.13)](#eq13) defines a system of linear equations whereby if ![inline-image](../images/CH008_62.jpg)
    are known for all *n*, then ![inline-image](../images/CH008_63.jpg) can be computed
    for all *n*. In other words, at time ![inline-image](../images/CH008_64.jpg),
    if the values of ![inline-image](../images/CH008_65.jpg) are known for all ![inline-image](../images/CH008_66.jpg),
    then it is possible to compute the values of ![inline-image](../images/CH008_67.jpg)
    for all ![inline-image](../images/CH008_68.jpg). Define'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '[方程式 (8.13)](#eq13) 定义了一个线性方程组，如果已知 ![内联图片](../images/CH008_62.jpg) 对所有 *n*
    都成立，则可以计算所有 *n* 的 ![内联图片](../images/CH008_63.jpg)。换句话说，在时间 ![内联图片](../images/CH008_64.jpg)，如果已知所有
    ![内联图片](../images/CH008_65.jpg) 的值，那么就可以计算所有 ![内联图片](../images/CH008_67.jpg) 的值。定义'
- en: '![display-image](../images/CH008_69.jpg)(8.15)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![显示图片](../images/CH008_69.jpg)(8.15)'
- en: Then ![inline-image](../images/CH008_70.jpg) can be computed if ![inline-image](../images/CH008_71.jpg)
    are known for all *n*. Once the ![inline-image](../images/CH008_72.jpg) are known,
    it is possible to obtain ![inline-image](../images/CH008_73.jpg) for all *n*.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 接着，如果已知所有 *n* 的值，则可以计算 ![内联图片](../images/CH008_70.jpg)。一旦知道了 ![内联图片](../images/CH008_72.jpg)，就可以得到所有
    *n* 的 ![内联图片](../images/CH008_73.jpg)。
- en: In matrix notation, ([8.13](#eq13)) can be written as
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 用矩阵表示，([8.13](#eq13)) 可以写成
- en: '![display-image](../images/CH008_74.jpg)(8.16)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![显示图片](../images/CH008_74.jpg)(8.16)'
- en: where
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 其中
- en: '![display-image](../images/CH008_75.jpg)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![显示图片](../images/CH008_75.jpg)'
- en: '![display-image](../images/CH008_76.jpg)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![显示图片](../images/CH008_76.jpg)'
- en: '![display-image](../images/CH008_77.jpg)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
  zh: '![显示图片](../images/CH008_77.jpg)'
- en: '![display-image](../images/CH008_78.jpg)'
  id: totrans-68
  prefs: []
  type: TYPE_IMG
  zh: '![显示图片](../images/CH008_78.jpg)'
- en: The values of ![inline-image](../images/CH008_79.jpg) and ![inline-image](../images/CH008_80.jpg)
    are known from the boundary conditions on *x*. So, for all *m*, the vector **b**
    ^( *m* ) is determined by the boundary conditions.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 从 *x* 的边界条件已知 ![内联图片](../images/CH008_79.jpg) 和 ![内联图片](../images/CH008_80.jpg)
    的值。因此，对于所有 *m*，向量 **b** ^( *m* ) 由边界条件确定。
- en: To, solve ([8.16](#eq16)), first obtain **z** ^(*m*) = **Du** ^(*m*) + **b**
    ^(*m*) . This is easy to do using ([8.15](#eq15)). Then the system of linear equations
    **Cu** ^(*m*+1) = **z** ^(*m*) is solved using techniques from numerical linear
    algebra. So, for any ![inline-image](../images/CH008_81.jpg), it is possible to
    find the value of ![inline-image](../images/CH008_82.jpg) for all *n*. Consequently,
    the value *C* of the call option can also be obtained at all the grid points of
    the two dimensional mesh described above.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 要解 ([8.16](#eq16))，首先得到 **z** ^(*m*) = **Du** ^(*m*) + **b** ^(*m*) 。这可以使用 ([8.15](#eq15))
    很容易地完成。然后使用数值线性代数技术解线性方程组 **Cu** ^(*m*+1) = **z** ^(*m*) 。因此，对于任何 ![内联图片](../images/CH008_81.jpg)，可以找到所有
    *n* 的 ![内联图片](../images/CH008_82.jpg) 的值。因此，上述两维网格的所有网格点处也可以得到看涨期权的值 *C*。
- en: Note that the use of finite precision computer arithmetic introduces rounding
    errors in numerical solutions. The system is said to be stable if these rounding
    errors are not magnified at each iteration. If the rounding errors do grow in
    magnitude at each iteration of the solution, then the system is said to be unstable.
    It can be shown that the Crank-Nicolson system is stable for *α* > 0.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，有限精度计算机算术的使用会在数值解中引入舍入误差。如果这些舍入误差在每次迭代中不被放大，则系统被认为是稳定的。如果舍入误差在解的每次迭代中增长，则系统被认为是不稳定的。可以证明，对于
    *α* > 0，Crank-Nicolson 系统是稳定的。
- en: 8.2 American Options
  id: totrans-72
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 8.2 美式期权
- en: American options can be exercised on or *before* the expiry date. Intuitively,
    this additional right makes them more valuable than European options.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 美式期权可以在到期日当天或之前行权。直观地说，这种额外的权利使它们比欧式期权更有价值。
- en: For any American option, at each time point *t*, depending on the asset value
    *S*, a decision has to be taken as to whether the asset should be held or, whether
    it should be exercised. This is known as a free boundary value problem. For each
    time *t*, there is a value ![inline-image](../images/CH008_83.jpg) such that if
    the price *S* of the asset is on one side of ![inline-image](../images/CH008_84.jpg),
    then the option should be exercised, while if the price *S* is on the other side
    of ![inline-image](../images/CH008_85.jpg), then the option should be held. The
    value ![inline-image](../images/CH008_86.jpg) is called the optimal exercise price
    and the corresponding value of the option is said to be the exercise value. At
    time point *t*, there could be several such optimal exercise prices. So, the decision
    to sell or retain the option with respect to a particular value ![inline-image](../images/CH008_87.jpg)
    is taken for the asset price in a local neighbourhood of ![inline-image](../images/CH008_88.jpg).
    In the following, we will consider the case of only one optimal exercise price.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 对于任何美式期权，在每个时间点 *t*，根据资产价值 *S*，必须决定是持有资产还是行权。这被称为自由边界值问题。对于每个时间 *t*，都有一个值 ![inline-image](../images/CH008_83.jpg)，如果资产价格
    *S* 在 ![inline-image](../images/CH008_84.jpg) 的一侧，则应行权，而如果资产价格 *S* 在 ![inline-image](../images/CH008_85.jpg)
    的另一侧，则应持有。值 ![inline-image](../images/CH008_86.jpg) 被称为最佳行权价格，相应的期权价值被称为行权价值。在时间点
    *t*，可能会有几个这样的最佳行权价格。因此，针对特定值 ![inline-image](../images/CH008_87.jpg)，关于资产价格的卖出或保留期权的决定是基于
    ![inline-image](../images/CH008_88.jpg) 的局部邻域内。接下来，我们将考虑只有一个最佳行权价格的情况。
- en: 'Suppose the value of the American put is *P*(*S*, *t*) and let ![inline-image](../images/CH008_89.jpg)
    be the exercise boundary. At time *t*, if ![inline-image](../images/CH008_90.jpg),
    then the option should be exercised and held otherwise. The following is the Black-Scholes
    inequality for *P*(*S*, *t*):'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 假设美式看跌期权的价值为 *P*(*S*, *t*)，让 ![inline-image](../images/CH008_89.jpg) 为行权边界。在时间
    *t*，如果 ![inline-image](../images/CH008_90.jpg)，则应行权和持有，否则不行权。以下是 *P*(*S*, *t*)
    的 Black-Scholes 不等式：
- en: '![display-image](../images/CH008_91.jpg)(8.17)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_91.jpg)(8.17)'
- en: 'For each time *t*, the *S*-axis is divided into two regions:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 对于每个时间*t*，*S*轴被分为两个区域：
- en: (1)For ![inline-image](../images/CH008_92.jpg) early exercise is optimal, *P*
    = *E* − *S* and strict inequality holds in ([8.17](#eq17)).(2)For ![inline-image](../images/CH008_93.jpg),
    early exercise is not optimal, *P* > *E* − *S* and equality holds in ([8.17](#eq17)).
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: (1)对于![inline-image](../images/CH008_92.jpg)，早期行权是最优的，*P* = *E* − *S*，在等式([8.17](#eq17))中严格成立。(2)对于![inline-image](../images/CH008_93.jpg)，早期行权不是最优的，*P*
    > *E* − *S*，并且等式在([8.17](#eq17))中成立。
- en: Note that under the no-arbitrage condition, *P* < *E* − *S* is not possible,
    as otherwise, an investor may buy both the option and the asset at a total cost
    of *P* + *S* and immediately exercise the option obtaining an amount *E* and in
    the process making a risk-free profit of *E* − (*P* − *S*) > 0.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，在无套利条件下，*P* < *E* − *S*是不可能的，否则，投资者可以以总成本为*P* + *S*买入期权和资产，并立即行权获得金额*E*，在此过程中获得*E*
    − (*P* − *S*) > 0的无风险利润。
- en: The boundary conditions at *S* = *S* *f* (*t*) are that *P* and ![inline-image](../images/CH008_94.jpg)
    are continuous, and
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 在*S* = *S* *f* (*t*)处的边界条件是，*P* 和![inline-image](../images/CH008_94.jpg)是连续的，并且
- en: '![display-image](../images/CH008_95.jpg)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_95.jpg)'
- en: 'Tackling the free boundary is problematic. It is possible to re-formulate the
    problem such that the free boundary disappears. The problem is transformed from
    the original (*S*, *t*) variables to ![inline-image](../images/CH008_96.jpg) variables
    using the transformations mentioned in the case of European option. This process
    transforms the optimal exercise boundary *S* *f* (*t*) to ![inline-image](../images/CH008_97.jpg).
    Since *S* *f* (*t*) < *E*, it follows that ![inline-image](../images/CH008_98.jpg).
    Further, the payoff function max(*E* − *S*, 0) is transformed to ![inline-image](../images/CH008_99.jpg).
    This results in the following formulation (the so-called linear complementarity
    problem):'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 处理自由边界是有问题的。可以重新构造问题，使自由边界消失。问题从原始(*S*, *t*)变量转换为使用欧式期权情况中提到的变换的![inline-image](../images/CH008_96.jpg)变量。该过程将最优行权边界*S*
    *f* (*t*)转换为![inline-image](../images/CH008_97.jpg)。由于*S* *f* (*t*) < *E*，所以![inline-image](../images/CH008_98.jpg)。此外，支付函数max(*E*
    − *S*, 0)被转换为![inline-image](../images/CH008_99.jpg)。这导致以下公式（所谓的线性互补问题）：
- en: '![display-image](../images/CH008_100.jpg)'
  id: totrans-83
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_100.jpg)'
- en: '![display-image](../images/CH008_101.jpg)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_101.jpg)'
- en: 'The initial and boundary conditions become the following:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 初始和边界条件如下：
- en: '![display-image](../images/CH008_102.jpg)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_102.jpg)'
- en: '![display-image](../images/CH008_103.jpg)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_103.jpg)'
- en: '![display-image](../images/CH008_104.jpg)'
  id: totrans-88
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_104.jpg)'
- en: '![display-image](../images/CH008_105.jpg)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_105.jpg)'
- en: There is no explicit mention of the free boundary in the above formulation.
    Solving the re-formulated problem to obtain an expression for ![inline-image](../images/CH008_106.jpg)
    allows obtaining the free boundary ![inline-image](../images/CH008_107.jpg) using
    the condition that ![inline-image](../images/CH008_108.jpg), but ![inline-image](../images/CH008_109.jpg)
    for ![inline-image](../images/CH008_110.jpg), i.e., it is the point where ![inline-image](../images/CH008_111.jpg)
    first meets ![inline-image](../images/CH008_112.jpg).
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 上述公式中没有明确提及自由边界。解决重新表述的问题以获得![inline-image](../images/CH008_106.jpg)的表达式，允许使用条件获得自由边界![inline-image](../images/CH008_107.jpg)，但是![inline-image](../images/CH008_109.jpg)对于![inline-image](../images/CH008_110.jpg)，即它是![inline-image](../images/CH008_111.jpg)首次遇到![inline-image](../images/CH008_112.jpg)的点。
- en: 8.2.1 Finite Difference Formulation
  id: totrans-91
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 8.2.1 有限差分公式
- en: As before, the ![inline-image](../images/CH008_113.jpg) plane is divided into
    a finite mesh where ![inline-image](../images/CH008_114.jpg) is a step along the
    *x*-axis and ![inline-image](../images/CH008_115.jpg) is a step along the *τ*
    axis. Also, it is assumed that *x* lies in the range ![inline-image](../images/CH008_116.jpg).
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 与之前一样，![inline-image](../images/CH008_113.jpg)平面被分成一个有限的网格，其中![inline-image](../images/CH008_114.jpg)是*x*轴上的步长，![inline-image](../images/CH008_115.jpg)是*τ*轴上的步长。同样，假设*x*位于范围内![inline-image](../images/CH008_116.jpg)。
- en: The partial derivatives are approximated on the regular mesh with step sizes
    ![inline-image](../images/CH008_117.jpg) and ![inline-image](../images/CH008_118.jpg),
    as before. Also, as before, let ![inline-image](../images/CH008_119.jpg) and write
    ![inline-image](../images/CH008_120.jpg). The condition ![inline-image](../images/CH008_121.jpg)
    is approximated by ![inline-image](../images/CH008_122.jpg).
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 在步长为![inline-image](../images/CH008_117.jpg)和![inline-image](../images/CH008_118.jpg)的常规网格上近似偏导数，与之前一样。同样，让![inline-image](../images/CH008_119.jpg)，并写![inline-image](../images/CH008_120.jpg)。条件![inline-image](../images/CH008_121.jpg)近似为![inline-image](../images/CH008_122.jpg)。
- en: Using the approximation of the partial derivatives given in [Section 8.1](#s1)
    and using a method similar to the one used in deriving ([8.12](#eq12)), it is
    possible to show that the inequality ![inline-image](../images/CH008_123.jpg)
    is approximated by
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 使用在[第8.1节](#s1)中给出的偏导数近似值，并使用类似于推导([8.12](#eq12))的方法，可以显示不等式![inline-image](../images/CH008_123.jpg)由近似为
- en: '![display-image](../images/CH008_124.jpg)(8.18)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_124.jpg)(8.18)'
- en: where, as before, ![inline-image](../images/CH008_125.jpg). The boundary and
    initial conditions translate to
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 其中，与之前一样，![inline-image](../images/CH008_125.jpg)。边界和初始条件转化为
- en: '![display-image](../images/CH008_126.jpg)'
  id: totrans-97
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_126.jpg)'
- en: Define
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 定义
- en: '![display-image](../images/CH008_127.jpg)'
  id: totrans-99
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_127.jpg)'
- en: Then ([8.18](#eq18)) becomes
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 那么([8.18](#eq18))变为
- en: '![display-image](../images/CH008_128.jpg)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_128.jpg)'
- en: At time step ![inline-image](../images/CH008_129.jpg) it is possible to find
    ![inline-image](../images/CH008_130.jpg) explicitly since the values of ![inline-image](../images/CH008_131.jpg)
    are known for all *n*. The following approximation is used for the equality in
    the linear complementarity formulation.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 在时间步骤 ![inline-image](../images/CH008_129.jpg) 中，由于对所有 *n* 的值都已知，可以明确找到 ![inline-image](../images/CH008_130.jpg)。在线性互补问题的等式中使用了以下近似。
- en: '![display-image](../images/CH008_132.jpg)'
  id: totrans-103
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_132.jpg)'
- en: 'The above formulation can be transformed into a matrix problem of the following
    type:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 上述表述可以转化为以下类型的矩阵问题：
- en: '![display-image](../images/CH008_133.jpg)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH008_133.jpg)'
- en: for a suitably defined matrix **C** (which turns out to be positive definite)
    and vector **b**. (Note that **C** here is different from the **C** appearing
    in the [Section 8.1](#s1)) As in the case of European option, the problem has
    been converted into a linear algebra problem and techniques from numerical linear
    algebra are used to solve the problem.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 对于一个适当定义的矩阵**C**（结果证明是正定的）和向量**b**。（注意，这里的**C**与[8.1节](#s1)中出现的**C**不同）与欧式期权的情况类似，问题已经转化为一个线性代数问题，并且使用数值线性代数技术来解决问题。
- en: '**Note**'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**'
- en: The material in this chapter is based on the treatment given in Wilmott, Howison,
    and Dewynne, 1995\. The description given here is short. For further details we
    refer the reader to Wilmott et al. (1995).
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 本章内容基于 Wilmott、Howison 和 Dewynne（1995）的处理。这里给出的描述很简短。有关更多详细信息，请参阅 Wilmott 等人（1995）。
- en: Chapter 9
  id: totrans-109
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第 9 章
- en: Option Pricing Using Monte Carlo Methods
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 使用蒙特卡洛方法进行期权定价
- en: Monte Carlo simulation is a very general technique with wide applications. In
    this chapter, we briefly review the technique in the context of option pricing.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 蒙特卡洛模拟是一种非常通用的技术，具有广泛的应用。在本章中，我们简要回顾了该技术在期权定价的背景下的应用。
- en: 9.1 Simulation of Wiener Process
  id: totrans-112
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.1 Wiener 过程的模拟
- en: Recall that the Wiener process is a family (*W* [*t*] ) [*t*]≥0, where *W* 0
    = 0, *W* [*t*] ∼ *N*(0, *t*) for all *t* ≥ 0, Δ*W* [*t*] = *W* [*t*]+Δ*t* − *W*
    [*t*] on non-overlapping time intervals are independent, and *W* [*t*] depend
    continuously on *t*. Here *N*(*μ*, *σ* ²) denotes the normal distribution with
    mean *μ* and variance *σ* ². As a consequence of the definition, *W* [*t*] − *W*
    *s* ∼ *N*(0, *t* − *s*) and so *E*[*W* [*t*] − *W* *s* ] = 0, Var(*W* [*t*] −
    *W* *s* ) = *t* − *s* implying *E*[(Δ*W* [*t*] )²] = Δ*t*. So, Δ*W* are independent
    and normally distributed with mean 0 and variance Δ*t*.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 回顾 Wiener 过程是一个家族（*W* [*t*]），其中 *t*≥0，其中 *W* 0 = 0，对于所有 *t* ≥ 0，*W* [*t*] ∼
    *N*(0, *t*)，在不重叠的时间间隔上 Δ*W* [*t*] = *W* [*t*]+Δ*t* − *W* [*t*] 是独立的，并且 *W* [*t*]
    连续地依赖于 *t*。这里 *N*(*μ*, *σ*²) 表示均值为 *μ*，方差为 *σ*² 的正态分布。根据定义的结果，*W* [*t*] − *W*
    *s* ∼ *N*(0, *t* − *s*)，因此 *E*[*W* [*t*] − *W* *s* ] = 0，Var(*W* [*t*] − *W* *s*
    ) = *t* − *s*，意味着 *E*[(Δ*W* [*t*] )²] = Δ*t*。因此，Δ*W* 是均值为 0，方差为 Δ*t* 的独立正态分布。
- en: A discrete time version of the Wiener process can be obtained in the following
    manner. Fix Δ*t* to be a constant time increment. For *i* ≥ 0, let *t* [*i*] =
    *i*Δ*t*. Define Δ*W* *k* = *W* *k*Δ*t* − *W* (*k*−1)Δ*t* . Then, we have ![inline-image](../images/CH009_1.jpg).
    Since, Δ*W* follows *N*(0, Δ*t*), we have ![inline-image](../images/CH009_2.jpg),
    where *Z* is the standard normal variate. Further, Δ*W*'s are independent over
    non-overlapping intervals. So, Δ*W* 1,…,Δ*W* [*i*] are independent and each follows
    *N*(0, Δ*t*).
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 可以通过以下方式获得维纳过程的离散时间版本。将 Δ*t* 固定为一个常数时间增量。对于 *i* ≥ 0，令 *t* [*i*] = *i*Δ*t*。定义
    Δ*W* *k* = *W* *k*Δ*t* − *W* (*k*−1)Δ*t*。然后，我们有 ![inline-image](../images/CH009_1.jpg)。由于
    Δ*W* 符合 *N*(0, Δ*t*)，我们有 ![inline-image](../images/CH009_2.jpg)，其中 *Z* 是标准正态变量。此外，Δ*W*
    在不重叠的区间上是独立的。因此，Δ*W* 1,…,Δ*W* [*i*] 是独立的，并且每个都符合 *N*(0, Δ*t*)。
- en: From the above description, we obtain the following simple method of simulating
    a discrete Wiener process.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 从上述描述中，我们得到了模拟离散维纳过程的以下简单方法。
- en: Fix a value for Δ*t*
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 固定 Δ*t* 的值
- en: Set *W* 0 = 0
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 设置 *W* 0 = 0
- en: For *k* := 1 to *i* do
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 *k* := 1 到 *i*，执行以下操作
- en: Sample Z independently from *N*(0, 1)
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 独立地从 *N*(0, 1) 中抽样 *Z*
- en: Set ![inline-image](../images/CH009_3.jpg)
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 设置 ![inline-image](../images/CH009_3.jpg)
- en: end for.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 结束。
- en: This method provides the values of ![inline-image](../images/CH009_4.jpg) at
    the points *t* *k* = *k*Δ*t*, *k* = 0, 1, 2,…. The process is random. So, repeating
    the procedure will (very likely) provide a different set of values. The procedure,
    though, is quite simple and can be used many times to simulate many different
    paths. These paths can be used for further processing, as we describe below.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 此方法提供了在点 *t* *k* = *k*Δ*t*，*k* = 0, 1, 2,… 的值 ![inline-image](../images/CH009_4.jpg)。这个过程是随机的。因此，重复该过程将（很可能）提供一组不同的值。然而，该过程相当简单，并且可以多次使用来模拟许多不同的路径。这些路径可以用于进一步处理，如下所述。
- en: The key computational step in the above simulation is that of sampling from
    the standard normal distribution. Since the standard normal distribution is continuous
    and computers can handle only finite precision, the sampling process cannot be
    perfect. The Ziggurat method is used for such sampling. It is a particular example
    of rejection sampling. We omit a discussion on the sampling procedure, since this
    will take us too far away from the scope of our discussion.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 上述模拟中的关键计算步骤是从标准正态分布中抽样。由于标准正态分布是连续的，而计算机只能处理有限精度，因此抽样过程不可能完美。Ziggurat 方法用于这种抽样。这是拒绝抽样的一个特殊示例。我们省略了对抽样过程的讨论，因为这将使我们远离我们讨论的范围。
- en: 9.2 Simulating Itô Stochastic Differential Equation
  id: totrans-124
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.2 模拟伊藤随机微分方程
- en: An Itô stochastic differential equation (SDE) is of the form
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 伊藤随机微分方程（SDE）的形式为
- en: '![display-image](../images/CH009_5.jpg)(9.1)'
  id: totrans-126
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH009_5.jpg)(9.1)'
- en: where (*X* [*t*] ) [*t*]≥0 is a stochastic process and (*W* [*t*] ) [*t*]≥0
    is a Wiener process. The coefficient *a*(*X* [*t*] , *t*) is called the drift
    term and the coefficient *b*(*X* [*t*] , *t*) is called the volatility or diffusion
    coefficient.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 其中(*X* [*t*] ) [*t*]≥0是一个随机过程，(*W* [*t*] ) [*t*]≥0是一个维纳过程。系数*a*(*X* [*t*] ,
    *t*)称为漂移项，系数*b*(*X* [*t*] , *t*)称为波动率或扩散系数。
- en: 'The discretisation of [(9.1)](#eq1) is the following:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: '[(9.1)](#eq1)的离散化如下：'
- en: '![display-image](../images/CH009_6.jpg)(9.2)'
  id: totrans-129
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH009_6.jpg)(9.2)'
- en: Suppose we consider discrete time steps 0 = *t* 0, *t* 1, *t* 2,… with *t* *k*+1
    − *t* *k* = Δ*t* to be a constant for *k* ≥ 1\. Then *t* *k* = *k*Δ*t* and ![inline-image](../images/CH009_7.jpg)
    and so ![inline-image](../images/CH009_8.jpg). Iteratively, obtaining ![inline-image](../images/CH009_9.jpg)
    and ![inline-image](../images/CH009_10.jpg) allows obtaining ![inline-image](../images/CH009_11.jpg).
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们考虑离散时间步长0 = *t* 0，*t* 1，*t* 2，...，其中*t* *k*+1 − *t* *k* = Δ*t*对于*k* ≥ 1是常数。然后*t*
    *k* = *k*Δ*t*，所以![inline-image](../images/CH009_7.jpg)以及![inline-image](../images/CH009_8.jpg)。迭代地，获得![inline-image](../images/CH009_9.jpg)和![inline-image](../images/CH009_10.jpg)允许获得![inline-image](../images/CH009_11.jpg)。
- en: Suppose that *S* [*t*] is the price of a stock at time *t*. The rate of return
    d*S* [*t*] /*S* [*t*] is modelled using the geometric Brownian motion, i.e. d*S*
    [*t*] /*S* [*t*] = *μ*d*t* + *σ*d*W* [*t*] . So, d*S* [*t*] = *S* [*t*] *μ*d*t*
    + *S* [*t*] *σ*d*W* [*t*] . Setting *a*(*S* [*t*] , *t*) = *S* [*t*] *μ* and *b*(*S*
    [*t*] , *t*) = *S* [*t*] *σ*, we see that (*S* [*t*] ) [*t*]≥0 satisfies an Itô
    SDE. Consequently, a method to solve *X* [*t*] from [(9.1)](#eq1) can be applied
    to find stock prices.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 假设*S* [*t*]是时间*t*的股票价格。收益率d*S* [*t*] /*S* [*t*]用几何布朗运动进行建模，即d*S* [*t*] /*S*
    [*t*] = *μ*d*t* + *σ*d*W* [*t*]。因此，d*S* [*t*] = *S* [*t*] *μ*d*t* + *S* [*t*]
    *σ*d*W* [*t*]。设置*a*(*S* [*t*] , *t*) = *S* [*t*] *μ*和*b*(*S* [*t*] , *t*) = *S*
    [*t*] *σ*，我们看到(*S* [*t*] ) [*t*]≥0满足一个Itô SDE。因此，可以应用解决[(9.1)](#eq1)中的*X* [*t*]的方法来找到股票价格。
- en: We have already seen a method for simulating a Wiener process. This can be extended
    to simulate an Itô SDE and solve for *X* [*t*] . The strategy given below is called
    the Euler discretisation. In this algorithm, *y* *k* is the obtained estimate
    of *X* *k*Δ*t* .
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经看到了模拟维纳过程的方法。这可以扩展到模拟Itô SDE并解决*X* [*t*]。下面给出的策略称为欧拉离散化。在此算法中，*y* *k*是*X*
    *k*Δ*t*的获得估计。
- en: Set the value of Δ*t*
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 设置Δ*t*的值
- en: Set *y* 0 = *X* 0 and *W* 0 = 0
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 设置*y* 0 = *X* 0和*W* 0 = 0
- en: For *k* := 0 to *N* do
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 对于*k* := 0到*N*的循环
- en: '[*t*] *k*+1 = *t* *k* + Δ*t*'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '[*t*] *k*+1 = *t* *k* + Δ*t*'
- en: Sample Z independently from *N*(0, 1)
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 独立地从*N*(0, 1)中抽取Z的样本
- en: Set ![inline-image](../images/CH009_12.jpg)
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 设置![inline-image](../images/CH009_12.jpg)
- en: Set *y* *k*+1 = *y* *k* + *a*(*y* [*k*] , *t* *k* )Δ*t* + *b*(*y* [*k*] , *t*
    *k* )Δ*W*
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 设置*y* *k*+1 = *y* *k* + *a*(*y* [*k*] , *t* *k* )Δ*t* + *b*(*y* [*k*] , *t*
    *k* )Δ*W*
- en: End for
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 结束循环
- en: The simulation provides the values of *y* 0, *y* 1,…,*y* [*n*] which are estimates
    of *X* 0, *X* Δ*t* ,…,*X* *N*Δ*t* .
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 模拟提供了*y* 0，*y* 1，...，*y* [*n*]的值，这些值是*X* 0，*X* Δ*t*，...，*X* *N*Δ*t*的估计。
- en: The above discretisation procedure introduces an approximation error. This can
    be improved by using better approximation methods such as those due to Milstein
    and Runge-Kutta.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 上述离散化过程引入了一个近似误差。这可以通过使用更好的近似方法（如米尔斯坦和龙格-库塔方法）来改善。
- en: 9.3 Valuing European Options
  id: totrans-143
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.3 估算欧式期权价值
- en: Using a strategy to simulate stock prices makes the idea behind valuing European
    options rather simple.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 使用一种模拟股价的策略使得估算欧式期权价值的背后思想变得相当简单。
- en: Let *S* [*t*] for *t* ≥ 0 be the stock price at time *t*. Suppose the exercise
    date for the European option is *T* and the payoff function be Γ(·), i.e. if the
    price of the stock is *S*, then the payoff is Γ(*S*). The actual form of the payoff
    function depends on the nature of the option.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 设 *S* [*t*] 对于 *t* ≥ 0 是时间 *t* 的股票价格。假设欧式期权的行权日期是 *T*，且收益函数为 Γ(·)，即如果股票价格为 *S*，则收益为
    Γ(*S*)。收益函数的实际形式取决于期权的性质。
- en: Suppose there is a method to simulate stock price. For example, we may consider
    the stock rate of return Δ*S*/*S* to follow geometric Brownian motion, so that
    the above-mentioned Euler discretisation of Itô SDE can be used to simulate the
    value of *S* at the discrete time points *t* *k* = *k*Δ*t*, *k* = 0,…,*N*. Suppose
    we choose Δ*t* = *T*/*N* so that *t* [*n*] = *T*. Then the above simulation provides
    the value *y* [*n*] which is an estimate of *S* *N*Δ*t* = *S* [*T*] . Given *y*
    [*N*] , we may obtain the payoff Γ(*y* [*n*] ) corresponding to the estimate *y*
    [*n*] of the stock price *S* [*T*] .
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 假设有一种模拟股价的方法。例如，我们可以考虑股票收益率 Δ*S*/*S* 遵循几何布朗运动，以便上述对Itô随机微分方程的欧拉离散化可用于模拟时间点 *t*
    *k* = *k*Δ*t*，*k* = 0,…,*N* 处的 *S* 的值。假设我们选择 Δ*t* = *T*/*N* 以便 *t* [*n*] = *T*。然后上述模拟提供了值
    *y* [*n*]，其是 *S* [*T*] 的一个估计。给定 *y* [*N*]，我们可以得到对应于股价 *S* [*T*] 估计 *y* [*n*] 的收益
    Γ(*y* [*n*])。
- en: The above strategy provides one possible estimate of the payoff at time *T*.
    Since stock prices form a stochastic process, a single estimate is not useful.
    The way to resolve this is to perform the simulation *M* times, where *M* is a
    sufficiently large integer and take the average of the corresponding payoffs.
    In more details, let ![inline-image](../images/CH009_13.jpg) be the estimate of
    *S* [*T*] obtained in the *j*-th simulation, *j* = 1,…,*M*. Let
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 上述策略提供了在时间 *T* 的收益的一个可能估计。由于股价形成一个随机过程，单个估计是没有用的。解决这个问题的方法是进行 *M* 次模拟，其中 *M*
    是一个足够大的整数，并取相应收益的平均值。更详细地说，设 ![inline-image](../images/CH009_13.jpg) 是第 *j* 次模拟中获得的
    *S* [*T*] 的估计，*j* = 1,…,*M*。设
- en: '![display-image](../images/CH009_14.jpg)'
  id: totrans-148
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH009_14.jpg)'
- en: Then ![inline-image](../images/CH009_15.jpg) is the average of all the payoffs
    calculated in the *M* simulations. We may consider ![inline-image](../images/CH009_16.jpg)
    to be an estimate of the payoff that will actually occur at time *T*.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 那么 ![inline-image](../images/CH009_15.jpg) 是在 *M* 次模拟中计算的所有收益的平均值。我们可以考虑 ![inline-image](../images/CH009_16.jpg)
    是在时间 *T* 实际发生的收益的一个估计。
- en: Our interest is in obtaining the value of the option at some time point *t*
    < *T*. Once we obtain an estimate ![inline-image](../images/CH009_17.jpg) of the
    payoff at time *T*, we may discount it back to time *t* using the risk-free interest
    rate. Then an estimate of the value of the option at time *t* < *T* is ![inline-image](../images/CH009_18.jpg),
    where *D* *r* (*t*, *T*) is the factor such that an amount *x* at time *t* grows
    to an amount *xD* *r* (*t*, *T*) at time *T* under the risk-free interest rate
    *r*.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 我们关心的是在某一时间点*t* < *T*获取期权的价值。一旦我们获得时间*T*的支付的估算值 ![inline-image](../images/CH009_17.jpg)，我们可以使用无风险利率将其贴现回时间*t*。因此，在时间点*t*
    < *T*的期权价值的估算值为 ![inline-image](../images/CH009_18.jpg)，其中*D* *r* (*t*, *T*)是这样一个因子，使得在时间*t*时的金额*x*在无风险利率*r*下增长到时间*T*时的金额*xD*
    *r* (*t*, *T*)。
- en: The above described strategy for valuing European options requires simulating
    *M* paths for the stock prices. Each path has *N* time steps. Each of these time
    steps requires sampling from the standard normal. So, a total of *MN* samplings
    are required. This forms the dominant computational cost of the entire procedure.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 计算欧式期权价值的上述策略需要为股票价格模拟*M*条路径。每条路径有*N*个时间步。每个时间步需要从标准正态分布中抽样。因此，总共需要*MN*次抽样。这构成整个过程的主要计算成本。
- en: The procedure can be time consuming. For basic European put and call options,
    it may not be faster than the finite difference or other methods. On the other
    hand, the main advantage is that the simulation method applies to general forms
    of the drift and diffusion parameters and also for arbitrary (though computationally
    tractable) forms of the payoff function.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 这一过程可能会非常耗时。对于基本的欧式看涨和看跌期权而言，它可能不比有限差分或其他方法更快。另一方面，该模拟方法的主要优势在于适用于漂移和扩散参数的一般形式，以及对期权支付函数的任意（尽管计算可行）形式。
- en: 9.4 Valuing American Options
  id: totrans-153
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.4 估算美式期权价值
- en: The key difference between European and American options is the early exercise
    facility in American options. As we have already seen, this makes the problem
    of option pricing more difficult for American options. This also holds for option
    pricing using stock price simulations.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 欧式期权和美式期权的关键区别在于美式期权具有提前行权功能。正如我们已经看到的，这使得美式期权定价问题更加复杂。这也适用于使用股价模拟的期权定价问题。
- en: Suppose that the value of some American option is required at time point *t*
    = 0\. As before, let *S* [*t*] be the stock price at time *t* ≥ 0, where *S* 0
    is known and Γ(*S* [*t*] ) be the payoff obtained for the stock price *S* [*t*]
    . Let *V*(*S*, *t*) be the value of the option for stock price *S* and time *t*.
    So, *V*(*S* [*T*] , *T*) = Γ(*S* [*T*] ). The requirement is to obtain *V*(*S*
    0, 0).
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 假设需要在时间点*t* = 0获取某种美式期权的价值。与以往一样，设*S* [*t*]为时间*t* ≥ 0时的股票价格，其中*S* 0已知，并且Γ(*S*
    [*t*] )是为股票价格*S* [*t*]获得的支付。设*V*(*S*, *t*)为股票价格*S*和时间*t*时期权的价值。因此，*V*(*S* [*T*]
    , *T*) = Γ(*S* [*T*] )。需求是获取*V*(*S* 0, 0)。
- en: In principle, an American option can be exercised at any time on or before the
    expiry time *T*. In the discretised version, the time points where the option
    may be exercised are restricted to a finite set of values in the interval [0,
    *T*]. As before, set Δ*t* = *T*/*N* and consider the time points *t* *k* = *k*Δ*t*.
    The option can be exercised at the points *t* 0, *t* 1,…,*t* [*n*] . Such discretisation
    of the American option converts it into a Bermudean option. By choosing *N* large
    enough, we hope to be able to model continuous time using discrete time.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 原则上，美式期权可以在到期时间*T*之前的任何时间行使。在离散版本中，期权可以行使的时间点被限制在区间[0，*T*]中的一组有限值上。与以前一样，设Δ*t*
    = *T*/*N*，并考虑时间点*t* *k* = *k*Δ*t*。期权可以在时间点*t* 0，*t* 1，...，*t* [*n*]处行使。美式期权的这种离散化将其转化为百慕大期权。通过选择足够大的*N*，我们希望能够使用离散时间来模拟连续时间。
- en: 'Let ![inline-image](../images/CH009_19.jpg) be the value of the stock at time
    point *t* *k* . If the option is exercised at time *t* [*k*] , then the payoff
    is ![inline-image](../images/CH009_20.jpg). This, however, is not the value of
    the option at time *t* *k* . It may be better to hold the option, since it may
    have a higher value in the next time point. There are two issues that arise:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 设![inline-image](../images/CH009_19.jpg)为时间点*t* *k*处的股票价值。如果在时间*t* [*k*]行使期权，则支付为![inline-image](../images/CH009_20.jpg)。然而，这并不是时间点*t*
    *k*处期权的价值。持有期权可能更好，因为在下一个时间点它可能具有更高的价值。出现了两个问题：
- en: (1)The value ![inline-image](../images/CH009_21.jpg) at the next time point
    *t* *k*+1 is a random variable which depends on the stock price ![inline-image](../images/CH009_22.jpg)
    at the time point *t* *k* . If we fix ![inline-image](../images/CH009_23.jpg)
    to a value *x*, then we may consider the expected value of ![inline-image](../images/CH009_24.jpg).
    In other words, we consider the function ![inline-image](../images/CH009_25.jpg).(2)At
    time point *t* [*k*] , we have the payoff ![inline-image](../images/CH009_26.jpg)
    for the option which must be considered with respect to the value ![inline-image](../images/CH009_27.jpg).
    We, however, cannot directly compare ![inline-image](../images/CH009_28.jpg) to
    the value ![inline-image](../images/CH009_29.jpg) since the later quantity is
    the expected value at the next time point *t* *k*+1\. To make the comparison meaningful,
    we need to discount the value ![inline-image](../images/CH009_30.jpg) to the time
    point *t* *k* . This is achieved by dividing by *D* *r* (*t* [*k*] , *t* *k*+1)
    which is the growth factor at the risk-free interest. To this end, we define
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: (1)在下一个时间点*t* *k*+1，值![inline-image](../images/CH009_21.jpg)是一个随机变量，它取决于时间点*t*
    *k*的股票价格![inline-image](../images/CH009_22.jpg)。如果我们将![inline-image](../images/CH009_23.jpg)固定为一个值*x*，那么我们可以考虑![inline-image](../images/CH009_24.jpg)的期望值。换句话说，我们考虑函数![inline-image](../images/CH009_25.jpg)。(2)在时间点*t*
    [*k*]，我们有期权的支付![inline-image](../images/CH009_26.jpg)，必须考虑与值![inline-image](../images/CH009_27.jpg)有关。然而，我们不能直接比较![inline-image](../images/CH009_28.jpg)和值![inline-image](../images/CH009_29.jpg)，因为后者是下一个时间点*t*
    *k*+1的期望值。为了使比较有意义，我们需要将值![inline-image](../images/CH009_30.jpg)贴现到时间点*t* *k*。这通过除以*D*
    *r* (*t* [*k*]，*t* *k*+1)来实现，这是无风险利率的增长因子。为此，我们定义
- en: '![display-image](../images/CH009_31.jpg)(9.3)'
  id: totrans-159
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH009_31.jpg)(9.3)'
- en: The net effect of the above two points is that ![inline-image](../images/CH009_32.jpg)
    is the maximum of ![inline-image](../images/CH009_33.jpg) and ![inline-image](../images/CH009_34.jpg),
    i.e.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 上述两点的净效果是![inline-image](../images/CH009_32.jpg)是![inline-image](../images/CH009_33.jpg)和![inline-image](../images/CH009_34.jpg)的最大值，即
- en: '![display-image](../images/CH009_35.jpg)(9.5)'
  id: totrans-161
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH009_35.jpg)(9.5)'
- en: At a broad level, the approach is the same as the one used for European options,
    i.e. *M* paths for evolution of stock prices are simulated where each path is
    evaluated at the time points *t* 0, *t* 1,…,*t* [*n*] . For the *j*-th path, *j*
    = 1,…,*M*, let ![inline-image](../images/CH009_36.jpg) denote the estimate of
    the stock price ![inline-image](../images/CH009_37.jpg) obtained using the *j*-th
    simulation at time point *t* [*k*] , *k* = 0,…,*N*. For valuing European option,
    only the values ![inline-image](../images/CH009_38.jpg), *j* = 1,…,*M* are required.
    In the present case, all the *y*-values are required.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 在宏观层面上，该方法与用于欧式期权的方法相同，即模拟* M *条股价演变路径，其中每条路径在时间点* t * 0、* t * 1、...、* t * [*
    n *]评估。对于第*j*条路径，*j*=1，...，*M*，让![inline-image](../images/CH009_36.jpg)表示在时间点*t*
    [*k*]，*k*=0，...，*N*使用第*j*次模拟获得的股票价格![inline-image](../images/CH009_37.jpg)的估计值。对于欧式期权的定价，仅需要值![inline-image](../images/CH009_38.jpg)，*j*=1，...，*M*。在当前情况下，需要所有*y*值。
- en: Let ![inline-image](../images/CH009_39.jpg) denote the value of the option at
    time point *t* *k* in the *j*-th simulation, *k* = 1,…,*N*, *j* = 1,…,*M*. The
    goal is to determine ![inline-image](../images/CH009_40.jpg), i.e. the value of
    the option at time point *t* 1 = Δ*t* in the *j*-th simulation, for *j* = 1,…,*M*.
    Once all the ![inline-image](../images/CH009_41.jpg)s have been obtained, we take
    the average of these as the estimate of the value of the option at time *t* 1
    which is then discounted by the factor *D* *r* (0, *t* 1) corresponding to one
    time interval to obtain an estimate of the value of the option at time *t* = 0\.
    In other words, the estimate ![inline-image](../images/CH009_42.jpg) of the value
    of the option at time *t* = 0, is obtained as
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 让![inline-image](../images/CH009_39.jpg)表示第*j*次模拟中时间点*t* [*k*]的期权价值，*k*=1，...，*N*，*j*=1，...，*M*。目标是确定![inline-image](../images/CH009_40.jpg)，即在第*j*次模拟中时间点*t*
    1 = Δ*t*的期权价值，*j*=1，...，*M*。一旦获得所有的![inline-image](../images/CH009_41.jpg)，我们将这些的平均值作为时间点*t*
    1的期权价值的估计值，然后乘以相应的一段时间间隔因子*D**r*(0，*t* 1)来获得时间点*t* = 0的期权价值的估计值。换句话说，时间点*t* =
    0的期权价值的估计值![inline-image](../images/CH009_42.jpg)如下获得：
- en: '![display-image](../images/CH009_43.jpg)(9.6)'
  id: totrans-164
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH009_43.jpg)(9.6)'
- en: So, the problem reduces to obtaining the values of ![inline-image](../images/CH009_44.jpg)
    for *j* = 1,…,*M*. This is done by first determining the values of ![inline-image](../images/CH009_45.jpg)
    for *j* = 1,…,*M* and then proceeding backward in time, i.e. from the set of values
    ![inline-image](../images/CH009_46.jpg), *j* = 1,…,*M*, the values of ![inline-image](../images/CH009_47.jpg)
    are obtained. We explain below how this is done.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，问题简化为获得*j*=1，...，*M*的![inline-image](../images/CH009_44.jpg)的值。首先确定*j*=1，...，*M*的![inline-image](../images/CH009_45.jpg)的值，然后倒推时间，即从一组值![inline-image](../images/CH009_46.jpg)，*j*=1，...，*M*，获得![inline-image](../images/CH009_47.jpg)的值。我们将在下面解释如何完成这一过程。
- en: At time point *t* [*n*] = *T* (i.e. expiry date), the value of the option is
    determined by the payoff function Γ and the stock price ![inline-image](../images/CH009_48.jpg).
    So, ![inline-image](../images/CH009_49.jpg) for *j* = 1,…,*M*. Having obtained
    these values, the next step is to obtain the values of ![inline-image](../images/CH009_50.jpg)
    for *j* = 1,…,*M*. We describe the general step, where the values of ![inline-image](../images/CH009_51.jpg),
    *j* = 1,…,*M* are obtained from the values of ![inline-image](../images/CH009_52.jpg),
    *j* = 1,…,*M*.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 在时间点 *t* [*n*] = *T*（即到期日），期权的价值由支付函数 Γ 和股价 ![inline-image](../images/CH009_48.jpg)
    决定。所以，对于 *j* = 1,…,*M*，有 ![inline-image](../images/CH009_49.jpg)。获得这些值后，下一步是获得
    *j* = 1,…,*M* 的 ![inline-image](../images/CH009_50.jpg) 的值。我们描述一般步骤，其中 *j* = 1,…,*M*
    的值由 *j* = 1,…,*M* 的值获得。
- en: Consider the set of pairs ![inline-image](../images/CH009_53.jpg) for *j* =
    1,…,*M*. Apply the least square regression technique to this *M* pairs to obtain
    the functional form of *C* *k* (*x*). For *j* = 1,…,*M*, set ![inline-image](../images/CH009_54.jpg).
    This provides the values ![inline-image](../images/CH009_55.jpg), *j* = 1,…,*M*.
    The iteration is continued until the values ![inline-image](../images/CH009_56.jpg),
    *j* = 1,…,*M* are obtained and then [(9.6)](#eq6) is used to obtain the desired
    estimate ![inline-image](../images/CH009_57.jpg) of the option at time point *t*
    = 0.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 *j* = 1,…,*M*，考虑对 ![inline-image](../images/CH009_53.jpg) 进行最小二乘回归技术。用这 *M*
    对来获取 *C* *k* (*x*) 的函数形式。对于 *j* = 1,…,*M*，设置 ![inline-image](../images/CH009_54.jpg)。这提供了值
    ![inline-image](../images/CH009_55.jpg)，*j* = 1,…,*M*。迭代继续直到获得值 ![inline-image](../images/CH009_56.jpg)，*j*
    = 1,…,*M*，然后使用 [(9.6)](#eq6) 来获得时间点 *t* = 0 处期权的所需估计值 ![inline-image](../images/CH009_57.jpg)。
- en: As in the case of European option, the above procedure proceeds with almost
    no assumptions, i.e. there are no conditions on the drift and diffusion parameters
    or, on the form of the payoff function. Like all simulation-based results, the
    drawbacks are the relatively heavy computational requirement and the potential
    errors arising due to various approximations.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 与欧式期权的情况类似，上述程序几乎不需要假设，即对漂移和扩散参数，或者对支付函数形式没有条件。像所有基于模拟的结果一样，缺点是相对较大的计算需求和由于各种近似导致的潜在误差。
- en: 9.5 Monte Carlo Integration
  id: totrans-169
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.5 蒙特卡罗积分
- en: We briefly consider the general problem of evaluating a definite integral using
    Monte Carlo techniques.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 我们简要考虑使用蒙特卡罗技术评估定积分的一般问题。
- en: Let *f*(*x*) be a real-valued function, and it is required to estimate the integral
    of *f*(*x*) over an interval [*a*, *b*]. Let *u* *a*,*b* (*x*) be the uniform
    density function over the interval [*a*, *b*]. Then the expectation of *f*(*x*)
    over the interval [*a*, *b*] is defined to be
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 让 *f*(*x*) 是一个实值函数，并且需要估计在区间 [*a*, *b*] 上 *f*(*x*) 的积分。让 *u* *a*,*b* (*x*) 是区间
    [*a*, *b*] 上的均匀密度函数。然后，期望 *f*(*x*) 在区间 [*a*, *b*] 上的期望值被定义为
- en: '![display-image](../images/CH009_58.jpg)'
  id: totrans-172
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH009_58.jpg)'
- en: 'So, we have ![inline-image](../images/CH009_59.jpg). Obtaining an estimate
    of *E*(*f*) allows obtaining an estimate of the required definite integral. An
    estimate of *E*(*f*) is obtained by choosing *x* 1,…,*x* [*n*] independently and
    following *u* *a*,*b* (*x*) and then computing ![inline-image](../images/CH009_60.jpg).
    Using the law of large numbers, the sample mean goes to *E*[*f*] as *N* → ∞. Consequently,
    for a large enough *N*, we have ![inline-image](../images/CH009_61.jpg) and so:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，我们有![inline-image](../images/CH009_59.jpg)。获得*E*(*f*)的估计值可以得到所需的定积分的估计值。通过选择独立的*x*
    1,…,*x* [*n*] 并遵循*u* *a*,*b* (*x*)然后计算![inline-image](../images/CH009_60.jpg)来获得*E*(*f*)的估计值。使用大数定律，样本均值当*N*
    → ∞时趋于*E*[*f*]。因此，对于足够大的*N*，我们有![inline-image](../images/CH009_61.jpg)所以：
- en: '![display-image](../images/CH009_62.jpg)'
  id: totrans-174
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH009_62.jpg)'
- en: This idea extends to higher dimensions. Let *f* be an *n*-variable function
    and the integral of *f* over a domain ![inline-image](../images/CH009_63.jpg)
    is desired. Let ![inline-image](../images/CH009_64.jpg) be the volume of ![inline-image](../images/CH009_65.jpg).
    Suppose *x* 1,…,*x* [*n*] are independently and uniformly sampled from ![inline-image](../images/CH009_66.jpg).
    Then an approximation of ![inline-image](../images/CH009_67.jpg) is given by ![inline-image](../images/CH009_68.jpg).
    The requirement to integrate a high-dimensional function over a particular domain
    arises in various financial applications.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 这个想法扩展到更高的维度。让*f*是一个*n*个变量函数，并且想要在一个域上对*f*进行积分，域的积分![inline-image](../images/CH009_63.jpg)。让![inline-image](../images/CH009_64.jpg)是![inline-image](../images/CH009_65.jpg)的体积。假设*x*
    1,…,*x* [*n*] 是从![inline-image](../images/CH009_66.jpg)独立均匀抽样的。那么![inline-image](../images/CH009_67.jpg)的近似值由![inline-image](../images/CH009_68.jpg)给出。在各种金融应用中，需要对特定域内的高维函数进行积分的要求经常出现。
- en: '**Note**'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**'
- en: The material in this chapter is based on Seydel (2012). A basic conceptual-level
    description has been presented here. We refer to Seydel (2012) for much more details.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的材料基于Seydel (2012)。这里提供了基本的概念级描述。我们参考Seydel (2012)以获取更多详细信息。
- en: Chapter 10
  id: totrans-178
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第10章
- en: Determining Stochastic Dominance Relations
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 确定随机支配关系
- en: Let ![inline-image](../images/CH010_1.jpg) be a non-empty set of real numbers
    with *x* 1 < ⋯ < *x* [*n*] . Let ![inline-image](../images/CH010_2.jpg) be a set
    of cumulative probability distribution functions on ![inline-image](../images/CH010_3.jpg),
    i.e. ![inline-image](../images/CH010_4.jpg) and if a random variable *X* follows
    ![inline-image](../images/CH010_5.jpg), then ![inline-image](../images/CH010_6.jpg).
    For ![inline-image](../images/CH010_7.jpg), let ![inline-image](../images/CH010_8.jpg)
    be the probability mass function corresponding to the cumulative distribution
    function ![inline-image](../images/CH010_9.jpg); let ![inline-image](../images/CH010_10.jpg)
    be the mean for *F* [*i*] , i.e. ![inline-image](../images/CH010_11.jpg).
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 让![inline-image](../images/CH010_1.jpg)是一组非空的实数，其中*x*1< ⋯ < *x* [*n*]。让![inline-image](../images/CH010_2.jpg)是在![inline-image](../images/CH010_3.jpg)上的一组累积概率分布函数，即![inline-image](../images/CH010_4.jpg)，如果随机变量*X*遵循![inline-image](../images/CH010_5.jpg)，那么![inline-image](../images/CH010_6.jpg)。对于![inline-image](../images/CH010_7.jpg)，让![inline-image](../images/CH010_8.jpg)是与累积分布函数![inline-image](../images/CH010_9.jpg)对应的概率质量函数；让![inline-image](../images/CH010_10.jpg)是*F*
    [*i*]的均值，即![inline-image](../images/CH010_11.jpg)。
- en: For ![inline-image](../images/CH010_12.jpg), define
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 对于![inline-image](../images/CH010_12.jpg)，定义
- en: '![display-image](../images/CH010_13.jpg)'
  id: totrans-182
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH010_13.jpg)'
- en: We consider the following well-known characterisations of stochastic dominance
    (SD) relations which are equivalent to the utility function-based definitions
    of SD.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 我们考虑以下关于随机优势（SD）关系的著名特征，这些特征等同于基于效用函数的SD定义。
- en: '*First-order SD (FSD): F* [*i*] >1 *F* *j* if *F* [*i*] (*x*) ≤ *F* *j* (*x*)
    for all ![inline-image](../images/CH010_14.jpg) and *F* [*i*] (*x*) < *F* *j*
    (*x*) for at least one ![inline-image](../images/CH010_15.jpg).'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: '*一阶SD (FSD)*：如果对于所有的![inline-image](../images/CH010_14.jpg)都有*F* [*i*] (*x*)
    ≤ *F* *j* (*x*)，并且至少一个![inline-image](../images/CH010_15.jpg)都有*F* [*i*] (*x*)
    < *F* *j* (*x*)，那么*F* [*i*] >1 *F* *j*。'
- en: '*Second-order SD (SSD): F* [*i*] >2 *F* *j* if ![inline-image](../images/CH010_16.jpg)
    for all ![inline-image](../images/CH010_17.jpg) and ![inline-image](../images/CH010_18.jpg)
    for at least one ![inline-image](../images/CH010_19.jpg).'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '*二阶SD (SSD)*：如果对于所有的![inline-image](../images/CH010_17.jpg)和至少一个![inline-image](../images/CH010_19.jpg)，都有![inline-image](../images/CH010_16.jpg)，那么*F*
    [*i*] >2 *F* *j*。'
- en: '*Third-order SD (TSD): F* [*i*] >3 *F* *j* if ![inline-image](../images/CH010_20.jpg)
    and ![inline-image](../images/CH010_21.jpg) for all ![inline-image](../images/CH010_22.jpg)
    and ![inline-image](../images/CH010_23.jpg) for at least one ![inline-image](../images/CH010_24.jpg).'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: '*三阶SD (TSD)*：如果对于所有的![inline-image](../images/CH010_22.jpg)都有![inline-image](../images/CH010_20.jpg)，并且至少一个![inline-image](../images/CH010_24.jpg)都有![inline-image](../images/CH010_21.jpg)，那么*F*
    [*i*] >3 *F* *j*。'
- en: The above description of SD relations has been given for discrete distributions.
    The reason is that for the purpose of computing SD relations, one has to either
    directly use discrete distributions or use discretised versions of continuous
    distributions.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 上述SD关系的描述是针对离散分布的。原因是为了计算SD关系，人们必须直接使用离散分布或者使用连续分布的离散化版本之一。
- en: The requirement is to determine a subset of distributions in ![inline-image](../images/CH010_25.jpg)
    which are not dominated by any other distributions in ![inline-image](../images/CH010_26.jpg).
    For *m* = 1, 2, 3, define
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 要求确定 ![inline-image](../images/CH010_25.jpg) 中不被 ![inline-image](../images/CH010_26.jpg)
    中的任何其他分布所支配的分布子集。对于 *m* = 1, 2, 3，定义
- en: '![display-image](../images/CH010_27.jpg)'
  id: totrans-189
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH010_27.jpg)'
- en: The goal is to be able to determine SD [*m*] , for *m* = 1, 2, 3.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 目标是能够确定 SD [*m*]，对于 *m* = 1, 2, 3。
- en: Let us consider the direct method for determining ![inline-image](../images/CH010_28.jpg).
    For distinct *F* and ![inline-image](../images/CH010_29.jpg) in ![inline-image](../images/CH010_30.jpg),
    it is required to determine whether ![inline-image](../images/CH010_31.jpg) or
    *F′* >1 *F*, or neither of these relations hold. Determining this requires comparing
    *F* and ![inline-image](../images/CH010_32.jpg) in a pointwise manner, i.e. comparing
    ![inline-image](../images/CH010_33.jpg) and ![inline-image](../images/CH010_34.jpg)
    for *i* = 1,…,*n* for a total of at most *n* comparisons. Note that it may be
    possible to abort early by determining that neither of *F* or ![inline-image](../images/CH010_35.jpg)
    dominates the other. It is for this reason that the number of comparisons required
    is at most *n* rather than being equal to *n*.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们考虑确定 ![inline-image](../images/CH010_28.jpg) 的直接方法。对于不同的 *F* 和 ![inline-image](../images/CH010_29.jpg)
    在 ![inline-image](../images/CH010_30.jpg) 中，需要确定 ![inline-image](../images/CH010_31.jpg)
    或 *F′* >1 *F*，或者这两个关系都不成立。确定这一点需要逐点比较 *F* 和 ![inline-image](../images/CH010_32.jpg)，即比较
    *i* = 1,…,*n* 的 ![inline-image](../images/CH010_33.jpg) 和 ![inline-image](../images/CH010_34.jpg)，总共最多
    *n* 次比较。注意可能可以通过确定 *F* 或 ![inline-image](../images/CH010_35.jpg) 中没有一个支配另一个来提前终止。正因为这个原因，所需的比较次数最多为
    *n* 而不是等于 *n*。
- en: In view of the above, determining ![inline-image](../images/CH010_36.jpg) requires
    comparison of ![inline-image](../images/CH010_37.jpg) distributions for a total
    cost of at most ![inline-image](../images/CH010_38.jpg) comparisons. The question
    is whether the number of comparisons can be reduced? This question is important,
    since in practice situations arise where *N* is large, making ![inline-image](../images/CH010_39.jpg)
    comparisons of distributions to be prohibitively time consuming.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 鉴于上述情况，确定 ![inline-image](../images/CH010_36.jpg) 需要比较 ![inline-image](../images/CH010_37.jpg)
    分布，总成本最多为 ![inline-image](../images/CH010_38.jpg) 次比较。问题是能否减少比较次数？这个问题很重要，因为在实际情况中，*N*
    很大，使得 ![inline-image](../images/CH010_39.jpg) 对分布的比较耗时严重。
- en: Several properties of SD relations make it possible to reduce the number of
    comparisons. These properties are necessary conditions. Using the necessary conditions,
    it is possible to rule out certain possibilities without actually making a direct
    comparison. Below we mention some of these necessary conditions and explain how
    they can be used to reduce the number of comparisons.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: SD 关系的几个属性使得可以减少比较的数量。这些属性是必要条件。使用这些必要条件，可以在不实际进行直接比较的情况下排除某些可能性。下面我们列举一些这些必要条件并解释如何利用它们来减少比较的数量。
- en: '**Transitivity:** For *m* = 1, 2, 3, it is known that > *m* is transitive,
    i.e. if *F* > *m* *G* and *G* > *m* *H*, then *F* > *m* *H*. This helps computation
    in the following manner. Suppose it has been determined that *F* > *m* *G*. Then
    we discard *G*, i.e. *G* is no longer compared to any other distribution. The
    reason is the following. Since *F* dominates *G*, clearly *G* itself does not
    belong to ![inline-image](../images/CH010_40.jpg). On the other hand, by retaining
    *G*, it could be used to rule out the possiblity that some other distribution
    *H* is in ![inline-image](../images/CH010_41.jpg) which would be the case if *G*
    > *m* *H* holds. By discarding *G*, the comparison *G* > *m* *H*? (i.e. whether
    *G* dominates *H* under > *m* ) will not be made any more. Since *F* is not discarded,
    the comparison, *F* > *m* *H*?, however, will be made. Since *F* > *m* *G* and
    *G* > *m* *H*, by transitivity, *F* > *m* *H* holds which will result in *H* being
    discarded. So, if a comparison results in a losing distribution, then by discarding
    the losing distribution, the correctness of the procedure is not affected. Note
    that a comparison between two distributions need not result in one distribution
    losing out. In this case, transitivity does not help in reducing the work. Nonetheless,
    if the size of ![inline-image](../images/CH010_42.jpg) is significantly lesser
    than *N* (the size of ![inline-image](../images/CH010_43.jpg)), then many comparisons
    will indeed result in a losing distribution. Discarding such distributions will
    provide significant speed improvements.'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: '**传递性：** 对于 *m* = 1, 2, 3，已知当 > *m* 是传递的，即如果 *F* > *m* *G* 且 *G* > *m* *H*，则
    *F* > *m* *H*。这有助于计算方式如下。假设已确定 *F* > *m* *G*。然后我们丢弃 *G*，即 *G* 不再与任何其他分布进行比较。原因如下。由于
    *F* 支配 *G*，显然 *G* 本身不属于![inline-image](../images/CH010_40.jpg)。另一方面，通过保留 *G*，可以排除其他分布
    *H* 在![inline-image](../images/CH010_41.jpg)中的可能性，如果 *G* > *m* *H* 成立的话。通过丢弃 *G*，不再进行比较
    *G* > *m* *H*？（即 *G* 是否在 > *m* 下支配 *H*）了。由于 *F* 没有被丢弃，比较 *F* > *m* *H*？然而，将会进行。由于
    *F* > *m* *G* 和 *G* > *m* *H*，根据传递性，*F* > *m* *H* 成立，结果 *H* 被丢弃。因此，如果比较结果是一个失败的分布，那么通过丢弃失败的分布，程序的正确性不会受到影响。请注意，两个分布之间的比较不一定会导致一个分布失败。在这种情况下，传递性无法帮助减少工作量。尽管如此，如果![inline-image](../images/CH010_42.jpg)的大小明显小于
    *N*（![inline-image](../images/CH010_43.jpg)的大小），那么许多比较确实会导致一个失败的分布。丢弃这样的分布将提供显著的速度改进。'
- en: '**Condition on mean:** For *m* = 1, 2, 3, it is known that if *F* [*i*] > *m*
    *F* *j* holds for ![inline-image](../images/CH010_44.jpg), then ![inline-image](../images/CH010_45.jpg).
    Note that this is only a necessary condition, i.e. it is not true that ![inline-image](../images/CH010_46.jpg)
    implies *F* [*i*] > *m* *F* *j* . This necessary condition on mean is used in
    the following manner. First compute ![inline-image](../images/CH010_47.jpg) for
    *i* = 1,…,*N* and sort the distributions in descending order of their means. For
    simplicity of exposition, assume that the means are all distinct. The procedure
    tries to grow a list ![inline-image](../images/CH010_48.jpg) which will ultimately
    become ![inline-image](../images/CH010_49.jpg). The algorithm starts by considering
    the distribution with the highest mean. This distribution clearly cannot be dominated
    by any other distribution. So, we may put this distribution in ![inline-image](../images/CH010_50.jpg)
    and remove it from ![inline-image](../images/CH010_51.jpg). Next, the algorithm
    considers the distributions in decreasing order of their means. At an intermediate
    point, suppose a distribution *F* is being considered. All distributions remaining
    in ![inline-image](../images/CH010_52.jpg) have means lower than that of *F* and
    so these distributions cannot dominate *F*. So, to determine whether *F* is in
    ![inline-image](../images/CH010_53.jpg), it is sufficient to check that *F* is
    not dominated by any distribution in ![inline-image](../images/CH010_54.jpg).
    If there is indeed some distribution in ![inline-image](../images/CH010_55.jpg)
    which dominates *F*, then *F* is discarded from ![inline-image](../images/CH010_56.jpg),
    but, not put in ![inline-image](../images/CH010_57.jpg); since *F* is a losing
    distribution, discarding it does not affect anything. On the other hand, if *F*
    is not dominated by any distribution in ![inline-image](../images/CH010_58.jpg),
    it is added to ![inline-image](../images/CH010_59.jpg). This strategy reduces
    the number of comparisons between distributions that are required.'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: '**均值条件：** 当*m* = 1, 2, 3时，已知如果*F* [*i*] > *m* *F* *j* 成立，其中![inline-image](../images/CH010_44.jpg)，那么![inline-image](../images/CH010_45.jpg)。注意，这只是一个必要条件，即![inline-image](../images/CH010_46.jpg)并不意味着*F*
    [*i*] > *m* *F* *j*。这个均值的必要条件在以下情况下被使用。首先计算*i* = 1,…,*N*时的![inline-image](../images/CH010_47.jpg)，并按照它们的均值降序排列分布。为了简化说明，假设均值都是不同的。该过程试图扩展一个列表![inline-image](../images/CH010_48.jpg)，最终将成为![inline-image](../images/CH010_49.jpg)。算法从考虑具有最高均值的分布开始。这个分布显然不能被任何其他分布所支配。因此，我们可以将这个分布放入![inline-image](../images/CH010_50.jpg)，并从![inline-image](../images/CH010_51.jpg)中删除它。接下来，算法按照它们的均值递减的顺序考虑分布。在一个中间点，假设正在考虑一个分布*F*。在![inline-image](../images/CH010_52.jpg)中仍然存在的所有分布的均值都低于*F*的均值，因此这些分布不能支配*F*。因此，要确定*F*是否在![inline-image](../images/CH010_53.jpg)中，只需检查*F*是否被![inline-image](../images/CH010_54.jpg)中的任何分布所支配即可。如果确实有一些在![inline-image](../images/CH010_55.jpg)中的分布支配*F*，那么*F*将从![inline-image](../images/CH010_56.jpg)中被丢弃，但不放入![inline-image](../images/CH010_57.jpg)中；因为*F*是一个失败的分布，丢弃它不会影响任何事情。另一方面，如果*F*没有被![inline-image](../images/CH010_58.jpg)中的任何分布支配，那么它将被添加到![inline-image](../images/CH010_59.jpg)中。这种策略减少了所需的分布之间的比较次数。'
- en: '**Smallest outcome:** For *i* = 1,…,*N*, let ![inline-image](../images/CH010_60.jpg)
    be the smallest value in ![inline-image](../images/CH010_61.jpg) such that ![inline-image](../images/CH010_62.jpg).
    For ![inline-image](../images/CH010_63.jpg), if ![inline-image](../images/CH010_64.jpg),
    then ![inline-image](../images/CH010_65.jpg). In other words, if ![inline-image](../images/CH010_66.jpg)
    dominates ![inline-image](../images/CH010_67.jpg) under the first-order stochastic
    dominance relation, then the minimum value for which ![inline-image](../images/CH010_68.jpg)
    is positive is at least as large as the minimum value for which ![inline-image](../images/CH010_69.jpg)
    is positive. Similar to the condition on the mean, this is also a necessary condition.
    It can be utilised as follows. Suppose ![inline-image](../images/CH010_70.jpg).
    Then it can be inferred that ![inline-image](../images/CH010_71.jpg) cannot dominate
    ![inline-image](../images/CH010_72.jpg). The possibility that ![inline-image](../images/CH010_73.jpg)
    dominates ![inline-image](../images/CH010_74.jpg) still needs to be checked.'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: '**最小结果：** 对于 *i* = 1,…,*N*，让 ![inline-image](../images/CH010_60.jpg) 是 ![inline-image](../images/CH010_61.jpg)
    中的最小值，使得 ![inline-image](../images/CH010_62.jpg)。对于 ![inline-image](../images/CH010_63.jpg)，如果
    ![inline-image](../images/CH010_64.jpg)，那么 ![inline-image](../images/CH010_65.jpg)。换句话说，如果在一阶随机优势关系下
    ![inline-image](../images/CH010_66.jpg) 主导 ![inline-image](../images/CH010_67.jpg)，那么使得
    ![inline-image](../images/CH010_68.jpg) 为正的最小值至少不小于使得 ![inline-image](../images/CH010_69.jpg)
    为正的最小值。与均值条件类似，这也是一个必要条件。可以如下利用。假设 ![inline-image](../images/CH010_70.jpg)。那么可以推断出
    ![inline-image](../images/CH010_71.jpg) 不能主导 ![inline-image](../images/CH010_72.jpg)。仍然需要检查
    ![inline-image](../images/CH010_73.jpg) 是否主导 ![inline-image](../images/CH010_74.jpg)
    的可能性。'
- en: The two necessary conditions, one on the mean and one on the smallest outcome
    can be combined. Suppose we have ![inline-image](../images/CH010_75.jpg) and ![inline-image](../images/CH010_76.jpg).
    The condition on the mean shows that ![inline-image](../images/CH010_77.jpg) cannot
    dominate ![inline-image](../images/CH010_78.jpg), while the condition on the smallest
    outcome shows that ![inline-image](../images/CH010_79.jpg) cannot dominate ![inline-image](../images/CH010_80.jpg).
    So, it is possible to conclude that neither of ![inline-image](../images/CH010_81.jpg)
    nor ![inline-image](../images/CH010_82.jpg) dominate the other without actually
    making the pointwise comparison of the two distributions.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 两个必要条件，一个是关于均值，一个是关于最小结果，可以结合起来。假设我们有 ![inline-image](../images/CH010_75.jpg)
    和 ![inline-image](../images/CH010_76.jpg)。均值条件表明 ![inline-image](../images/CH010_77.jpg)
    不能主导 ![inline-image](../images/CH010_78.jpg)，而最小结果条件表明 ![inline-image](../images/CH010_79.jpg)
    不能主导 ![inline-image](../images/CH010_80.jpg)。因此，可以得出结论，没有 ![inline-image](../images/CH010_81.jpg)
    和 ![inline-image](../images/CH010_82.jpg) 中的任何一个能主导另一个，而不实际进行两个分布的逐点比较。
- en: The two necessary conditions along with transitivity can be combined to obtain
    an algorithm for determining dominance relations. It is known that ![inline-image](../images/CH010_83.jpg).
    So, to determine ![inline-image](../images/CH010_84.jpg), it is advantageous to
    first determine ![inline-image](../images/CH010_85.jpg) and then among the distributions
    in ![inline-image](../images/CH010_86.jpg) determine the maximal elements under
    >2 relation. Similarly, to determine ![inline-image](../images/CH010_87.jpg),
    it is better to first determine ![inline-image](../images/CH010_88.jpg) and then
    among the distributions in ![inline-image](../images/CH010_89.jpg), determine
    the maximal elements under >3 relation.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 两个必要条件和传递性可以结合起来得到一个用于确定支配关系的算法。已知![inline-image](../images/CH010_83.jpg)。因此，要确定![inline-image](../images/CH010_84.jpg)，最好首先确定![inline-image](../images/CH010_85.jpg)，然后在![inline-image](../images/CH010_86.jpg)中的分布中确定在
    >2 关系下的最大元素。类似地，要确定![inline-image](../images/CH010_87.jpg)，最好首先确定![inline-image](../images/CH010_88.jpg)，然后在![inline-image](../images/CH010_89.jpg)中的分布中确定在
    >3 关系下的最大元素。
- en: '**Note**'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**'
- en: The material in this chapter is based on Chapter 5 of Levy (2016) and Bawa,
    Lindenberg, and Rafsky (1979). For more details including the state of the art
    we refer to Levy (2016).
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的材料基于Levy (2016)的第5章和Bawa, Lindenberg, and Rafsky (1979)。有关更多细节，包括最新技术发展，请参阅Levy
    (2016)。
- en: Chapter 11
  id: totrans-201
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第11章
- en: 'Trading: Background Notions and Market Microstructure'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 交易：背景概念和市场微观结构
- en: By a trade we will understand either a purchase or sale of some kind of financial
    instrument. Payment is made in the currency of the country where the trade is
    carried out. There are a wide variety of financial instruments that can be traded.
    These include stocks (or shares), bonds, commodities, currencies, derivatives
    and possibly other instruments. Sometimes, the term security is used to cover
    any kind of financial instrument that can be traded.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 通过交易，我们将理解为对某种金融工具的购买或销售。付款以交易所在国家的货币进行。可以交易的金融工具种类繁多。这些包括股票（或股份）、债券、商品、货币、衍生品，以及可能的其他工具。有时，术语证券用于涵盖任何可以交易的金融工具。
- en: A trade takes several steps to complete. The first step consists of a seller
    offering to sell at a particular price and a buyer willing to buy at that price.
    Such a buyer and seller are matched, and a trade between them becomes possible.
    The actual exchange of the financial instrument and the money does not immediately
    take place. This process is called clearing and settlement. It can take a few
    days and involve third parties. Our discussion will not include the clearing and
    settlement functions. We will limit ourselves only to the initiation of the sale/purchase
    orders and the matching of buyers and sellers.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 一个交易需要几个步骤才能完成。第一步包括卖方提供以特定价格出售和买方愿意以该价格购买。这样的买方和卖方被匹配，他们之间的交易变得可能。金融工具和货币的实际交换并不立即发生。这个过程被称为结算和交割。它可能需要几天并涉及第三方。我们的讨论不包括清算和交割功能。我们只限于销售/购买订单的启动和买方与卖方的匹配。
- en: Sale and purchase are specified in atomic units. For example, shares of a company
    are sold as a certain number of shares, where a single share is an atomic unit.
    Goods that are traded should possess the property of *fungibility* which essentially
    means that two different units are exchangeable and possess the same financial
    value. Cash is an example of a fungible asset since any two notes of the same
    denomination are exchangeable and are equivalent from a financial point of view.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 出售和购买以原子单位规定。例如，公司的股份被出售为一定数量的股份，其中一股是一个原子单位。进行交易的商品应具有*可替代性*的特性，这基本上意味着两个不同的单位是可以互换的，并且具有相同的金融价值。现金是可替代资产的一个例子，因为同一面额的任意两张钞票是可以互换的，并且从金融角度来看是等价的。
- en: A *stock exchange* (or a simply an exchange) is a place where buyers and sellers
    can negotiate and conduct trades. Typically, buyers and sellers do not directly
    negotiate. They go through intermediaries known as *brokers*. Brokers are members
    of the exchange. Both buyers and sellers become clients of brokers. It is the
    brokers who negotiate among themselves on behalf of their clients to conduct trades.
    In exchange for their services, brokers earn commissions.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: '*股票交易所*（或简称交易所）是买方和卖方可以进行协商和交易的地方。通常，买方和卖方不直接协商。他们通过称为*经纪人*的中介进行交易。经纪人是交易所的成员。买方和卖方都成为经纪人的客户。经纪人代表他们的客户进行交易协商。作为服务的交换，经纪人赚取佣金。'
- en: Until a few decades ago, trades used to be conducted by brokers by physically
    meeting at an exchange. Communication consisted of face-to-face negotiations (often
    using signs) and telephonic interactions. Over time, computers have begun to play
    an increasingly dominant role in the whole process. This has led to automation
    of several aspects of trades.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 直到几十年前，交易通常由经纪人通过在交易所面对面会议来进行。沟通包括面对面的谈判（通常使用手势）和电话交流。随着时间的推移，计算机开始在整个过程中扮演越来越主导的角色。这导致了交易的几个方面的自动化。
- en: 11.1 Trading Systems
  id: totrans-208
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 11.1 交易系统
- en: 'An *electronic stock exchange* is essentially a piece of software. There are
    two basic tasks: entering orders in an order book and matching buy and sell orders.
    Access to the software is provided to brokers. In some cases, buyers and sellers
    can also obtain direct access to the order book of a stock exchange. This is called
    *direct market access*.'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: '*电子证券交易所*本质上是一款软件。它有两个基本任务：将订单录入订单簿和匹配买单和卖单。经纪人可以访问该软件。在某些情况下，买家和卖家也可以直接访问证券交易所的订单簿。这被称为*直接市场接入*。'
- en: Orders are electronically placed through a computer which communicates with
    the electronic stock exchange. The communication itself is electronic. The speed
    of communication can be a factor in trading where prices change very rapidly.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 通过与电子证券交易所通信的计算机电子方式下订单。通信本身是电子的。通信速度在价格变动非常迅速的交易中可能是一个因素。
- en: A stock exchange maintains the current prices at which the various instruments
    are traded on the exchange. These prices are given out in electronic format as
    a live feed. This information is important to buyers and sellers for deciding
    upon the orders to be placed.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 证券交易所维护着各种工具在交易所上交易的当前价格。这些价格以电子格式作为实时信息发布。这些信息对于买家和卖家来说是重要的，用于决定要下达的订单。
- en: Placing of orders may involve a human element. A person could be sitting at
    a desk and studying the prices of different instruments. Based on some intuition
    and/or pre-set rules, the person would be placing relevant orders. Increasingly,
    however, large traders are relying on computers to take the decisions on when
    to place an order and also which order to place.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 下订单可能涉及人为因素。一个人可能坐在桌子旁研究不同工具的价格。基于一些直觉和/或预设规则，这个人将下达相关订单。然而，越来越多的大型交易者正在依赖计算机来决定何时下订单以及下什么订单。
- en: The procedure of placing an order could also be done by a piece of software.
    This software receives price feeds from the exchange. Additionally, it may also
    receive news feeds and relevant information from other sources. Based on such
    information, the software decides on the placement of orders. This decision-making
    process is an algorithm. The software implements the algorithm. The method of
    making trading decisions based on an algorithm is called *algorithmic trading*.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 下订单的程序也可以由一款软件完成。这个软件从交易所接收价格信息。此外，它还可能从其他来源接收新闻信息和相关信息。基于这些信息，软件决定订单的下达。这个决策过程是一种算法。软件实施这个算法。基于算法做交易决策的方法称为*算法交易*。
- en: For an instrument to be traded on a stock exchange it must first be listed on
    the exchange. For example, the stocks of a company may be listed in a stock exchange
    thereby permitting the sale and purchase of the stock on that exchange. It is
    not necessary for the whole stock of a company to be listed on a single stock
    exchange. There could be several stock exchanges where the stocks of a company
    can be traded. Any trade performed on a stock exchange incurs a *transaction fee*.
    For determining profitability of a trade, a trader needs to take into account
    the associated transaction fees.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 一个工具要在股票交易所交易，必须首先在交易所上市。例如，一家公司的股票可以在股票交易所上市，从而允许在该交易所上进行股票的买卖。一家公司的全部股票不必全部在一个股票交易所上市。可以有几个股票交易所可以交易一家公司的股票。在股票交易所上进行的任何交易都会产生*交易费*。为了确定交易的盈利能力，交易员需要考虑相关的交易费用。
- en: A stock exchange is not the only system which permits trading. There are alternative
    trading systems.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 股票交易所不是唯一允许交易的系统。还有替代交易系统。
- en: '*Over-the-counter* (OTC) trades are direct trades between buyers and sellers
    without going through a stock exchange. An OTC market consists of participants.
    Two such participants can conduct a trade without other participants becoming
    aware at the price at which the trade was concluded. So, an OTC market typically
    has less transparency compared to a stock exchange.'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: '*场外交易*（OTC）是买方和卖方直接进行的交易，而不经过股票交易所。场外市场由参与者组成。两个参与者可以在其他参与者不知情的情况下以某个价格进行交易。因此，场外市场通常比股票交易所透明度低。'
- en: '*Crossing networks* directly match buy and sell orders electronically without
    going through an exchange. Such networks can handle OTC and exchange-listed securities.
    The matches can be done at various times during the day and sometimes even after
    the operating hours of an exchange. The main advantage of such a trading system
    is that large trades can be conducted in anonymity and away from the public view.
    This avoids impacting the price which an otherwise large trade might have had.'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: '*交叉网络*直接电子匹配买单和卖单，而不经过交易所。这样的网络可以处理场外和交易所上市的证券。匹配可以在一天的各个时间进行，甚至可以在交易所的营业时间之后进行。这种交易系统的主要优点是可以在匿名和远离公众视线的情况下进行大宗交易。这避免了一笔本来可能对价格产生影响的大宗交易。'
- en: An *electronic communication network (ECN)* is an automated forum for trading
    outside traditional stock exchanges. In contrast with crossing networks, ECNs
    publicise orders that are entered by the big traders. Primarily stocks and currencies
    are traded on ECNs. An advantage of ECNs is that of lower transaction costs and
    providing the facility of order matching outside traditional exchange hours.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: '*电子通讯网络（ECN）*是一个自动化的交易论坛，用于在传统股票交易所之外进行交易。与交叉网络相比，ECN公布由大型交易员输入的订单。主要在ECN上交易股票和货币。ECN的优点在于交易成本较低，并且提供了在传统交易所关闭期间进行订单匹配的功能。'
- en: A *dark pool* is a private forum for trading various kinds of financial instruments.
    Dark pools are accessed either using crossing networks or directly through proprietary
    systems. Members of a dark pool are generally large traders, and such pools are
    not made accessible to the public. Usually large trades are conducted on dark
    pools. Such trades can be conducted anonymously without the knowledge of the general
    investing public. Trades conducted on dark pools are not transparent. So, traders
    who participate in dark pools have the advantage of having additional information
    regarding trade which is not available to outsiders. Dark pools can be set up
    by independent companies to offer a different trading platform. A broker may also
    set up a dark pool where the clients of the broker interact with each other. Public
    exchanges can also set up dark pools to allow large traders to perform trades
    in an anonymous manner.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: '*黑池*是一个用于交易各种金融工具的私人论坛。黑池可以通过交叉网络或直接通过专有系统访问。黑池的成员通常是大型交易者，这种池不向公众开放。通常在黑池进行大宗交易。这种交易可以匿名进行，不需要一般投资大众的知晓。在黑池上进行的交易是不透明的。因此，在黑池参与交易的交易者具有比外部人士更多的交易相关信息。黑池可以由独立公司建立以提供不同的交易平台。经纪人也可以建立黑池，其中经纪人的客户相互交易。公开交易所也可以设立黑池，以允许大型交易者以匿名方式进行交易。'
- en: 11.2 Some Relevant Notions
  id: totrans-220
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 11.2 一些相关概念
- en: In this section, we briefly mention a few notions that are widely used.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们简要介绍几个广泛使用的概念。
- en: '*Liquidity*: Market liquidity of a financial asset refers to the property whereby
    the asset can be quickly sold or purchased without a significant change in the
    price of the asset. In a market which is liquid for the asset, it can be sold
    quickly without reducing the price. On the other hand, if the market is not very
    liquid for the asset, then quick selling will require lowering the price. Liquidity
    of an asset could depend on the market. The same asset may be liquid in one market
    and not so in another. Liquidity can be increased through buy-back of shares.'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: '*流动性*：金融资产的市场流动性指的是该资产可以在不显著改变价格的情况下快速出售或购买的属性。在资产市场流动性较高的市场中，该资产可以快速出售而不降低价格。另一方面，如果市场对该资产的流动性不高，则快速出售将需要降低价格。资产的流动性可能取决于市场。同一资产在一个市场可能很流动，在另一个市场可能不太流动。通过回购股份可以增加流动性。'
- en: Liquidation is the task of changing an asset into another with higher liquidity.
    Cash is the most liquid asset, since it can be used to purchase goods and services
    without any loss of value. Often liquidation simply means selling the asset for
    cash. In a somewhat different context, an organisation is said to be liquid if
    it has a sufficient amount of highly liquid assets which can be used to make any
    outstanding payments.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 清算是将资产变换成另一个高流动性资产的任务。现金是最流动的资产，因为它可以用来购买商品和服务而不会有任何价值损失。通常，清算简单地意味着将资产卖出获得现金。在一个稍微不同的语境中，如果一个组织拥有足够量的高流动性资产，可以用来支付任何未决支付，那么该组织被称为“流动”。
- en: '*Market maker*: A market maker is an entity which quotes both buy and sell
    prices of a financial instrument. The entity is willing to buy and sell securities
    on a regular and continuous basis at the quoted prices. For a market maker to
    make positive profit, the selling price must be higher than the buying price,
    i.e. the market maker should sell at a price which is higher than the price at
    which it is ready to buy. The difference between the selling and the buying price
    is the bid-ask spread of the market maker. A designated market maker (or a designated
    primary market maker) is a market maker which has provided a guarantee that it
    will play the role of a market maker for some assigned security. Such a market
    maker provides liquidity to the security.'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: '*市场做市商*：市场做市商是一个报价买入和卖出金融工具的实体。该实体愿意以所报的价格定期和持续地买卖证券。为了让市场做市商获得正收益，卖出价格必须高于买入价格，即市场做市商应以高于其愿意购买价格的价格出售。卖出价格和买入价格的差异是市场做市商的买卖价差。指定做市商（或指定主要做市商）是一家已经提供了保证，将扮演某项指定证券的市场做市商角色。这样的市场做市商为证券提供流动性。'
- en: Alternatively, a market maker is an entity which places limit orders that cannot
    be immediately executed, i.e. it places buy orders at prices below the current
    selling price and/or sell orders at prices above the current buying price. Such
    orders enter the order book and are possibly executed at a future point of time.
    As a result, such orders introduce liquidity into the market. So, a market maker
    is also called a liquidity provider.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 另外，市场做市商是一个下无法立即执行的限价订单的实体，即它以低于当前卖出价格的价格和/或以高于当前买入价格的价格下达购买订单。这些订单进入订单簿，并可能在将来的某个时间点被执行。因此，这些订单为市场引入了流动性。因此，市场做市商也被称为流动性提供者。
- en: '*Market taker*: A market taker is an entity which places orders that are immediately
    executed. This means that the entity places a buy order at a price which is at
    or above the current selling price and/or places a sell order at a price which
    is at or below the current buying price. Such orders remove liquidity from the
    market and so, these entities are also called liquidity takers.'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: '*市场接受者*：市场接受者是立即执行订单的实体。这意味着该实体以高于或等于当前卖出价格的价格下达买单，和/或以低于或等于当前买入价格的价格下达卖单。这些订单会从市场中移除流动性，因此这些实体也被称为流动性接受者。'
- en: '*Maker, taker fees*: Exchanges can differentiate between makers and takers
    by a maker-taker fee structure. When an order of a market maker executes, this
    entity is provided a rebate while the market taker that is a counterparty to the
    market maker''s order has to pay a fee to the market. The amount of rebate and
    the fees can vary depending upon how the exchange wishes to incentivise the maker-taker
    behaviour.'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: '*市场制造者、接受者费用*：交易所可以通过制造者-接受者费用结构区分制造者和接受者。当市场制造者的订单执行时，该实体会获得一笔回扣，而与市场制造者订单对手方的市场接受者必须向市场支付费用。回扣和费用的金额可以根据交易所希望激励制造者-接受者行为的方式而变化。'
- en: '*Bid-ask spread*: In broad terms, this is the difference between the selling
    and the buying price of a security. The bid-ask spread could arise from the sale/purchase
    prices quoted by a market maker. It also refers to the difference in the selling
    and buying prices of the security in an exchange. One measure of liquidity of
    an asset is the size of the bid-ask spread. If this spread is small, then the
    asset is very liquid. In particular, if the spread is zero, then the asset is
    said to be frictionless.'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: '*买卖价差*：广义上，这是证券卖出和买入价格之间的差异。买卖价差可能来自市场制造者报价的卖出/购买价格。它还指的是交易所中证券的卖出和买入价格之间的差异。资产的一个流动性度量是买卖价差的大小。如果这个价差很小，那么资产就非常流动。特别地，如果价差为零，那么资产被称为无摩擦。'
- en: '*Market impact*: This refers to the effect on the price when an entity buys
    or sells an asset. Market impact is quantified by the amount in which the price
    moves in the opposing direction. In other words, if the asset is being purchased,
    then the market impact is the amount by which the price increases while if the
    asset is being sold, then the market impact is the amount by which the price decreases.
    The notion of market impact of an asset is closely related to the liquidity of
    the asset.'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: '*市场影响*：这指的是当实体买入或卖出资产时对价格的影响。市场影响通过价格朝相反方向移动的金额来量化。换句话说，如果正在购买资产，则市场影响是价格上涨的金额，而如果正在出售资产，则市场影响是价格下跌的金额。资产的市场影响概念与资产的流动性密切相关。'
- en: '*Short*: A short sale (or going short) of an asset refers to the act of sale
    of an asset that the seller does not possess. So, the sale has to be made good
    by borrowing the asset from another entity. At a later point of time, the seller
    repurchases the asset from the market and pays back the lender. This is called
    covering the short position. The seller gains if the price decreases between the
    time it makes the sale and the time it buys from the market to pay back to the
    lender. Conversely, the seller loses if the price increases in this period. For
    calculating the profit of the short seller, it is required to take into account
    the possible fee for borrowing and also the possible cash return that the lender
    would have received in the period when it was loaned out.'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: '*卖空*：资产的卖空（或做空）是指卖方出售其不拥有的资产的行为。因此，出售必须通过向另一个实体借用该资产来完成。在以后的某个时间点，卖方从市场上回购资产并偿还给出借人。这称为平仓空头。如果价格在卖出和从市场购买以偿还给出借人的时间之间下跌，卖方就会获利。相反，在此期间价格上涨时，卖方会亏损。为了计算卖空者的利润，需要考虑借款可能产生的费用，以及在借出期间出借人可能收到的现金回报。'
- en: A basic requirement for short selling is that the instrument must be fungible,
    since otherwise the short seller will not be able to pay back the lender with
    the actual asset that it had borrowed. Short selling can be done for public securities
    or in currency markets.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 卖空的一个基本要求是该工具必须是可互换的，否则卖空者将无法用借来的实际资产偿还出借人。卖空可以针对公共证券或货币市场进行。
- en: In broad terms, going short means gaining if the price of an asset falls. For
    example, an entity may sell a certain number of shares it owns and when the price
    falls, the entity buys back the same number of shares, thus making a profit on
    the price difference. This is to be contrasted with going long where there is
    gain when the price of an asset rises. Traditionally, an entity makes profit through
    the ‘buy low, sell high’ principle. In contrast, a short seller makes profit through
    the ‘sell high, buy low’ principle.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 从宏观角度来看，做空意味着在资产价格下跌时获利。例如，某个实体可能卖出其拥有的一定数量的股票，当价格下跌时，该实体再购买相同数量的股票，从而通过价格差获利。这与看涨相对立，看涨是指当资产价格上涨时获利。传统上，实体通过“低价买入，高价卖出”的原则获利。相反，卖空者通过“高价卖出，低价买入”的原则获利。
- en: Short selling can be done by speculators who might consider an instrument to
    be presently overvalued and expect the price to come down. Short positions are
    also utilised by portfolio managers who may hedge a long position by a short position.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 卖空可以由认为某个工具目前被高估并且预期价格会下跌的投机者进行。投资组合经理也会利用空头仓位来对冲多头仓位。
- en: In the context of options, an entity selling either a call or a put option has
    a short position. The owner of a call option has the right to buy the underlying
    asset at the strike price on a future date. Suppose an entity sells a call option
    without owning the underlying asset. If the market price of the asset falls below
    the strike price, then the option expires out of money and the owner of the call
    option does not exercise the option. So, the entity which sold the call option
    obtains the premium for the option without owning the underlying asset. Conversely,
    the owner of a put option has the right to sell the underlying asset at the strike
    price on a future date. Suppose an entity sells a put option. If the market price
    of the asset stays above the strike price, then the put option expires out of
    money and the option becomes worthless. In this case, the entity which sold the
    put option obtains the premium for the option without actually having to buy the
    asset. For both the cases, the entity with a short position on the option potentially
    makes a profit without actually owning the underlying asset.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 在期权交易的背景下，卖出认购期权或认沽期权的实体持有空头头寸。认购期权的持有人有权在未来某个日期以执行价格购买基础资产。假设一个实体在不持有基础资产的情况下卖出认购期权。如果资产的市场价格低于执行价格，则该期权到期时变成无价值，并且认购期权的持有人不行使该期权。因此，卖出认购期权的实体获得了期权的保费，而不需要持有基础资产。相反，认沽期权的持有人有权在未来某个日期以执行价格出售基础资产。假设一个实体卖出认沽期权。如果资产的市场价格保持在执行价格之上，则认沽期权到期时变成无价值，并且该期权变得毫无意义。在这种情况下，卖出认沽期权的实体获得了期权的保费，而实际上不需要购买该资产。对于这两种情况，持有期权空头头寸的实体有可能在实际上不持有基础资产的情况下获利。
- en: Short selling on the currency market can appear to be different from that for
    securities. Currencies are traded in pairs. Consider US dollar and euros. On a
    certain date, a short seller borrows *x* euros and exchanges it for *y* US dollars.
    Suppose that the next day, the price of euros depreciate with respect to the dollar.
    Then using the *y* dollars, the short seller can purchase *z* euros, where *z*
    > *x*. It returns the borrowed *x* euros and makes a profit of (*z* − *x*) euros
    minus the cost of borrowing.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 在货币市场上进行空头交易与证券市场上的空头交易看起来可能有所不同。货币是成对交易的。以美元和欧元为例。在某一天，一个空头卖家借入*x*欧元并将其兑换成*y*美元。假设第二天，欧元的价格相对于美元贬值。然后使用*y*美元，空头卖家可以购买*z*欧元，其中*z*
    > *x*。他归还借入的*x*欧元，并获得(*z* − *x*)欧元的利润，减去借款成本。
- en: '*Long*: An entity having a long position in an asset means that the entity
    owns a positive amount of the asset. There is a gain if the price of the asset
    increases. This is the conventional concept of investing. An entity buys a certain
    amount of the asset. If the price of the asset goes up, the entity stands to gain,
    while if the price goes down, then the entity potentially loses.'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: '*多头持仓*：持有资产的实体拥有正数金额的资产。如果资产价格上涨，则会获利。这是传统的投资概念。实体购买一定数量的资产。如果资产价格上涨，则实体有可能获利，而如果价格下跌，则实体有可能亏损。'
- en: For options, an entity goes long on an asset by buying either call or put options
    on the asset. For a call option, the entity obtains the right to buy the asset
    at the strike price. If the market price of the asset rises above the strike price,
    then the entity can exercise the option to buy the asset at the strike price and
    sell it on the market, thus making a profit (after discounting the premium for
    buying the option). For a put option, the entity obtains the right to sell the
    asset at the strike price. If the market price of the asset falls below the strike
    price, then the entity can exercise the option by buying from the market and selling
    at the strike price. This again provides a profit after discounting the premium
    paid for purchasing the option. In both cases, to make a profit, the entity with
    the long position on the option is required to own the underlying asset at some
    point of time.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 对于期权，一个实体通过购买资产的认购期权或认沽期权来做多头持仓。对于认购期权，实体获得以行使价格购买资产的权利。如果资产的市场价格上涨到高于行使价格，那么实体可以行使期权以行使价格购买资产，并在市场上出售，从而获利（扣除购买期权的溢价后）。对于认沽期权，实体获得以行使价格出售资产的权利。如果资产的市场价格下跌到低于行使价格，那么实体可以通过从市场购买并以行使价格出售来行使期权。这同样会在购买期权的溢价扣除后带来利润。在这两种情况下，为了获利，持有期权多头的实体需要在某个时间点拥有基础资产。
- en: 11.3 Order Book
  id: totrans-238
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 11.3 订单簿
- en: In any trading system, traders provide two broad classes of orders, namely,
    buy orders and sell orders. A trading system such as an exchange maintains an
    order book. Such an order book is essentially a list of orders made by traders
    on the various kinds of financial instruments. Information in an order book is
    available to the traders which allows them to make better-informed trades.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 在任何交易系统中，交易者提供两类订单，即买单和卖单。交易系统如交易所维护一个订单簿。这样的订单簿本质上是交易者在各种金融工具上做出的订单列表。订单簿中的信息对交易者可见，使他们能够做出更明智的交易。
- en: 'Each individual order contains at least the following information: the particular
    security to which the order pertains, whether the order is to buy or to sell,
    the quantity and possibly also the price at which the trader is willing to buy
    or sell. Additionally, there should be some way whereby the system can relate
    to the trader who placed the order even if the actual identity of the trader is
    obscured as in a dark pool. Orders placed can also be cancelled subject to some
    restrictions.'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 每个独立的订单至少包含以下信息：订单所涉及的特定证券，订单是买入还是卖出，数量，可能还包括交易者愿意买入或卖出的价格。此外，应该有一些方式，即使交易者的实际身份被隐藏，系统也能与下单者相关联，如在黑暗池中一样。下达的订单也可以根据一些限制取消。
- en: The minimum allowed difference in two quoted prices is called a *tick*. So,
    two orders at two different prices are certainly one tick apart. The actual value
    of the tick may be decided by the trading venue. A *price level* refers to several
    orders which are quoted at the same price. For example, there could be multiple
    sell orders at the same price level. If a bid (or buy order) comes at that level,
    then potentially all the sell orders can be fulfilled. Two price levels are necessarily
    at least one tick apart.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 两个报价之间允许的最小差异称为*tick*。因此，两个不同价格的订单肯定相差一个*tick*。*tick*的实际值可能由交易场所决定。*价格水平*指的是以相同价格报价的几个订单。例如，可能会有多个以相同价格水平报价的卖单。如果有一个出价（或买单）在该水平，那么潜在地所有卖单都可能被执行。两个价格水平必然至少相差一个*tick*。
- en: '*Market depth* of a security refers to the various price levels for the security.
    It is provided as a list of the price levels and the total quantity that is to
    be traded at each price level. Intuitively, market depth refers to the size of
    the order that is needed to move the market price by a specified amount. A deep
    market maintains a stable price. In this sense, market depth is related to the
    notion of liquidity.'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 一种证券的*市场深度*指的是该证券的各种价格水平。它以价格水平列表和每个价格水平上要交易的总数量的形式提供。直观地说，市场深度指的是需要多大的订单才能将市场价格移动指定的金额。深度市场保持价格稳定。在这个意义上，市场深度与流动性概念相关。
- en: Since orders are entered in the order book, the book depth refers to the number
    of price levels of a security. The trading venue may choose to maintain the order
    book to a pre-specified level, and all orders beyond that level are ignored. Alternatively,
    unlimited book depth may also be allowed.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 由于订单是输入到订单簿中的，订单簿深度指的是一种证券的价格水平数量。交易场所可以选择将订单簿维持到预先指定的水平，并且超出该水平的所有订单都将被忽略。或者，也可以允许无限的订单簿深度。
- en: For any security, the highest price at which a trader is willing to buy (the
    highest bid) and the lowest price at which a trader is willing to sell (the lowest
    ask) are called the top of the book. The difference between the highest bid and
    the lowest ask is called the bid-ask spread of the order book. This is an important
    measure of the market for the security.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 对于任何证券，交易者愿意买入的最高价格（最高买价）和愿意卖出的最低价格（最低卖价）称为订单簿的顶部。最高买价和最低卖价之间的差异称为订单簿的买卖价差。这是该证券市场的一个重要指标。
- en: 11.4 Order
  id: totrans-245
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 11.4 订单
- en: At a very broad level, an order is either a buy or a sell order. Modern trading
    systems allow a variety of order types. In this section, we briefly mention a
    few such types.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 在非常广泛的层面上，一个订单要么是买单要么是卖单。现代交易系统允许多种订单类型。在本节中，我们简要提及几种此类类型。
- en: Before proceeding we mention a few terminological issues. Whenever possible,
    an exchange executes an order. This task of executing an order is also variously
    called filling an order or satisfying an order.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 在继续之前，我们提到几个术语问题。在可能的情况下，交易所会执行订单。执行订单的任务也可以被称为填写订单或满足订单。
- en: The simplest order is a *market order*. Such an order specifies the quantity,
    but not the price. It is to be immediately fulfilled at the best available market
    price whenever there are willing counterparties. For example, a buy market order
    is fulfilled at the lowest ask price and a sell market order is fulfilled at the
    highest bid price. It is to be noted that in modern markets, prices may change
    very fast. Since a market order does not specify a price, it may get fulfilled
    at quite a different price from the price which was available before the order
    was entered. A market order by a trader may be split across multiple counterparties
    resulting in different prices for different quantities of the asset. Since a market
    order is the simplest of all types of orders, they are charged the least amount
    of commission by brokers.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 最简单的订单是*市价订单*。这种订单指定了数量，但没有指定价格。每当有愿意的交易对手时，它都会立即以最佳市场价格执行。例如，买入市价订单将以最低的卖出价格执行，而卖出市价订单将以最高的买入价格执行。需要注意的是，在现代市场上，价格可能变化非常快。由于市价订单不指定价格，因此可能以与输入订单之前可用价格相当不同的价格执行。交易员的市价订单可能被分割到多个交易对手中，导致不同数量的资产的不同价格。由于市价订单是所有订单类型中最简单的，因此经纪人对其收取的佣金最少。
- en: '*Limit orders* are one step up in complexity from market orders. A limit order
    specifies the quantity and the price indicating that the trade for the quantity
    is to be made at the specified or better price. So, a buy limit order can be fulfilled
    by purchasing at the specified or lower price, while a sell limit order can be
    fulfilled by selling at the specified or higher price. If the order book contains
    matching orders at the specified or better prices, then a limit order can be satisfied
    right away. Otherwise, the limit order is entered into the order book queue and
    has to wait for matching orders. It is allowed to partially fulfill a limit order,
    and the order for the remaining quantity is entered into the order book.'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: '*限价订单*比市价订单复杂一步。限价订单指定了数量和价格，表示该数量的交易将以指定或更好的价格进行。因此，买入限价订单可以以指定或更低的价格购买，而卖出限价订单可以以指定或更高的价格出售。如果订单簿中存在与指定或更好价格匹配的订单，则限价订单可以立即满足。否则，限价订单将被输入到订单簿队列中，并且必须等待匹配订单。允许部分成交限价订单，剩余数量的订单将被输入到订单簿中。'
- en: Market and limit orders are the two basic types of orders. These can be further
    qualified with other conditions giving rise to a variety of orders. Below we briefly
    mention a few of these.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 市价和限价订单是两种基本类型的订单。这些可以通过其他条件进一步限定，从而产生各种类型的订单。以下简要提及其中一些。
- en: '*Fill or Kill (FOK):* The orders are either to be filled completely or cancelled.'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: '*全部成交或取消（FOK）：* 订单要么全部成交，要么取消。'
- en: '*Immediate or Cancel (IOC):* The orders are to be executed immediately or cancelled.
    Unlike FOK, partial fulfillment is allowed.'
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: '*立即成交或取消（IOC）：* 订单要么立即成交，要么取消。与FOK不同，允许部分成交。'
- en: '*All or Nothing (AON):* Either the order is filled completely or not at all.
    Partial fulfillment is not allowed. Unfilled AON orders are not cancelled.'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: '*全部或无（AON）：* 要么订单完全成交，要么完全不成交。不允许部分成交。未成交的AON订单不会被取消。'
- en: '*Market on Open (MOO), Market on Close (MOC), Limit on Open (LOO), Limit on
    Close (LOC):* Some exchanges hold an auction at the opening and at the closing
    times. An MOO order is a market order which is guaranteed to obtain the opening
    price of the auction, while an MOC is guaranteed to obtain the closing price of
    the auction. LOO and LOC are limit orders which are similar to MOO and MOC, respectively,
    with the difference that these orders specify a price and are filled only if the
    opening and the closing prices match the specified price.'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: '*开盘市价（MOO），收盘市价（MOC），开盘限价（LOO），收盘限价（LOC）：* 一些交易所在开盘和收盘时进行竞价。 MOO订单是保证以竞价的开盘价格获得的市价订单，而MOC订单是保证以竞价的收盘价格获得的市价订单。
    LOO和LOC是类似于MOO和MOC的限价订单，区别在于这些订单指定了价格，仅当开盘和收盘价格与指定价格匹配时才会成交。'
- en: '*Stop Order:* This is an order to transact a trade when the market price reaches
    a specified price. Once the specified price is reached, the stop order becomes
    a market order. So, the trade will definitely take place (subject to availability
    of a counterparty) even if the price changes adversely with respect to the stop
    order price.'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: '*止损单：* 这是一个在市场价格达到特定价格时进行交易的订单。一旦达到指定价格，止损单就变成了市价单。因此，即使价格相对于止损单价格不利变化，交易也一定会发生（取决于是否有交易对手方可用）。'
- en: '*Mid-Price Peg:* Such an order specifies a limit price which is the average
    of the best bid and the best offer prices.'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: '*中价挂单：* 这样的订单指定了一个限价，该限价是最佳买入价和最佳卖出价的平均值。'
- en: '*Market-if-Touched:* Trade is to be conducted at the best available price if
    the market price reaches a specified ‘if touched’ level. As soon as the trigger
    price is reached, the order is treated as a market order.'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: '*市价触发：* 如果市场价格达到指定的“触发”水平，则交易将以最佳可用价格进行。一旦触发价格达到，订单就被视为市价订单。'
- en: '*One Cancels Other:* This is a pair of orders for two instruments. If one of
    the orders is executed, then the other order stands cancelled.'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: '*一对对立订单：* 这是为两种工具设置的一对订单。如果其中一个订单执行，那么另一个订单就被取消了。'
- en: '*One Sends Other:* This specifies a cascade of orders. If the first order is
    executed, then the next one is triggered. The orders are executed sequentially.'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: '*一发其他：* 这指定了一系列订单。如果第一个订单执行，则触发下一个订单。订单按顺序执行。'
- en: '*Bracket Order:* Groups together several orders. For example, a bracketed sell
    order consists of three orders: a short sell limit order at a specified price,
    a buy stop order above the entry price of the sell order and a buy limit order
    below the entry price.'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: '*套单：* 将几个订单组合在一起。例如，一个分级卖出订单包括三个订单：一个指定价格的卖出限价订单，在卖出订单的入场价格上方的买入止损订单和在入场价格下方的买入限价订单。'
- en: It is possible to specify display instructions. For example, an all-or-nothing
    buy limit order can instruct to buy if another trader is selling the full quantity
    of the order at the specified price, but, otherwise, not to display the order.
    An iceberg order displays only a small part of the order and leaves a large portion
    of the order undisplayed.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 可以指定显示说明。例如，全量或全无买入限价订单可以指示在另一个交易者以指定价格出售订单的全部数量时进行买入，但在其他情况下不显示订单。冰山订单只显示订单的一小部分，将大部分订单保持不显示。
- en: As the above indicates, there is a large variety of orders. Depending on the
    market conditions, not all entered orders can be filled at once. Therein comes
    the question of prioritising the orders. Generally, the simplest orders receive
    the highest priority. So, market orders are the first to be filled followed by
    limit orders. More complex orders receive lower priority. Also, iceberg and dark
    pool orders receive lower priority.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 正如上文所示，存在各种各样的订单。根据市场状况，不是所有输入的订单都能立即成交。因此，出现了优先处理订单的问题。通常，最简单的订单优先级最高。因此，市价单首先被填充，然后是限价单。更复杂的订单优先级较低。此外，冰山和暗池订单的优先级较低。
- en: 11.5 Order Matching Algorithms
  id: totrans-263
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 11.5 订单匹配算法
- en: Orders are entered by traders and are stored in the order book of an exchange.
    Buy and sell orders which match have to be identified and the corresponding trade
    gets fulfilled. These are done using order matching algorithms. In this section,
    we provide an overview of basic order matching algorithms. This discussion is
    based on Janeček and Kabrhel (2007).
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 交易员输入订单并将其存储在交易所的订单簿中。匹配的买单和卖单必须被识别，并且相应的交易被执行。这些是使用订单匹配算法来完成的。在本节中，我们提供了基本订单匹配算法的概述。这个讨论是基于Janeček和Kabrhel（2007）的。
- en: Exchanges match orders in two forms, namely continuous and auction. Auctions
    are conducted at the opening and closing times of the exchange, while continuous
    matching is done for the rest of the time that the exchange is open.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 交易所以连续和拍卖两种形式匹配订单。拍卖在交易所开放和关闭时进行，而连续匹配则在交易所开放的其余时间内进行。
- en: Exchanges begin to accept opening orders quite a while before the actual opening
    of the exchange. These orders can be both buy and sell orders and are publicly
    displayed. Based on the displayed orders, traders can cancel previous orders and
    enter new ones. A short time before the opening, orders are no longer allowed
    to be cancelled. Once the exchange opens, a multi-seller and multi-buyer auction
    is carried out to satisfy the opening orders. This sets the opening prices of
    the various securities that are traded on the exchange. A similar auction is carried
    out at the closing time of the exchange which sets the closing prices of the securities.
    These closing prices become the basis for the opening prices of the next day's
    opening auction.
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 交易所在实际开放之前相当长的时间就开始接受开放订单。这些订单可以是买单也可以是卖单，并且公开展示。根据展示的订单，交易员可以取消先前的订单并输入新的订单。在开放之前的短时间内，不再允许取消订单。一旦交易所开放，就会进行多卖家和多买家拍卖以满足开放订单。这确定了交易所交易的各种证券的开盘价格。在交易所关闭时，进行类似的拍卖，以确定证券的收盘价格。这些收盘价格成为第二天开盘拍卖的基础价格。
- en: During the day, exchanges perform continuous matching. Market orders are immediately
    fulfilled subject to availability of counterparty traders. Next in preference
    comes the limit orders. Suppose at some point of time, there are *n* limit orders
    for quantities *T* 1,…,*T* [*n*] at the same price level and that there is a counterparty
    trade of *W* quantities with a matching price. Let *T* = *T* 1 + ⋯ + *T* [*n*]
    . If *W* ≥ *T*, then all the *n* limit orders can be satisfied and there is no
    problem. So, suppose *W* < *T*. Then all the *n* orders cannot be completely satisfied.
    There are two methods for handling such a situation, which we describe below.
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 在交易日内，交易所进行持续匹配。市价订单在有相应交易对手方可用情况下立即执行。接下来优先考虑限价订单。假设在某个时间点，有 *n* 个限价订单的数量为
    *T* 1,…,*T* [*n*]，价格水平相同，并且有一笔交易对手方价格匹配的交易量为 *W*。令 *T* = *T* 1 + ⋯ + *T* [*n*]。如果
    *W* ≥ *T*，那么所有 *n* 个限价订单都可以满足，没有问题。所以，假设 *W* < *T*。那么所有 *n* 个订单无法完全满足。对于处理这种情况，有两种方法，我们将在下面描述。
- en: '*Pro-rata matching*: For *i* = 1,…,*n*, let *s* [*i*] = *T* [*i*] /*T*. From
    the incoming trade of *W* quantities, the quantity alloted to the *i*-th order
    is ![inline-image](../images/CH011_1.jpg), where ![inline-image](../images/CH011_2.jpg)
    is the floor function (i.e. ![inline-image](../images/CH011_3.jpg) is the highest
    integer which is not greater than *x*). So, out of the *W* quantities, a total
    of *S* = *S* 1 + ⋯ + *S* [*n*] ≤ *W* quantities are used. The remaining *W* −
    *S* quantities still need to be alloted. One option would be to allot these using
    the first come, first served (i.e. queue) principle. Depending on the values of
    *s* [*i*] and *W*, it may turn out that *S* [*i*] = 0\. Then the *i*-th order
    does not obtain any allocation in the first round. The remaining *W* − *S* quantities
    may be used to allot to such orders using a first come, first served principle
    in case *W* − *S* is less than the number of unfilled orders in the first round.
    This strategy helps smaller traders.'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: '*比例匹配*：对于 *i* = 1,…,*n*，让 *s* [*i*] = *T* [*i*] /*T*。从 *W* 个数量的交易中，分配给第 *i*
    个订单的数量是 ![inline-image](../images/CH011_1.jpg)，其中 ![inline-image](../images/CH011_2.jpg)
    是向下取整函数（即 ![inline-image](../images/CH011_3.jpg) 是不大于 *x* 的最大整数）。因此，在 *W* 个数量中，共使用了总量
    *S* = *S* 1 + ⋯ + *S* [*n*] ≤ *W*。剩余的 *W* − *S* 个数量仍需要分配。一种选择是使用先到先得（即队列）原则来分配这些数量。根据
    *s* [*i*] 和 *W* 的值，可能会出现 *S* [*i*] = 0。那么第 *i* 个订单在第一轮中就不会获得任何分配。如果 *W* − *S*
    小于第一轮中未填充订单的数量，则剩余的 *W* − *S* 个数量可以用于按照先到先得的原则分配给这样的订单。这种策略有助于较小的交易者。'
- en: Overall, the pro-rata algorithm motivates the placing of larger orders since
    this increases the chances of the order being filled. It does not directly motivate
    to reduce the bid-ask spread.
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 总的来说，比例算法促使下达更大的订单，因为这增加了订单被填满的机会。它并不直接促使减少买卖价差。
- en: '*Price/time algorithm*: This algorithm finds the minimum *j* such that *T*
    1 + ⋯ + *T* *j* ≤ *W* and *T* 1 + ⋯ + *T* *j*+1 > *W*. The first *j* orders are
    satisfied in full. If *j* + 1 ≤ *n*, then the possibly remaining *W* − (*T* 1
    + ⋯ + *T* *j* ) quantities are alloted to the (*j* + 1)-th order.'
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: '*价格/时间算法*：此算法找到最小的*j*，使得*T*1 + ⋯ + *T* *j* ≤ *W*，并且*T*1 + ⋯ + *T* *j*+1 > *W*。前*j*个订单都得到了满足。如果*j*
    + 1 ≤ *n*，则可能剩余的*W* − (*T*1 + ⋯ + *T* *j* )数量全部分配给第(*j* + 1)个订单。'
- en: The price/time algorithm motivates traders to place their orders early. This
    helps in narrowing the bid-ask spread. Once a queue is formed, traders are unlikely
    to join the queue since their orders have a low chance of being filled.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 价格/时间算法鼓励交易者尽早下单。这有助于缩小买卖价差。一旦形成了队列，交易者不太可能加入队列，因为他们的订单很难被填充。
- en: 11.6 Algorithmic Trading
  id: totrans-272
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 11.6 算法交易
- en: Trading requires making decisions. These decisions are multi-faceted involving
    several issues such as whether to buy or sell, which security to trade in and
    at what price, when to trade, what kind of order is to be placed. If a trader
    has access to multiple trading exchanges (or platforms), then another dimension
    would be the choice of the trading platform.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 交易需要做出决策。这些决策是多方面的，涉及到是否买入或卖出，要交易哪种证券以及以什么价格，何时交易，应该放置什么类型的订单等多个问题。如果交易者可以访问多个交易所（或平台），那么另一个维度将是选择交易平台。
- en: Traditionally, all such decisions were taken by humans. One person, or a group
    of persons, would analyse all relevant information and then take the appropriate
    decision. The decisions may be communicated in electronic form and also they could
    be implemented using dedicated servers.
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 传统上，所有这些决策都是由人类做出的。一个人或一组人会分析所有相关信息，然后做出适当的决策。这些决策可能以电子形式通信，也可能使用专用服务器实施。
- en: Over the last few decades, computers have increasingly begun to take the trade
    decisions themselves. An automated trading software will process information available
    in electronic forms and based on such information takes appropriate trade decisions.
    The trade decisions will be communicated in electronic form to the trading platform
    and digitally executed. Human intervention is not required at any stage of operation.
    Broadly speaking, this way of conducting trade is called algorithmic trading.
    Of course, algorithmic trading is not completely free of human involvement. The
    role of human beings is restricted to developing and testing the trading software
    as also regularly tuning its parameters.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 在过去的几十年里，计算机越来越多地开始自行进行交易决策。自动化交易软件将处理电子形式的可用信息，并根据这些信息做出适当的交易决策。交易决策将以电子形式通信到交易平台并进行数字化执行。在操作的任何阶段都不需要人类干预。广义上说，这种进行交易的方式称为算法交易。当然，算法交易并不完全摆脱人类参与。人类的角色仅限于开发和测试交易软件，以及定期调整其参数。
- en: Algorithmic trading is employed by two different groups of traders. Institutional
    investors such as investments banks, pension funds, mutual funds and hedge funds
    have a specific goal for using algorithmic trading. Such investors usually place
    large orders which cannot be satisfied at once. Also, placing a large order might
    move the price in the opposite direction. So, large orders are broken into small
    orders and sent to the market. The decisions related to the order sizes and when
    they are to be placed are taken by a software based on one of several strategies.
    In this kind of application of algorithmic trading, the goal is not necessarily
    to make a big trading profit. Rather, it is a way to reduce market impact and
    lower the cost and risk.
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 算法交易被两个不同的交易者群体使用。机构投资者，如投资银行、养老基金、共同基金和对冲基金，使用算法交易有一个特定的目标。这些投资者通常下达无法一次性满足的大额订单。此外，下达大额订单可能会使价格朝相反方向移动。因此，大额订单被拆分成小订单并发送到市场。关于订单大小以及何时下单的决定由基于多种策略之一的软件做出。在这种算法交易应用中，目标并不一定是获得大额交易利润。相反，这是一种减少市场影响、降低成本和风险的方式。
- en: Speculative traders also utilise algorithmic trading. In this case, the goal
    is indeed to make as much profit as possible. Broadly speaking, this involves
    exploiting market imbalances and imperfections to make profitable trades. A basic
    characteristic of such trades is speed. Since market imperfections occur for a
    very short duration, any method for exploiting such imperfections must be fast.
    Algorithmic trading with such aims is called *high frequency trading*.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 投机交易者也利用算法交易。在这种情况下，目标确实是尽可能多地获利。广义上讲，这涉及利用市场不平衡和缺陷进行盈利交易。这类交易的一个基本特征是速度。由于市场缺陷只发生在非常短的时间内，任何利用这种缺陷的方法都必须快速。以此类目的进行的算法交易称为*高频交易*。
- en: To enable high speed, a primary requirement is obtaining market information
    very fast. The time between data being generated in a trading platform and these
    being available to a trader is called the latency. So, a goal is to lower this
    latency. For this purpose, ultra-low latency direct market access (ULLDMA) technology
    is employed. Further, traders also aim to locate their trading software very close
    to the market so that the information has to travel a shorter distance. This feature
    is called co-location.
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 要实现高速，首要要求是非常快地获取市场信息。在交易平台生成数据和这些数据对交易者可用之间的时间称为延迟。因此，一个目标是降低这种延迟。为此，采用了超低延迟直接市场访问（ULLDMA）技术。此外，交易者还希望将其交易软件放置在离市场非常近的位置，以便信息传输的距离更短。这种特性称为共同定位。
- en: Apart from high speed communication, fast computers are required to take the
    appropriate decisions. The decisions themselves could be simple or they could
    even be quite complex involving market models and stochastic control theories.
    Trading decisions are outputs of some algorithm. In the context of high frequency
    trading, the decision-making algorithms themselves must be very fast. If an algorithm
    comes up with an optimal trade decision, but takes time more than the profitable
    trade window that is available, then such an algorithm will not be useful for
    high frequency trading.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 除了高速通信外，还需要快速计算机来做出适当的决策。这些决策本身可能很简单，也可能非常复杂，涉及市场模型和随机控制理论。交易决策是某种算法的输出。在高频交易的背景下，决策算法本身必须非常快速。如果一个算法提出了一个最优的交易决策，但花费的时间超过了可用的盈利交易时间窗口，那么这样的算法对于高频交易将没有用处。
- en: An algorithmic trading software (whether for institutional traders or for high
    frequency trading) goes through several cycles of testing. The first kind of testing
    is called backtesting. This involves running the software on historical data to
    uncover possible bugs, inefficiencies and also to determine its efficacy in increasing
    returns. Another kind of testing is called forward testing. This involves simulated
    trading with real-time market data. The final testing involves live testing where
    the actual performance of the software is compared against the backtested and
    forward tested results. There are various metrics to evaluate an algorithmic trading
    software. Only if a software fares well on these metrics is it deployed for actual
    trade. High frequency trading involves making very fast trade decisions on a lot
    of money. A small mistake or bug can very quickly wipe out a huge amount of funds.
    So, traders employ very stringent evaluation conditions before actually using
    a software for trading.
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 一个算法交易软件（无论是给机构交易者还是给高频交易者）经过了几个测试周期。第一种测试称为回测。这涉及在历史数据上运行软件，以发现可能的错误、低效性，以及确定它在增加回报方面的功效。另一种测试称为前向测试。这涉及使用实时市场数据进行模拟交易。最后的测试涉及实时测试，其中软件的实际性能与回测和前向测试结果进行比较。有各种指标来评估算法交易软件。只有在这些指标上表现良好的软件才会被部署用于实际交易。高频交易涉及在大量资金上做出非常快速的交易决策。一个小错误或错误很快就会清空大量资金。因此，在实际使用软件进行交易之前，交易者会采用非常严格的评估条件。
- en: 11.7 Efficient Market Hypothesis
  id: totrans-281
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 11.7 有效市场假说
- en: A basic question in investing is whether it is possible to ‘beat the market’,
    i.e. buy and sell financial instruments resulting in making more money than the
    market average? For beating the market a person may perform various kinds of analysis.
    Such analysis could be to analyse past stock market prices and come out with predictions
    for the future. This is usually called technical analysis. Another type of analysis,
    called fundamental analysis, would be to analyse the financial statements (assets,
    liabilities and earnings) of a business, its health and competitors as well as
    various other publicly available information such as interest rates or the GDP
    of a country.
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 投资中的一个基本问题是是否可能“战胜市场”，即购买和出售金融工具以获得比市场平均水平更多的收益？为了战胜市场，一个人可以进行各种类型的分析。这种分析可能是分析过去的股票市场价格，并对未来做出预测。这通常被称为技术分析。另一种类型的分析，称为基本分析，是分析企业的财务报表（资产、负债和收益）、其健康状况和竞争对手，以及各种其他公开可获得的信息，如利率或一个国家的
    GDP。
- en: The Efficient Market Hypothesis (EMH) states that prices fully reflect all available
    information. If the EMH is true, then there is no way to consistently beat the
    market. The only way to ensure higher returns is to invest in riskier instruments.
    Such investments can provide higher returns, but at the same time also has the
    potential to cause a significant loss. Assuming EMH to be true, it is better (in
    the sense of being less riskier) to invest in index funds which aim to return
    the same as the market as a whole rather than beat the market.
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 有效市场假说（EMH）认为价格完全反映了所有可获得的信息。如果 EMH 成立，那么没有办法持续战胜市场。确保更高回报的唯一途径是投资于更高风险的工具。这样的投资可以提供更高的回报，但同时也有可能造成重大损失。假设
    EMH 成立，与其试图战胜市场，不如投资于指数基金更为合适，因为指数基金旨在与整个市场一样返回相同的回报。
- en: The EMH comes in three forms, namely weak, semi-strong and strong. The weak
    form EMH postulates that the present prices fully reflect all historical stock
    prices. The semi-strong form EMH postulates that the present prices fully reflect
    all publicly available information. The strong form EMH postulates that the present
    prices fully reflect all public *and* private information. There have been empirical
    studies to determine whether the EMH holds. Such studies indicate support for
    the weak EMH and also for the semi-strong form EMH with some small unexplained
    anomalies. Regarding the strong form EMH, there does not seem to be significant
    empirical support for this hypothesis.
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: EMH 有三种形式，分别是弱式、半强式和强式。弱式 EMH 假设现行价格完全反映了所有历史股票价格。半强式 EMH 假设现行价格完全反映了所有公开可获得的信息。强式
    EMH 假设现行价格完全反映了所有公开*和*私人信息。已经进行了实证研究以确定 EMH 是否成立。这些研究表明支持弱式 EMH，并且对半强式 EMH 也有一些小的无法解释的异常。关于强式
    EMH，并没有明显的实证支持这个假设。
- en: An important implication of the EMH is that market prices react to only new
    information and change ‘immediately’ as new information becomes available. If
    EMH holds, then it is not possible to make risk-free profits. The goal of arbitrage,
    on the other hand, is to make risk-free (or very low risk) profits. So, if EMH
    holds, then arbitrage is not possible. Arbitrage opportunities, however, indeed
    appear and are exploited by financial experts called arbitrageurs. The explanation
    for this apparently contradictory position is that arbitrage opportunities indicate
    market inefficiencies. These are present for very small intervals of time within
    which the market corrects itself. The goal of arbitrageurs is to identify and
    exploit these small windows of market inefficiencies to make risk-free profits.
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: EMH 的一个重要含义是，市场价格仅对新信息作出反应，并在新信息变得可用时立即变化。如果 EMH 成立，则不可能获得无风险利润。另一方面，套利的目标是获得无风险（或极低风险）的利润。因此，如果
    EMH 成立，则套利是不可能的。然而，套利机会确实出现，并被称为套利者的金融专家所利用。对于这种明显矛盾的观点的解释是，套利机会表明市场的效率低下。这些机会存在于市场自我纠正的非常短的时间间隔内。套利者的目标是识别并利用这些市场效率低下的小窗口来获得无风险利润。
- en: '**Note**'
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**'
- en: There are a number of references on basic trading concepts and market microstructures.
    Additionally, there is also a huge amount of online material that is available.
    This chapter has provided a concise summary of relevant information. In making
    the summary, we have benefitted from discussion in Johnson (2009) and Kissell
    (2013).
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多关于基本交易概念和市场微结构的参考资料。此外，还有大量的在线资料可供参考。本章提供了相关信息的简明总结。在制作摘要时，我们从 Johnson（2009）和
    Kissell（2013）的讨论中受益。
- en: Chapter 12
  id: totrans-288
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第12章
- en: Algorithmic Trading Strategies
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 算法交易策略
- en: Consider the situation where a trader wishes to buy or sell a large amount of
    a particular stock within a specific time frame. There could be various reasons
    for such a decision, such as liquidating a holding, or, re-balancing a portfolio.
    While the rationale for the trading decision is indeed important, in this chapter,
    we are not concerned with the actual reason. We will assume that the trader has
    arrived at the decision and consider the problem of how to *implement* the trade.
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑一个交易员希望在特定时间范围内购买或出售大量特定股票的情况。这样的决定可能有各种各样的原因，例如清算持仓或重新平衡投资组合。虽然交易决策的基础确实很重要，但在本章中，我们不关心实际原因。我们将假设交易员已经做出了决定，并考虑如何*执行*交易的问题。
- en: If the stock is very liquid (with respect to the size of the trade), then there
    is no problem. The entire buy or sell can be conducted as a single order. This,
    however, is rarely the case when the size of the trade is large. A large volume
    of trade usually moves the price in an adverse direction. In other words, if a
    large number of shares are to be purchased, this pushes up the price of the share,
    and conversely, if a large number of shares are to be sold, then this pushes down
    the price of the share. Consequently, for a buy order, the trader ends up paying
    more, while for a sell order, the trader ends up getting less. So, conducting
    the entire trade as a single order will have an adverse market impact, resulting
    in a sub-optimal return for the trader.
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 如果股票非常流动（相对于交易规模），那么就没有问题。整个购买或出售可以作为单一订单进行。然而，当交易规模很大时，这种情况很少见。大量交易通常会将价格朝不利的方向推动。换句话说，如果要购买大量股票，这会推高股票价格；相反，如果要出售大量股票，这会使股票价格下跌。因此，对于购买订单，交易员最终会支付更多，而对于出售订单，交易员最终会获得更少。因此，将整个交易作为单一订单进行将会产生不利的市场影响，导致交易员获得次优的回报。
- en: The above discussion suggests that the trader will be better off by splitting
    the single order into several child orders. This brings up the question of how
    to obtain the sizes of the child orders and also when to trade them. A related
    important question is evaluating the efficacy of a particular trading strategy.
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 上述讨论表明，交易员将通过将单笔订单拆分为多个子订单而获益更多。这引出了如何获得子订单的大小以及何时交易它们的问题。一个相关的重要问题是评估特定交易策略的有效性。
- en: Various algorithmic trading strategies have been devised to address the above
    problem. Note that the goal of such a strategy is not necessarily to maximise
    profit, rather to minimise the market impact. In this chapter, we take a look
    at some of the basic algorithmic trading strategies that have been proposed.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 已经设计了各种算法交易策略来解决上述问题。请注意，这种策略的目标不一定是最大化利润，而是尽量减少市场影响。在本章中，我们将介绍一些已提出的基本算法交易策略。
- en: 12.1 Time Weighted Average Price
  id: totrans-294
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.1 时间加权平均价格
- en: Suppose a trader decides to buy (or sell) *S* shares within a specified period
    of time. As discussed above, when *S* is large, placing a single order for the
    *S* shares will move the price in an adverse direction. The simplest strategy
    for the trader would be the following. Divide the specified time period into *n*
    sub-intervals and place a child order for *S*/*n* shares in each sub-interval.
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 假设一个交易员决定在指定的时间内购买（或出售）*S*股。如上所述，当*S*很大时，为*S*股下单会将价格朝不利的方向推动。交易员的最简单策略如下。将指定时间段分成*n*个子区间，并在每个子区间下单*S*/*n*股。
- en: A simple performance benchmark is the time weighted average price (TWAP). For
    each interval, the average price is determined as the average of the opening,
    closing, high and low prices in that interval. The average of these averages over
    the *n* sub-intervals is the TWAP for the trading duration. The performance of
    the actual trade is assessed by comparing the price with the TWAP. In fact, a
    goal of placing equal size child orders at equal intervals is to achieve the TWAP.
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 一个简单的性能基准是时间加权平均价格（TWAP）。对于每个间隔，平均价格被确定为该间隔内的开盘、收盘、最高和最低价格的平均值。这些平均值在*n*个子间隔上的平均值是交易持续时间的TWAP。通过将价格与TWAP进行比较来评估实际交易的表现。事实上，将相等大小的子订单放置在相等的间隔中的一个目标是实现TWAP。
- en: The simple strategy of placing equal size orders at equal intervals of time
    is completely predictable to traders who are closely watching the market. In fact,
    such a trading strategy can also be discovered by an algorithm. This strategy
    can be exploited by another trader. Suppose that a child limit order is placed
    to buy 1,000 shares at $10 per share. Another trader who has been tracking these
    smaller orders places a buy limit order for 500 shares at $10.01 per share. If
    the market price reaches $10.01 and then rises, then this trader makes a profit;
    if the market price drops below $10.01, then this trader sells off the shares
    it purchased at $10.01 at $10.00, making a loss of 1 cent per share. So, there
    is a possibility of making a profit at a very low risk. Such a strategy is sometimes
    called penny jumping.
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 在相等的时间间隔内放置相等大小的订单的简单策略对于密切关注市场的交易者来说是完全可预测的。事实上，这样的交易策略也可以被算法发现。另一个交易者可以利用这种策略。假设一个子限价订单被放置以每股$10的价格买入1,000股。另一个一直在跟踪这些较小订单的交易者以每股$10.01的价格放置了购买限价订单，数量为500股。如果市场价格达到$10.01然后上涨，那么这个交易者就会赚取利润；如果市场价格跌破$10.01，那么这个交易者会以$10.01的价格卖出所购买的股票，以每股1分的损失。因此，存在以非常低的风险获利的可能性。这种策略有时被称为跳跃一分钱。
- en: A simple time splitting strategy is vulnerable to the above kind of issue. So,
    modifications have been introduced to this trading strategy. Such modifications
    involve placing the child orders at random looking time points rather than at
    regular intervals and further, the size of all the child orders are not necessarily
    equal. The goal would still be to achieve a price which is close to the TWAP.
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 简单的时间分割策略容易受到上述问题的影响。因此，对这种交易策略进行了修改。这些修改包括在随机看似的时间点而不是定期间隔放置子订单，而且所有子订单的大小不一定相等。目标仍然是实现接近TWAP的价格。
- en: 12.2 Volume Weighted Average Price
  id: totrans-299
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.2 成交量加权平均价格
- en: 'The volume weighted average price (VWAP) is another performance benchmark.
    Here the volume refers to the size of an order. Suppose *n* child orders of sizes
    *S* 1,…,*S* [*n*] were placed, where *S* = *S* 1 + ⋯ + *S* [*n*] is the total
    size of all the child orders. Suppose order *S* *k* traded at price *p* *k* .
    Then the VWAP for the order is defined to be the following:'
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 体积加权平均价格（VWAP）是另一个绩效基准。这里的体积指的是订单的大小。假设* n *个大小为* S * 1,…，* S * [* n *]的子订单被下达，其中*
    S * = * S * 1 + ⋯ + * S * [* n *]是所有子订单的总大小。假设订单* S * * k *以价格* p * * k *交易。那么订单的VWAP定义如下：
- en: '![display-image](../images/CH012_1.jpg)(12.1)'
  id: totrans-301
  prefs: []
  type: TYPE_IMG
  zh: '![显示图像](../images/CH012_1.jpg)(12.1)'
- en: For a VWAP, it is not required that the child orders be placed at regular intervals.
    The above definition holds even if the child orders are placed at uneven intervals.
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: 对于VWAP，不需要将子订单定期下达。即使子订单是在不均匀的间隔下达，上述定义仍然有效。
- en: Note that like the TWAP, the VWAP is a performance benchmark which can be computed
    after the entire trade is completed. So, the benchmark by itself does not suggest
    how to obtain the sizes *S* 1,…,*S* [*n*] of the child orders. In practice, the
    VWAP algorithm uses historical trading data to obtain an estimate *u* *k* of the
    fraction of trading volume that is likely to be conducted in the trading period
    *k*. Then the volume *S* *k* of the *k*-th child order is set as *S* *k* = *u*
    *k* *S*.
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，与TWAP一样，VWAP是一个绩效基准，可以在整个交易完成后计算。因此，基准本身并不建议如何获取子订单的大小* S * 1,…，* S * [*
    n *]。在实践中，VWAP算法使用历史交易数据来获取在交易期间*k*可能进行的交易量的估计*u* * k *。然后第*k*个子订单的体积*S* * k *设置为*S*
    * k *=* u * * k * * S *。
- en: The effectiveness of the method depends on the accuracy of the estimates *u*
    1,…,*u* [*n*] . Perhaps, more importantly, trading on a particular day needs to
    follow the historical pattern. So, a VWAP algorithm which blindly uses historical
    data may end up making a loss. It is important for such algorithms to also track
    the movements of both price and the total volume of the shares that is being traded.
    Based on such information, it may dynamically adjust the volume of the child orders
    over and above the volume that is dictated by historical data.
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 该方法的有效性取决于估计* u * 1,…，* u * [* n *]的准确性。或许更重要的是，交易的执行需要遵循历史模式。因此，一个盲目使用历史数据的VWAP算法可能会造成亏损。对于这样的算法来说，也很重要跟踪价格和正在交易的股票总量的波动。根据这样的信息，它可能会动态调整子订单的数量，超过历史数据所指示的数量。
- en: 12.3 Percentage of Volume
  id: totrans-305
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.3 体积百分比
- en: The goal of a percentage of volume (PoV) strategy is to try and ensure that
    the size of a child order is equal to a certain pre-specified percentage (say
    *γ*) of the total trading volume. Suppose that the total volume of the shares
    that has been traded (by all traders) up to the *k*-th time interval is *X* *k*
    . The value of *X* *k* is known from trading data available on the exchange. Let
    *S* *k* be the size of the child order to be placed in the *k*-th time interval.
    To achieve a PoV of *γ*, we must have
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 百分比成交量（PoV）策略的目标是尽量确保子订单的大小等于总交易量的某个预先指定的百分比（比如 *γ*）。假设已交易的股份的总量（所有交易员的）直到第
    *k* 个时间间隔为 *X* *k*。 *X* *k* 的值是根据交易所提供的交易数据得知的。设 *S* *k* 为在第 *k* 个时间间隔内要放置的子订单的大小。要实现
    *γ* 的 PoV，我们必须满足
- en: '![display-image](../images/CH012_2.jpg)(12.2)'
  id: totrans-307
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_2.jpg)(12.2)'
- en: Like the VWAP, it is not required for the child orders of PoV to be placed at
    regular time intervals. The only issue is that whenever a child order is to be
    placed, the size of the child order is computed using the above formula. The time
    points for placing the child orders could be based on additional information.
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 与 VWAP 一样，PoV 的子订单不需要以固定的时间间隔放置。唯一的问题是，每当需要放置一个子订单时，就会使用上述公式计算子订单的大小。放置子订单的时间点可以基于额外的信息。
- en: 12.4 Participation of Weighted Price
  id: totrans-309
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.4 加权价格的参与度
- en: The PWP is a combination of the PoV and the VWAP. Suppose that the desired PoV
    is *γ*. The trader places a sequence of child orders *S* 1,…,*S* [*n*] of total
    size *S* = *S* 1 + ⋯ + *S* [*n*] . Consider the time duration starting from the
    placing of the first child order till a total of *S*/*γ* shares have been traded
    on the exchange. The participation weighted price (PWP) is the VWAP of the first
    *S*/*γ* shares that has been traded on the market since the first child order
    was placed.
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: PWP 是 PoV 和 VWAP 的结合。假设期望的 PoV 是 *γ*。交易员放置一系列子订单 *S* 1,…,*S* [*n*]，总大小为 *S*
    = *S* 1 + ⋯ + *S* [*n*]。考虑从放置第一个子订单开始到在交易所交易了 *S*/*γ* 股份的时间段。参与度加权价格（PWP）是自放置第一个子订单以来市场上已交易的前
    *S*/*γ* 股份的 VWAP。
- en: The PWP is also a benchmark that is used in post-trade analysis. The rationale
    for this benchmark is that if the trader had traded *S* shares with PoV *γ*, then
    the trade would have ended when the first *S*/*γ* shares were traded on the market.
    So, it makes sense to look at the VWAP arising from the trades of the first *S*/*γ*
    shares.
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: PWP 也是后期交易分析中使用的基准。这个基准的理由是，如果交易员以 PoV *γ* 进行了 *S* 股的交易，那么当市场上交易了前 *S*/*γ* 股份时，交易就会结束。因此，看看从交易的前
    *S*/*γ* 股份中产生的 VWAP 是有意义的。
- en: 12.5 Bertsimas–Lo Dynamic Programming Strategy
  id: totrans-312
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.5 Bertsimas–Lo 动态规划策略
- en: Suppose that a total of *S* shares are to be bought. As before, *n* child orders
    are placed where the *k*-th order is of size *S* *k* . In this section, we assume
    that ![inline-image](../images/CH012_3.jpg), i.e. the entire trade of *S* shares
    is completed in the *n* child orders. The question that we address is how to determine
    the values of *S* 1,…,*S* [*n*] such that the trade is optimal in some sense.
    An answer to this question was given by Bertsimas and Lo (1998) using dynamic
    programming. Following them, we have posed the question in terms of the *S* shares
    to be purchased. The description can be easily modified to handle the scenario
    where *S* shares are to be sold.
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: 假设要购买总共的*S*股份。与以往一样，放置了*n*个子订单，其中第*k*个订单的大小为*S* *k*。在本节中，我们假设![inline-image](../images/CH012_3.jpg)，即*S*股份的整个交易在*n*个子订单中完成。我们要解决的问题是如何确定*S*
    1,…,*S* [*n*]的值，使交易在某种意义上是最优的。Bertsimas和Lo（1998）使用动态规划给出了这个问题的答案。在他们之后，我们已经将问题提出，以*S*股份为购买对象。该描述可以很容易地修改以处理要出售的*S*股份的情况。
- en: 'The price of a share is a random variable. Suppose the *k*-th share is purchased
    at a price of *P* *k* per share, *k* = 1,…,*n*. Then the total expenditure on
    the trade is ![inline-image](../images/CH012_4.jpg). Since the *P* *k* s are random
    variables, the total expenditure is also a random variable. So, an optimality
    goal would be to minimise the expected value of the total expenditure. This problem
    is formulated as follows:'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 一股的价格是一个随机变量。假设第*k*股以每股*P* *k*的价格购买，*k* = 1,…,*n*。那么交易的总支出是![inline-image](../images/CH012_4.jpg)。由于*P*
    *k*是随机变量，总支出也是一个随机变量。因此，最优性目标将是最小化总支出的期望值。这个问题的表述如下：
- en: '![display-image](../images/CH012_5.jpg)(12.3)'
  id: totrans-315
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_5.jpg)(12.3)'
- en: 'subject to the constraint:'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 受制于约束条件：
- en: '![display-image](../images/CH012_6.jpg)(12.4)'
  id: totrans-317
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_6.jpg)(12.4)'
- en: For *i* = *k*,…,*n* + 1, we define *W* *k* to be the number of shares that remain
    to be purchased at the beginning of the *k*-th child order. So,
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: 对于*i* = *k*,…,*n* + 1，我们定义*W* *k*为在第*k*个子订单开始时剩余要购买的股票数。所以，
- en: '![display-image](../images/CH012_7.jpg)(12.5)'
  id: totrans-319
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_7.jpg)(12.5)'
- en: From the definition, it follows that *W* [*n*] = *S* [*n*] , since the number
    of shares that remain to be purchased at the beginning of the last child order
    is equal to the number of shares purchased in the last child order (under the
    previously mentioned assumption that the purchase of all the *S* shares are completed
    through the *n* child orders).
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 从定义可以得出，*W* [*n*] = *S* [*n*]，因为在最后一个子订单开始时剩余要购买的股票数等于在最后一个子订单中购买的股票数（根据前面提到的假设，即通过*n*个子订单完成所有*S*股份的购买）。
- en: The price dynamics needs to be modelled. The price *P* *k* is considered to
    be a random variable which depends on the previous price *P* *k*−1, the size of
    the *k*-th child order *S* *k* (this captures the market impact of the *k*-th
    child order), a random noise *ε* *k* and a state vector **X** *k* . The state
    vector **X** *k* captures multiple extraneous factors which may influence the
    price. The vector **X** *k* itself is also considered to be a function of the
    previous state vector **X** *k*−1 and a random noise *η* *k* . This situation
    is described formally as follows. For *k* = 1,…,*n*,
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: 需要对价格动态进行建模。价格 *P* *k* 被认为是一个随机变量，它依赖于前一价格 *P* *k*−1，第 *k* 个子订单的大小 *S* *k*（这捕捉了第
    *k* 个子订单的市场影响），一个随机噪声 *ε* *k* 和一个状态向量 **X** *k* 。状态向量 **X** *k* 捕捉了可能影响价格的多个外部因素。向量
    **X** *k* 本身也被认为是前一状态向量 **X** *k*−1 和一个随机噪声 *η* *k* 的函数。这种情况可以形式化描述如下。对于 *k* =
    1,…,*n*，
- en: '![display-image](../images/CH012_8.jpg)(12.6)'
  id: totrans-322
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_8.jpg)(12.6)'
- en: For *k* = 1,…,*n*, *ε* *k* and *η* *k* are independent white noise processes
    with zero mean. The price *P* 0 is taken to be some arrival price, while the state
    vector **X** 0 is taken to be some initial information. Note that the functions
    *f* *k* and *g* *k* determining the evolution of the price *P* *k* and the state
    vector **X** *k* can vary with *k*. So, these model the time varying nature of
    the price and state evolution.
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 *k* = 1,…,*n*，*ε* *k* 和 *η* *k* 是具有零均值的独立白噪声过程。价格 *P* 0 被视为某个到达价格，而状态向量 **X**
    0 被视为某些初始信息。请注意，决定价格 *P* *k* 和状态向量 **X** *k* 的演变的函数 *f* *k* 和 *g* *k* 可能会随 *k*
    变化。因此，这些函数模拟了价格和状态演变的时变性质。
- en: The problem formulated in [(12.3)](#eq3) subject to the constraint [(12.4)](#eq4),
    under the price dynamics given by [(12.6)](#eq6), can be solved using techniques
    of stochastic dynamic programming. The basic observation is that an optimal solution
    ![inline-image](../images/CH012_9.jpg) must also be optimal for the remaining
    trading for each intermediate point *k*. In other words, if ![inline-image](../images/CH012_10.jpg)
    is an optimal trading strategy for the entire trade over *n* time periods, then
    for each *k* with 1 < *k* < *n*, ![inline-image](../images/CH012_11.jpg) must
    still be optimal, i.e. ![inline-image](../images/CH012_12.jpg) must minimise ![inline-image](../images/CH012_13.jpg).
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: 在 [(12.3)](#eq3) 给定的约束条件下，根据 [(12.4)](#eq4) 的约束，以 [(12.6)](#eq6) 给定的价格动态，可以使用随机动态规划技术来解决问题。基本观察是，一个最优解
    ![inline-image](../images/CH012_9.jpg) 对于每个中间点 *k* 的剩余交易也必须是最优的。换句话说，如果 ![inline-image](../images/CH012_10.jpg)
    是在 *n* 个时间段内整个交易的最佳交易策略，则对于每个满足 1 < *k* < *n* 的 *k*， ![inline-image](../images/CH012_11.jpg)
    仍然必须是最优的，即 ![inline-image](../images/CH012_12.jpg) 必须最小化 ![inline-image](../images/CH012_13.jpg)。
- en: The dynamic programming formulation is based on this observation. The Bellman
    equation is obtained as follows. For *k* = 1,…,*n* − 1, let
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: 动态规划的形式化基于这一观察。贝尔曼方程如下所示。对于 *k* = 1,…,*n* − 1，设
- en: '![display-image](../images/CH012_14.jpg)(12.7)'
  id: totrans-326
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_14.jpg)(12.7)'
- en: and ![inline-image](../images/CH012_15.jpg).
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 和 ![inline-image](../images/CH012_15.jpg)。
- en: Recall that from the definition of *W* [*k*] , we have ![inline-image](../images/CH012_16.jpg).
    Consider the Bellman equation for *n* − 1, i.e.
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: 回顾一下从定义 *W* [*k*]，我们有 ![inline-image](../images/CH012_16.jpg)。考虑第 *n* − 1 个贝尔曼方程，即
- en: '![display-image](../images/CH012_17.jpg)(12.8)'
  id: totrans-329
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_17.jpg)(12.8)'
- en: The optimal value ![inline-image](../images/CH012_18.jpg) which minimises [(12.8)](#eq8)
    is a function *h* *n*−1 of *P* *n*−2, **X** *n*−1 and *W* *n*−1\. So,
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 最小化[(12.8)](#eq8)的最优值 ![inline-image](../images/CH012_18.jpg) 是 *P* *n*−2, **X**
    *n*−1 和 *W* *n*−1 的函数 *h* *n*−1。因此，
- en: '![display-image](../images/CH012_19.jpg)(12.9)'
  id: totrans-331
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_19.jpg)(12.9)'
- en: Proceeding in the backward direction,
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 从反向方向进行，
- en: '![display-image](../images/CH012_20.jpg)(12.10)'
  id: totrans-333
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_20.jpg)(12.10)'
- en: So, the optimal value ![inline-image](../images/CH012_21.jpg) is a function
    of *P* *n*−*k*−1, **X** *n*−*k* and *W* *n*−*k* , i.e.
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，最优值 ![inline-image](../images/CH012_21.jpg) 是 *P* *n*−*k*−1, **X** *n*−*k*
    和 *W* *n*−*k* 的函数，即
- en: '![display-image](../images/CH012_22.jpg)(12.11)'
  id: totrans-335
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_22.jpg)(12.11)'
- en: Putting *k* = *n* − 1, we have
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: 将 *k* = *n* − 1，我们有
- en: '![display-image](../images/CH012_23.jpg)(12.12)'
  id: totrans-337
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_23.jpg)(12.12)'
- en: Note that *W* 1 = *S*. Using this, one can work in the forward direction to
    obtain the expressions for the optimal values.
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 注意 *W* 1 = *S*。利用这一点，可以向前工作以获得最优值的表达式。
- en: '![display-image](../images/CH012_24.jpg)'
  id: totrans-339
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_24.jpg)'
- en: While the approach is theoretically sound, the problem arises in solving [(12.10)](#eq10)
    to obtain the solution ![inline-image](../images/CH012_25.jpg). In general, *V*
    *n*−*k* (·) may not have a closed form expression and even if it does, there may
    not be analytical methods to solve it for ![inline-image](../images/CH012_26.jpg).
    Instead, numerical approaches are adopted to obtain the optimal values.
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然这种方法在理论上是合理的，但问题出在解[(12.10)](#eq10)以获得解 ![inline-image](../images/CH012_25.jpg)上。一般来说，*V*
    *n*−*k* (·) 可能没有一个封闭的表达式，即使有，也可能没有解析方法来解决它对于 ![inline-image](../images/CH012_26.jpg)。因此，采用数值方法来获得最优值。
- en: 'A special case which is of interest is when the price dynamics follow a particularly
    simple model. The functions *f* 1,…,*f* [*n*] are all taken to be the same and
    further, this common function is of the following form:'
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 一个特别感兴趣的特殊情况是当价格动态遵循一个特别简单的模型时。函数 *f* 1,…,*f* [*n*] 都取相同的值，并且进一步，这个公共函数具有以下形式：
- en: '![display-image](../images/CH012_27.jpg)'
  id: totrans-342
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_27.jpg)'
- en: for some *θ* > 0\. In other words, the price *P* *k* depends linearly on the
    previous price and the size of the *k*-th child order. The parameter *θ* captures
    the market impact of the order. For this simple price model, following the general
    argument outlined above, it can be shown that the optimal solution is ![inline-image](../images/CH012_28.jpg),
    i.e. the optimal strategy is to purchase equal number of shares in each time period.
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: 对于某些 *θ* > 0。换句话说，价格 *P* *k* 线性依赖于先前价格和第 *k* 个子订单的大小。参数 *θ* 捕获订单的市场影响。对于这个简单的价格模型，根据上述概述的一般论点，可以显示最优解是
    ![inline-image](../images/CH012_28.jpg)，即最优策略是在每个时间段购买相等数量的股票。
- en: 12.6 Implementation Shortfall
  id: totrans-344
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.6 实现不足
- en: Suppose a total of *S* shares are to be traded. The trading plan results in
    the execution of *n* child orders with the *k*-th order consisting of *S* *k*
    shares. In general, ![inline-image](../images/CH012_29.jpg). If ![inline-image](../images/CH012_30.jpg),
    then all the *S* shares were traded, while if ![inline-image](../images/CH012_31.jpg),
    then ![inline-image](../images/CH012_32.jpg) shares could not be traded.
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: 假设共有 *S* 股要进行交易。交易计划导致执行 *n* 个子订单，其中第 *k* 个订单由 *S* *k* 股组成。一般来说，![inline-image](../images/CH012_29.jpg)。如果![inline-image](../images/CH012_30.jpg)，那么所有
    *S* 股都已交易，而如果![inline-image](../images/CH012_31.jpg)，则![inline-image](../images/CH012_32.jpg)
    股无法交易。
- en: Suppose, the arrival price of a share is *p* 0, i.e. this is the price when
    the trading plan is put into execution. The child order *S* *k* is traded at price
    *p* [*k*] , for *k* = 1,…,*n*. Note that the first child order was traded at price
    *p* 1 which could be different from the arrival price *p* 0\. The final price
    that was obtained for the last child order is *p* [*n*] .
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: 假设，股票的到达价格是 *p* 0，即这是交易计划执行时的价格。子订单 *S* *k* 以价格 *p* [*k*] 进行交易，其中 *k* = 1,…,*n*。请注意，第一个子订单以价格
    *p* 1 进行交易，这可能与到达价格 *p* 0 不同。最后一个子订单所获得的最终价格是 *p* [*n*]。
- en: The execution of the trading strategy has a cost. Implementation shortfall (IS)
    is an attempt to capture the cost of executing a trading strategy. In its basic
    form, IS is the difference between the paper return and the actual return, i.e.
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: 执行交易策略会产生成本。实现不足（IS）试图捕捉执行交易策略的成本。在其基本形式中，IS 是纸面收益和实际收益之间的差异，即
- en: '![display-image](../images/CH012_33.jpg)(12.13)'
  id: totrans-348
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_33.jpg)(12.13)'
- en: The paper return is the difference in value of the entire lot of *S* shares
    between the arrival price *p* 0 and the final price *p* [*n*] , i.e.
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: 纸面收益是 *S* 股整个批次在到达价格 *p* 0 和最终价格 *p* [*n*] 之间价值的差异，即
- en: '![display-image](../images/CH012_34.jpg)(12.14)'
  id: totrans-350
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_34.jpg)(12.14)'
- en: 'The actual return is based on the amount of shares that is actually traded
    which is ![inline-image](../images/CH012_35.jpg). At the final price, the value
    of *S′* shares is *S′p* [*n*] . The price that is actually paid is ![inline-image](../images/CH012_36.jpg).
    Also, there is a cost *C* which covers the various fees that is incurred for the
    trades. The actual return is computed as follows:'
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: 实际回报基于实际交易的股份数量，即![inline-image](../images/CH012_35.jpg)。以最终价格，*S′*股份的价值为*S′p*
    [*n*]。实际支付的价格为![inline-image](../images/CH012_36.jpg)。此外，还有一个费用*C*，用于 covering
    进行交易所产生的各种费用。实际回报计算如下：
- en: '![display-image](../images/CH012_37.jpg)(12.15)'
  id: totrans-352
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_37.jpg)(12.15)'
- en: Using [(12.14)](#eq14) and [(12.15)](#eq15) in [(12.13)](#eq13) we have
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: 使用[(12.14)](#eq14)和[(12.15)](#eq15)在[(12.13)](#eq13)中，我们有
- en: '![display-image](../images/CH012_38.jpg)(12.16)'
  id: totrans-354
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_38.jpg)(12.16)'
- en: The first component of [(12.16)](#eq16) is the execution cost of the *S′* shares
    that is actually traded, while the second component of [(12.16)](#eq16) is the
    opportunity cost of the *S* − *S′* shares for which the trade could not be completed.
    If all the *S* shares could be traded, then *S′* = *S* in which case the opportunity
    cost is 0 and the implementation shortfall consists only of the execution cost
    and the fees.
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: '[(12.16)](#eq16)的第一个组成部分是实际交易的*S′*股份的执行成本，而[(12.16)](#eq16)的第二个组成部分是交易未能完成的*S*
    − *S′*股份的机会成本。如果所有*S*股份都能交易，那么*S′* = *S*，在这种情况下，机会成本为0，实现差额仅由执行成本和费用组成。'
- en: 12.7 Almgren–Chriss Efficient Trading Frontier
  id: totrans-356
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.7 Almgren–Chriss 高效交易前沿
- en: The goal of designing a trading strategy is to ensure some kind of optimality.
    The Bertsimas-Lo dynamic programming strategy minimises the expected cost of trading.
    Another approach to designing trading strategies is to work with the implementation
    shortfall. Since the price is a random variable, the implementation shortfall
    is also a random variable. The Almgren–Chriss approach considers the expectation
    and the variance of the implementation shortfall. The approach is to fix a level
    of variance for the implementation shortfall and among all strategies which achieve
    this variance, obtain one which minimises the expected value of the implementation
    shortfall. Since the variance measures the risk of the trading strategy, this
    approach can be seen as a risk-averse trading strategy.
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: 设计交易策略的目标是确保某种最优性。Bertsimas-Lo 动态规划策略将交易的预期成本最小化。设计交易策略的另一种方法是使用实现差额。由于价格是随机变量，实现差额也是随机变量。Almgren–Chriss
    方法考虑实现差额的期望和方差。该方法是为实现差额的方差设定一个水平，并在所有实现该方差的策略中，获得一个最小化实现差额预期值的策略。由于方差衡量交易策略的风险，该方法可以被视为一种风险规避的交易策略。
- en: We provide a description of the Almgren–Chriss method in the context where *S*
    units of a security are to be sold within time *T*. The time *T* is divided into
    *n* equal sized time intervals where the length of each interval is *τ* = *T*/*n*.
    Let *t* *k* = *kτ*, *k* = 0,…,*n* be discrete time points. For *k* = 1,…,*n*,
    the *k*-th interval is marked by the beginning time point *t* *k*−1 and the ending
    time point *t* *k* . The number of units sold in *k*-th interval is *S* *k* .
    We assume that ![inline-image](../images/CH012_39.jpg), i.e. the entire holding
    of *S* units of security is completely liquidated within time *T*.
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在*S*单位证券在时间*T*内出售的情况下提供Almgren–Chriss方法的描述。时间*T*被分为*n*个相等大小的时间间隔，每个间隔的长度为*τ*
    = *T*/*n*。让*t* *k* = *kτ*，*k* = 0,…,*n*为离散时间点。对于*k* = 1,…,*n*，第*k*个间隔以开始时间点*t*
    *k*−1和结束时间点*t* *k*标记。第*k*个间隔中出售的单位数为*S* *k*。我们假设![inline-image](../images/CH012_39.jpg)，即*S*单位的全部持有在时间*T*内完全清算。
- en: For *k* = 0,…,*n*, let *X* *k* be the number of units which remain to be sold
    at time point *t* *k* . So, *X* 0 = *S* and *X* [*n*] = 0\. Since the number of
    units sold in the *k*-th time period is *S* [*k*] , we have *S* *k* = *X* *k*−1
    − *X* *k* . Consequently, for *k* = 0,…,*n*,
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: 对于*k* = 0,…,*n*，让*X* *k*表示时间点*t* *k*时剩余待出售单位数。因此，*X* 0 = *S*，而*X* [*n*] = 0。由于第*k*个时间段销售的单位数是*S*
    [*k*]，我们有*S* *k* = *X* *k*−1 − *X* *k*。因此，对于*k* = 0,…,*n*，
- en: '![display-image](../images/CH012_40.jpg)(12.17)'
  id: totrans-360
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_40.jpg)(12.17)'
- en: 'To obtain the implementation shortfall, it is required to model the price dynamics.
    The price of the security is determined by two broad kinds of effects, namely
    factors which are not related to the trade and factors which are related to the
    trade. The former is modelled using volatility and drift, while the latter is
    modelled using market impact. The market impact is further sub-classified into
    two types, one which is permanent across the entire trade of the *S* units and
    another which is temporary and has effect only in the *k*-th interval. A model
    of price considered by Almgren and Chriss is the following:'
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
  zh: 要计算执行不足，需要对价格动态建模。证券价格由两种广泛的影响因素决定，即与交易无关的因素和与交易相关的因素。前者使用波动率和漂移建模，而后者使用市场影响建模。市场影响进一步分为两种类型，一种是跨*S*单位整个交易期间持久存在的，另一种是暂时性的，只在第*k*个间隔中产生影响。Almgren和Chriss考虑的价格模型如下：
- en: For *k* = 0,…,*n*, let the price at the *k*-th time point be *P* *k* . Then
    for *k* = 1,…,*n*, *P* *k* is assumed to follow the discrete arithmetic random
    walk given as
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: 对于*k* = 0,…,*n*，假设*k*时刻的价格为*P* *k*。那么对于*k* = 1,…,*n*，*P* *k* 被假设遵循离散的算术随机游走，如下所示
- en: '![display-image](../images/CH012_41.jpg)(12.18)'
  id: totrans-363
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_41.jpg)(12.18)'
- en: In [(12.18)](#eq18), *τ* is the length of the time interval, *σ* is the measure
    of volatility of the security and there is no drift term. The *ξ* *k* ’s are independent
    random variables with zero mean and unit variance. The permanent market impact
    of the trading is modelled by the function *g*(*v*), where *v* = *S* *k* /*τ*
    is the average rate of trading in the *k*-th interval.
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: 在 [(12.18)](#eq18) 中，*τ* 是时间间隔的长度，*σ* 是证券波动性的度量，且没有漂移项。 *ξ* *k* 是具有零均值和单位方差的独立随机变量。
    交易的永久市场影响由函数 *g*(*v*) 建模，其中 *v* = *S* *k* /*τ* 是第 *k* 个间隔中的平均交易速率。
- en: Let
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: 让
- en: '![display-image](../images/CH012_42.jpg)'
  id: totrans-366
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_42.jpg)'
- en: From [(12.18)](#eq18), it follows that for *k* ≥ 1,
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: 从 [(12.18)](#eq18) 得出，对于 *k* ≥ 1，
- en: '![display-image](../images/CH012_43.jpg)(12.19)'
  id: totrans-368
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_43.jpg)(12.19)'
- en: The price *P* *k* given by [(12.18)](#eq18) is not obtained. The actually obtained
    price is ![inline-image](../images/CH012_44.jpg) which is obtained from *P* *k*−1
    after discounting for the temporary market impact. So,
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: 由 [(12.18)](#eq18) 给出的价格 *P* *k* 没有得到。 实际获得的价格是 ![inline-image](../images/CH012_44.jpg)，它是从
    *P* *k*−1 中折现获得的，考虑了临时市场影响。 所以，
- en: '![display-image](../images/CH012_45.jpg)(12.20)'
  id: totrans-370
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_45.jpg)(12.20)'
- en: In [(12.20)](#eq20), the temporary market impact is captured by *h*(·). The
    value of *h*(*S* *k* /*τ*) influences the price in the *k*-th interval, but does
    not affect the price in other intervals. The temporary price impact in these intervals
    is captured by evaluating *h*(·) on the average rate of trading in these intervals.
    Note that the form of the temporary impact function *h*(·) is assumed to be the
    same for all the intervals. This, however, is not a limitation and can be suitably
    relaxed.
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: 在 [(12.20)](#eq20) 中，临时市场影响由 *h*(·) 捕捉。 *h*(*S* *k* /*τ*) 的值影响第 *k* 个间隔的价格，但不影响其他间隔的价格。
    在这些间隔中的临时价格影响是通过在这些间隔中的平均交易速率上评估 *h*(·) 来捕捉的。 请注意，临时影响函数 *h*(·) 的形式被假定对所有间隔都是相同的。
    但是，这并不是一个限制，可以适当放宽。
- en: The appropriate forms of the functions *g* and *h* are determined by the model
    of the market microstructure. Given these forms, it may be necessary to use numerical
    rather than analytical methods to perform various computations.
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: 函数 *g* 和 *h* 的适当形式由市场微观结构的模型确定。 给定这些形式，可能需要使用数值而不是分析方法来执行各种计算。
- en: 'The cost of trading is ![inline-image](../images/CH012_46.jpg). Using [(12.17)](#eq17),
    [(12.18)](#eq18), [(12.19)](#eq19) and [(12.20)](#eq20), ![inline-image](../images/CH012_47.jpg)
    simplifies as follows:'
  id: totrans-373
  prefs: []
  type: TYPE_NORMAL
  zh: 交易成本为 ![inline-image](../images/CH012_46.jpg)。 使用 [(12.17)](#eq17)，[(12.18)](#eq18)，[(12.19)](#eq19)
    和 [(12.20)](#eq20)，![inline-image](../images/CH012_47.jpg) 可以简化如下：
- en: '![display-image](../images/CH012_48.jpg)'
  id: totrans-374
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_48.jpg)'
- en: Substituting the expression for *δ* [*k*] , we have
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: 替换 *δ* [*k*] 的表达式，我们有
- en: '![display-image](../images/CH012_49.jpg)(12.21)'
  id: totrans-376
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_49.jpg)(12.21)'
- en: The effective cost of trading considered by Almgren and Chriss is the difference
    between the initial paper value and the actual return, i.e.
  id: totrans-377
  prefs: []
  type: TYPE_NORMAL
  zh: Almgren和Chriss考虑的交易有效成本是初始纸面价值和实际回报之间的差异，即
- en: '![display-image](../images/CH012_50.jpg)(12.22)'
  id: totrans-378
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_50.jpg)(12.22)'
- en: '![display-image](../images/CH012_51.jpg)(12.23)'
  id: totrans-379
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_51.jpg)(12.23)'
- en: The expression given by [(12.22)](#eq22) is related to the implementation shortfall
    given by [(12.16)](#eq16) where the fees are ignored and there is no opportunity
    cost since the entire holding is liquidated. Under these conditions, the expression
    given by [(12.23)](#eq23) is the implementation shortfall given by [(12.16)](#eq16).
    Formally, the expression given by [(12.22)](#eq22) is the negative of the expression
    given by [(12.16)](#eq16), but that is due to the difference in the nature of
    trading, i.e. the buying and selling of shares. The value of IS is determined
    by the trading strategy **X** = (*X* 0,…,*X* [*n*] ) (or equivalently (*S* 1,…,*S*
    [*n*] )). We write IS(**X**) to denote this dependence.
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: '[(12.22)](#eq22)给出的表达式与[(12.16)](#eq16)给出的实施损失有关，在这里忽略了费用，也没有机会成本，因为整个持有都被清算了。在这些条件下，[(12.23)](#eq23)给出的表达式就是[(12.16)](#eq16)给出的实施损失。形式上，[(12.22)](#eq22)给出的表达式是[(12.16)](#eq16)给出的表达式的负值，但这是由于交易性质的差异，即买卖股份。IS的价值由交易策略**X**=(*X*
    0,…,*X* [*n*] )（或等价地 (*S* 1,…,*S* [*n*] )）决定。我们写成IS(**X**)来表示这种依赖性。'
- en: The source of randomness in [(12.23)](#eq23) is the *ξ* *k* 's which are independent
    with mean 0 and unit variance. All the other quantities are non-random. Based
    on these observations, and using linearity of expectation and the fact that the
    variance of a sum of independent variables is the sum of their variances, we obtain
  id: totrans-381
  prefs: []
  type: TYPE_NORMAL
  zh: '[(12.23)](#eq23)中的随机性源于*ξ* *k*，它们与均值为0和单位方差的独立。所有其他数量都是非随机的。根据这些观察结果，并利用期望的线性性质以及独立变量和的方差是它们方差的和的事实，我们得到'
- en: '![display-image](../images/CH012_52.jpg)(12.24)'
  id: totrans-382
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_52.jpg)(12.24)'
- en: '![display-image](../images/CH012_53.jpg)(12.25)'
  id: totrans-383
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_53.jpg)(12.25)'
- en: A risk-averse trader will try to ensure that the variance *V*(IS(**X**)) remains
    below a certain upper bound *V* *. Once *V* * is fixed, there could be various
    strategies which achieve this level of risk aversion. Among such strategies, a
    rational trader will choose one which minimises *E*(IS(**X**)). These considerations
    give rise to the following constrained optimisation problem.
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: 风险厌恶的交易者将努力确保方差*V*(IS(**X**))保持在某个上限*V* *以下。一旦*V* *确定，可能会有各种实现这种风险厌恶水平的策略。在这些策略中，理性的交易者将选择一个最小化*E*(IS(**X**))的策略。这些考虑导致了以下受限最优化问题。
- en: Find an efficient trading strategy (*S* 1,…,*S* [*n*] ) such that *E*(IS(**X**))
    is minimised subject to IS(**X**) ≤ *V* *, i.e.
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: 找到一种高效的交易策略 (*S* 1,…,*S* [*n*] )，使得*E*(IS(**X**))最小化，同时满足IS(**X**) ≤ *V*，即
- en: '![display-image](../images/CH012_54.jpg)(12.26)'
  id: totrans-386
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_54.jpg)(12.26)'
- en: 'By introducing a Lagrange multiplier *λ*, the constrained optimisation problem
    in [(12.26)](#eq26) is converted into the following unconstrained optimisation
    problem:'
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
  zh: 通过引入拉格朗日乘子*λ*，[(12.26)](#eq26)中的约束优化问题转化为以下无约束优化问题：
- en: '![display-image](../images/CH012_55.jpg)(12.27)'
  id: totrans-388
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_55.jpg)(12.27)'
- en: The parameter *λ* is a measure of risk aversion. It quantifies the amount by
    which the variance is penalised with respect to the expectation. If *λ* > 0, then
    *E* + *λV* is strictly convex and [(12.27)](#eq27) has a unique solution **S**
    ^*(*λ*). So, for each risk-averse value *λ*, it is possible to determine an optimal
    solution. As *λ* varies, **S** ^*(*λ*) determines a one-parameter family, thus
    determining the efficient trading frontier.
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: 参数*λ*是风险厌恶的度量。它量化了方差相对期望的惩罚量。如果*λ* > 0，那么*E* + *λV*是严格凸的，且[(12.27)](#eq27)有唯一解**S**
    ^*(*λ*)。因此，对于每个风险厌恶的值*λ*，都可以确定一个最优解。随着*λ*的变化，**S** ^*(*λ*)确定了一个单参数族，从而确定了有效的交易边界。
- en: 12.7.1 Linear Impact Functions
  id: totrans-390
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 12.7.1 线性冲击函数
- en: 'Suppose that both the permanent and the temporary market impact functions *g*(·)
    and *h*(·), respectively, are modelled as linear functions. The function *g*(*v*)
    is taken to be the following:'
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: 假设永久市场冲击函数*g*(·)和临时市场冲击函数*h*(·)都被建模为线性函数。函数*g*(*v*)取如下形式：
- en: '![display-image](../images/CH012_56.jpg)(12.28)'
  id: totrans-392
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_56.jpg)(12.28)'
- en: The parameter *γ* captures the market impact of the whole trade.
  id: totrans-393
  prefs: []
  type: TYPE_NORMAL
  zh: 参数*γ*捕获整个交易的市场冲击。
- en: 'For the *k*-th interval, *S* *k* units are traded. We have considered the problem
    of liquidation of security. More generally, the trade in the *k*-th interval could
    be either buy or sell. Let sgn(*S* *k* ) be sign of the *S* *k* . Then the linear
    model of the temporary impact function is the following:'
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
  zh: 对于第*k*个间隔，交易了*S* *k*单位。我们已经考虑了证券清算的问题。更一般地，第*k*个间隔的交易可以是买入或卖出。令sgn(*S* *k* )为*S*
    *k*的符号。然后临时冲击函数的线性模型如下：
- en: '![display-image](../images/CH012_57.jpg)(12.29)'
  id: totrans-395
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_57.jpg)(12.29)'
- en: The parameter ε represents fixed cost and the parameter *η* captures the temporary
    market impact. (Note that *η* in [(12.29)](#eq29) is not related to the *η* *k*
    used in [(12.6)](#eq6).)
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
  zh: 参数ε代表固定成本，参数*η*捕获临时市场冲击。（注意[(12.29)](#eq29)中的*η*与[(12.6)](#eq6)中使用的*η* *k*无关。）
- en: 'We apply [(12.28)](#eq28) and [(12.29)](#eq29) to the expression for *E*(IS(**X**))
    given by [(12.24)](#eq24). Note that ![inline-image](../images/CH012_58.jpg),
    ![inline-image](../images/CH012_59.jpg), and using *X* *k* = *S* *k*+1 + ⋯ + *S*
    [*n*] , we have ![inline-image](../images/CH012_60.jpg). Using these, [(12.24)](#eq24)
    simplifies to the following:'
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将[(12.28)](#eq28)和[(12.29)](#eq29)应用于由[(12.24)](#eq24)给出的*E*(IS(**X**))的表达式。注意到![inline-image](../images/CH012_58.jpg)、![inline-image](../images/CH012_59.jpg)，以及使用*X*
    *k* = *S* *k*+1 + ⋯ + *S* [*n*]，我们有![inline-image](../images/CH012_60.jpg)。利用这些，[(12.24)](#eq24)简化为以下形式：
- en: '![display-image](../images/CH012_61.jpg)(12.30)'
  id: totrans-398
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_61.jpg)(12.30)'
- en: where
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
  zh: 其中
- en: '![display-image](../images/CH012_62.jpg)(12.31)'
  id: totrans-400
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_62.jpg)(12.31)'
- en: 'Consider the two simple trading strategies, namely to sell at a constant rate
    and to sell the entire stock at the first time step itself. The expectations and
    the variances in the two cases are as follows:'
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑两种简单的交易策略，即以恒定速率卖出和在第一个时间步骤即全部卖出股票。这两种情况下的期望值和方差如下：
- en: '*Liquidate at a constant rate:* In this case, *S* *k* = *S*/*n* and so *X*
    *k* = (*n* − *k*)*S*/*n*. These values yield'
  id: totrans-402
  prefs: []
  type: TYPE_NORMAL
  zh: '*以恒定速率清算：* 在这种情况下，*S* *k* = *S*/*n*，因此 *X* *k* = (*n* − *k*)*S*/*n*。这些值产生'
- en: '![display-image](../images/CH012_63.jpg)'
  id: totrans-403
  prefs: []
  type: TYPE_IMG
  zh: '![显示图片](../images/CH012_63.jpg)'
- en: '![display-image](../images/CH012_64.jpg)'
  id: totrans-404
  prefs: []
  type: TYPE_IMG
  zh: '![显示图片](../images/CH012_64.jpg)'
- en: This trading strategy minimises the expected costs, but the variance could be
    large if the period *T* is large.
  id: totrans-405
  prefs: []
  type: TYPE_NORMAL
  zh: 这种交易策略能最小化预期成本，但如果期间 *T* 很大，方差可能很大。
- en: '*Liquidate at the first step:* In this case, *S* 1 = *S*, *S* 2 = ⋯ = *S* [*n*]
    = 0 and so *X* 1 = ⋯ = *X* [*n*] = 0\. These values yield'
  id: totrans-406
  prefs: []
  type: TYPE_NORMAL
  zh: '*在第一步清算：* 在这种情况下，*S* 1 = *S*，*S* 2 = ⋯ = *S* [*n*] = 0，因此 *X* 1 = ⋯ = *X* [*n*]
    = 0\. 这些值产生'
- en: '![display-image](../images/CH012_65.jpg)'
  id: totrans-407
  prefs: []
  type: TYPE_IMG
  zh: '![显示图片](../images/CH012_65.jpg)'
- en: This trading strategy has the minimum variance. On the other hand, if *η* is
    large and *τ* is small, then the expected costs can be large.
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
  zh: 这种交易策略具有最小的方差。另一方面，如果*η*较大且*τ*较小，则预期成本可能很高。
- en: We go back to the optimisation problem posed in [(12.27)](#eq27) for the linear
    market impact model. The expression for *E* in [(12.27)](#eq27) is taken to be
    the one given by [(12.30)](#eq30) and the expression for *V* in [(12.27)](#eq27)
    is taken to be the one given by [(12.25)](#eq25). We consider the problem of liquidation
    so that |*S* *k* | = *S* *k* in [(12.30)](#eq30) and the second term of [(12.30)](#eq30)
    becomes ![inline-image](../images/CH012_66.jpg). Recall that *X* 0 = *S* and *X*
    [*n*] = 0\. So, the minimisation over **X** = (*X* 0,…,*X* [*n*] ) is actually
    over the control variables *X* 1,…,*X* *n*−1\. Let
  id: totrans-409
  prefs: []
  type: TYPE_NORMAL
  zh: 我们回到线性市场影响模型中提出的优化问题 [(12.27)](#eq27)。在 [(12.27)](#eq27) 中，*E* 的表达式取自 [(12.30)](#eq30)，*V*
    的表达式取自 [(12.25)](#eq25)。我们考虑清算问题，使得在 [(12.30)](#eq30) 中 |*S* *k* | = *S* *k*，并且
    [(12.30)](#eq30) 的第二项变为 ![内联图片](../images/CH012_66.jpg)。回想一下 *X* 0 = *S* 和 *X*
    [*n*] = 0\. 因此，对于 **X** = (*X* 0,…,*X* [*n*] ) 的最小化实际上是对控制变量 *X* 1,…,*X* *n*−1
    的最小化。设
- en: '![display-image](../images/CH012_67.jpg)(12.32)'
  id: totrans-410
  prefs: []
  type: TYPE_IMG
  zh: '![显示图片](../images/CH012_67.jpg)(12.32)'
- en: For *λ* ≥ 0, *U*(**X**) is strictly convex. So, it is possible to determine
    the unique global minimum by setting the partial derivatives to zero. For computing
    the partial derivatives, note that *S* is a constant, so that the partial derivatives
    of the first and second terms of [(12.30)](#eq30) are 0\. Among the variables
    *S* 1,…,*S* [*n*] , only *S* *k* and *S* *k*+1 depend on *X* *k* while the others
    do not. Further, *S* *k* = *X* *k*−1 − *X* *k* and *S* *k*+1 = *X* *k* − *X* *k*+1\.
    Using these expressions, we have for *k* = 1,…,*n* − 1,
  id: totrans-411
  prefs: []
  type: TYPE_NORMAL
  zh: 对于*λ* ≥ 0，*U*(**X**) 是严格凸的。因此，通过将偏导数设为零，可以确定唯一的全局最小值。计算偏导数时，请注意*S*是一个常数，因此[(12.30)](#eq30)的第一项和第二项的偏导数为0。在计算偏导数时，注意到*S*是一个常数，因此[(12.30)](#eq30)的第一项和第二项的偏导数为0。在变量*S*1,…,*S*[*n*]中，只有*S*
    *k*和*S* *k*+1取决于*X* *k*，而其他变量不取决于*X* *k*。进一步地，*S* *k* = *X* *k*−1 − *X* *k*和*S*
    *k*+1 = *X* *k* − *X* *k*+1。利用这些表达式，我们有对于*k* = 1,…,*n* − 1，
- en: '![display-image](../images/CH012_68.jpg)'
  id: totrans-412
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_68.jpg)'
- en: The condition ∂*U*/∂*X* *k* = 0 provides
  id: totrans-413
  prefs: []
  type: TYPE_NORMAL
  zh: 条件∂*U*/∂*X* *k* = 0提供
- en: '![display-image](../images/CH012_69.jpg)(12.33)'
  id: totrans-414
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_69.jpg)(12.33)'
- en: where
  id: totrans-415
  prefs: []
  type: TYPE_NORMAL
  zh: 其中
- en: '![display-image](../images/CH012_70.jpg)(12.34)'
  id: totrans-416
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_70.jpg)(12.34)'
- en: 'The specific solution with *X* 0 = *S* and *X* [*n*] = 0 gives the value of
    *X* *k* for *k* = 0,…,*n* to be the following:'
  id: totrans-417
  prefs: []
  type: TYPE_NORMAL
  zh: 具有*X* 0 = *S*和*X*[*n*] = 0的特定解给出了*X* *k*的值，对于*k* = 0,…,*n*，如下：
- en: '![display-image](../images/CH012_71.jpg)(12.35)'
  id: totrans-418
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_71.jpg)(12.35)'
- en: where *κ* satisfies the relation ![inline-image](../images/CH012_72.jpg).
  id: totrans-419
  prefs: []
  type: TYPE_NORMAL
  zh: 其中*κ*满足关系![inline-image](../images/CH012_72.jpg)。
- en: 'From the values of *X* *k* given in [(12.35)](#eq35), it is possible to determine
    the values of *S* *k* for *k* = 1,…,*n* as follows:'
  id: totrans-420
  prefs: []
  type: TYPE_NORMAL
  zh: 从[(12.35)](#eq35)中给定的*X* *k*的值，可以如下确定*k* = 1,…,*n*的*S* *k*的值：
- en: '![display-image](../images/CH012_73.jpg)(12.36)'
  id: totrans-421
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH012_73.jpg)(12.36)'
- en: where *t* *k*−1/2 = (*k* − 1/2)*τ*.
  id: totrans-422
  prefs: []
  type: TYPE_NORMAL
  zh: 其中*t* *k*−1/2 = (*k* − 1/2)*τ*。
- en: Note that the parameter *κ* is determined by the risk aversion parameter *λ*.
    So, considering linear market impact models, for a fixed value of risk aversion,
    the trading strategy which minimises the expected implementation shortfall can
    be determined and is given by [(12.35)](#eq35). The actual number of units to
    be traded in the *k*-th interval is given by [(12.36)](#eq36).
  id: totrans-423
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，参数*κ*是由风险厌恶参数*λ*确定的。因此，考虑到线性市场冲击模型，对于固定的风险厌恶值，可以确定最小化预期实施差额的交易策略，并由[(12.35)](#eq35)给出。在*k*间隔中要交易的实际单位数由[(12.36)](#eq36)给出。
- en: '**Note**'
  id: totrans-424
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**'
- en: The description in [Section 12.5](#s5) is from Bertsimas and Lo (1998) and the
    description in [Section 12.7](#s7) is from Almgren and Chriss (2000). We refer
    to Kissell (2013) for a more detailed exposition of some of the concepts described
    in this chapter.
  id: totrans-425
  prefs: []
  type: TYPE_NORMAL
  zh: '[第12.5节](#s5)中的描述来自Bertsimas和Lo（1998），[第12.7节](#s7)中的描述来自Almgren和Chriss（2000）。我们参考Kissell（2013）以获取本章描述的一些概念的更详细阐述。'
- en: Chapter 13
  id: totrans-426
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第13章
- en: Portfolio Optimisation
  id: totrans-427
  prefs: []
  type: TYPE_NORMAL
  zh: 投资组合优化
- en: The term portfolio refers to a collection of financial assets such as stocks,
    bonds and options. An entity may spread its investment across the various assets
    in the portfolio. Each asset in the portfolio can potentially earn a return, and
    there is also the potential risk of running a loss. The returns of all the assets
    in a portfolio determine the overall return of the portfolio as also the risks
    of the individual assets determine the overall risk of the portfolio. So, a portfolio
    can potentially earn a return and also has an associated risk of making a loss.
  id: totrans-428
  prefs: []
  type: TYPE_NORMAL
  zh: 投资组合这个术语指的是一系列金融资产，如股票、债券和期权。一个实体可以将其投资分散到投资组合中的各种资产中。投资组合中的每个资产都可能获得收益，也有可能出现亏损的风险。投资组合中所有资产的收益确定了投资组合的整体收益，资产的各个风险也确定了投资组合的整体风险。因此，投资组合有可能获得收益，同时也有亏损的风险。
- en: Diversification of risk is a basic motivation for constructing a portfolio.
    By spreading an investment across a number of financial assets, an entity tries
    to ensure that a loss in any one asset can be offset by profit from some other
    asset. Broadly speaking, the goal of portfolio optimisation is essentially to
    maximise the expected return and minimise the risk. Simultaneously achieving both
    can be difficult.
  id: totrans-429
  prefs: []
  type: TYPE_NORMAL
  zh: 风险分散是构建投资组合的基本动机。通过将投资分散到多种金融资产上，实体试图确保任何一种资产的损失都可以通过其他一些资产的利润来抵消。广义上讲，投资组合优化的目标主要是最大化预期收益并最小化风险。同时实现这两者可能会很困难。
- en: A portfolio can consist of various kinds of assets which may be grouped into
    asset sub-classes. Two asset sub-classes will have fundamentally different financial
    characteristics and also different systemic or undiversifiable risks. For example,
    equities/shares and fixed income securities like bonds will belong to separate
    asset sub-classes. The entity which sets up the portfolio will have to decide
    upon two things. First, the proportion of investment to be made in the various
    asset sub-classes and second, the proportion of investment to be made among the
    assets in a particular sub-class. These proportions are usually called weights.
    Given the assets to be included in the portfolio, the weights assigned to the
    assets determine the return on the portfolio as well as the overall risk of the
    portfolio.
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
  zh: 投资组合可以包含各种类型的资产，这些资产可以分为资产子类。两种资产子类将具有根本上不同的金融特性，以及不同的系统性或不可分散风险。例如，股票和固定收益证券（如债券）将属于不同的资产子类。建立投资组合的实体将不得不决定两件事情。首先，要投资于各种资产子类的比例，其次，要在特定子类中的资产之间投资的比例。这些比例通常称为权重。给定要包含在投资组合中的资产，分配给资产的权重确定了投资组合的收益以及投资组合的整体风险。
- en: The portfolio weights are determined at one point of time. They may, however,
    be changed from time to time. Such a change will usually entail buying or selling
    of the assets in the portfolio. This involves transaction costs. The duration
    of time during which the weights remain same is called a period. The portfolio
    optimisation problem can be considered both for single-period optimisation and
    multi-period optimisation.
  id: totrans-431
  prefs: []
  type: TYPE_NORMAL
  zh: 投资组合权重是在某一时间点确定的。然而，它们可能会不时地更改。这样的变化通常涉及购买或出售投资组合中的资产。这涉及交易成本。权重保持不变的时间段称为一个期间。投资组合优化问题可以同时考虑单期优化和多期优化。
- en: Even before the optimisation problem, one has to consider the assets to be included
    in the portfolio. Theoretically speaking, one may start out by considering all
    available assets in the market and then assign zero weights to some of these.
    From a practical point of view, an investor will usually choose the relevant assets
    based on a lot of factors not all of which can be mathematically modelled.
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
  zh: 在优化问题之前，人们必须考虑要包含在投资组合中的资产。从理论上讲，一个人可以从考虑市场上所有可用的资产开始，然后对其中一些资产分配零权重。从实际的角度来看，投资者通常会根据许多因素选择相关资产，其中并非所有因素都可以进行数学建模。
- en: In this chapter, we will consider two kinds of optimisation problems. The first
    problem is the single-period optimisation problem for equities. The task is to
    determine the weights so as to satisfy some rational goals. The second problem
    is that of multi-period optimisation problem for equities. We will not consider
    how an investor chooses the assets to be included in a portfolio or the problem
    of determining the proportion of investment in various asset sub-classes.
  id: totrans-433
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将考虑两种类型的优化问题。第一个问题是股票的单期优化问题。任务是确定权重，以满足一些合理的目标。第二个问题是股票的多期优化问题。我们不会考虑投资者如何选择要包含在投资组合中的资产，或者确定在各种资产子类中投资的比例的问题。
- en: 13.1 Markowitz Portfolio Optimisation
  id: totrans-434
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 13.1 马科维茨投资组合优化
- en: Suppose there are *n* assets *A* 1,…,*A* [*n*] in the portfolio. The rate of
    return on asset *A* [*i*] is a random variable *R* [*i*] . If an amount *X* [*i*]
    is invested in *A* [*i*] , then the amount *Y* [*i*] that is obtained is given
    as *Y* [*i*] = *X* [*i*] (1 + *R* [*i*] ). The mean and standard deviation of
    *R* [*i*] will be denoted by ![inline-image](../images/CH013_1.jpg) and ![inline-image](../images/CH013_2.jpg),
    respectively. Here ![inline-image](../images/CH013_3.jpg) is the expected rate
    of return on *A* [*i*] and ![inline-image](../images/CH013_4.jpg) represents the
    risk of investing in *A* [*i*] . For the present we assume that ![inline-image](../images/CH013_5.jpg)
    for all *i* = 1,…,*n*. Since ![inline-image](../images/CH013_6.jpg) represents
    the risk of asset *A* [*i*] , the positivity of ![inline-image](../images/CH013_7.jpg)
    indicates that there is a positive risk of investing in any of the assets.
  id: totrans-435
  prefs: []
  type: TYPE_NORMAL
  zh: 假设投资组合中有*n*个资产*A* 1,…,*A* [*n*]。资产*A* [*i*]的回报率为随机变量*R* [*i*]。如果投资了*X* [*i*]金额在*A*
    [*i*]，那么得到的金额*Y* [*i*]为*Y* [*i*] = *X* [*i*] (1 + *R* [*i*])。*R* [*i*]的均值和标准差分别用
    ![内联图片](../images/CH013_1.jpg)和![内联图片](../images/CH013_2.jpg)表示。这里 ![内联图片](../images/CH013_3.jpg)是*A*
    [*i*]的预期回报率，而![内联图片](../images/CH013_4.jpg)表示投资*A* [*i*]的风险。暂时假设对于所有的*i* = 1,…,*n*都有![内联图片](../images/CH013_5.jpg)。由于![内联图片](../images/CH013_6.jpg)表示资产*A*
    [*i*]的风险，![内联图片](../images/CH013_7.jpg)的正值表明投资任何一种资产都存在一定的风险。
- en: Let *X* be the amount of investment which is distributed across the *n* assets
    *A* 1,…,*A* [*n*] with amount *X* [*i*] being invested in *A* [*i*] so that *X*
    = *X* 1 + ⋯ + *X* [*n*] . Let *Y* [*i*] be the return on asset *A* [*i*] . Then
    the overall rate of return *R* on the portfolio is ![inline-image](../images/CH013_8.jpg),
    where *α* [*i*] = *X* [*i*] /*X*. So, to consider the rate of return on the portfolio,
    the values of *X* 1,…,*X* [*n*] are not important. It is the proportions ![inline-image](../images/CH013_9.jpg)
    which determine the rate of return of the portfolio. These proportions represent
    the weights assigned to the various assets in the portfolio.
  id: totrans-436
  prefs: []
  type: TYPE_NORMAL
  zh: 让*X*表示分布在*n*个资产*A* 1,…,*A* [*n*]中的投资额，其中*X* [*i*]表示投资于*A* [*i*]的金额，以便*X* = *X*
    1 + ⋯ + *X* [*n*]。让*Y* [*i*]表示资产*A* [*i*]的回报。那么组合投资的总回报率*R*为 ![内联图片](../images/CH013_8.jpg)，其中*α*
    [*i*] = *X* [*i*] /*X*。因此，要考虑投资组合的回报率，*X* 1,…,*X* [*n*]的值并不重要。重要的是这些比例 ![内联图片](../images/CH013_9.jpg)
    决定了投资组合的回报率。这些比例代表了投资组合中各种资产所分配的权重。
- en: 'When the assets *A* 1,…,*A* [*n*] are fixed, a portfolio *p* is simply a vector
    ![inline-image](../images/CH013_10.jpg) such that ![inline-image](../images/CH013_11.jpg).
    We allow the ![inline-image](../images/CH013_12.jpg)''s to be negative. A negative
    value of ![inline-image](../images/CH013_13.jpg) indicates that the asset *A*
    [*i*] has been shorted in the portfolio. The rate of return *R* on the portfolio
    ![inline-image](../images/CH013_14.jpg) is ![inline-image](../images/CH013_15.jpg).
    The expected rate of return *μ* and the variance ![inline-image](../images/CH013_16.jpg)
    of the portfolio are then given as follows:'
  id: totrans-437
  prefs: []
  type: TYPE_NORMAL
  zh: 当资产 *A* 1,…,*A* [*n*] 固定时，一个投资组合 *p* 就是一个向量 ![inline-image](../images/CH013_10.jpg)，使得
    ![inline-image](../images/CH013_11.jpg)。我们允许 ![inline-image](../images/CH013_12.jpg)
    为负值。负值的 ![inline-image](../images/CH013_13.jpg) 表示投资组合中的资产 *A* [*i*] 已被做空。投资组合的回报率
    *R* 为 ![inline-image](../images/CH013_14.jpg)。然后投资组合的预期回报率 *μ* 和方差 ![inline-image](../images/CH013_16.jpg)
    如下所示：
- en: '![display-image](../images/CH013_17.jpg)(13.1)'
  id: totrans-438
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_17.jpg)(13.1)'
- en: where ![inline-image](../images/CH013_18.jpg).
  id: totrans-439
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 ![inline-image](../images/CH013_18.jpg)。
- en: 'Examples:'
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: (1)Suppose *n* ≥ 2 and there are *n* assets which are uncorrelated (i.e. the
    covariances are all equal to zero). Further, suppose that *R* 1 = … = *R* [*n*]
    and ![inline-image](../images/CH013_19.jpg). Then investing in any one asset has
    expected rate of return to be *R* 1 with associated risk ![inline-image](../images/CH013_20.jpg).
    Consider the portfolio *p* = (1/*n*,…,1/*n*), i.e. ![inline-image](../images/CH013_21.jpg).
    Then the expected rate of return of the portfolio is *R* = *R* 1 and the associated
    risk is ![inline-image](../images/CH013_22.jpg). So, by investing in *n* assets,
    the rate of return is unchanged, but as *n* increases, the risk goes down. This
    is an example of diversification.(2)Suppose *n* = 2 and *A* 1 and *A* 2 are two
    assets with returns *R* 1 and *R* 2 having means to be ![inline-image](../images/CH013_23.jpg)
    and ![inline-image](../images/CH013_24.jpg), respectively. Further, suppose *R*
    1 + *R* 2 = 1, i.e. if *R* 1 increases, then *R* 2 decreases and vice versa. Consider
    the portfolio *p* = (1/2, 1/2) which assigns equal weights to the two assets.
    Then the expected rate of return *μ* of the portfolio is ![inline-image](../images/CH013_25.jpg)
    and the variance *σ* of the portfolio is ![inline-image](../images/CH013_26.jpg).
    So, in this case the risk of the portfolio has been reduced to zero. This has
    happened due to the fact that the rates of returns on the two assets satisfy the
    relation *R* 1 + *R* 2 = 1.
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
  zh: (1)假设 *n* ≥ 2，有 *n* 个不相关的资产（即协方差都等于零）。进一步假设 *R* 1 = … = *R* [*n*] 并且 ![inline-image](../images/CH013_19.jpg)。那么投资于任何一个资产的预期收益率都是
    *R* 1，并伴随着风险 ![inline-image](../images/CH013_20.jpg)。考虑投资组合 *p* = (1/*n*,…,1/*n*)，即
    ![inline-image](../images/CH013_21.jpg)。那么投资组合的预期收益率为 *R* = *R* 1，伴随着风险 ![inline-image](../images/CH013_22.jpg)。因此，通过投资
    *n* 个资产，收益率不变，但随着 *n* 的增加，风险降低。这是一个分散投资的例子。(2)假设 *n* = 2，*A* 1 和 *A* 2 是两个具有回报率
    *R* 1 和 *R* 2 的资产，其平均值分别为 ![inline-image](../images/CH013_23.jpg) 和 ![inline-image](../images/CH013_24.jpg)。进一步假设
    *R* 1 + *R* 2 = 1，即如果 *R* 1 增加，则 *R* 2 减少，反之亦然。考虑投资组合 *p* = (1/2, 1/2)，即将两个资产分配相同的权重。那么投资组合的预期收益率
    *μ* 为 ![inline-image](../images/CH013_25.jpg)，投资组合的方差 *σ* 为 ![inline-image](../images/CH013_26.jpg)。因此，在这种情况下，投资组合的风险已降低至零。这是因为两个资产的回报率满足
    *R* 1 + *R* 2 = 1 的关系。
- en: In general, assets are correlated and hardly ever satisfy simple relations,
    as in the second example above. As mentioned earlier, the problem of portfolio
    optimisation is to determine the weights ![inline-image](../images/CH013_27.jpg)
    so that *μ* is maximised and *σ* is minimised. Simultaneously achieving both of
    these is not possible.
  id: totrans-442
  prefs: []
  type: TYPE_NORMAL
  zh: 一般来说，资产是相关的，并且很少满足像上述第二个例子中那样的简单关系。如前所述，投资组合优化的问题是确定权重 ![inline-image](../images/CH013_27.jpg)，使得
    *μ* 最大化并且 *σ* 最小化。同时实现这两者是不可能的。
- en: 'Before describing the general case, first let us briefly consider the case
    of *n* = 2\. Let the expected rates of returns and variances of the two assets
    *A* 1 and *A* 2 be ![inline-image](../images/CH013_28.jpg) and ![inline-image](../images/CH013_29.jpg),
    respectively. Further, let ![inline-image](../images/CH013_30.jpg) be the covariance
    between the two assets and define the Pearson correlation coefficient *ρ* to be
    ![inline-image](../images/CH013_31.jpg). Suppose the portfolio *p* is ![inline-image](../images/CH013_32.jpg).
    Then the expected rate of return ![inline-image](../images/CH013_33.jpg). The
    variance ![inline-image](../images/CH013_34.jpg) of *p* is a function of *α* and
    is given as ![inline-image](../images/CH013_35.jpg). If ![inline-image](../images/CH013_36.jpg)
    and ![inline-image](../images/CH013_37.jpg), then ![inline-image](../images/CH013_38.jpg),
    i.e. the variance does not depend upon *α*. So, suppose that both ![inline-image](../images/CH013_39.jpg)
    and ![inline-image](../images/CH013_40.jpg) do not hold. Also, recall that we
    are considering all assets to have positive risks, i.e. ![inline-image](../images/CH013_41.jpg).
    Then using basic calculus, it is possible to obtain a unique value of *α* (say
    ![inline-image](../images/CH013_42.jpg)) such that ![inline-image](../images/CH013_43.jpg)
    takes the minimum possible value. The value of ![inline-image](../images/CH013_44.jpg)
    and the corresponding value of ![inline-image](../images/CH013_45.jpg) are as
    follows:'
  id: totrans-443
  prefs: []
  type: TYPE_NORMAL
  zh: 在描述一般情况之前，首先让我们简要考虑*n*= 2的情况。让两个资产*A* 1和*A* 2的预期收益率和方差分别为![内联图像](../images/CH013_28.jpg)和![内联图像](../images/CH013_29.jpg)。进一步，让![内联图像](../images/CH013_30.jpg)为两个资产之间的协方差，并定义Pearson相关系数*ρ*为![内联图像](../images/CH013_31.jpg)。假设投资组合*p*为![内联图像](../images/CH013_32.jpg)。则预期收益率![内联图像](../images/CH013_33.jpg)。投资组合*p*的方差![内联图像](../images/CH013_34.jpg)是*α*的函数，并且给出为![内联图像](../images/CH013_35.jpg)。
    如果![内联图像](../images/CH013_36.jpg)和![内联图像](../images/CH013_37.jpg)，那么![内联图像](../images/CH013_38.jpg)，即方差不依赖于*α*。所以，假设既不满足![内联图像](../images/CH013_39.jpg)也不满足![内联图像](../images/CH013_40.jpg)。另外，要注意我们认为所有资产都具有正风险，即![内联图像](../images/CH013_41.jpg)。然后使用基本微积分，可以得到一个唯一的*α*值（比如![内联图像](../images/CH013_42.jpg)）使得![内联图像](../images/CH013_43.jpg)取得可能的最小值。![内联图像](../images/CH013_44.jpg)的值和相应的![内联图像](../images/CH013_45.jpg)的值如下：
- en: '![display-image](../images/CH013_46.jpg)'
  id: totrans-444
  prefs: []
  type: TYPE_IMG
  zh: '![显示图像](../images/CH013_46.jpg)'
- en: Given the above value of ![inline-image](../images/CH013_47.jpg), the expected
    rate of return of the portfolio *p* is ![inline-image](../images/CH013_48.jpg).
  id: totrans-445
  prefs: []
  type: TYPE_NORMAL
  zh: 给定上述![内联图像](../images/CH013_47.jpg)的值，投资组合*p*的预期收益率为![内联图像](../images/CH013_48.jpg)。
- en: 'The more general case arises when *n* ≥ 2\. In this case, we consider the approach
    pioneered by Markowitz. In this approach, the expected rate of return of the portfolio
    is fixed to a certain value ![inline-image](../images/CH013_49.jpg) and the weights
    ![inline-image](../images/CH013_50.jpg) are chosen so that the variance is minimised.
    Using ([13.1](#eq1)), the optimisation problem is to obtain a portfolio ![inline-image](../images/CH013_51.jpg)
    such that the following hold:'
  id: totrans-446
  prefs: []
  type: TYPE_NORMAL
  zh: 当*n* ≥ 2时，出现了更一般的情况。在这种情况下，我们考虑马科维茨开创的方法。在这种方法中，投资组合的预期回报率被固定为某个值![inline-image](../images/CH013_49.jpg)，选择权重![inline-image](../images/CH013_50.jpg)使方差达到最小。使用([13.1](#eq1))，优化问题是得到一个投资组合![inline-image](../images/CH013_51.jpg)，使得以下成立：
- en: '![display-image](../images/CH013_52.jpg)(13.2)'
  id: totrans-447
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_52.jpg)(13.2)'
- en: '![display-image](../images/CH013_53.jpg)(13.3)'
  id: totrans-448
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_53.jpg)(13.3)'
- en: '![display-image](../images/CH013_54.jpg)(13.4)'
  id: totrans-449
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_54.jpg)(13.4)'
- en: In ([13.2](#eq2)), ![inline-image](../images/CH013_55.jpg) is defined to be
    equal to ![inline-image](../images/CH013_56.jpg) and the expression itself is
    equal to ½Var(*R*). The scaling factor of 1/2 is introduced to simplify the later
    calculations.
  id: totrans-450
  prefs: []
  type: TYPE_NORMAL
  zh: 在([13.2](#eq2))中，![inline-image](../images/CH013_55.jpg)被定义为等于![inline-image](../images/CH013_56.jpg)，而表达式本身等于½Var(*R*)。1/2的缩放因子被引入以简化后续的计算。
- en: 'The above is an example of a quadratic optimisation problem with linear constraints.
    This can be solved using the method of Lagrange multipliers. Let *λ* and *γ* be
    two new variables. Consider the following expression:'
  id: totrans-451
  prefs: []
  type: TYPE_NORMAL
  zh: 上述是带有线性约束条件的二次优化问题的一个例子。可以使用拉格朗日乘子法来解决这个问题。让*λ*和*γ*成为两个新的变量。考虑以下表达式：
- en: '![display-image](../images/CH013_57.jpg)(13.5)'
  id: totrans-452
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_57.jpg)(13.5)'
- en: Partial derivatives of *L* with respect to ![inline-image](../images/CH013_58.jpg)
    and *γ* are set to zero to obtain the following system of *n* + 2 linear inhomogeneous
    equations in the *n* + 2 variables ![inline-image](../images/CH013_59.jpg) and
    *γ*.
  id: totrans-453
  prefs: []
  type: TYPE_NORMAL
  zh: 对*L*关于![inline-image](../images/CH013_58.jpg)和*γ*的偏导数设为零，得到以下* n * + 2个变量![inline-image](../images/CH013_59.jpg)和*γ*的*
    n * + 2个线性非齐次方程组。
- en: '![display-image](../images/CH013_60.jpg)(13.6)'
  id: totrans-454
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_60.jpg)(13.6)'
- en: A solution ![inline-image](../images/CH013_61.jpg) to ([13.6](#eq6)) is a solution
    to the quadratic programming problem formulated in [(13.2)](#eq2) to [(13.4)](#eq4).
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
  zh: 解([13.6](#eq6))的![inline-image](../images/CH013_61.jpg)是在[(13.2)](#eq2)到[(13.4)](#eq4)中列出的二次规划问题的解。
- en: Given ![inline-image](../images/CH013_62.jpg), the set of feasible portfolios
    consists of portfolios ![inline-image](../images/CH013_63.jpg) such that ![inline-image](../images/CH013_64.jpg).
    If the set of feasible portfolios is non-empty, then it can be shown that the
    system ([13.6](#eq6)) has a solution and so does the optimisation problem ![inline-image](../images/CH013_65.jpg)
    given by [(13.2)](#eq2) to [(13.4)](#eq4).
  id: totrans-456
  prefs: []
  type: TYPE_NORMAL
  zh: 给定 ![inline-image](../images/CH013_62.jpg)，可行组合的集合由这样的投资组合 ![inline-image](../images/CH013_63.jpg)
    构成，其中满足 ![inline-image](../images/CH013_64.jpg)。如果可行组合的集合非空，则可以证明系统（[13.6](#eq6)）有解，优化问题
    ![inline-image](../images/CH013_65.jpg) 也有解，该问题由 [(13.2)](#eq2) 到 [(13.4)](#eq4)
    给出。
- en: Consider the set of all ![inline-image](../images/CH013_66.jpg) such that the
    problem ![inline-image](../images/CH013_67.jpg) is feasible and let ![inline-image](../images/CH013_68.jpg)
    be the corresponding value of the minimum variance. This means that if the expected
    return is fixed to ![inline-image](../images/CH013_69.jpg), then the minimum risk
    is ![inline-image](../images/CH013_70.jpg). Consider the set of all such points
    ![inline-image](../images/CH013_71.jpg) on the plane where the risk ![inline-image](../images/CH013_72.jpg)
    is plotted along the *x*-axis and the return ![inline-image](../images/CH013_73.jpg)
    is plotted along the *y*-axis. This curve is called the efficient frontier. Any
    portfolio whose risk and return correspond to a point on the efficient frontier
    is called an efficient portfolio. The term efficiency refers to the fact that
    for the given values of risk and expected return, there is no other portfolio
    which has a lower risk and a higher return.
  id: totrans-457
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑所有的 ![inline-image](../images/CH013_66.jpg) 集合，使得问题 ![inline-image](../images/CH013_67.jpg)
    是可行的，并令 ![inline-image](../images/CH013_68.jpg) 是相应的最小方差值。这意味着如果预期收益固定为 ![inline-image](../images/CH013_69.jpg)，那么最小风险为
    ![inline-image](../images/CH013_70.jpg)。考虑平面上的所有这样的点 ![inline-image](../images/CH013_71.jpg)，其中风险
    ![inline-image](../images/CH013_72.jpg) 沿 *x* 轴绘制，回报 ![inline-image](../images/CH013_73.jpg)
    沿 *y* 轴绘制。这条曲线称为有效边界。任何风险和回报对应于有效边界上的点的投资组合都称为有效投资组合。术语“效率”指的是对于给定的风险和预期回报值，没有其他投资组合具有更低的风险和更高的回报。
- en: We consider the equations given by ([13.6](#eq6)) in matrix form. Let ![inline-image](../images/CH013_74.jpg),
    ![inline-image](../images/CH013_75.jpg), **1** = (1,…,1) ^([*T*]) and let ![inline-image](../images/CH013_76.jpg)
    be the variance/co-variance matrix. We will assume that ![inline-image](../images/CH013_77.jpg)
    is invertible. Also, we will assume that not all the ![inline-image](../images/CH013_78.jpg)'s
    are equal.
  id: totrans-458
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将（[13.6](#eq6)）给出的方程以矩阵形式表示。令 ![inline-image](../images/CH013_74.jpg)，![inline-image](../images/CH013_75.jpg)，**1**
    = (1,…,1) ^([*T*])，令 ![inline-image](../images/CH013_76.jpg) 为方差/协方差矩阵。我们假设 ![inline-image](../images/CH013_77.jpg)
    是可逆的。同时，我们假设并非所有的 ![inline-image](../images/CH013_78.jpg) 都相等。
- en: The first equation of ([13.6](#eq6)) can be written as ![inline-image](../images/CH013_79.jpg)
    so that
  id: totrans-459
  prefs: []
  type: TYPE_NORMAL
  zh: ([13.6](#eq6)) 的第一个方程可以写为 ![inline-image](../images/CH013_79.jpg)，从而得到
- en: '![display-image](../images/CH013_80.jpg)(13.7)'
  id: totrans-460
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_80.jpg)(13.7)'
- en: 'In terms of vector notation, the two constraints are written as ![inline-image](../images/CH013_81.jpg)
    and ![inline-image](../images/CH013_82.jpg). Noting from ([13.7](#eq7)) that ![inline-image](../images/CH013_83.jpg),
    we rewrite the constraints as follows:'
  id: totrans-461
  prefs: []
  type: TYPE_NORMAL
  zh: 用向量符号表示，两个约束可以写成 ![inline-image](../images/CH013_81.jpg) 和 ![inline-image](../images/CH013_82.jpg)。从
    ([13.7](#eq7)) 中注意到 ![inline-image](../images/CH013_83.jpg)，我们将约束重写为：
- en: '![display-image](../images/CH013_84.jpg)(13.8)'
  id: totrans-462
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_84.jpg)(13.8)'
- en: Let ![inline-image](../images/CH013_85.jpg), ![inline-image](../images/CH013_86.jpg)
    and ![inline-image](../images/CH013_87.jpg). Note that the values of ![inline-image](../images/CH013_88.jpg)
    and ![inline-image](../images/CH013_89.jpg) are fixed and assumed to be a priori
    known. So, *a*, *b* and *c* are constants. Solving ([13.8](#eq8)) for *λ* and
    *γ* gives
  id: totrans-463
  prefs: []
  type: TYPE_NORMAL
  zh: 让 ![inline-image](../images/CH013_85.jpg)，![inline-image](../images/CH013_86.jpg)
    和 ![inline-image](../images/CH013_87.jpg)。注意到 ![inline-image](../images/CH013_88.jpg)
    和 ![inline-image](../images/CH013_89.jpg) 的值被固定并假设为先验已知。因此，*a*，*b* 和 *c* 是常数。解
    ([13.8](#eq8)) 关于 *λ* 和 *γ* 给出
- en: '![display-image](../images/CH013_90.jpg)(13.9)'
  id: totrans-464
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_90.jpg)(13.9)'
- en: where ![inline-image](../images/CH013_91.jpg).
  id: totrans-465
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 ![inline-image](../images/CH013_91.jpg)。
- en: Fix a value ![inline-image](../images/CH013_92.jpg) of ![inline-image](../images/CH013_93.jpg).
    The variance of the portfolio can be expressed in terms of ![inline-image](../images/CH013_94.jpg)
    as follows. Given a weight vector ![inline-image](../images/CH013_95.jpg), the
    variance ![inline-image](../images/CH013_96.jpg) of the corresponding portfolio
    can be written in terms of ![inline-image](../images/CH013_97.jpg) as ![inline-image](../images/CH013_98.jpg).
    Using ![inline-image](../images/CH013_99.jpg), ![inline-image](../images/CH013_100.jpg)
    and ![inline-image](../images/CH013_101.jpg) we have
  id: totrans-466
  prefs: []
  type: TYPE_NORMAL
  zh: 固定一个值 ![inline-image](../images/CH013_92.jpg) 为 ![inline-image](../images/CH013_93.jpg)。投资组合的方差可以用
    ![inline-image](../images/CH013_94.jpg) 表示如下。给定一个权重向量 ![inline-image](../images/CH013_95.jpg)，相应投资组合的方差
    ![inline-image](../images/CH013_96.jpg) 可以用 ![inline-image](../images/CH013_97.jpg)
    表示为 ![inline-image](../images/CH013_98.jpg)。利用 ![inline-image](../images/CH013_99.jpg)，![inline-image](../images/CH013_100.jpg)
    和 ![inline-image](../images/CH013_101.jpg)，我们有
- en: '![display-image](../images/CH013_102.jpg)(13.10)'
  id: totrans-467
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_102.jpg)(13.10)'
- en: Given the expected rate of return vector ![inline-image](../images/CH013_103.jpg)
    and the variance/co-variance matrix ![inline-image](../images/CH013_104.jpg),
    there is a portfolio which minimises the variance over all possible portfolios.
    To obtain this portfolio, we differentiate ![inline-image](../images/CH013_105.jpg)
    with respect to ![inline-image](../images/CH013_106.jpg) and set the derivative
    to 0, i.e.
  id: totrans-468
  prefs: []
  type: TYPE_NORMAL
  zh: 给定预期收益率向量 ![inline-image](../images/CH013_103.jpg) 和方差/协方差矩阵 ![inline-image](../images/CH013_104.jpg)，存在一个最小化所有可能投资组合方差的投资组合。要获得这个投资组合，我们对
    ![inline-image](../images/CH013_105.jpg) 关于 ![inline-image](../images/CH013_106.jpg)
    求导并将导数设为0，即
- en: '![display-image](../images/CH013_107.jpg)'
  id: totrans-469
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_107.jpg)'
- en: leading to ![inline-image](../images/CH013_108.jpg) and ![inline-image](../images/CH013_109.jpg).
    From ([13.9](#eq9)), the corresponding values of the Lagrangian multipliers *λ*
    and *γ* are ![inline-image](../images/CH013_110.jpg) and ![inline-image](../images/CH013_111.jpg).
    Denoting the weight vector of the corresponding portfolio by ![inline-image](../images/CH013_112.jpg),
    we have from ([13.7](#eq7))
  id: totrans-470
  prefs: []
  type: TYPE_NORMAL
  zh: 导致 ![行内图片](../images/CH013_108.jpg) 和 ![行内图片](../images/CH013_109.jpg)。从 ([13.9](#eq9))，相应的拉格朗日乘子
    *λ* 和 *γ* 的值为 ![行内图片](../images/CH013_110.jpg) 和 ![行内图片](../images/CH013_111.jpg)。用
    ![行内图片](../images/CH013_112.jpg) 表示相应组合的权重向量，我们有从 ([13.7](#eq7))
- en: '![display-image](../images/CH013_113.jpg)(13.11)'
  id: totrans-471
  prefs: []
  type: TYPE_IMG
  zh: '![显示图片](../images/CH013_113.jpg)(13.11)'
- en: Another portfolio with weight vector ![inline-image](../images/CH013_114.jpg)
    is obtained by setting ![inline-image](../images/CH013_115.jpg) in ([13.9](#eq9)),
    or, equivalently, ![inline-image](../images/CH013_116.jpg) whence ![inline-image](../images/CH013_117.jpg).
    From ([13.7](#eq7)), we have
  id: totrans-472
  prefs: []
  type: TYPE_NORMAL
  zh: 通过设置 ![行内图片](../images/CH013_114.jpg) 的权重向量获得另一个组合，即在 ([13.9](#eq9)) 中设置 ![行内图片](../images/CH013_115.jpg)，或者等效地，
    ![行内图片](../images/CH013_116.jpg)，从而得到 ![行内图片](../images/CH013_117.jpg)。从 ([13.7](#eq7))，我们有
- en: '![display-image](../images/CH013_118.jpg)(13.12)'
  id: totrans-473
  prefs: []
  type: TYPE_IMG
  zh: '![显示图片](../images/CH013_118.jpg)(13.12)'
- en: '***Two fund theorem*** : Suppose that *p* ^((1)) and *p* ^((2)) are two efficient
    portfolios corresponding to rates of returns ![inline-image](../images/CH013_119.jpg)
    and ![inline-image](../images/CH013_120.jpg), respectively. Then *p* ^((1)) (resp.
    *p* ^((2))) is a solution to ([13.6](#eq6)) with ![inline-image](../images/CH013_121.jpg)
    (resp. ![inline-image](../images/CH013_122.jpg)). Using linearity it easily follows
    that for any ![inline-image](../images/CH013_123.jpg), ![inline-image](../images/CH013_124.jpg)
    is a portfolio with expected rate of return to be ![inline-image](../images/CH013_125.jpg).
    Also using linearity, it can be shown that *p* is a solution to ([13.6](#eq6))
    where ![inline-image](../images/CH013_126.jpg). So, the risk-return pair for *p*
    is a point on the efficient frontier. This shows that starting from two efficient
    portfolios, varying *α* over [0, 1], it is possible to obtain a collection of
    points on the efficient frontier.'
  id: totrans-474
  prefs: []
  type: TYPE_NORMAL
  zh: '***两基金定理***: 假设 *p* ^((1)) 和 *p* ^((2)) 是对应于收益率分别为 ![行内图片](../images/CH013_119.jpg)
    和 ![行内图片](../images/CH013_120.jpg) 的两个有效组合。那么 *p* ^((1))（分别是 *p* ^((2))）是方程 ([13.6](#eq6))
    的解，其中 ![行内图片](../images/CH013_121.jpg)（分别是 ![行内图片](../images/CH013_122.jpg)）。使用线性很容易得出，对于任何
    ![行内图片](../images/CH013_123.jpg)，![行内图片](../images/CH013_124.jpg) 是一种带有预期收益率为
    ![行内图片](../images/CH013_125.jpg) 的投资组合。同样使用线性，可以证明 *p* 是方程 ([13.6](#eq6)) 的解，其中
    ![行内图片](../images/CH013_126.jpg)。因此，*p* 的风险-收益对是有效前沿线上的一点。这表明，从两个有效组合开始，通过在 [0,
    1] 上变化 *α*，可以得到有效前沿线上的一系列点。'
- en: Conversely, suppose ![inline-image](../images/CH013_127.jpg) is the weight vector
    of some efficient portfolio. From ([13.7](#eq7)), we have ![inline-image](../images/CH013_128.jpg)
    for appropriate values of the Lagrangian multipliers *λ* and *γ*. Using ([13.11](#eq11))
    and ([13.12](#eq12)), we have ![inline-image](../images/CH013_129.jpg) and ![inline-image](../images/CH013_130.jpg).
    So,
  id: totrans-475
  prefs: []
  type: TYPE_NORMAL
  zh: 反之，假设![inline-image](../images/CH013_127.jpg)是某个有效投资组合的权重向量。根据([13.7](#eq7))，我们有适当的拉格朗日乘子*λ*和*γ*的值，使得![inline-image](../images/CH013_128.jpg)。利用([13.11](#eq11))和([13.12](#eq12))，我们有![inline-image](../images/CH013_129.jpg)和![inline-image](../images/CH013_130.jpg)。所以，
- en: '![display-image](../images/CH013_131.jpg)'
  id: totrans-476
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_131.jpg)'
- en: From ([13.9](#eq19)), we have ![inline-image](../images/CH013_132.jpg). So,
    letting ![inline-image](../images/CH013_133.jpg), we have ![inline-image](../images/CH013_134.jpg)
    and we can write
  id: totrans-477
  prefs: []
  type: TYPE_NORMAL
  zh: 根据([13.9](#eq19))，我们有![inline-image](../images/CH013_132.jpg)。因此，令![inline-image](../images/CH013_133.jpg)，我们有![inline-image](../images/CH013_134.jpg)，我们可以写成
- en: '![display-image](../images/CH013_135.jpg)(13.13)'
  id: totrans-478
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_135.jpg)(13.13)'
- en: In other words, any efficient portfolio can be written as a convex combination
    of ![inline-image](../images/CH013_136.jpg) and ![inline-image](../images/CH013_137.jpg).
    Now consider any two distinct efficient portfolios whose weight vectors are given
    by ![inline-image](../images/CH013_138.jpg) and ![inline-image](../images/CH013_139.jpg).
    Then there are ![inline-image](../images/CH013_140.jpg) such that
  id: totrans-479
  prefs: []
  type: TYPE_NORMAL
  zh: 换句话说，任何有效的投资组合都可以被写成![inline-image](../images/CH013_136.jpg)和![inline-image](../images/CH013_137.jpg)的凸组合。现在考虑任意两个权重向量分别为![inline-image](../images/CH013_138.jpg)和![inline-image](../images/CH013_139.jpg)的不同有效投资组合。那么必然存在![inline-image](../images/CH013_140.jpg)使得
- en: '![display-image](../images/CH013_141.jpg)'
  id: totrans-480
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_141.jpg)'
- en: '![display-image](../images/CH013_142.jpg)'
  id: totrans-481
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_142.jpg)'
- en: So, we may obtain ![inline-image](../images/CH013_143.jpg) and ![inline-image](../images/CH013_144.jpg)
    in terms of *u* 1, *u* 2, ![inline-image](../images/CH013_145.jpg) and ![inline-image](../images/CH013_146.jpg).
    Substituting these in ([13.13](#eq13)), we obtain
  id: totrans-482
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，我们可以用*u*1、*u*2、![inline-image](../images/CH013_145.jpg)和![inline-image](../images/CH013_146.jpg)表示![inline-image](../images/CH013_143.jpg)和![inline-image](../images/CH013_144.jpg)。将这些代入([13.13](#eq13))，我们得到
- en: '![display-image](../images/CH013_147.jpg)(13.14)'
  id: totrans-483
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_147.jpg)(13.14)'
- en: This shows that given any two distinct efficient portfolios with weight vectors
    ![inline-image](../images/CH013_148.jpg) and ![inline-image](../images/CH013_149.jpg),
    any efficient portfolio with weight vector ![inline-image](../images/CH013_150.jpg)
    can be obtained as a convex combination of ![inline-image](../images/CH013_151.jpg)
    and ![inline-image](../images/CH013_152.jpg). Earlier we have seen that the convex
    combination of any two efficient portfolios is also an efficient portfolio. So,
    given any two efficient portfolios, the set of all efficient portfolios can be
    obtained as convex combinations of the two portfolios. This result is called the
    two-fund theorem.
  id: totrans-484
  prefs: []
  type: TYPE_NORMAL
  zh: 这表明，给定任意两个具有权重向量![inline-image](../images/CH013_148.jpg)和![inline-image](../images/CH013_149.jpg)的不同有效投资组合，可以将具有权重向量![inline-image](../images/CH013_150.jpg)的任何有效投资组合表示为![inline-image](../images/CH013_151.jpg)和![inline-image](../images/CH013_152.jpg)的凸组合。早先我们已经看到，任意两个有效投资组合的凸组合也是一个有效投资组合。因此，给定任意两个有效投资组合，所有有效投资组合的集合可以表示为这两个投资组合的凸组合。这个结果被称为两基金定理。
- en: 'Remarks:'
  id: totrans-485
  prefs: []
  type: TYPE_NORMAL
  zh: 备注：
- en: (1)If ([13.4](#eq4)), (i.e. the constraint ![inline-image](../images/CH013_153.jpg))
    is dropped from ![inline-image](../images/CH013_154.jpg), then we are looking
    for a portfolio which minimises the variance. This problem can also be solved
    using the method of Lagrange multipliers.(2)If ([13.4](#eq4)) is changed to ![inline-image](../images/CH013_155.jpg)
    (i.e. the equality is replaced by the inequality), then the method of Lagrange
    multipliers can no longer be applied. The modified optimisation problem can be
    solved using the Karush–Kuhn–Tucker conditions and an analogous two-fund theorem
    can be proved.(3)In the above formultion of the Markowitz problem, the weights
    ![inline-image](../images/CH013_156.jpg)'s are allowed to be negative (i.e. shorting
    is allowed). If shorting is not allowed, then the non-negativity constraints ![inline-image](../images/CH013_157.jpg)
    have to be included for *i* = 1,…,*n*. The corresponding problem can be handled
    using techniques of linear programming.
  id: totrans-486
  prefs: []
  type: TYPE_NORMAL
  zh: (1)如果（[13.4](#eq4)），即约束条件![inline-image](../images/CH013_153.jpg)从![inline-image](../images/CH013_154.jpg)中删除，则我们正在寻找一个最小化方差的投资组合。这个问题也可以使用拉格朗日乘数法来解决。(2)如果（[13.4](#eq4)）改为![inline-image](../images/CH013_155.jpg)（即将等式替换为不等式），那么就不能再应用拉格朗日乘数法了。修改后的优化问题可以使用
    Karush–Kuhn–Tucker 条件来解决，并且可以证明类似的两基金定理。(3)在上述马科维茨问题的表述中，权重![inline-image](../images/CH013_156.jpg)允许为负值（即允许卖空）。如果不允许卖空，则必须为*i*
    = 1,…,*n*包括非负约束条件![inline-image](../images/CH013_157.jpg)。可以使用线性规划技术来处理相应的问题。
- en: 13.1.1 Inclusion of a Risk-free Asset
  id: totrans-487
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 13.1.1 包含无风险资产
- en: The analysis has been under the assumption that ![inline-image](../images/CH013_158.jpg)
    for *i* = 1,…,*n*, i.e. all the assets have a positive risk. In practice, however,
    there usually exist risk-free assets with fixed rates of returns. Examples would
    be bank deposits/loans and government bonds. One may wish to consider a portfolio
    consisting of one such risk-free asset along with other risky assets. The variance
    of the risk-free asset is zero and so, if one tries to simply minimise the variance
    of the combination, then the solution is a portfolio which invests the entire
    amount in the risk-free asset. The corresponding rate of return, however, will
    be lower than what may be achieved by including risky assets in the portfolio.
  id: totrans-488
  prefs: []
  type: TYPE_NORMAL
  zh: 该分析假设对于 *i* = 1,…,*n*，都有 ![inline-image](../images/CH013_158.jpg)，即所有资产都有正风险。然而，在实践中，通常存在具有固定回报率的无风险资产。例如银行存款/贷款和政府债券。人们可能希望考虑由一个这样的无风险资产和其他风险资产组成的投资组合。无风险资产的方差为零，因此，如果试图简单地最小化组合的方差，那么解决方案是将整个金额投资于无风险资产。然而，相应的回报率将低于在投资组合中包含风险资产所能实现的回报率。
- en: Let *A* 0 denote the risk-free asset with rate of return ![inline-image](../images/CH013_159.jpg).
    As before, let *A* 1,…,*A* [*n*] be the risky assets with rates of returns *R*
    1,…,*R* [*n*] , respectively, with ![inline-image](../images/CH013_160.jpg), ![inline-image](../images/CH013_161.jpg),
    *i* = 1,…,*n* and ![inline-image](../images/CH013_162.jpg), 1 ≤*i* < *j* ≤ *n*.
    Since *A* 0 is risk-free, its rate of return is a constant; so, its variance is
    zero and also it is uncorrelated to any of the other assets. The risk-free asset
    corresponds to the point ![inline-image](../images/CH013_163.jpg) on the standard
    deviation–mean plane.
  id: totrans-489
  prefs: []
  type: TYPE_NORMAL
  zh: 让 *A* 0 表示无风险资产，其回报率为 ![inline-image](../images/CH013_159.jpg)。与以往一样，让 *A* 1,…,*A*
    [*n*] 分别表示具有回报率 *R* 1,…,*R* [*n*] 的风险资产，其中 ![inline-image](../images/CH013_160.jpg),
    ![inline-image](../images/CH013_161.jpg), *i* = 1,…,*n*，以及 ![inline-image](../images/CH013_162.jpg)，1
    ≤*i* < *j* ≤ *n*。由于 *A* 0 是无风险的，其回报率是恒定的；因此，其方差为零，并且与其他任何资产都不相关。无风险资产对应于标准差-平均平面上的点
    ![inline-image](../images/CH013_163.jpg)。
- en: Let ![inline-image](../images/CH013_164.jpg) denote the portfolio with ![inline-image](../images/CH013_165.jpg),
    where the proportionate amount of investment in asset *A* [*i*] is ![inline-image](../images/CH013_166.jpg)
    for *i* = 0,…,*n*. For *i* = 1,…,*n*, define ![inline-image](../images/CH013_167.jpg)
    and so ![inline-image](../images/CH013_168.jpg). By ![inline-image](../images/CH013_169.jpg),
    we will denote the portfolio ![inline-image](../images/CH013_170.jpg) which consists
    of the risky assets *A* 1,…,*A* [*n*] with ![inline-image](../images/CH013_171.jpg)
    being the proportionate investment in *A* [*i*] . The expected rate of return
    for ![inline-image](../images/CH013_172.jpg) is ![inline-image](../images/CH013_173.jpg)
    and the variance of ![inline-image](../images/CH013_174.jpg) is ![inline-image](../images/CH013_175.jpg).
    We may assume that *ν* > *r* [*f*] , since if the expected rate of return of the
    risky portfolio is not more than that of the risk-free asset, it does not make
    sense to invest in such a portfolio. The point ![inline-image](../images/CH013_176.jpg)
    on the standard deviation–mean plane corresponds to ![inline-image](../images/CH013_177.jpg).
  id: totrans-490
  prefs: []
  type: TYPE_NORMAL
  zh: 让 ![inline-image](../images/CH013_164.jpg) 表示组合投资组合，其中在资产 *A* [*i*] 上的投资比例为
    ![inline-image](../images/CH013_166.jpg)，其中 *i* = 0,…,*n*。 对于 *i* = 1,…,*n*，定义
    ![inline-image](../images/CH013_167.jpg)，因此 ![inline-image](../images/CH013_168.jpg)。
    通过 ![inline-image](../images/CH013_169.jpg)，我们将表示由 *A* 1,…,*A* [*n*] 组成的投资组合 ![inline-image](../images/CH013_170.jpg)，其中
    ![inline-image](../images/CH013_171.jpg) 是对 *A* [*i*] 的比例投资。 ![inline-image](../images/CH013_172.jpg)
    的预期收益率为 ![inline-image](../images/CH013_173.jpg)，而 ![inline-image](../images/CH013_174.jpg)
    的方差为 ![inline-image](../images/CH013_175.jpg)。 我们可以假设 *ν* > *r* [*f*]，因为如果风险投资组合的预期收益率不高于无风险资产的收益率，则投资于此类投资组合是没有意义的。
    标准差-均值平面上的点 ![inline-image](../images/CH013_176.jpg) 对应于 ![inline-image](../images/CH013_177.jpg)。
- en: 'For the mean–variance analysis of the portfolio *p*, we may equivalently consider
    it to be a portfolio ![inline-image](../images/CH013_178.jpg) consisting of two
    assets, namely *A* 0 and ![inline-image](../images/CH013_179.jpg) with proportion
    ![inline-image](../images/CH013_180.jpg) invested in *A* 0 and the proportion
    ![inline-image](../images/CH013_181.jpg) invested in ![inline-image](../images/CH013_182.jpg).
    The mean and variance of this two-asset portfolio are as follows:'
  id: totrans-491
  prefs: []
  type: TYPE_NORMAL
  zh: 对于投资组合 *p* 的均值-方差分析，我们可以等效地将其视为由两个资产组成的投资组合 ![inline-image](../images/CH013_178.jpg)，即
    *A* 0 和 ![inline-image](../images/CH013_179.jpg)，其中投资于 *A* 0 的比例为 ![inline-image](../images/CH013_180.jpg)，而投资于
    ![inline-image](../images/CH013_182.jpg) 的比例为 ![inline-image](../images/CH013_181.jpg)。
    此两资产投资组合的均值和方差如下：
- en: '![display-image](../images/CH013_183.jpg)'
  id: totrans-492
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_183.jpg)'
- en: '![display-image](../images/CH013_184.jpg)'
  id: totrans-493
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_184.jpg)'
- en: This corresponds to the point ![inline-image](../images/CH013_185.jpg) on the
    standard deviation–mean plane.
  id: totrans-494
  prefs: []
  type: TYPE_NORMAL
  zh: 这对应于标准差-均值平面上的点 ![inline-image](../images/CH013_185.jpg)。
- en: Suppose ![inline-image](../images/CH013_186.jpg). Then the efficient frontier
    is the locus of ![inline-image](../images/CH013_187.jpg). Eliminating ![inline-image](../images/CH013_188.jpg)
    from the expressions for *σ* and *μ* shows this locus to be the straight line
  id: totrans-495
  prefs: []
  type: TYPE_NORMAL
  zh: 假设 ![inline-image](../images/CH013_186.jpg)。那么有效前沿就是 ![inline-image](../images/CH013_187.jpg)
    的轨迹。通过从 *σ* 和 *μ* 的表达式中消除 ![inline-image](../images/CH013_188.jpg)，可以证明这个轨迹是直线。
- en: '![display-image](../images/CH013_189.jpg)'
  id: totrans-496
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_189.jpg)'
- en: As we have argued earlier, ![inline-image](../images/CH013_190.jpg), so the
    slope of this line is positive. For a given ![inline-image](../images/CH013_191.jpg),
    the slope ![inline-image](../images/CH013_192.jpg) is maximised by minimising
    *τ*. This corresponds to the portfolio ![inline-image](../images/CH013_193.jpg)
    being an efficient portfolio and the point ![inline-image](../images/CH013_194.jpg)
    being on the earlier efficient frontier. So, the line ![inline-image](../images/CH013_195.jpg)
    with the maximum slope is a tangent to the old efficient frontier. Thus, the new
    efficient frontier is a tangent to the old efficient frontier which connects the
    point ![inline-image](../images/CH013_196.jpg) to the point ![inline-image](../images/CH013_197.jpg)
    on the old efficient frontier.
  id: totrans-497
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们之前所论述的，![inline-image](../images/CH013_190.jpg)，因此这条线的斜率为正。对于给定的 ![inline-image](../images/CH013_191.jpg)，通过最小化
    *τ* 来使斜率 ![inline-image](../images/CH013_192.jpg) 最大化。这对应于投资组合 ![inline-image](../images/CH013_193.jpg)
    是一个有效的投资组合，并且点 ![inline-image](../images/CH013_194.jpg) 在早期有效前沿上。因此，具有最大斜率的线 ![inline-image](../images/CH013_195.jpg)
    是旧的有效前沿的切线。因此，新的有效前沿是一个切线，连接点 ![inline-image](../images/CH013_196.jpg) 到旧的有效前沿上的点
    ![inline-image](../images/CH013_197.jpg)。
- en: The case of ![inline-image](../images/CH013_198.jpg) is a non-issue. In this
    case, the locus of ![inline-image](../images/CH013_199.jpg) is the line ![inline-image](../images/CH013_200.jpg)
    with a negative slope. This corresponds to shorting of ![inline-image](../images/CH013_201.jpg)
    to invest in *A* 0\. This is an irrational thing to do, since it increases the
    risk and decreases the rate of return.
  id: totrans-498
  prefs: []
  type: TYPE_NORMAL
  zh: '![inline-image](../images/CH013_198.jpg)案例不成问题。在此案例中，![inline-image](../images/CH013_199.jpg)的轨迹是具有负斜率的线
    ![inline-image](../images/CH013_200.jpg)。这对应于短路 ![inline-image](../images/CH013_201.jpg)
    来投资 *A* 0\. 这是一件不明智的事情，因为它增加了风险并降低了回报率。'
- en: Since the new efficient frontier is a tangent to the old efficient frontier,
    it is instructive to find the portfolio ![inline-image](../images/CH013_202.jpg)
    which corresponds to the point where the new efficient frontier touches the old
    efficient frontier. This corresponds to maximising the slope ![inline-image](../images/CH013_203.jpg).
    Note that ![inline-image](../images/CH013_204.jpg) and *τ* are functions of ![inline-image](../images/CH013_205.jpg).
    Making this explicit, the slope can be written as
  id: totrans-499
  prefs: []
  type: TYPE_NORMAL
  zh: 由于新的有效前沿是与旧的有效前沿相切的，因此找到对应于新的有效前沿触及旧的有效前沿的点的投资组合 ![inline-image](../images/CH013_202.jpg)
    是有启发性的。这对应于最大化斜率 ![inline-image](../images/CH013_203.jpg)。注意 ![inline-image](../images/CH013_204.jpg)
    和 *τ* 是 ![inline-image](../images/CH013_205.jpg) 的函数。使这一点明确，斜率可以写成
- en: '![display-image](../images/CH013_206.jpg)'
  id: totrans-500
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_206.jpg)'
- en: For *i* = 1,…,*n*, obtaining ![inline-image](../images/CH013_207.jpg) and setting
    to zero leads to the following system of linear equations in the quantities *v*
    1,…,*v* [*n*] .
  id: totrans-501
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 *i* = 1,…,*n*，得到 ![inline-image](../images/CH013_207.jpg) 并置零导致以下数量 *v* 1,…,*v*
    [*n*] 的线性方程组。
- en: '![display-image](../images/CH013_208.jpg)(13.15)'
  id: totrans-502
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_208.jpg)(13.15)'
- en: Here ![inline-image](../images/CH013_209.jpg) with ![inline-image](../images/CH013_210.jpg).
    Since ![inline-image](../images/CH013_211.jpg), it follows that *v* 1 + ⋯ + *v*
    [*n*] = *c* and ![inline-image](../images/CH013_212.jpg). So, solving ([13.15](#eq15))
    for *v* 1,…,*v* [*n*] provides the values of ![inline-image](../images/CH013_213.jpg).
    This provides the portfolio ![inline-image](../images/CH013_214.jpg) such that
    the efficient frontier with the risk-free asset is the line joining the point
    ![inline-image](../images/CH013_215.jpg) to the point ![inline-image](../images/CH013_216.jpg)
    corresponding to ![inline-image](../images/CH013_217.jpg). This result is called
    the one-fund theorem.
  id: totrans-503
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有 ![inline-image](../images/CH013_209.jpg) 和 ![inline-image](../images/CH013_210.jpg)。由于
    ![inline-image](../images/CH013_211.jpg)，所以 *v* 1 + ⋯ + *v* [*n*] = *c*，并且 ![inline-image](../images/CH013_212.jpg)。因此，解
    ([13.15](#eq15)) 得到 *v* 1,…,*v* [*n*] 的值。这提供了投资组合 ![inline-image](../images/CH013_214.jpg)，使得与无风险资产的有效前沿是连接点
    ![inline-image](../images/CH013_215.jpg) 到点 ![inline-image](../images/CH013_216.jpg)
    的线对应的点 ![inline-image](../images/CH013_217.jpg)。这个结果被称为一基金定理。
- en: 13.1.2 Capital Asset Pricing Model
  id: totrans-504
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 13.1.2 资本资产定价模型
- en: Consider the set of all assets in the market. Assume that all information about
    these assets are publicly known. Such information include the means, the variances
    and the co-variances. All market participants perform the same market analysis
    based on the publicly available information. This implies that all participants
    discover the same efficient frontier which is a straight line corresponding to
    portfolios which combine the risk-free asset with the same efficient ![inline-image](../images/CH013_218.jpg).
    This ![inline-image](../images/CH013_219.jpg) is called the market portfolio.
  id: totrans-505
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑市场中所有资产的集合。假设这些资产的所有信息都是公开已知的，包括均值、方差和协方差。所有市场参与者基于公开信息进行相同的市场分析。这意味着所有参与者发现了同一有效边界，这是一条直线，对应于将无风险资产与相同有效
    ![inline-image](../images/CH013_218.jpg) 结合的投资组合。这 ![inline-image](../images/CH013_219.jpg)
    被称为市场组合。
- en: Let us denote the market portfolio by *M*. The fact that *M* is the same for
    all market participants implies that the market has reached an equilibrium. A
    consequence of this equilibrium is that the weight of any asset in *M* is the
    ratio of the capital value of the asset to the total market capitalisation. If
    the market consists of *n* (risky) assets *A* 1,…,*A* [*n*] having capital values
    *V* 1,…,*V* [*n*] , then the weight of *A* [*i*] in *M* is *w* [*i*] = *V* [*i*]
    /*V*, where *V* = *V* 1 + ⋯ + *V* [*n*] . In other words, *M* = (*w* 1,…,*w* [*n*]
    ). It is to be noted that all weights in the market portfolio *M* are positive.
    This has two consequences. First, there is no shorting in *M* and second, all
    risky assets are present in *M*, though the weights of some assets may be very
    small. The above analysis is called the capital asset pricing model (CAPM).
  id: totrans-506
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们用 *M* 表示市场组合。*M* 对所有市场参与者来说是相同的事实意味着市场已经达到了均衡状态。这种均衡的结果是，*M* 中任何资产的权重都等于该资产的资本价值与总市场资本化的比值。如果市场包含
    *n* 个（有风险的）资产 *A*₁,…,*A*[n]，其资本价值分别为 *V*₁,…,*V*[n]，那么 *M* 中 *A*[i] 的权重为 *w*[i]
    = *V*[i] / *V*，其中 *V* = *V*₁ + ⋯ + *V*[n]。换句话说，*M* = (*w*₁,…,*w*[n])。值得注意的是，市场组合
    *M* 中的所有权重都是正数。这带来两个结果。首先，*M* 中不存在做空，其次，所有风险资产都包含在 *M* 中，尽管某些资产的权重可能非常小。上述分析被称为资本资产定价模型（CAPM）。
- en: Let ![inline-image](../images/CH013_220.jpg) be the standard deviation and mean
    of *M*. Then the efficient frontier is the line joining the point ![inline-image](../images/CH013_221.jpg)
    to ![inline-image](../images/CH013_222.jpg). This line is called the capital market
    line and is given by the equation ![inline-image](../images/CH013_223.jpg). The
    quantity ![inline-image](../images/CH013_224.jpg) is the excess the portfolio
    earns over and above the risk-free rate of return ![inline-image](../images/CH013_225.jpg).
    The slope ![inline-image](../images/CH013_226.jpg) represents the increase in
    expected rate of return per unit change of the standard deviation ![inline-image](../images/CH013_227.jpg).
    This slope is called the price of risk.
  id: totrans-507
  prefs: []
  type: TYPE_NORMAL
  zh: 令 ![inline-image](../images/CH013_220.jpg) 为 *M* 的标准差和均值。则有效前沿是连接点 ![inline-image](../images/CH013_221.jpg)
    和 ![inline-image](../images/CH013_222.jpg) 的线。这条线称为资本市场线，由方程 ![inline-image](../images/CH013_223.jpg)
    给出。量 ![inline-image](../images/CH013_224.jpg) 是组合超额收益率与无风险收益率 ![inline-image](../images/CH013_225.jpg)
    之差。斜率 ![inline-image](../images/CH013_226.jpg) 表示标准差变化每单位预期收益率的增加。这个斜率称为风险价格。
- en: Consider a risky asset *A* [*i*] having mean ![inline-image](../images/CH013_228.jpg)
    and variance ![inline-image](../images/CH013_229.jpg) such that ![inline-image](../images/CH013_230.jpg)
    is not on the efficient frontier. Let ![inline-image](../images/CH013_231.jpg)
    be the co-variance of *A* [*i*] with the market portfolio *M*. The excess rate
    of return that *A* [*i*] earns over the risk-free asset is ![inline-image](../images/CH013_232.jpg).
    The CAPM formula states that
  id: totrans-508
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑一个风险资产 *A* [*i*]，其均值为 ![inline-image](../images/CH013_228.jpg)，方差为 ![inline-image](../images/CH013_229.jpg)，使得
    ![inline-image](../images/CH013_230.jpg) 不在有效前沿上。令 ![inline-image](../images/CH013_231.jpg)
    为 *A* [*i*] 与市场组合 *M* 的协方差。*A* [*i*] 相对于无风险资产所获得的超额收益率为 ![inline-image](../images/CH013_232.jpg)。CAPM
    公式陈述如下：
- en: '![display-image](../images/CH013_233.jpg)(13.16)'
  id: totrans-509
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_233.jpg)(13.16)'
- en: where
  id: totrans-510
  prefs: []
  type: TYPE_NORMAL
  zh: 其中
- en: '![display-image](../images/CH013_234.jpg)(13.17)'
  id: totrans-511
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_234.jpg)(13.17)'
- en: 'We show how to derive the above formula. Consider a portfolio *p* consisting
    of *A* [*i*] and the market portfolio *M* which assigns a weight *α* to *A* [*i*]
    and a weight ![inline-image](../images/CH013_235.jpg) to *M* with ![inline-image](../images/CH013_236.jpg).
    The expected rate of return and the variance of *p* are given as follows:'
  id: totrans-512
  prefs: []
  type: TYPE_NORMAL
  zh: 我们展示如何推导上述公式。考虑由 *A* [*i*] 和市场组合 *M* 构成的组合 *p*，给 *A* [*i*] 分配权重 *α*，给 *M* 分配权重
    ![inline-image](../images/CH013_235.jpg)，使得 ![inline-image](../images/CH013_236.jpg)。组合
    *p* 的预期收益率和方差如下所示：
- en: '![display-image](../images/CH013_237.jpg)(13.18)'
  id: totrans-513
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_237.jpg)(13.18)'
- en: 'As *α* varies over [0, 1], the locus of ![inline-image](../images/CH013_238.jpg)
    traces out a smooth curve ![inline-image](../images/CH013_239.jpg) on the standard
    deviation–mean plane. Since *A* [*i*] is not efficient, ![inline-image](../images/CH013_240.jpg)
    stays below the capital market line (i.e. the efficient frontier) meeting it only
    at the point ![inline-image](../images/CH013_241.jpg) corresponding to ![inline-image](../images/CH013_242.jpg).
    This implies that the capital market line is a tangent to ![inline-image](../images/CH013_243.jpg)
    at the point ![inline-image](../images/CH013_244.jpg). So, the derivative of ![inline-image](../images/CH013_245.jpg)
    (i.e. ![inline-image](../images/CH013_246.jpg)) at the point ![inline-image](../images/CH013_247.jpg)
    equals the slope of the capital market line. This gives the relation:'
  id: totrans-514
  prefs: []
  type: TYPE_NORMAL
  zh: 当*α*在 [0, 1] 范围内变化时，![inline-image](../images/CH013_238.jpg) 的轨迹在标准差-均值平面上形成一条平滑曲线
    ![inline-image](../images/CH013_239.jpg)。由于*A* [*i*] 不是有效的，![inline-image](../images/CH013_240.jpg)
    保持在资本市场线（即有效边界）下方，仅在与之相交的点 ![inline-image](../images/CH013_241.jpg) 处相遇，该点对应于
    ![inline-image](../images/CH013_242.jpg)。这意味着资本市场线在点 ![inline-image](../images/CH013_244.jpg)
    处与 ![inline-image](../images/CH013_243.jpg) 相切。因此，![inline-image](../images/CH013_245.jpg)（即
    ![inline-image](../images/CH013_246.jpg)）在点 ![inline-image](../images/CH013_247.jpg)
    处的导数等于资本市场线的斜率。这给出了关系：
- en: '![display-image](../images/CH013_248.jpg)(13.19)'
  id: totrans-515
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_248.jpg)(13.19)'
- en: From ([13.18](#eq18)), it is possible to obtain ![inline-image](../images/CH013_249.jpg)
    and ![inline-image](../images/CH013_250.jpg), and the ratio of these two quantities
    provide an expression for ![inline-image](../images/CH013_251.jpg). Using this
    expression for ![inline-image](../images/CH013_252.jpg) in ([13.19](#eq19)) and
    simplifying provides the expression for ![inline-image](../images/CH013_253.jpg)
    given in ([13.16](#eq16)).
  id: totrans-516
  prefs: []
  type: TYPE_NORMAL
  zh: 从 ([13.18](#eq18))，可以得到 ![inline-image](../images/CH013_249.jpg) 和 ![inline-image](../images/CH013_250.jpg)，这两个量的比值提供了
    ![inline-image](../images/CH013_251.jpg) 的表达式。使用此表达式代入 ([13.19](#eq19)) 并进行简化，得到了
    ([13.16](#eq16)) 中给出的 ![inline-image](../images/CH013_253.jpg) 的表达式。
- en: If ![inline-image](../images/CH013_254.jpg), then the expression for ![inline-image](../images/CH013_255.jpg)
    given in ([13.17](#eq17)) is zero and consequently from ([13.16](#eq16)), ![inline-image](../images/CH013_256.jpg),
    i.e. the rate of return for *A* [*i*] is equal to the risk-free rate of return.
    This holds even if the asset *A* [*i*] itself is risky, i.e. ![inline-image](../images/CH013_257.jpg).
    An asset which is uncorrelated to the market will not have a rate of return which
    is higher than the risk-free rate of return. The quantity ![inline-image](../images/CH013_258.jpg)
    expresses the extent of correlation of *A* [*i*] with the market portfolio *M*
    and hence captures the market risk.
  id: totrans-517
  prefs: []
  type: TYPE_NORMAL
  zh: 如果![inline-image](../images/CH013_254.jpg)，那么根据（[13.17](#eq17)）中给出的![inline-image](../images/CH013_255.jpg)的表达式为零，因此根据（[13.16](#eq16)）得到![inline-image](../images/CH013_256.jpg)，即*A*[*i*]的收益率等于无风险收益率。即使资产*A*[*i*]本身是有风险的，也是如此，即![inline-image](../images/CH013_257.jpg)。与市场不相关的资产不会有高于无风险收益率的收益率。量![inline-image](../images/CH013_258.jpg)表达了*A*[*i*]与市场组合*M*的相关程度，因此反映了市场风险。
- en: Suppose instead of a single risky asset, a portfolio ![inline-image](../images/CH013_259.jpg)
    of risky assets *A* 1,…,*A* *k* is considered where ![inline-image](../images/CH013_260.jpg).
    Let ![inline-image](../images/CH013_261.jpg) denote the expected rate of return
    of the portfolio *p*. Then ![inline-image](../images/CH013_262.jpg) and
  id: totrans-518
  prefs: []
  type: TYPE_NORMAL
  zh: 假设考虑的不是单一的风险资产，而是一组风险资产![inline-image](../images/CH013_259.jpg)，记为*A*1,...,*A**k*，其中![inline-image](../images/CH013_260.jpg)。设![inline-image](../images/CH013_261.jpg)表示投资组合*p*的预期收益率。那么![inline-image](../images/CH013_262.jpg)，且
- en: '![display-image](../images/CH013_263.jpg)'
  id: totrans-519
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_263.jpg)'
- en: where ![inline-image](../images/CH013_264.jpg).
  id: totrans-520
  prefs: []
  type: TYPE_NORMAL
  zh: 其中![inline-image](../images/CH013_264.jpg)。
- en: The CAPM formula can be used to obtain the price of an asset. Let *P* be the
    price of an asset and denote the payoff of the asset after one period by *Q*.
    Note that *Q* is a random variable while *P* is not. Let ![inline-image](../images/CH013_265.jpg)
    denote the expectation of *Q*. The rate of return is ![inline-image](../images/CH013_266.jpg)
    and so the expected rate of return of the asset is ![inline-image](../images/CH013_267.jpg).
    We use *A* for *A* [*i*] in the CAPM formula ([13.16](#eq16)) which is ![inline-image](../images/CH013_268.jpg),
    where ![inline-image](../images/CH013_269.jpg). Substituting ![inline-image](../images/CH013_270.jpg)
    for *μ* in this formula and solving for *P* yields
  id: totrans-521
  prefs: []
  type: TYPE_NORMAL
  zh: 可以使用CAPM公式获取资产的价格。设*P*为资产的价格，并将资产在一期后的支付表示为*Q*。注意*Q*是一个随机变量，而*P*不是。设![inline-image](../images/CH013_265.jpg)表示*Q*的期望值。收益率为![inline-image](../images/CH013_266.jpg)，因此资产的预期收益率为![inline-image](../images/CH013_267.jpg)。我们在CAPM公式（[13.16](#eq16)）中使用*A*[*i*]来表示*A*，其中![inline-image](../images/CH013_268.jpg)，其中![inline-image](../images/CH013_269.jpg)。用这个公式替换*μ*，并解出*P*得到
- en: '![display-image](../images/CH013_271.jpg)(13.20)'
  id: totrans-522
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_271.jpg)(13.20)'
- en: 'The market portfolio is a theoretical concept. If one tries to apply this in
    practice, it will be required to construct a portfolio consisting of the humongous
    number of assets that are present in the market. This will clearly be infeasible.
    To tackle this problem, index funds have been created which attempt to approximate
    the market portfolio. In essence, the index funds consider a small subset of the
    dominant assets in the market. A well-known example is the Standard & Poor''s
    (S&P) 500-stock index which consists of 500 stocks. In applying the CAPM formula
    ([13.20](#eq20)) to an asset *A*, one then replaces S&P for the market portfolio
    *M*. Nevertheless, this requires knowing the rates of returns of *A* and S&P,
    the variance of S&P as well as the co-variance of *A* with S&P. Estimates of these
    quantities are obtained from historical data. Suppose, the values of ![inline-image](../images/CH013_272.jpg)
    and ![inline-image](../images/CH013_273.jpg) are known for *N* time points, where
    ![inline-image](../images/CH013_274.jpg) (resp. ![inline-image](../images/CH013_275.jpg))
    is the rate of return of asset *A* (resp. S&P) at time point *k*. Let ![inline-image](../images/CH013_276.jpg),
    ![inline-image](../images/CH013_277.jpg) be the estimates of the rates of returns
    of *A* and S&P, respectively. Similarly, let ![inline-image](../images/CH013_278.jpg)
    and ![inline-image](../images/CH013_279.jpg) be the estimates of the variance
    of S&P and the co-variance of *A* with S&P. These estimates are obtained from
    the available data as follows:'
  id: totrans-523
  prefs: []
  type: TYPE_NORMAL
  zh: 市场组合是一个理论概念。如果试图将其应用于实践，将需要构建一个包含市场上存在的庞大数量资产的投资组合。这显然是不可行的。为了解决这个问题，创建了指数基金，试图近似市场组合。实质上，指数基金考虑市场上主导资产的一个小子集。一个著名的例子是标准普尔（S&P）500股票指数，其中包含500只股票。在将CAPM公式（[13.20](#eq20)）应用于资产*A*时，然后用S&P替换市场组合*M*。然而，这需要知道资产*A*和S&P的回报率，S&P的方差以及*A*与S&P的协方差。这些数量的估算值是从历史数据中获得的。假设，对于*N*个时间点，知道了![inline-image](../images/CH013_272.jpg)和![inline-image](../images/CH013_273.jpg)的值，其中![inline-image](../images/CH013_274.jpg)（响应地![inline-image](../images/CH013_275.jpg)）是时间点*k*处资产*A*（响应地S&P）的回报率。设![inline-image](../images/CH013_276.jpg)，![inline-image](../images/CH013_277.jpg)是*A*和S&P的回报率的估计值。类似地，设![inline-image](../images/CH013_278.jpg)和![inline-image](../images/CH013_279.jpg)是S&P的方差和*A*与S&P的协方差的估计值。这些估计值是从可用数据中获得的，方法如下：
- en: '![display-image](../images/CH013_280.jpg)'
  id: totrans-524
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_280.jpg)'
- en: '![display-image](../images/CH013_281.jpg)'
  id: totrans-525
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_281.jpg)'
- en: '![display-image](../images/CH013_282.jpg)'
  id: totrans-526
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_282.jpg)'
- en: '![display-image](../images/CH013_283.jpg)'
  id: totrans-527
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_283.jpg)'
- en: Finally, an estimate ![inline-image](../images/CH013_284.jpg) of the *β* of
    the asset *A* is obtained as ![inline-image](../images/CH013_285.jpg).
  id: totrans-528
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，资产*A*的*β*的估算得到如下：![inline-image](../images/CH013_284.jpg)。
- en: 13.1.3 Further Issues
  id: totrans-529
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 13.1.3 进一步问题
- en: In this section, we briefly mention two further issues, namely factor models
    and robust portfolio optimisation. Detailed discussion of these issues is beyond
    the scope of this book.
  id: totrans-530
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们简要提及了另外两个问题，即因子模型和鲁棒组合优化。详细讨论这些问题超出了本书的范围。
- en: '**Factor models:** To apply the Markowitz mean–variance analysis, it is required
    to obtain the values of the expected rates of returns and variances of all the
    assets as well as their pairwise co-variances. Such information need to be estimated
    from the available data. If *n* assets are considered, then *n* means and variances
    have to be estimated as well as *n*(*n* − 1)/2 co-variances have to be estimated.
    Since the number of co-variances grows quadratically with *n*, it is difficult
    to obtain reliable estimates of these quantities.'
  id: totrans-531
  prefs: []
  type: TYPE_NORMAL
  zh: '**因子模型：** 应用马科维茨均值-方差分析需要获取所有资产的预期收益率和方差以及它们的两两协方差的值。这些信息需要从现有数据中估计出来。如果考虑了*n*个资产，则还必须估计*n*个均值和方差以及*n*(*n*
    − 1)/2个协方差。由于协方差的数量随*n*的增加而呈二次增长，因此很难获得这些数量的可靠估计。'
- en: Linear factor models aim to reduce the dimensionality of the variance/co-variance
    matrix. The idea is to consider a set of random variables called factors and express
    the rate of return of an asset as a linear combination of the factors along with
    an error term. Suppose the factors are *F* 1,…,*F* *ℓ* . Further, suppose there
    are *n* assets *A* 1,…,*A* [*n*] . The rate of return *R* [*i*] of asset *A* [*i*]
    is modelled as follows.
  id: totrans-532
  prefs: []
  type: TYPE_NORMAL
  zh: 线性因子模型旨在降低方差/协方差矩阵的维度。其思想是考虑一组称为因子的随机变量，并将资产的收益率表示为因子的线性组合加上一个误差项。假设因子为*F* 1,…,*F*
    *ℓ*。进一步假设有*n*个资产*A* 1,…,*A* [*n*]。资产*A* [*i*]的收益率*R* [*i*]建模如下。
- en: '![display-image](../images/CH013_286.jpg)(13.21)'
  id: totrans-533
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_286.jpg)(13.21)'
- en: Here *a* [*i*] , *b* [*i*],*j* are constants and ![inline-image](../images/CH013_287.jpg)
    is the error which is a ranom variable with mean 0 and is assumed to be uncorrelated
    with the factors. Also, for *i* ≠ *j*, ![inline-image](../images/CH013_288.jpg)
    and ![inline-image](../images/CH013_289.jpg) are assumed to be uncorrelated.
  id: totrans-534
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，*a* [*i*]、*b* [*i*] 和 *j* 是常数，而 ![inline-image](../images/CH013_287.jpg)
    是误差，是一个均值为0且假定与因子不相关的随机变量。此外，对于*i* ≠ *j*，假定 ![inline-image](../images/CH013_288.jpg)
    和 ![inline-image](../images/CH013_289.jpg) 不相关。
- en: 'Suppose ![inline-image](../images/CH013_290.jpg) is a portfolio of the *n*
    assets. Then the rate of return *R* of *p* is given as follows:'
  id: totrans-535
  prefs: []
  type: TYPE_NORMAL
  zh: 假设 ![inline-image](../images/CH013_290.jpg) 是*n*个资产的投资组合。则投资组合*p*的收益率*R*如下所示：
- en: '![display-image](../images/CH013_291.jpg)(13.22)'
  id: totrans-536
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_291.jpg)(13.22)'
- en: '![display-image](../images/CH013_292.jpg)(13.23)'
  id: totrans-537
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_292.jpg)(13.23)'
- en: where ![inline-image](../images/CH013_293.jpg), ![inline-image](../images/CH013_294.jpg)
    and ![inline-image](../images/CH013_295.jpg).
  id: totrans-538
  prefs: []
  type: TYPE_NORMAL
  zh: '![inline-image](../images/CH013_293.jpg), ![inline-image](../images/CH013_294.jpg)
    和 ![inline-image](../images/CH013_295.jpg) 的地方。'
- en: Performing the Markowitz analysis requires estimating the means and variances
    of the factors and their pairwise co-variances. Assuming ![inline-image](../images/CH013_296.jpg),
    the dimensionality of the variance/co-variance matrix decreases significantly.
  id: totrans-539
  prefs: []
  type: TYPE_NORMAL
  zh: 执行马科维茨分析需要估计因素的均值和方差以及它们的成对协方差。假设![inline-image](../images/CH013_296.jpg)，方差/协方差矩阵的维度显著减少。
- en: '**Robustness:** The input to the Markowitz portfolio optimisation problem consists
    of the estimates of the means, variances and the co-variances. The accuracies
    of these estimates have an effect on the ultimate solution. The goal of robust
    portfolio optimisation is to try and ensure that the accuracy of the ultimate
    solution is not significantly affected by uncertainty of the estimates.'
  id: totrans-540
  prefs: []
  type: TYPE_NORMAL
  zh: '**鲁棒性:** 马科维茨投资组合优化问题的输入包括均值、方差和协方差的估计值。这些估计值的准确性会影响最终的解决方案。鲁棒投资组合优化的目标是尽量确保最终解决方案的准确性不会受到估计不确定性的显著影响。'
- en: 13.2 Kelly Criterion
  id: totrans-541
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 13.2 凯利准则
- en: Consider a portfolio consisting of a risk-free asset *A* 0 and a risky asset
    *A* 1\. Let ![inline-image](../images/CH013_297.jpg) be the risk-free interest
    rate and *R* be the rate of return on *A* 1\. Suppose a total amount of investment
    *V* 0 is to be invested in these two assets. A fraction *f* is to be invested
    in *A* 1 and the fraction (1 − *f*) is to be invested in *A* 0\. The return on
    the investment (1 − *f*)*V* 0 on *A* 0 is ![inline-image](../images/CH013_298.jpg)
    and the return on the investment *fV* 0 on *A* 1 is *RfV* 0\. So, the total value
    after one period is *V* 1 and is given by ![inline-image](../images/CH013_299.jpg).
    The growth in investment as a function of *f* is ![inline-image](../images/CH013_300.jpg).
    An optimality goal would be to determine *f* such that the expected value of *G*
    is maximised. The Kelly approach is to determine *f* such that the expected value
    of ln *G* is maximised.
  id: totrans-542
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑一个由无风险资产*A* 0和风险资产*A* 1组成的投资组合。设![inline-image](../images/CH013_297.jpg)为无风险利率，*R*为*A*
    1的收益率。假设要在这两种资产中投资总金额*V* 0。在*A* 1中投资一部分*f*，在*A* 0中投资部分(1 − *f*)。在*A* 0上投资(1 −
    *f*)*V* 0的回报为![inline-image](../images/CH013_298.jpg)，在*A* 1上投资*fV* 0的回报为*RfV*
    0。因此，一期后的总价值为*V* 1，给出为![inline-image](../images/CH013_299.jpg)。作为*f*的函数的投资增长为![inline-image](../images/CH013_300.jpg)。一个最优性目标将是确定*f*，使得*G*的期望值最大化。凯利方法是确定*f*，使得ln
    *G*的期望值最大化。
- en: More generally, one can consider investment over a number of intervals with
    the same fraction *f* invested in *A* 1 in each interval. Suppose there are *T*
    intervals and the rates of returns are *R* 1,…,*R* [*T*] . For *t* = 1,…,*T*,
    let *V* [*t*] be the wealth after *t* intervals and *G* [*t*] = *V* [*t*] /*V*
    0\. Then ![inline-image](../images/CH013_301.jpg) and the average growth is ![inline-image](../images/CH013_302.jpg)
    which is the geometric mean of the growths in all the intervals. The Kelly approach
    is to determine *f* such that
  id: totrans-543
  prefs: []
  type: TYPE_NORMAL
  zh: 更一般地，可以考虑在多个间隔上的投资，每个间隔中投资 *A* 1 的比例都相同。假设有 *T* 个间隔，回报率为 *R* 1,…,*R* [*T*]。对于
    *t* = 1,…,*T*，设 *V* [*t*] 为 *t* 个间隔后的财富，*G* [*t*] = *V* [*t*] /*V* 0\. 则 ![inline-image](../images/CH013_301.jpg)，平均增长率为
    ![inline-image](../images/CH013_302.jpg)，这是所有间隔增长的几何平均值。凯利方法是确定 *f*，使得
- en: '![display-image](../images/CH013_303.jpg)'
  id: totrans-544
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_303.jpg)'
- en: is maximised.
  id: totrans-545
  prefs: []
  type: TYPE_NORMAL
  zh: 被最大化。
- en: In a more general sense, the criterion of maximising the expected value of the
    logarithm of the growth funtion is called the Kelly criterion. The value of *f*
    for which the maximum is attained is called the Kelly value.
  id: totrans-546
  prefs: []
  type: TYPE_NORMAL
  zh: 更一般地，最大化增长函数对数期望值的准则称为凯利准则。使得达到最大值的 *f* 被称为凯利值。
- en: Suppose *R* is a continuous random variable with ![inline-image](../images/CH013_304.jpg)
    and ![inline-image](../images/CH013_305.jpg). It is desired to determine the Kelly
    value. One may approach this problem using approximation. Divide the time interval
    into *T* equal independent steps with the return on *A* 1 in the *t*-th time interval
    being *R* [*t*] which is defined to be a random variable such that
  id: totrans-547
  prefs: []
  type: TYPE_NORMAL
  zh: 假设 *R* 是一个连续随机变量，其![inline-image](../images/CH013_304.jpg)和![inline-image](../images/CH013_305.jpg)。希望确定凯利值。可以使用近似方法来解决这个问题。将时间间隔划分为
    *T* 个相等的独立步骤，其中第 *t* 个时间间隔上 *A* 1 的回报为 *R* [*t*]，定义为一个随机变量，满足
- en: '![display-image](../images/CH013_306.jpg)'
  id: totrans-548
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_306.jpg)'
- en: so that ![inline-image](../images/CH013_307.jpg) and ![inline-image](../images/CH013_308.jpg).
    The risk-free rate of return in each time interval is also scaled down to ![inline-image](../images/CH013_309.jpg).
    The growth in *T* time intervals is
  id: totrans-549
  prefs: []
  type: TYPE_NORMAL
  zh: 使得 ![inline-image](../images/CH013_307.jpg) 和 ![inline-image](../images/CH013_308.jpg)。每个时间间隔内的无风险利率也被缩小到
    ![inline-image](../images/CH013_309.jpg)。 *T* 个时间间隔的增长为
- en: '![display-image](../images/CH013_310.jpg)'
  id: totrans-550
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_310.jpg)'
- en: For large *T*, ![inline-image](../images/CH013_311.jpg) obtained above is considered
    to be an approximation of the growth in the time interval which is equal to ![inline-image](../images/CH013_312.jpg).
    Let ![inline-image](../images/CH013_313.jpg). So,
  id: totrans-551
  prefs: []
  type: TYPE_NORMAL
  zh: 对于大 *T*，上述获得的 ![inline-image](../images/CH013_311.jpg) 被认为是等于 ![inline-image](../images/CH013_312.jpg)
    的时间间隔增长的近似值。设 ![inline-image](../images/CH013_313.jpg)。因此，
- en: '![display-image](../images/CH013_314.jpg)'
  id: totrans-552
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_314.jpg)'
- en: The next task is to expand ![inline-image](../images/CH013_315.jpg) as a Taylor
    series around 0\. For *i* ≥ 1, let ![inline-image](../images/CH013_316.jpg) be
    the *i*-th derivative of ![inline-image](../images/CH013_317.jpg). It is possible
    to show that ![inline-image](../images/CH013_318.jpg), ![inline-image](../images/CH013_319.jpg),
    ![inline-image](../images/CH013_320.jpg) and ![inline-image](../images/CH013_321.jpg)
    for ![inline-image](../images/CH013_322.jpg). So,
  id: totrans-553
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个任务是将![inline-image](../images/CH013_315.jpg)在0附近展开为泰勒级数。对于*i* ≥ 1，设![inline-image](../images/CH013_316.jpg)为![inline-image](../images/CH013_317.jpg)的*i*次导数。可以证明，![inline-image](../images/CH013_318.jpg)，![inline-image](../images/CH013_319.jpg)，![inline-image](../images/CH013_320.jpg)和![inline-image](../images/CH013_321.jpg)对于![inline-image](../images/CH013_322.jpg)成立。因此，
- en: '![display-image](../images/CH013_323.jpg)'
  id: totrans-554
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_323.jpg)'
- en: As ![inline-image](../images/CH013_324.jpg), ![inline-image](../images/CH013_325.jpg),
    where
  id: totrans-555
  prefs: []
  type: TYPE_NORMAL
  zh: 如![inline-image](../images/CH013_324.jpg), ![inline-image](../images/CH013_325.jpg)，其中
- en: '![display-image](../images/CH013_326.jpg)(13.24)'
  id: totrans-556
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_326.jpg)(13.24)'
- en: This ![inline-image](../images/CH013_327.jpg) corresponds to the expectation
    of the logarithm of the growth corresponding to the portfolio where fraction *f*
    is invested in *A* 1 with return determined by the continuous random variable
    *R*. The value of *f* which maximises ([13.24](#eq24)) is ![inline-image](../images/CH013_328.jpg).
    This value is often called the Kelly fraction of investment. The analysis does
    not require *f* to be non-negative. If ![inline-image](../images/CH013_329.jpg),
    then the optimal value ![inline-image](../images/CH013_330.jpg) turns out to be
    negative. This corresponds to short selling of the asset *A* 1\. Also, if ![inline-image](../images/CH013_331.jpg),
    then this corresponds to borrowing at the risk-free interest rate and investing
    in the risky asset. Further, the condition ![inline-image](../images/CH013_332.jpg)
    means that the entire amount is invested in the risky asset.
  id: totrans-557
  prefs: []
  type: TYPE_NORMAL
  zh: 这![inline-image](../images/CH013_327.jpg)对应于投资于具有由连续随机变量*R*决定回报的资产*A*1的投资组合的增长对数的期望。使得式([13.24](#eq24))最大化的*f*的值是![inline-image](../images/CH013_328.jpg)。该值通常被称为凯利投资比例。分析不要求*f*为非负。如果![inline-image](../images/CH013_329.jpg)，那么最优值![inline-image](../images/CH013_330.jpg)的结果是负的。这对应于对资产*A*1的卖空。此外，如果![inline-image](../images/CH013_331.jpg)，那么这对应于以无风险利率借贷并投资于风险资产。此外，条件![inline-image](../images/CH013_332.jpg)意味着全部金额都投资于风险资产。
- en: The above analysis can be extended to cover a portfolio consisting of a risk-free
    asset *A* 0 and one or more risky assets *A* 1,…,*A* [*n*] . Let the rate of return
    of *A* [*i*] be *R* [*i*] with mean ![inline-image](../images/CH013_333.jpg) and
    variance ![inline-image](../images/CH013_334.jpg). Further, let the co-variance
    of *R* [*i*] and *R* *j* be ![inline-image](../images/CH013_335.jpg). We denote
    the variance/co-variance matrix by ![inline-image](../images/CH013_336.jpg).
  id: totrans-558
  prefs: []
  type: TYPE_NORMAL
  zh: 上述分析可以扩展到包含一个无风险资产 *A* 0 和一个或多个风险资产 *A* 1,…,*A* [*n*] 的投资组合。设 *A* [*i*] 的回报率为
    *R* [*i*]，均值为 ![inline-image](../images/CH013_333.jpg)，方差为 ![inline-image](../images/CH013_334.jpg)。此外，设
    *R* [*i*] 和 *R* *j* 的协方差为 ![inline-image](../images/CH013_335.jpg)。我们用 ![inline-image](../images/CH013_336.jpg)
    表示方差/协方差矩阵。
- en: Suppose a fraction ![inline-image](../images/CH013_337.jpg) is invested in *A*
    0 and the fractions invested in *A* 1,…,*A* [*n*] are ![inline-image](../images/CH013_338.jpg),
    respectively, with ![inline-image](../images/CH013_339.jpg). Let the rate of return
    of the portfolio be *R* with mean *μ* and variance ![inline-image](../images/CH013_340.jpg).
    Then
  id: totrans-559
  prefs: []
  type: TYPE_NORMAL
  zh: 假设投资 *A* 0 的比例为 ![inline-image](../images/CH013_337.jpg)，投资 *A* 1,…,*A* [*n*]
    的比例分别为 ![inline-image](../images/CH013_338.jpg)，其中 ![inline-image](../images/CH013_339.jpg)。设投资组合的回报率为
    *R*，均值为 *μ*，方差为 ![inline-image](../images/CH013_340.jpg)。那么
- en: '![display-image](../images/CH013_341.jpg)(13.25)'
  id: totrans-560
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_341.jpg)(13.25)'
- en: Note that both *μ* and ![inline-image](../images/CH013_342.jpg) is expressed
    in terms of ![inline-image](../images/CH013_343.jpg) and does not involve ![inline-image](../images/CH013_344.jpg).
    We consider the previous analysis of a risky asset and a risk-free asset with
    ![inline-image](../images/CH013_345.jpg), i.e. the situation where the entire
    investment is made on the risky asset. In the present case, the risky asset is
    the portfolio built from *A* 0,*A* 1,…,*A* [*n*] with rate of return *R* having
    mean *μ* and variance ![inline-image](../images/CH013_346.jpg).
  id: totrans-561
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，*μ* 和 ![inline-image](../images/CH013_342.jpg) 都是用 ![inline-image](../images/CH013_343.jpg)
    表示的，不涉及 ![inline-image](../images/CH013_344.jpg)。我们考虑了之前对一个风险资产和一个无风险资产的分析，其中
    ![inline-image](../images/CH013_345.jpg)，即全部投资用于风险资产的情况。在当前情况下，风险资产是由 *A* 0，*A*
    1,…,*A* [*n*] 构建的投资组合，其回报率为 *R*，均值为 *μ*，方差为 ![inline-image](../images/CH013_346.jpg)。
- en: Using ![inline-image](../images/CH013_347.jpg) in ([13.24](#eq24)), we obtain
    the growth function to be ![inline-image](../images/CH013_348.jpg). Since *μ*
    and ![inline-image](../images/CH013_349.jpg) are functions of ![inline-image](../images/CH013_350.jpg),
    the growth function depends on ![inline-image](../images/CH013_351.jpg). We write
    ![inline-image](../images/CH013_352.jpg) to make this explicit. So, the following
    function needs to be maximised.
  id: totrans-562
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 ([13.24](#eq24)) 中的 ![inline-image](../images/CH013_347.jpg)，我们得到增长函数为 ![inline-image](../images/CH013_348.jpg)。由于
    *μ* 和 ![inline-image](../images/CH013_349.jpg) 是 ![inline-image](../images/CH013_350.jpg)
    的函数，增长函数取决于 ![inline-image](../images/CH013_351.jpg)。我们写成 ![inline-image](../images/CH013_352.jpg)
    以明确表示这一点。因此，需要最大化以下函数。
- en: '![display-image](../images/CH013_353.jpg)(13.26)'
  id: totrans-563
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_353.jpg)(13.26)'
- en: where *μ* and ![inline-image](../images/CH013_354.jpg) are given by ([13.25](#eq25)).
    This is a standard quadratic optimisation problem. The solution is obtained by
    solving the simultaneous linear equations ![inline-image](../images/CH013_355.jpg),
    *i* = 1,…,*n*. Assuming ![inline-image](../images/CH013_356.jpg) is invertible,
    the solution (*f* 1,…,*f* [*n*] ) is obtained to be ![inline-image](../images/CH013_357.jpg).
  id: totrans-564
  prefs: []
  type: TYPE_NORMAL
  zh: 其中*μ*和![inline-image](../images/CH013_354.jpg)由([13.25](#eq25))给出。这是一个标准的二次优化问题。通过解决同时线性方程组![inline-image](../images/CH013_355.jpg)，*i*
    = 1,…,*n*来获得解。假设![inline-image](../images/CH013_356.jpg)是可逆的，则解(*f*1,…,*f*[*n*])得到如下：![inline-image](../images/CH013_357.jpg)。
- en: 13.3 Universal Portfolios
  id: totrans-565
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 13.3 通用投资组合
- en: In this section, we consider portfolio optimisation from a different angle.
    A portfolio is a distribution of wealth across a number of assets. Trading takes
    place over multiple time periods. For an asset *A*, suppose the price at the beginning
    of a time period be *P* 0 and the price at the end of the time period be *P* 1\.
    Suppose an amount *X* is invested in the asset *A* at the beginning of the time
    period. This allows the purchase of *X*/*P* 0 quantities of *A* at the beginning
    of the time period whose value becomes *P* 1 *X*/*P* 0 at the end of the time
    period. Let *R* = *P* 1/*P* 0 so that the amount *X* grows to *RX* in the time
    period. The quantity *R* is called the price relative of the asset *A* in that
    time period. (Note that the price relative should not be confused with rate of
    return which was also denoted by *R* in the previous sections.) For considering
    the growth of wealth, the actual prices are not important. It is the price relative
    which determines this growth.
  id: totrans-566
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一节中，我们从不同的角度考虑投资组合优化问题。投资组合是在多个资产之间分配财富。交易发生在多个时间段内。对于资产*A*，假设一个时间段开始时的价格为*P*0，结束时的价格为*P*1。假设在时间段开始时投资了金额*X*在资产*A*上。这允许在时间段开始时购买*X*/*P*0的数量的*A*，其价值在时间段结束时变为*P*1*X*/*P*0。让*R*
    = *P*1/*P*0，使得金额*X*在时间段内增长到*RX*。量*R*被称为该时间段内资产*A*的价格相对值。（注意，价格相对值不应与前几节中也用*R*表示的收益率相混淆。）对于考虑财富增长，实际价格并不重要。决定这种增长的是价格相对值。
- en: Suppose there are *n* assets *A* 1,…,*A* [*n*] . Let the price relatives of
    the assets for time period *t* be denoted as ![inline-image](../images/CH013_358.jpg).
    Let ![inline-image](../images/CH013_359.jpg) be a portfolio where a proportion
    ![inline-image](../images/CH013_360.jpg) is invested in asset *A* [*i*] . Suppose
    *X* 0 is the total amount invested at the beginning of trading, i.e. the amount
    *X* 0 is distributed among the *n* assets as per the portfolio *p*. After one
    time period, the investments in the assets *A* 1,…,*A* [*n*] are ![inline-image](../images/CH013_361.jpg),
    respectively. The total wealth has changed from *X* 0 to *X* 1 = *RX* 0, where
    ![inline-image](../images/CH013_362.jpg). So, the proportions of investments in
    the various assets have changed. Due to the trading in the time period, the portfolio
    *p* has changed to ![inline-image](../images/CH013_363.jpg). At this point, the
    investor has the option of re-distributing the total wealth of *RX* 0 across the
    *n* assets before trading starts in the next time period. Suppose, the investor
    does not perform such re-distribution. Then, trading in the next time period will
    be based on the total investment of *X* 1 distributed according to the portfolio
    ![inline-image](../images/CH013_364.jpg). Proceeding in this manner, it is possible
    to determine the wealth (i.e. total investment in all the assets) at the end of
    *T* time periods for any *T* ≥ 1.
  id: totrans-567
  prefs: []
  type: TYPE_NORMAL
  zh: 假设存在*n*个资产*A*1,…,*A*[*n*]。让时间段*t*的资产价格相对值表示为![inline-image](../images/CH013_358.jpg)。让![inline-image](../images/CH013_359.jpg)为一个投资组合，其中比例![inline-image](../images/CH013_360.jpg)投资于资产*A*[*i*]。假设*X*0是交易开始时总投资金额，即*X*0根据投资组合*p*分配给*n*个资产。一个时间段后，资产*A*1,…,*A*[*n*]的投资分别为![inline-image](../images/CH013_361.jpg)。总财富已从*X*0变为*X*1=*RX*0，其中![inline-image](../images/CH013_362.jpg)。因此，各种资产的投资比例已经改变。由于该时间段的交易，投资组合*p*已更改为![inline-image](../images/CH013_363.jpg)。此时，投资者可以选择在下一个时间段开始交易之前重新分配*RX*0的总财富到*n*个资产中。假设投资者不执行此类重新分配。然后，下一个时间段的交易将基于根据投资组合![inline-image](../images/CH013_364.jpg)分配的*X*1的总投资。按照这种方式进行，可以确定在任何*T*≥1的时间段结束时的财富（即所有资产的总投资）。
- en: The question that arises is whether the investor should re-distribute the wealth
    at the end of each time period and if so, how should this re-distribution be done?
    The goal of course is to maximise the total wealth after a certain number *T*
    of time periods. The answer to this question depends on the values of the price
    relatives. These values, however, are available in the future. So, any decision
    to re-balance a portfolio cannot be based on the future values of the price relatives.
    Nonetheless, the total wealth at the end of *T* time periods does depend on the
    price relatives and in hindsight perhaps one can determine what would have been
    the best strategy for portfolio re-balancing after each time period. This hindsight
    information, while useful, cannot be used for determining an investment strategy.
  id: totrans-568
  prefs: []
  type: TYPE_NORMAL
  zh: 产生的问题是投资者是否应该在每个时间段结束时重新分配财富，如果是的话，应该如何进行这种重新分配？当然，目标是在一定数量的时间段*T*之后最大化总财富。这个问题的答案当然取决于价格相对值的数值。然而，这些数值在未来是可知的。因此，任何重新平衡投资组合的决定都不能基于未来价格相对值的数值。尽管如此，*T*个时间段结束时的总财富确实取决于价格相对值，或许事后可以确定在每个时间段结束后重新平衡投资组合的最佳策略是什么。虽然这种事后的信息很有用，但不能用于确定投资策略。
- en: Cover (1991), introduced a method for re-balancing portfolios at the end of
    each time period. This method makes no assumption on the price relatives or their
    distribution. Yet, he was able to show that portfolios constructed using his method
    perform well compared to the best portfolio among a large class of natural portfolios.
    In the following, we describe Cover's algorithm and the sense in which his algorithm
    is optimal.
  id: totrans-569
  prefs: []
  type: TYPE_NORMAL
  zh: Cover（1991年）提出了一种在每个时间段结束时重新平衡投资组合的方法。这种方法不对价格相对值或它们的分布做任何假设。然而，他能够证明，使用他的方法构建的投资组合与大类自然投资组合中的最佳投资组合相比表现良好。接下来，我们描述Cover的算法及其算法最优的意义。
- en: A constant re-balanced portfolio (CRP) is a strategy which redistributes the
    wealth at the end of each period so that the proportions of investments in the
    various assets remain unchanged. Going back to the previous example, starting
    with wealth *X* 0 invested in portfolio ![inline-image](../images/CH013_365.jpg)
    results in wealth *X* 1 = *RX* 0 distributed according to portfolio ![inline-image](../images/CH013_366.jpg).
    An investor following the CRP strategy will re-distribute the total weight *X*
    1 according to *p*, i.e. the amount held in *A* 1 is changed from *X* 1 *R* 1
    *α* 1/*R* to ![inline-image](../images/CH013_367.jpg), the amount held in *A*
    2 is changed from *X* 1 *R* 2 *α* 2/*R* to ![inline-image](../images/CH013_368.jpg),
    and so on. This process may involve buying or selling of the various assets to
    achieve the proportions in the portfolio *p*.
  id: totrans-570
  prefs: []
  type: TYPE_NORMAL
  zh: 常数再平衡投资组合（CRP）是一种策略，它在每个周期结束时重新分配财富，以使各种资产的投资比例保持不变。回到前面的例子，以投资组合![inline-image](../images/CH013_365.jpg)开始的财富*X*0导致根据投资组合![inline-image](../images/CH013_366.jpg)分配的财富*X*1=*RX*0。遵循CRP策略的投资者将根据*p*重新分配总权重*X*1，即*A*1中持有的金额从*X*1*R*1*α*1/*R*更改为![inline-image](../images/CH013_367.jpg)，持有的金额*A*2从*X*1*R*2*α*2/*R*更改为![inline-image](../images/CH013_368.jpg)，依此类推。这个过程可能涉及买卖各种资产以实现投资组合*p*中的比例。
- en: We consider a small theoretical example of when a CRP strategy can be useful.
    Suppose there are two assets *A* 1 and *A* 2\. The price of *A* 1 does not change,
    while the price of *A* 2 alternatively doubles and halves in successive time periods.
    If the total investment is made in any one of these assets, then the wealth does
    not change. Suppose a CRP strategy with *p* = (1/2, 1/2) is used. Let the initial
    investment be *X* 0 which is distributed across the two assets as (*X* 0/2, *X*
    0/2) following *p*. Assume that in the first time period, the price of *A* 2 halves.
    Then at the end of the first time period, the distribution of wealth is (*X* 0/2,
    *X* 0/4) and the total wealth is *X* 0/2 + *X* 0/4 = 3*X* 0/4\. This wealth is
    re-distributed as (3*X* 0/8, 3*X* 0/8) following *p*. In the second time period,
    the price of *A* 2 doubles and so the distribution of wealth becomes (3*X* 0/8,
    3*X* 0/4) for a total wealth of 9*X* 0/8\. So, in two time periods, the wealth
    *X* 0 has grown by a factor of 9/8 to 9*X* 0/8\. It is easy to see that in 2*t*
    time periods, the wealth will grow to (9/8) ^([*t*]) *X* 0\. Thus, the CRP strategy
    has led to an exponential growth in the wealth. The analysis can be extended to
    the case where the wealth of *A* 1 changes by factors of *r* 1 and 1/*r* 1 in
    alternate time intervals and the wealth of *A* 2 changes by factors of *r* 2 and
    1/*r* 2 in alternate time intervals for any *r* 1, *r* 2 > 1.
  id: totrans-571
  prefs: []
  type: TYPE_NORMAL
  zh: 我们考虑一个小的理论例子，说明CRP策略何时有用。假设有两种资产*A* 1和*A* 2。*A* 1的价格不变，而*A* 2的价格在连续的时间段内轮流翻倍和减半。如果总投资放在其中任何一个资产上，则财富不会改变。假设使用*p*
    = (1/2, 1/2)的CRP策略。让初始投资为*X* 0，根据*p*在两种资产之间分配为(*X* 0/2, *X* 0/2)。假设在第一个时间段中，*A*
    2的价格减半。那么在第一个时间段结束时，财富的分配是(*X* 0/2, *X* 0/4)，总财富为*X* 0/2 + *X* 0/4 = 3*X* 0/4。这个财富被重新分配为(3*X*
    0/8, 3*X* 0/8)遵循*p*。在第二个时间段中，*A* 2的价格翻倍，因此财富的分配变为(3*X* 0/8, 3*X* 0/4)，总财富为9*X*
    0/8。因此，在两个时间段内，财富*X* 0增长了9/8倍到9*X* 0/8。很容易看出，在2*t*时间段内，财富将增长到(9/8) ^([*t*]) *X*
    0。因此，CRP策略导致了财富的指数增长。分析可以扩展到*A* 1的财富在交替时间间隔内以*r* 1和1/*r* 1的因子改变，而*A* 2的财富在交替时间间隔内以*r*
    2和1/*r* 2的因子改变，其中*r* 1，*r* 2 > 1。
- en: The above example goes to underline that some CRPs may lead to a significant
    increase in wealth. Cover considers the set of all CRPs. A best CRP is one which
    provides the maximum increase in wealth among all the CRPs. The best CRP depends
    on the price relatives which are not known in advance. Cover shows that his algorithm
    of portfolio selection ensures that the growth of wealth is not much less than
    the best CRP.
  id: totrans-572
  prefs: []
  type: TYPE_NORMAL
  zh: 上述示例强调了一些CRP可能会导致财富显著增加。Cover认为所有CRP的集合。最佳CRP是在所有CRP中提供最大财富增长的CRP。最佳CRP取决于事先不知道的价格相对值。Cover显示他的投资组合选择算法确保财富增长不会比最佳CRP少太多。
- en: Let
  id: totrans-573
  prefs: []
  type: TYPE_NORMAL
  zh: 让
- en: '![display-image](../images/CH013_369.jpg)'
  id: totrans-574
  prefs: []
  type: TYPE_IMG
  zh: '![显示图像](../images/CH013_369.jpg)'
- en: be the set all possible portfolios over *n* assets *A* 1,…,*A* [*n*] . Note
    that, in this formulation we do not consider negative weights. We consider *T*
    time periods. The price relative for *A* [*i*] in time period *t* will be denoted
    as *r* [*t*],*i* , *t* = 1,…,*T* and *i* = 1,…,*n*. The price relative for all
    the assets in time period *t* will be denoted as **r** [*t*] = (*r* [*t*],1,…,*r*
    [*t*],*n* ). The sequence of price relatives **r** 1,…,**r** [*t*] will be denoted
    as **r** ^((*t*)).
  id: totrans-575
  prefs: []
  type: TYPE_NORMAL
  zh: 对于*n*个资产*A*1,...,*A*[*n*]的所有可能投资组合，设为集合A。注意，在这个表述中，我们不考虑负权重。我们考虑*T*个时间段。第*t*个时间段中*A*[*i*]的价格相对于参考价格将被表示为*r*[*t*],*i*，其中*t*=1,...,*T*，*i*=1,...,*n*。在第*t*个时间段中所有资产的价格相对于参考价格将被表示为**r**[*t*]=(*r*[*t*],1,...,*r*[*t*],*n*)。价格相对序列**r**1,...,**r**[*t*]将被表示为**r**^((*t*))。
- en: Given a portfolio **p**, by CRP **p** we will denote the CRP strategy executed
    with portfolio **p**, i.e. after each period, the wealth is re-distributed among
    the assets according to the portfolio **p**. Fix a portfolio ![inline-image](../images/CH013_370.jpg).
    Given the initial wealth to be *X* 0, after the first time period the wealth becomes
    ![inline-image](../images/CH013_371.jpg), where (**p**·**r** 1) denotes the dot
    product of **p** and **r** 1 and is equal to ![inline-image](../images/CH013_372.jpg).
    By a similar reasoning, the wealth at the end of second period is *X* 2 = *X*
    1(**p**·**r** 2) = *X* 0(**p**·**r** 1)(**p**·**r** 2). Extending, we have that
    the wealth at the end of *t* time periods is *X* [*t*] = *X* 0(**p**·**r** 1)⋯(**p**·**r**
    [*t*] ). The growth in wealth is *X* [*t*] /*X* 0 and we define
  id: totrans-576
  prefs: []
  type: TYPE_NORMAL
  zh: 给定一个投资组合**p**，通过CRP **p**我们将指代使用投资组合**p**执行的CRP策略，即每个时间段后，财富根据投资组合**p**重新分配给各资产。固定一个投资组合![inline-image](../images/CH013_370.jpg)。给定初始财富为*X*0，在第一个时间段后，财富变为![inline-image](../images/CH013_371.jpg)，其中(**p**·**r**1)表示**p**和**r**1的点积，等于![inline-image](../images/CH013_372.jpg)。通过类似推理，第二个时间段结束时的财富为*X*2=*X*1(**p**·**r**2)=*X*0(**p**·**r**1)(**p**·**r**2)。扩展开来，我们有第*t*个时间段结束时的财富为*X*[*t*]=*X*0(**p**·**r**1)⋯(**p**·**r**[*t*])。财富的增长率为*X*[*t*]/*X*0，我们定义
- en: '![display-image](../images/CH013_373.jpg)'
  id: totrans-577
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_373.jpg)'
- en: 'Let *D* be a probability distribution on the set of all portfolios. Suppose
    a portfolio **p** is picked following *D*. At the end of (*t* − 1) time periods,
    the sequence of price relatives given by **r** ^((*t*−1)) is known. Consider the
    random variable *G* [*t*]−1(**p**, **r** ^((*t*−1))) which determines the growth
    of wealth in (*t* − 1) time periods using CRP **p** . Note that at the end of
    (*t* − 1) time periods, there is no randomness in **r** ^((*t*−1)) and the only
    randomness in *G* [*t*]−1(**p**, **r** ^((*t*−1))) arises from the choice of **p**.
    The expected growth in wealth in (*t* − 1) time periods is ![inline-image](../images/CH013_374.jpg),
    where this expectation is defined as the following integral:'
  id: totrans-578
  prefs: []
  type: TYPE_NORMAL
  zh: 设*D*是所有投资组合集合上的概率分布。假设根据*D*选择了投资组合**p**。在(*t* − 1)个时间段结束时，由**r** ^((*t*−1))给出的价格相对数列是已知的。考虑随机变量*G*
    [*t*]−1(**p**, **r** ^((*t*−1)))，它确定了使用CRP **p** 在(*t* − 1)个时间段内的财富增长。请注意，在(*t*
    − 1)个时间段结束时，**r** ^((*t*−1))中没有随机性，*G* [*t*]−1(**p**, **r** ^((*t*−1)))中的唯一随机性来自于**p**的选择。(*t*
    − 1)个时间段内的财富增长的期望值为![inline-image](../images/CH013_374.jpg)，其中该期望值定义如下积分：
- en: '![display-image](../images/CH013_375.jpg)(13.27)'
  id: totrans-579
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_375.jpg)(13.27)'
- en: Next consider the random vector
  id: totrans-580
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来考虑随机向量
- en: '![display-image](../images/CH013_376.jpg)'
  id: totrans-581
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_376.jpg)'
- en: 'The expected value of this vector is ![inline-image](../images/CH013_377.jpg)
    and is defined as the following integral:'
  id: totrans-582
  prefs: []
  type: TYPE_NORMAL
  zh: 该向量的期望值为![inline-image](../images/CH013_377.jpg)，并定义为以下积分：
- en: '![display-image](../images/CH013_378.jpg)(13.28)'
  id: totrans-583
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_378.jpg)(13.28)'
- en: 'Cover''s algorithm constructs a sequence of portfolios **u** 1,…,**u** [*T*]
    , where **u** [*t*] is the portfolio to be used in time period *t*. The initial
    portfolio **u** 1 is taken to be the uniform distribution of investment across
    all the *n* assets, i.e. **u** 1 = (1/*n*,…,1/*n*). For ![inline-image](../images/CH013_379.jpg),
    **u** [*t*] is defined as follows:'
  id: totrans-584
  prefs: []
  type: TYPE_NORMAL
  zh: Cover的算法构建了一系列投资组合**u** 1,…,**u** [*T*]，其中**u** [*t*]是在时间段*t*中要使用的投资组合。初始投资组合**u**
    1 被选为在所有*n*资产上的均匀分布，即**u** 1 = (1/*n*,…,1/*n*)。对于![inline-image](../images/CH013_379.jpg)，**u**
    [*t*] 定义如下：
- en: '![display-image](../images/CH013_380.jpg)(13.29)'
  id: totrans-585
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_380.jpg)(13.29)'
- en: The sequence u1,…,**u** [*T*] obtained in this manner is called a universal
    sequence of portfolios, and the method for obtaining the sequence is called the
    universal portfolio selection algorithm. Since the portfolios change after each
    time period, a universal sequence of portfolios is not a CRP.
  id: totrans-586
  prefs: []
  type: TYPE_NORMAL
  zh: 用这种方法得到的序列u1,…,**u** [*T*] 被称为一种**通用组合序列**，而获得该序列的方法被称为**通用投资组合选择算法**。由于投资组合在每个时间段之后都会改变，通用组合序列不是CRP。
- en: Given an initial investment *X* 0, using CRP **p** , after *T* time periods,
    wealth of CRP **p** is *X* 0 *G* [*T*] (**p**, **r** ^((*T*))). Given a universal
    sequence of portfolios **u** 1,…,**u** [*T*] , the wealth after *T* time periods
    is compactly denoted as ‘wealth of UNIVERSAL’ and is given as ![inline-image](../images/CH013_381.jpg).
  id: totrans-587
  prefs: []
  type: TYPE_NORMAL
  zh: 给定初始投资*X* 0，使用CRP **p**，经过*T*时间周期，CRP **p**的财富为*X* 0 *G* [*T*] (**p**, **r**
    ^((*T*)))。给定一系列通用投资组合**u** 1,…,**u** [*T*]，*T*时间周期后的财富被简洁地表示为‘通用财富’，如下所示：![inline-image](../images/CH013_381.jpg)。
- en: Let *U* be the uniform distribution over ![inline-image](../images/CH013_382.jpg).
    Cover showed
  id: totrans-588
  prefs: []
  type: TYPE_NORMAL
  zh: 让*U*是在![inline-image](../images/CH013_382.jpg)上的均匀分布。Cover 表明
- en: '![display-image](../images/CH013_383.jpg)(13.30)'
  id: totrans-589
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_383.jpg)(13.30)'
- en: 'Let ‘wealth of best CRP’ denote the maximum wealth achieved by any CRP in *T*
    time periods. The optimality result proved by Cover and Ordentlich (1996) compares
    the ‘wealth of UNIVERSAL’ with the ‘wealth of best CRP’ and is given as follows:'
  id: totrans-590
  prefs: []
  type: TYPE_NORMAL
  zh: 让‘最佳CRP的财富’表示*T*时间周期内任何CRP实现的最大财富。Cover和Ordentlich（1996）证明的最优性结果将‘通用财富’与‘最佳CRP的财富’进行比较，如下所示：
- en: '![display-image](../images/CH013_384.jpg)(13.31)'
  id: totrans-591
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_384.jpg)(13.31)'
- en: The lower bound on the ratio is over *T* time periods. The average per period
    ratio is ![inline-image](../images/CH013_385.jpg) which increases to 1 as *T*
    goes to infinity. So, asymptotically, ([13.31](#eq31)) shows that the wealth that
    can be achieved by the universal portfolio selection algorithm is as good as that
    which can be achieved by the best CRP. The remarkable feature of this result is
    that this optimality condition is achieved by the universal portfolio selection
    algorithm without any knowledge of the future price relatives. It is in this sense
    that the algorithm is called universal.
  id: totrans-592
  prefs: []
  type: TYPE_NORMAL
  zh: 比率的下界是*T*时间周期。每期平均比率为![inline-image](../images/CH013_385.jpg)，随着*T*趋于无穷大而增加到1。因此，渐近地，([13.31](#eq31))显示，通用投资组合选择算法可以实现的财富与最佳CRP可以实现的财富一样好。这个结果的显著特点是，通用投资组合选择算法在没有未来价格相对性知识的情况下实现了这个最优性条件。从这个意义上说，该算法被称为通用。
- en: The actual implementation of the universal portfolio selection algorithm given
    by ([13.29](#eq29)) requires the determination of the expectation and hence the
    integrals given by ([13.27](#eq27)) and ([13.28](#eq28)). One way to do this is
    to approximate the integral using discretisation. We discuss this issue, since
    it also lends some insight into the definition of the universal portfolio selection
    algorithm.
  id: totrans-593
  prefs: []
  type: TYPE_NORMAL
  zh: 给出的通用投资组合选择算法的实际实现需要确定期望值，因此给出了由([13.27](#eq27))和([13.28](#eq28))给出的积分。一个方法是使用离散化近似积分。我们讨论这个问题，因为它也为通用投资组合选择算法的定义提供了一些见解。
- en: 'Suppose that we wish to determine **u** [*t*] , i.e. the universal portfolio
    to be used in time period *t*. At this point, the sequence of price relative **r**
    ^((*t*−1)) has already become available. The integrals required in the determination
    of **u** [*t*] are approximated by sums over a number of suitably chosen portfolios.
    Suppose *N* portfolios **p** 1,…,**p** [*n*] are sampled independently from **P**
    following the distribution *D*. The growth of wealth using ![inline-image](../images/CH013_386.jpg)
    is *G* [*t*]−1(**p** [*k*] , **r** ^((*t*−1))). So, an approximation of ([13.27](#eq27))
    is obtained as follows:'
  id: totrans-594
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们希望确定**u**[*t*]，即在时间段*t*中使用的通用组合。此时，价格相对数列**r**^((*t*−1))已经可用。确定**u**[*t*]所需的积分是通过对一些适当选择的组合求和来近似的。假设从符合分布*D*的**P**中独立采样了*N*个组合**p**1,...,**p**[*n*]。使用![inline-image](../images/CH013_386.jpg)的财富增长是*G*[*t*]−1(**p**[*k*],
    **r**^((*t*−1)))。因此，可以得到式([13.27](#eq27))的近似如下：
- en: '![display-image](../images/CH013_387.jpg)'
  id: totrans-595
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_387.jpg)'
- en: 'Let ![inline-image](../images/CH013_388.jpg), i.e. the portfolio assigns weight
    ![inline-image](../images/CH013_389.jpg) to asset *A* [*i*] . An approximation
    of ([13.28](#eq28)) is obtained as follows:'
  id: totrans-596
  prefs: []
  type: TYPE_NORMAL
  zh: 让![inline-image](../images/CH013_388.jpg)，即该组合将权重![inline-image](../images/CH013_389.jpg)分配给资产*A*[*i*]。可以得到式([13.28](#eq28))的近似如下：
- en: '![display-image](../images/CH013_390.jpg)'
  id: totrans-597
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_390.jpg)'
- en: Writing **u** [*t*] = (*u* [*t*],1,…,*u* [*t*],*n* ), from ([13.29](#eq29)),
    we have
  id: totrans-598
  prefs: []
  type: TYPE_NORMAL
  zh: 将**u**[*t*] = (*u*[*t*],1,...,*u*[*t*],*n*)，从([13.29](#eq29))得到
- en: '![display-image](../images/CH013_391.jpg)(13.32)'
  id: totrans-599
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_391.jpg)(13.32)'
- en: '![display-image](../images/CH013_392.jpg)(13.33)'
  id: totrans-600
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH013_392.jpg)(13.33)'
- en: where ![inline-image](../images/CH013_393.jpg). In other words, the *i*-th component
    of **u** [*t*] is obtained as a weighted sum of the *i*-th components (i.e. the
    ![inline-image](../images/CH013_394.jpg)'s) of the sampled portfolios **p** 1,…,**p**
    [*n*] . The weight *w* [*t*]−1,*k* assigned to the portfolio **p** *k* is the
    wealth this portfolio would make using ![inline-image](../images/CH013_395.jpg)
    normalised by the sum total of the wealth that all the *N* portfolios would together
    make.
  id: totrans-601
  prefs: []
  type: TYPE_NORMAL
  zh: 其中![inline-image](../images/CH013_393.jpg)。换句话说，**u** [*t*]的第*i*个分量是从采样组合**p**1,...,**p**[*n*]的第*i*个分量（即![inline-image](../images/CH013_394.jpg)）的加权和中获得的。分配给组合**p***k*的权重*w*[*t*]−1,*k*是使用![inline-image](../images/CH013_395.jpg)归一化后的这个组合可以获得的财富，除以所有*N*个组合共同获得的总财富。
- en: For a fixed *t*, the computation of the weights *w* [*t*]−1,*k* for *k* = 1,…,*N*
    requires *O*(*Ntn*) time and *O*(*Nt*) space. The number of samples *N* has to
    be sufficiently large for the procedure to yield results of acceptable accuracy.
    This requirement pushes up the time and space requirements of the algorithm. A
    related issue is that of sampling from ![inline-image](../images/CH013_396.jpg)
    following the distribution *D*. In the case where *D* is the uniform distribution,
    there are algorithms for performing this sampling. The more general Dirichlet
    distribution has been proposed for *D*. This makes the sampling problem more complicated,
    though algorithms have been proposed for this task.
  id: totrans-602
  prefs: []
  type: TYPE_NORMAL
  zh: 对于固定的*t*，计算权重*w* [*t*]−1,*k*对*k* = 1,…,*N*需要*O*(*Ntn*)的时间和*O*(*Nt*)的空间。样本数*N*必须足够大，以便该过程产生可接受精度的结果。这一要求推高了算法的时间和空间需求。一个相关问题是从分布*D*中采样![inline-image](../images/CH013_396.jpg)。在*D*是均匀分布的情况下，有算法可以执行这种采样。更一般的狄利克雷分布被提议用于*D*。这使得采样问题更加复杂，尽管已经提出了一些算法来解决这个任务。
- en: '**Notes**'
  id: totrans-603
  prefs: []
  type: TYPE_NORMAL
  zh: '**注**'
- en: Markowitz's portfolio optimisation methodology is a cornerstone in mathematical
    finance. Our coverage of the topic has been elementary. There are a number of
    books and online courses which provide more in-depth discussion. We have benefitted
    from some of the notes by Sigman (2005). Cover's algorithm was proposed in Cover
    (1991). There has been a number of later works building on Cover's original ideas.
    Kelly (1956) had originally proposed his idea in the context of information theory.
    Our description of Kelly criterion is based on Thorp (2006) and Hung (2010).
  id: totrans-604
  prefs: []
  type: TYPE_NORMAL
  zh: 马科维茨的投资组合优化方法是数学金融中的基石。我们对这个主题的涵盖是基础性的。有很多书籍和在线课程提供了更深入的讨论。我们受益于Sigman（2005）的一些笔记。Cover的算法是在Cover（1991）中提出的。后来有一些工作建立在Cover的原始想法上。Kelly（1956）最初是在信息理论的背景下提出了他的想法。我们对Kelly准则的描述基于Thorp（2006）和Hung（2010）。
- en: Chapter 14
  id: totrans-605
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第14章
- en: Measures of Risk
  id: totrans-606
  prefs: []
  type: TYPE_NORMAL
  zh: 风险度量
- en: The goal of an investment is to earn a return. Investments such as government
    bonds and bank deposits earn a fixed rate of return. Such investments are considered
    to be free of any risk. Investments in other financial instruments such as stocks
    and options have the possibility of providing higher rates of returns. This is
    counter-balanced by the possibility of losing money in the investment. Therein
    arises the risk of the investment. There has been a great deal of work on modelling
    risk and using it as a tool in deciding upon an investment. In this chapter, we
    briefly consider some of the important measures of risk that have been considered
    in the literature.
  id: totrans-607
  prefs: []
  type: TYPE_NORMAL
  zh: 投资的目标是获取回报。像政府债券和银行存款这样的投资能够获得固定利率的回报。这些投资被认为是没有任何风险的。而投资于股票和期权等其他金融工具可能提供更高的回报率。这种可能性被可能在投资中亏损资金的可能性所抵消。因此产生了投资的风险。关于对风险进行建模和将其作为决定投资的工具进行使用的工作已经有很多。在本章中，我们简要讨论了文献中考虑的一些重要风险度量。
- en: Actually, we have already considered aspects of risk in the previous chapter.
    Considering the return to be a random variable (having at least two moments),
    the standard deviation captures the variability in the return. This is a measure
    of risk. Another risk measure that we have encountered is the *β* in the CAPM
    which is a measure of the undiversifiable risk. In this chapter, we look at two
    other measures of risk, namely the value-at-risk (VaR) and the conditional value-at-risk
    (CVaR). Also, we will consider the Sharpe ratio which is essentially a reward
    to risk ratio. Finally, we briefly describe the theory of Copulas and their application
    to risk assessment.
  id: totrans-608
  prefs: []
  type: TYPE_NORMAL
  zh: 实际上，在前一章中我们已经考虑了风险的方面。考虑到回报是一个随机变量（至少有两个时刻），标准差捕捉了回报的变异性。这是一种风险度量。我们遇到的另一种风险度量是
    CAPM 中的*β*，它是一种不可分散风险的度量。在本章中，我们将研究另外两种风险度量，即风险价值（VaR）和条件风险价值（CVaR）。此外，我们还将考虑夏普比率，这本质上是一种风险收益比。最后，我们简要介绍
    Copulas 理论及其在风险评估中的应用。
- en: 14.1 VaR and CVaR
  id: totrans-609
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 14.1 VaR 和 CVaR
- en: One way of obtaining an idea of risk of an investment is to obtain an idea of
    the loss that can potentially arise from the investment. Let *X* denote the loss
    that can arise from an investment. In general, *X* will be a random variable.
    So, one can meaningfully ask for the chance that the loss *X* will be more than
    a specified value. One can turn the question around to make it more meaningful
    to the investor. The investor fixes a probability *α* and wants to know the minimum
    number *x* such that the probability of the loss being less than or equal to *x*
    is at least *α*. In other words, the investor wishes to know the lower *α*-percentile
    of the loss *X*. The number *x* depends on *α*. As *α* increases, so does the
    value of *x*. The value-at-risk ![inline-image](../images/CH014_1.jpg) at level
    ![inline-image](../images/CH014_2.jpg) is the number *x*. More formally,
  id: totrans-610
  prefs: []
  type: TYPE_NORMAL
  zh: 衡量投资风险的一种方法是了解投资可能造成的损失。让 *X* 表示投资可能带来的损失。一般来说，*X* 将是一个随机变量。因此，人们可以有意义地询问损失
    *X* 超过特定值的机会。人们可以反过来提出问题，使其对投资者更有意义。投资者确定一个概率 *α*，并想知道使损失小于或等于 *x* 的概率至少为 *α*
    的最小数 *x*。换句话说，投资者希望了解损失 *X* 的下 *α* 分位数。数字 *x* 取决于 *α*。随着 *α* 的增加，*x* 的值也会增加。在水平
    *α* 处的风险价值 ![inline-image](../images/CH014_1.jpg) 是数字 *x*。更正式地说，
- en: '![display-image](../images/CH014_3.jpg)(14.1)'
  id: totrans-611
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH014_3.jpg)(14.1)'
- en: Let *F* *X* (*x*) be the (cumulative) distribution function for the random variable
    *X*. Then it follows that ![inline-image](../images/CH014_4.jpg).
  id: totrans-612
  prefs: []
  type: TYPE_NORMAL
  zh: 让 *F* *X* (*x*) 是随机变量 *X* 的（累积）分布函数。然后可以得出 ![inline-image](../images/CH014_4.jpg)。
- en: We have considered *X* to be the loss of an investment. The definition in ([14.1](#eq1)),
    however, holds for any random variable *X* irrespective of its interpretation
    as the loss of an investment. This makes VaR a much used concept in various areas
    of engineering.
  id: totrans-613
  prefs: []
  type: TYPE_NORMAL
  zh: 我们考虑*X*为投资损失。然而，([14.1](#eq1))中的定义适用于任何随机变量*X*，无论其被解释为投资损失与否。这使得VaR成为各种工程领域中广泛使用的概念。
- en: Coming back to the interpretation of *X* being the loss in an investment, we
    consider some examples to illustrate the definition in ([14.1](#eq1)). Suppose
    ![inline-image](../images/CH014_5.jpg) and ![inline-image](../images/CH014_6.jpg).
    This tells an investor that with at least 95% chance the loss will be at most
    *x* 0, or, equivalently, the possiblity of the loss being more than *x* 0 is at
    most 5%. Next, suppose the investor wishes to obtain similar statements for ![inline-image](../images/CH014_7.jpg).
    Let VaR0.95(*X*) = *x* 1\. So, with at least 99% chance the loss will be at most
    *x* 1, or, equivalently, the possiblity of the loss being *x* 1 or more is at
    most 1%. Note that *x* 1 will in general be more than *x* 0\. So, by having a
    higher threshold of loss, an investor is able to reduce the probability of the
    loss.
  id: totrans-614
  prefs: []
  type: TYPE_NORMAL
  zh: 回到*X*被解释为投资损失的观点，我们考虑一些例子来说明在([14.1](#eq1))中的定义。假设![inline-image](../images/CH014_5.jpg)和![inline-image](../images/CH014_6.jpg)。这告诉投资者，至少有95%的机会损失将不超过*x*0，或者说，损失超过*x*0的可能性不超过5%。接下来，假设投资者希望获得关于![inline-image](../images/CH014_7.jpg)的类似陈述。让VaR0.95(*X*)=*x*1。因此，至少有99%的机会损失不会超过*x*1，或者说，损失为*x*1或更多的可能性不超过1%。注意*x*1通常会大于*x*0。因此，通过设置更高的损失阈值，投资者能够降低损失的概率。
- en: The random variable *X* can model various kinds of losses. If an investor is
    interested in possible loss on a single day, then *X* will denote the day loss
    function. More generally, *X* can denote the loss incurred over a fixed number
    of days. In any such situation, ![inline-image](../images/CH014_8.jpg) will capture
    the threshold of loss modelled using *X* at the level *α*.
  id: totrans-615
  prefs: []
  type: TYPE_NORMAL
  zh: 随机变量*X*可以模拟各种类型的损失。如果投资者对单日可能的损失感兴趣，则*X*将表示当日的损失函数。更一般地，*X*可以表示在固定天数内发生的损失。在任何这种情况下，![inline-image](../images/CH014_8.jpg)将捕捉使用*X*模拟的损失模型在水平*α*处的阈值。
- en: Suppose *X* follows a normal distribution with mean ![inline-image](../images/CH014_9.jpg)
    and variance ![inline-image](../images/CH014_10.jpg). Then ![inline-image](../images/CH014_11.jpg)
    follows the standard normal distribution denoted by ![inline-image](../images/CH014_12.jpg).
    Suppose ![inline-image](../images/CH014_13.jpg). Then ![inline-image](../images/CH014_14.jpg).
    So, ![inline-image](../images/CH014_15.jpg), i.e. ![inline-image](../images/CH014_16.jpg)
    and so ![inline-image](../images/CH014_17.jpg). For a fixed *μ* and level *α*,
    this shows that ![inline-image](../images/CH014_18.jpg) increases with *σ*. This
    corresponds with the intuition used earlier that the standard deviation is a measure
    of risk.
  id: totrans-616
  prefs: []
  type: TYPE_NORMAL
  zh: 假设*X*服从均值 ![inline-image](../images/CH014_9.jpg) 和方差 ![inline-image](../images/CH014_10.jpg)
    的正态分布。那么 ![inline-image](../images/CH014_11.jpg) 服从以 ![inline-image](../images/CH014_12.jpg)
    表示的标准正态分布。假设 ![inline-image](../images/CH014_13.jpg)。那么 ![inline-image](../images/CH014_14.jpg)。所以，![inline-image](../images/CH014_15.jpg)，即
    ![inline-image](../images/CH014_16.jpg) ，因此 ![inline-image](../images/CH014_17.jpg)。对于固定的*μ*和水平*α*，这表明
    ![inline-image](../images/CH014_18.jpg) 随着*σ*的增加而增加。这与先前使用的标准差是风险的度量的直觉相对应。
- en: 'The VaR provides an investor with threshold information. For a level *α*, it
    specifies the threshold *x* such that the loss will stay below *x* with probability
    at least *α*. The threshold ![inline-image](../images/CH014_19.jpg) essentially
    defines a tail of the loss distribution ![inline-image](../images/CH014_20.jpg).
    This threshold does not say anything about what happens in the tail itself. An
    investor may be interested in this information. The reasoning might be as follows:
    OK, if *α* is small, the chance that the loss will be more than ![inline-image](../images/CH014_21.jpg)
    is small, but, nonetheless, such an event might occur; in case the event occurs,
    then is it possible to quantify the *amount* of loss that would be incurred?'
  id: totrans-617
  prefs: []
  type: TYPE_NORMAL
  zh: VaR（价值风险，Value at Risk）为投资者提供了阈值信息。对于水平*α*，它指定了阈值*x*，使得损失至少有*α*的概率保持在*x*以下。这个阈值
    ![inline-image](../images/CH014_19.jpg) 本质上定义了损失分布的尾部 ![inline-image](../images/CH014_20.jpg)。这个阈值并不说明尾部本身会发生什么。投资者可能对这些信息感兴趣。推理可能如下：好吧，如果*α*很小，损失超过
    ![inline-image](../images/CH014_21.jpg) 的机会很小，但是，尽管如此，这样的事件可能发生；在事件发生的情况下，是否可能量化会发生的损失的*数量*呢？
- en: This changes the nature of the problem in two fundamental ways. First, instead
    of ignoring the tail of the distribution beyond the threshold, the investor is
    actually interested in what is happening in the tail. Second, instead of a threshold,
    the investor is asking for an estimate of the loss. The conditional value-at-risk,
    ![inline-image](../images/CH014_22.jpg) at level *α*, is one way of addressing
    these two issues.
  id: totrans-618
  prefs: []
  type: TYPE_NORMAL
  zh: 这改变了问题的性质，有两个根本性的方面。首先，投资者不再忽视阈值之外的分布尾部，而是对尾部发生的情况感兴趣。其次，投资者不再只关注阈值，而是要求损失的估计。条件风险价值，
    ![inline-image](../images/CH014_22.jpg) 在水平*α*下，是解决这两个问题的一种方式。
- en: Before getting into the formal definition, let us try to understand the problem
    in a somewhat intuitive manner. Once *α* is fixed, the value ![inline-image](../images/CH014_23.jpg)
    is determined. Let *S* be the set of values greater than *x* that *X* can possibly
    take. The values in *S* are the possible values of the loss which are greater
    than *x*. An average of these losses is an estimate of the loss if the loss happens
    to cross the threshold *x*. For computing the average, the original distribution
    of *X* has to be normalised by ![inline-image](../images/CH014_24.jpg) which is
    the probability that *X* belongs to *S*. So, roughly speaking, one may take the
    average of the losses greater than *x* to be the conditional value-at-risk. This
    intuition, though helpful, ignores certain subtleties. We explain some of these
    subtleties after providing the formal definition of ![inline-image](../images/CH014_25.jpg).
  id: totrans-619
  prefs: []
  type: TYPE_NORMAL
  zh: 在正式定义之前，让我们尝试以一种直观的方式理解问题。一旦固定了*α*，值![inline-image](../images/CH014_23.jpg)就确定了。设*S*为*X*可能取的大于*x*的值的集合。*S*中的值是大于*x*的损失的可能值。对这些损失取平均值就是如果损失超过阈值*x*的情况下的损失的估计值。为了计算平均值，*X*的原始分布必须被![inline-image](../images/CH014_24.jpg)归一化，这是*X*属于*S*的概率。因此，粗略地说，可以把大于*x*的损失的平均值视为条件风险值。尽管这种直觉有所帮助，但它忽略了一些微妙之处。在提供![inline-image](../images/CH014_25.jpg)的正式定义后，我们会解释其中一些微妙之处。
- en: 'Let *X* be a random variable with a distribution function ![inline-image](../images/CH014_26.jpg).
    Fix a level *α* and let ![inline-image](../images/CH014_27.jpg). We define the
    distribution function ![inline-image](../images/CH014_28.jpg) as follows:'
  id: totrans-620
  prefs: []
  type: TYPE_NORMAL
  zh: 设*X*是一个具有分布函数![inline-image](../images/CH014_26.jpg)的随机变量。固定一个水平*α*，让![inline-image](../images/CH014_27.jpg)。我们定义分布函数![inline-image](../images/CH014_28.jpg)如下：
- en: '![display-image](../images/CH014_29.jpg)'
  id: totrans-621
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH014_29.jpg)'
- en: 'The entire probability mass of ![inline-image](../images/CH014_30.jpg) lies
    in the set *S* = {*z* : *z* ≥ *x* 0} and in this set ![inline-image](../images/CH014_31.jpg)
    is essentially a translated and normalised version of ![inline-image](../images/CH014_32.jpg).
    Let *Z* be a random variable following the distribution ![inline-image](../images/CH014_33.jpg).
    Then ![inline-image](../images/CH014_34.jpg) is defined to be the expectation
    of *Z*, i.e.'
  id: totrans-622
  prefs: []
  type: TYPE_NORMAL
  zh: '![inline-image](../images/CH014_30.jpg)的整个概率质量都落在集合*S* = {*z* : *z* ≥ *x* 0}中，而在这个集合中，![inline-image](../images/CH014_31.jpg)基本上是![inline-image](../images/CH014_32.jpg)的一个平移和归一化版本。设*Z*是一个按照分布![inline-image](../images/CH014_33.jpg)的随机变量。那么![inline-image](../images/CH014_34.jpg)被定义为*Z*的期望，即'
- en: '![display-image](../images/CH014_35.jpg)(14.2)'
  id: totrans-623
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH014_35.jpg)(14.2)'
- en: This may seem to confirm that ![inline-image](../images/CH014_36.jpg) is indeed
    the average of losses greater than *x* 0, but, in general, this is not correct.
    If *X* follows a discrete distribution (or a mix of continuous and discrete distributions
    with probability atoms), there are situations when the basic intuition needs to
    be somewhat modified.
  id: totrans-624
  prefs: []
  type: TYPE_NORMAL
  zh: 这似乎证实了![inline-image](../images/CH014_36.jpg)确实是大于*x* 0的损失的平均值，但是，一般来说，这是不正确的。如果*X*遵循离散分布（或连续和离散分布的混合，具有概率原子），则有时需要略微修改基本直觉的情况。
- en: For a fixed level ![inline-image](../images/CH014_37.jpg) with ![inline-image](../images/CH014_38.jpg),
    it may indeed turn out that *F* *X* (*x* 0) = 1 as we will see later. If *F* *X*
    (*x* 0) = 1, then *x* 0 is the highest loss that can occur and in this case ![inline-image](../images/CH014_39.jpg).
    Now, suppose that *F* *X* (*x* 0) < 1\. So, there are values greater than *x*
    0 that *X* can take. In this case, define the ‘upper CVaR’ to be the conditional
    expectation of *X* subject to *X* > *x* 0, i.e.
  id: totrans-625
  prefs: []
  type: TYPE_NORMAL
  zh: 对于固定水平![inline-image](../images/CH014_37.jpg)，满足![inline-image](../images/CH014_38.jpg)，的确可能会发现*F*
    *X* (*x* 0) = 1，正如我们稍后将看到的那样。如果*F* *X* (*x* 0) = 1，则*x* 0是可能发生的最大损失，在这种情况下，![inline-image](../images/CH014_39.jpg)。现在，假设*F*
    *X* (*x* 0) < 1。因此，存在大于*x* 0的值*X*可以取。在这种情况下，将“上限条件预期损失率”定义为*X*在*X* > *x* 0的条件下的条件期望，即
- en: '![display-image](../images/CH014_40.jpg)'
  id: totrans-626
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH014_40.jpg)'
- en: Let ![inline-image](../images/CH014_41.jpg). Then, it can be shown that
  id: totrans-627
  prefs: []
  type: TYPE_NORMAL
  zh: 设![inline-image](../images/CH014_41.jpg)。然后，可以证明
- en: '![display-image](../images/CH014_42.jpg)(14.3)'
  id: totrans-628
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH014_42.jpg)(14.3)'
- en: The equivalent definition of ![inline-image](../images/CH014_43.jpg) given by
    ([14.3](#eq3)) makes it easy to compute its value in certain cases. We consider
    some examples.
  id: totrans-629
  prefs: []
  type: TYPE_NORMAL
  zh: '![inline-image](../images/CH014_43.jpg)的等价定义由([14.3](#eq3))给出，这使得在某些情况下计算其值变得容易。我们考虑一些例子。'
- en: Let *X* be a discrete random variable taking five possible values ![inline-image](../images/CH014_44.jpg)
    each with probability ![inline-image](../images/CH014_45.jpg). Such a loss distribution
    can arise from a scenario analysis. We consider three values of *α* and compute
    ![inline-image](../images/CH014_46.jpg) and ![inline-image](../images/CH014_47.jpg)
    in each of these cases. These computations bring out the subtleties associated
    with the computation of ![inline-image](../images/CH014_48.jpg) and highlight
    why in general this cannot be considered to be the average of values greater than
    ![inline-image](../images/CH014_49.jpg).
  id: totrans-630
  prefs: []
  type: TYPE_NORMAL
  zh: 设*X*是一个离散随机变量，取五个可能的值![inline-image](../images/CH014_44.jpg)，每个值的概率为![inline-image](../images/CH014_45.jpg)。这样的损失分布可以来自场景分析。我们考虑三个*α*的值，并在每种情况下计算![inline-image](../images/CH014_46.jpg)和![inline-image](../images/CH014_47.jpg)。这些计算显示了与计算![inline-image](../images/CH014_48.jpg)相关的微妙之处，并突显了为什么一般情况下这不能被认为是大于![inline-image](../images/CH014_49.jpg)的值的平均值。
- en: 'Case ![inline-image](../images/CH014_50.jpg): The minimum value *x* 0 such
    that ![inline-image](../images/CH014_51.jpg) is ![inline-image](../images/CH014_52.jpg).
    So, ![inline-image](../images/CH014_53.jpg). We have ![inline-image](../images/CH014_54.jpg)
    and so ![inline-image](../images/CH014_55.jpg) can be defined. The total probability
    that *X* assigns to ![inline-image](../images/CH014_56.jpg) and ![inline-image](../images/CH014_57.jpg)
    is ![inline-image](../images/CH014_58.jpg). Conditioned on ![inline-image](../images/CH014_59.jpg),
    the probabilities that *X* takes the values ![inline-image](../images/CH014_60.jpg)
    and ![inline-image](../images/CH014_61.jpg) are both equal to ![inline-image](../images/CH014_62.jpg).
    So, ![inline-image](../images/CH014_63.jpg). Since ![inline-image](../images/CH014_64.jpg),
    the value of ![inline-image](../images/CH014_65.jpg) and so from ([14.3](#eq3)),
    ![inline-image](../images/CH014_66.jpg). In this case, we indeed have that ![inline-image](../images/CH014_67.jpg)
    is the average of the losses greater than ![inline-image](../images/CH014_68.jpg).'
  id: totrans-631
  prefs: []
  type: TYPE_NORMAL
  zh: 情况 ![inline-image](../images/CH014_50.jpg)：使得 ![inline-image](../images/CH014_51.jpg)
    为 ![inline-image](../images/CH014_52.jpg) 的最小值 *x* 0。因此，![inline-image](../images/CH014_53.jpg)。我们有
    ![inline-image](../images/CH014_54.jpg)，因此 ![inline-image](../images/CH014_55.jpg)
    可以定义。*X* 分配给 ![inline-image](../images/CH014_56.jpg) 和 ![inline-image](../images/CH014_57.jpg)
    的总概率为 ![inline-image](../images/CH014_58.jpg)。在 ![inline-image](../images/CH014_59.jpg)
    的条件下，*X* 取值为 ![inline-image](../images/CH014_60.jpg) 和 ![inline-image](../images/CH014_61.jpg)
    的概率都相等，均为 ![inline-image](../images/CH014_62.jpg)。因此，![inline-image](../images/CH014_63.jpg)。由于
    ![inline-image](../images/CH014_64.jpg)，所以 ![inline-image](../images/CH014_65.jpg)
    的值，因此从([14.3](#eq3))，![inline-image](../images/CH014_66.jpg)。在这种情况下，我们确实有 ![inline-image](../images/CH014_67.jpg)
    是大于 ![inline-image](../images/CH014_68.jpg) 的损失的平均值。
- en: 'Case ![inline-image](../images/CH014_69.jpg): The minimum value *x* 0 such
    that ![inline-image](../images/CH014_70.jpg) is *x* 0 = *ℓ* 3\. So, again we have
    ![inline-image](../images/CH014_71.jpg), ![inline-image](../images/CH014_72.jpg)
    and ![inline-image](../images/CH014_73.jpg). The value of ![inline-image](../images/CH014_74.jpg),
    however, changes. We have ![inline-image](../images/CH014_75.jpg) and so from
    ([14.3](#eq3)) ![inline-image](../images/CH014_76.jpg). Note that in this case,
    the value of ![inline-image](../images/CH014_77.jpg) is not equal to the average
    of the losses greater than ![inline-image](../images/CH014_78.jpg). The reason
    is that the value of *α* splits the probability atom at ![inline-image](../images/CH014_79.jpg).'
  id: totrans-632
  prefs: []
  type: TYPE_NORMAL
  zh: 情况 ![inline-image](../images/CH014_69.jpg)：使得 ![inline-image](../images/CH014_70.jpg)
    为 *x* 0 = *ℓ* 3 的最小值 *x* 0。因此，我们再次有 ![inline-image](../images/CH014_71.jpg)，![inline-image](../images/CH014_72.jpg)
    和 ![inline-image](../images/CH014_73.jpg)。然而，![inline-image](../images/CH014_74.jpg)
    的值发生了变化。我们有 ![inline-image](../images/CH014_75.jpg)，因此从([14.3](#eq3))，![inline-image](../images/CH014_76.jpg)。请注意，在这种情况下，![inline-image](../images/CH014_77.jpg)
    的值并不等于大于 ![inline-image](../images/CH014_78.jpg) 的损失的平均值。原因是 *α* 的值将概率原子分割为 ![inline-image](../images/CH014_79.jpg)。
- en: 'Case ![inline-image](../images/CH014_80.jpg): The minimum value *x* 0 such
    that ![inline-image](../images/CH014_81.jpg) is ![inline-image](../images/CH014_82.jpg).
    So, ![inline-image](../images/CH014_83.jpg) and ![inline-image](../images/CH014_84.jpg).
    In this case, ![inline-image](../images/CH014_85.jpg).'
  id: totrans-633
  prefs: []
  type: TYPE_NORMAL
  zh: 情况![内联图片](../images/CH014_80.jpg)：最小值*x* 0，使得![内联图片](../images/CH014_81.jpg)为![内联图片](../images/CH014_82.jpg)。所以，![内联图片](../images/CH014_83.jpg)和![内联图片](../images/CH014_84.jpg)。在这种情况下，![内联图片](../images/CH014_85.jpg)。
- en: The comparative analysis between the efficacies of VaR and CVaR is rather long.
    We provide a brief discussion. Clearly VaR is a reasonably simple way to understand
    risk management issue. It provides some basic information about the risk which
    may be sufficient if an investor is not overly concerned about the risk. On the
    other hand, if an investor wishes to obtain more conservative idea of the risk,
    then CVaR is to be preferred over VaR. One problem with CVaR is that it requires
    detailed information about the tail of the distribution of the loss. In general,
    such information may not be available. If estimates about the tail are made from
    historical data, then there is the potential that errors in such estimates can
    affect the estimate of CVaR. In summary, both VaR and CVaR have their uses and
    areas of applicability, and both these measures are widely used in the financial
    world.
  id: totrans-634
  prefs: []
  type: TYPE_NORMAL
  zh: 对VaR和CVaR有效性的比较分析相当长。我们提供一个简要讨论。显然，VaR是理解风险管理问题的一个相当简单的方法。它提供了一些关于风险的基本信息，如果投资者对风险不是过分关注，这些信息可能足够。另一方面，如果投资者希望获得更保守的风险观念，那么CVaR就比VaR更可取。CVaR的一个问题是，它需要关于损失分布尾部的详细信息。一般来说，这样的信息可能不可用。如果从历史数据中估计尾部信息，则有可能估计CVaR时的估计误差会影响。总之，VaR和CVaR都有各自的用途和适用领域，在金融界广泛使用这两个指标。
- en: 14.2 Sharpe Ratio
  id: totrans-635
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 14.2 夏普比率
- en: A reward-to-variability measure was introduced by Sharpe (1966) which later
    came to be called the Sharpe ratio. This ratio has been used quite extensively
    for making investment decisions. In this section, we provide a brief description
    of the some aspects of the Sharpe ratio.
  id: totrans-636
  prefs: []
  type: TYPE_NORMAL
  zh: 夏普（Sharpe）（1966）引入了一个奖励与变异性测量，后来被称为夏普比率。这个比率已经被广泛用于做投资决策。在本节中，我们简要描述了夏普比率的一些方面。
- en: Let *F* be a fund or a portfolio and denote by *R* *F* the rate of return on
    the fund *F*. This return is to be compared to a benchmark portfolio *B* whose
    rate of return is *R* *B* . Both *R* *F* and *R* *B* are random variables. The
    differential rate of return *D* is the difference in the rates of returns from
    *F* and *B* and is defined to be *D* = *R* *F* − *R* *B* . Let ![inline-image](../images/CH014_86.jpg)
    and ![inline-image](../images/CH014_87.jpg) denote the mean and standard deviation
    of *D*. The Sharpe ratio *S* for the fund *F* with respect to the benchmark *B*
    is defined to be
  id: totrans-637
  prefs: []
  type: TYPE_NORMAL
  zh: 设 *F* 为基金或投资组合，*R* *F* 表示基金 *F* 的收益率。这个收益率需要与基准投资组合 *B* 的收益率 *R* *B* 进行比较。 *R*
    *F* 和 *R* *B* 都是随机变量。差异收益率 *D* 是基金 *F* 和基准 *B* 的收益率之间的差异，定义为 *D* = *R* *F* − *R*
    *B*。设 ![内联图片](../images/CH014_86.jpg) 和 ![内联图片](../images/CH014_87.jpg) 表示 *D*
    的均值和标准差。基金 *F* 相对于基准 *B* 的夏普比率 *S* 定义为
- en: '![display-image](../images/CH014_88.jpg)(14.4)'
  id: totrans-638
  prefs: []
  type: TYPE_IMG
  zh: '![展示图片](../images/CH014_88.jpg)(14.4)'
- en: In theoretical analysis, one may use ([14.4](#eq4)) for analysis of investment
    strategies. An estimate ![inline-image](../images/CH014_89.jpg) of *S* can be
    obtained from historical data. To do this, one obtains an estimate ![inline-image](../images/CH014_90.jpg)
    of ![inline-image](../images/CH014_91.jpg) and ![inline-image](../images/CH014_92.jpg)
    of ![inline-image](../images/CH014_93.jpg) and then sets ![inline-image](../images/CH014_94.jpg).
  id: totrans-639
  prefs: []
  type: TYPE_NORMAL
  zh: 在理论分析中，可以使用([14.4](#eq4))来分析投资策略。 *S* 的估计值 ![内联图片](../images/CH014_89.jpg) 可以通过历史数据获得。为此，首先要得到
    ![内联图片](../images/CH014_90.jpg) 的估计值，以及 ![内联图片](../images/CH014_91.jpg) 和 ![内联图片](../images/CH014_92.jpg)
    的估计值，然后设置 ![内联图片](../images/CH014_94.jpg)。
- en: The Sharpe ratio as defined in ([14.4](#eq4)) refers to a single period. This
    can be extended to multiple periods. Assume that the rates of returns over multiple
    periods are obtained by summing the individual single period rates of returns.
    Also, assume that the rates of returns in these individual periods are uncorrelated.
    Let *D* 1 and *S* 1 denote the single-period differential rate of return and the
    Sharpe ratio, respectively. Similarly, let *D* [*T*] and *S* [*T*] denote the
    differential rate of return and Sharpe ratio over *T* time periods. Then *D* [*T*]
    = *TD* 1 which implies that ![inline-image](../images/CH014_95.jpg) and ![inline-image](../images/CH014_96.jpg)
    (due to the individual period rates of returns being uncorrelated). From this,
    we have ![inline-image](../images/CH014_97.jpg). So, the Sharpe ratio over multiple
    periods is a function of time. In general, the assumption about uncorrelatedness
    of the individual period rates of returns will not hold, and the computation of
    the Sharpe ratio in such cases will be more complicated.
  id: totrans-640
  prefs: []
  type: TYPE_NORMAL
  zh: 在（[14.4](#eq4)）中定义的夏普比率是指单个期间。这可以扩展到多个期间。假设多个期间的回报率是通过将单个期间的回报率相加获得的。还假设这些单独期间的回报率是不相关的。让*D*
    1和*S* 1分别表示单期差异回报率和夏普比率。同样，让*D* [*T*]和*S* [*T*]分别表示*T*个时间段的差异回报率和夏普比率。那么*D* [*T*]
    = *TD* 1意味着 ![inline-image](../images/CH014_95.jpg) 和 ![inline-image](../images/CH014_96.jpg)（因为单个期间的回报率不相关）。从中我们得到
    ![inline-image](../images/CH014_97.jpg)。因此，多个期间的夏普比率是时间的函数。一般来说，关于单个期间回报率不相关的假设将不成立，并且在这种情况下计算夏普比率将会更加复杂。
- en: '**Remarks:**'
  id: totrans-641
  prefs: []
  type: TYPE_NORMAL
  zh: '**备注：**'
- en: (1)In the original definition of the Sharpe ratio, the benchmark portfolio *B*
    was taken to be a risk-free investment. In this case, the rate of return *R* *B*
    is the risk-free rate of return and as such is a fixed value without any randomness.(2)Some
    authors have defined the Sharpe ratio more generally to be the ratio of the mean
    to the variance of a random variable. In the context of investment, this can be
    confusing, since one may then define the Sharpe ratio of an investment as the
    mean-to-standard deviation ratio of its rate of return. This loses context, since
    the goal of the Sharpe ratio is to measure the reward to variability ratio of
    the differential rate of return of the investment with respect to a benchmark.
  id: totrans-642
  prefs: []
  type: TYPE_NORMAL
  zh: (1) 在夏普比率的原始定义中，基准投资组合*B*被认为是无风险投资。在这种情况下，回报率*R* *B*是无风险回报率，因此是一个固定值，没有任何随机性。(2)
    一些作者更一般地定义夏普比率为随机变量的均值与方差的比率。在投资领域，这可能会引起困惑，因为然后可以将一项投资的夏普比率定义为其回报率的均值与标准差的比率。这失去了上下文，因为夏普比率的目标是衡量与基准相比投资的差异回报率的回报与可变性之比。
- en: A zero-investment strategy is one which does not involve any outlay of money
    as investment but provides a return sometime in the future. This return would
    depend on the market and could turn out to be positive, zero or negative. Given
    a fund *F* and a benchmark portfolio *B*, a zero-investment strategy would be
    to take a short position in *B* and a long position in *F*. In other words, funds
    borrowed from *B* would be invested in *F*, i.e. *B* would be used to leverage
    *F*. The return on such a zero-investment strategy is clearly *D* = *R* *F* −
    *R* [*B*] , which is the differential return used in the definition of the Sharpe
    ratio. It is this connection which makes the Sharpe ratio a useful tool for analysing
    zero-investment strategies.
  id: totrans-643
  prefs: []
  type: TYPE_NORMAL
  zh: 零投资策略是指不需要投入任何资金作为投资，但在未来某个时候会产生回报。这种回报取决于市场，可能为正、零或负。给定一个基金*F*和一个基准投资组合*B*，零投资策略将是在*B*上建立空头仓位并在*F*上建立多头仓位。换句话说，从*B*借来的资金将被投资于*F*，即利用*B*来提升*F*。这种零投资策略的回报显然是*D*
    = *R* *F* − *R* [*B*]，这是夏普比率定义中使用的差异回报。正是这种联系使得夏普比率成为分析零投资策略的有用工具。
- en: Consider the following investment scenario. An investor has invested an amount
    *X* in an asset (or portfolio) *A* with a rate of return *R* *A* . Additionally,
    the investor is considering the possibility of a zero-investment strategy, i.e.
    the investor would like to take a short position in some benchmark portfolio (or
    a risk-free asset) *B* and use the money to take a long position in a fund *F*.
    Suppose the rate of return of this zero-investment strategy is *D*. To actually
    carry out this strategy, the investor would draw an amount *V* from *B* and invest
    it in *F*. The Sharpe ratio of this zero-investment strategy is ![inline-image](../images/CH014_98.jpg).
  id: totrans-644
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑以下投资场景。一位投资者在资产（或投资组合）*A*上投资了一笔金额*X*，其回报率为*R* *A*。此外，投资者正在考虑进行零投资策略的可能性，即投资者希望在某个基准投资组合（或无风险资产）*B*上建立空头仓位，并使用资金在基金*F*上建立多头仓位。假设这种零投资策略的回报率为*D*。为了实际执行这种策略，投资者将从*B*中提取一笔金额*V*并投资于*F*。这种零投资策略的夏普比率为![inline-image](../images/CH014_98.jpg)。
- en: The amount *V* is a notional value to the investor. The relative position of
    the investor is the ratio of the notional value *V* to the amount *X* that is
    already invested in *A*. Let ![inline-image](../images/CH014_99.jpg) denote this
    relative position. To some extent, the relative position captures the risk to
    the investor. A better measure of the risk position is ![inline-image](../images/CH014_100.jpg)
    which is the product of the relative position and the variability in the differential
    return. In fact, the investor would prefer to fix the value of *k* and then determine
    *p* (assuming that an estimate of ![inline-image](../images/CH014_101.jpg) is
    available). This value of *p* along with the amount *X* will then determine the
    notional value *V* to be leveraged from *B* and used in *F* for the zero-investment
    strategy.
  id: totrans-645
  prefs: []
  type: TYPE_NORMAL
  zh: '金额*V*是投资者的名义价值。投资者的相对位置是名义值*V*与已投资于*A*的金额*X*之比。设![inline-image](../images/CH014_99.jpg)表示这个相对位置。在一定程度上，相对位置反映了投资者的风险。风险位置的更好的度量是![inline-image](../images/CH014_100.jpg)，它是相对位置与差额回报的变异性的乘积。实际上，投资者更倾向于确定*P*的值，然后确定*p*（假设![inline-image](../images/CH014_101.jpg)的估计可用）。*P*的这个值以及金额*X*将确定要从*B*中融资并用于*F*中的零投资策略的名义值*V*。  '
- en: 'Considering both the original investment of *X* in *A* and the zero-investment
    strategy, the total amount at the end of the period is *X*(1 + *R* *A* ) + *VD*
    = *X*(1 + *R* *A* ) + *XpD* and so the total rate of return *R* is *R* = *R* *A*
    + *pD*. Let *ρ* denote the co-variance between the rates of returns on the investment
    in *A* and the zero-investment strategy. The expected value of *R* and its variance
    can be written as follows:'
  id: totrans-646
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑在*A*中进行的原始投资*X*和零投资策略，期间结束时的总金额为*X*(1 + *R* *A* ) + *VD* = *X*(1 + *R* *A*
    ) + *XpD*，因此总回报率*R*为*R* = *R* *A* + *pD*。设*ρ*表示在*A*投资和零投资策略上的回报率之间的协方差。*R*的期望值及其方差可以写成如下形式：
- en: '![display-image](../images/CH014_102.jpg)(14.5)'
  id: totrans-647
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH014_102.jpg)(14.5)'
- en: '![display-image](../images/CH014_103.jpg)(14.6)'
  id: totrans-648
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH014_103.jpg)(14.6)'
- en: 'Suppose there are several possible zero-investment strategies having different
    values of the Sharpe ratio. Which one should an investor use? From ([14.5](#eq5)),
    we see that for a fixed value of ![inline-image](../images/CH014_104.jpg), the
    expectation of the overall rate of return is maximised by choosing the zero-investment
    strategy with the highest Sharpe ratio. There is, of course, the issue of capturing
    the risk. Several scenarios may arise:'
  id: totrans-649
  prefs: []
  type: TYPE_NORMAL
  zh: 假设存在几种可能的零投资策略，其夏普比率不同。投资者应该选择哪种策略？从([14.5](#eq5))，我们看到，对于固定的![inline-image](../images/CH014_104.jpg)值，选择夏普比率最高的零投资策略可以使整体回报率的期望最大化。当然，还存在捕捉风险的问题。可能会出现几种情况：
- en: (1)Suppose that the asset *A* is risk-free, i.e. the amount *X* is invested
    in a risk-free asset. Then ![inline-image](../images/CH014_105.jpg) and so the
    overall risk is ![inline-image](../images/CH014_106.jpg). In such a situation,
    the investor is justified in choosing the zero-investment strategy with the highest
    Sharpe ratio.(2)Suppose the asset *A* is risky, i.e. ![inline-image](../images/CH014_107.jpg).
    Further, assume that the zero correlation strategies being considered by the investor
    has the same (or, similar) correlations with *A*. In other words, the values of
    the correlation coefficient *ρ* of *A* with the various zero-investment strategies
    under consideration are the same. So, the overall risk ![inline-image](../images/CH014_108.jpg)
    remains the same for all the zero-investment strategies. In this case also the
    investor is justified in choosing the zero-investment strategy having the maximum
    Sharpe ratio.(3)In the more general situation (not covered by either of the two
    cases above), the correlations of the various zero-correlations strategies with
    *A* can have significant differences. In this case, choosing the zero-correlation
    strategy with the maximum value of the Sharpe ratio need not be the best investment
    strategy since the risk could also be quantitatively higher. It might be better
    to choose a zero-investment strategy with a lower Sharpe ratio and also having
    a lower value of the correlation with *A* leading to a lower risk.
  id: totrans-650
  prefs: []
  type: TYPE_NORMAL
  zh: (1)假设资产*A*是无风险的，即金额*X*被投资于无风险资产。那么![inline-image](../images/CH014_105.jpg)，因此总体风险是![inline-image](../images/CH014_106.jpg)。在这种情况下，投资者选择具有最高夏普比率的零投资策略是合理的。(2)假设资产*A*是有风险的，即![inline-image](../images/CH014_107.jpg)。进一步假设投资者正在考虑的零相关策略与*A*具有相同（或相似）的相关性。换句话说，*A*与考虑中的各种零投资策略的相关系数*ρ*的值相同。因此，所有零投资策略的总体风险![inline-image](../images/CH014_108.jpg)保持不变。在这种情况下，投资者选择具有最大夏普比率的零投资策略也是合理的。(3)在更一般的情况下（不属于上述两种情况的任何一种），各种零相关策略与*A*的相关性可能存在显著差异。在这种情况下，选择具有最大夏普比率的零相关策略不一定是最佳的投资策略，因为风险也可能定量更高。选择一个夏普比率较低并且与*A*相关性较低（从而风险较低）的零投资策略可能更好。
- en: The scenario considered above was to invest in a single zero-investment strategy
    along with the existing investment in the asset (or, portfolio) *A*. This scenario
    can be extended to cover the case where the investor wishes to invest in multiple
    zero-investment strategies along with the investment *X* in *A* having rate of
    return *R*. Suppose there are *s* zero-investment strategies with the notional
    value and the differential rate of return of the *i*-th zero-investment strategy
    being *V* [*i*] and *D* [*i*] respectively, *i* = 1,…,*s*. We assume that *R*,*D*
    1,…,*D* *s* are pairwise uncorrelated.
  id: totrans-651
  prefs: []
  type: TYPE_NORMAL
  zh: 上述考虑的情景是在现有投资资产（或组合）*A*上投资于单个零投资策略。这种情况可以扩展到投资者希望在投资于资产*A*的同时，投资于多个零投资策略的情况，其中*A*的回报率为*R*。假设有*s*个零投资策略，第*i*个零投资策略的名义价值和差分回报率分别为*V*[*i*]和*D*[*i*]，*i*=1,…,*s*。我们假设*R*，*D*1,…,*D**s*两两不相关。
- en: Let ![inline-image](../images/CH014_109.jpg) be the relative position, ![inline-image](../images/CH014_110.jpg)
    be the risk position, and ![inline-image](../images/CH014_111.jpg) be the Sharpe
    ratio of the *i*-th zero-investment strategy. Then the overall return is ![inline-image](../images/CH014_112.jpg)
    and so ![inline-image](../images/CH014_113.jpg) and ![inline-image](../images/CH014_114.jpg).
  id: totrans-652
  prefs: []
  type: TYPE_NORMAL
  zh: 让![inline-image](../images/CH014_109.jpg)表示相对位置，![inline-image](../images/CH014_110.jpg)表示风险位置，![inline-image](../images/CH014_111.jpg)表示第*i*个零投资策略的夏普比率。那么总体回报为![inline-image](../images/CH014_112.jpg)，因此![inline-image](../images/CH014_113.jpg)和![inline-image](../images/CH014_114.jpg)。
- en: Suppose that the investor wishes to maximise a risk-adjusted expected return.
    Let *τ* denote a level of risk tolerance and consider the problem of determining
    *k* 1,…,*k* *s* such that ![inline-image](../images/CH014_115.jpg) is maximised.
    Using the expressions for ![inline-image](../images/CH014_116.jpg) and ![inline-image](../images/CH014_117.jpg),
    this amounts to maximising ![inline-image](../images/CH014_118.jpg). Since ![inline-image](../images/CH014_119.jpg)
    and ![inline-image](../images/CH014_120.jpg) are constant values, the problem
    reduces to determining ![inline-image](../images/CH014_121.jpg) such that ![inline-image](../images/CH014_122.jpg)
    is maximised. Setting the partial derivatives of this quantity with respect to
    the ![inline-image](../images/CH014_123.jpg)'s to zero and solving provides the
    optimal value of ![inline-image](../images/CH014_124.jpg) to be ![inline-image](../images/CH014_125.jpg).
    This shows that for a fixed value of τ, the risk levels of the zero-investment
    strategies should be proportional to their Sharpe ratios.
  id: totrans-653
  prefs: []
  type: TYPE_NORMAL
  zh: 假设投资者希望最大化风险调整后的预期收益。让 *τ* 表示风险容忍水平，考虑确定 *k* 1,…,*k* *s* 的问题，使得 ![inline-image](../images/CH014_115.jpg)
    最大化。使用 ![inline-image](../images/CH014_116.jpg) 和 ![inline-image](../images/CH014_117.jpg)
    的表达式，这相当于最大化 ![inline-image](../images/CH014_118.jpg)。由于 ![inline-image](../images/CH014_119.jpg)
    和 ![inline-image](../images/CH014_120.jpg) 是常数值，问题简化为确定 ![inline-image](../images/CH014_121.jpg)，使得
    ![inline-image](../images/CH014_122.jpg) 最大化。将此数量对 ![inline-image](../images/CH014_123.jpg)
    的偏导数设为零并解出可得 ![inline-image](../images/CH014_124.jpg) 的最优值为 ![inline-image](../images/CH014_125.jpg)。这表明，对于固定的
    *τ* 值，零投资策略的风险水平应与它们的夏普比例成比例。
- en: 14.3 Copula
  id: totrans-654
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 14.3 Copula
- en: The notion of copula is a basic tool in mathematical statistics. It has been
    used in modelling certain kinds of financial risks. In this section, we provide
    a brief description of copula and mention a few applications to finance.
  id: totrans-655
  prefs: []
  type: TYPE_NORMAL
  zh: '*Copula* 的概念是数学统计中的基本工具。它已被用于建模某些类型的金融风险。在本节中，我们对 *copula* 进行简要描述，并提及一些在金融领域的应用。'
- en: Formally, a copula is a joint distribution of random variables *U* 1,…,*U* [*n*]
    such that the marginal distribution of *U* [*i*] , *i* = 1,…,*n*, is uniform over
    (0, 1). The term copula is also used to denote the joint cumulative distribution
    function of *U* 1,…,*U* [*n*] .
  id: totrans-656
  prefs: []
  type: TYPE_NORMAL
  zh: 形式上，*copula* 是随机变量 *U* 1,…,*U* [*n*] 的联合分布，使得 *U* [*i*] 的边际分布，*i* = 1,…,*n*，在
    (0, 1) 上均匀分布。术语 *copula* 也用于表示 *U* 1,…,*U* [*n*] 的联合累积分布函数。
- en: '![display-image](../images/CH014_126.jpg)'
  id: totrans-657
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH014_126.jpg)'
- en: Note that since *U* [*i*] is uniform over (0, 1), Pr[*U* [*i*] ≤ *u* [*i*] ]
    = *u* [*i*] and so if *U* 1,…,*U* [*n*] are independent, it follows that ![inline-image](../images/CH014_127.jpg).
    Also, if *U* 1 = ⋯ = *U* [*n*] , then ![inline-image](../images/CH014_128.jpg).
  id: totrans-658
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，由于 *U* [*i*] 在 (0, 1) 上均匀分布，所以 Pr[*U* [*i*] ≤ *u* [*i*]] = *u* [*i*]，如果
    *U* 1,…,*U* [*n*] 是独立的，则 ![inline-image](../images/CH014_127.jpg)。另外，如果 *U* 1
    = ⋯ = *U* [*n*]，那么 ![inline-image](../images/CH014_128.jpg)。
- en: Copula is a Latin word meaning a link or a tie. The naming of the above concept
    as copula arises from Sklar's theorem which states the following. Let *X* 1,…,*X*
    [*n*] be random variables with joint cumulative distribution *F*(*x* 1,…,*x* [*n*]
    ) = Pr[*X* 1 ≤ *x* 1,…,*X* [*n*] ≤ *x* [*n*] ] and marginals *F* [*i*] (*x*) =
    Pr[*X* [*i*] ≤ *x*]; then there exists a copula *C* such that
  id: totrans-659
  prefs: []
  type: TYPE_NORMAL
  zh: Copula是拉丁词，意思是连接或联系。 上述概念被命名为copula的原因来自Sklar定理，该定理陈述如下。 让*X*1,…,*X*[*n*]是具有联合累积分布*F*(*x*1,…,*x*[*n*])=Pr[*X*1≤*x*1,…,*X*[*n*]≤*x*[*n*]]和边缘*F*[*i*](*x*)=Pr[*X*[*i*]≤*x*];
    那么存在一个copula*C*，使得
- en: '![display-image](../images/CH014_129.jpg)(14.7)'
  id: totrans-660
  prefs: []
  type: TYPE_IMG
  zh: '![显示图片](../images/CH014_129.jpg)(14.7)'
- en: Further, if each ![inline-image](../images/CH014_130.jpg) is continuous, then
    *C* is unique.
  id: totrans-661
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，如果每个![内联图片](../images/CH014_130.jpg)是连续的，则*C*是唯一的。
- en: So, a copula allows the linking of the marginal distributions to the joint distribution.
    The proof in the case where all ![inline-image](../images/CH014_131.jpg) are continuous
    is simple and illustrative. Since ![inline-image](../images/CH014_132.jpg) is
    continuous, there exists an inverse function ![inline-image](../images/CH014_133.jpg)
    such that ![inline-image](../images/CH014_134.jpg) for all ![inline-image](../images/CH014_135.jpg).
    Define *U* [*i*] = *F* [*i*] (*X* [*i*] ). Then *U* [*i*] takes values in (0,
    1) and
  id: totrans-662
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，copula允许将边缘分布链接到联合分布。 在所有![内联图片](../images/CH014_131.jpg)都连续的情况下的证明是简单而具有说明性的。
    由于![内联图片](../images/CH014_132.jpg)是连续的，因此存在一个逆函数![内联图片](../images/CH014_133.jpg)，使得对于所有![内联图片](../images/CH014_134.jpg)。
    定义*U*[*i*]=*F*[*i*](*X*[*i*])。 然后*U*[*i*]在(0, 1)上取值且
- en: '![display-image](../images/CH014_136.jpg)'
  id: totrans-663
  prefs: []
  type: TYPE_IMG
  zh: '![显示图片](../images/CH014_136.jpg)'
- en: In other words, *U* [*i*] is uniform over (0, 1). So, we have a set of random
    variables *U* 1,…,*U* [*n*] such that the marginal distributions of *U* [*i*]
    are all uniform over (0, 1). The joint distribution of *U* 1,…,*U* [*n*] is therefore
    a copula. Let *C* denote the joint distribution of *U* 1,…,*U* [*n*] . Then
  id: totrans-664
  prefs: []
  type: TYPE_NORMAL
  zh: 换句话说，*U*[*i*]在(0, 1)上是均匀的。 因此，我们有一组随机变量*U*1,…,*U*[*n*]，使得*U*[*i*]的边际分布都是(0,
    1)上的均匀分布。 因此，*U*1,…,*U*[*n*]的联合分布因此是一个copula。 让*C*表示*U*1,…,*U*[*n*]的联合分布。 然后
- en: '![display-image](../images/CH014_137.jpg)'
  id: totrans-665
  prefs: []
  type: TYPE_IMG
  zh: '![显示图片](../images/CH014_137.jpg)'
- en: A consequence of ([14.7](#eq7)) is that translating or scaling the random variables
    *X* 1,…,*X* [*n*] does not change the copula. Let ![inline-image](../images/CH014_138.jpg),
    *i* = 1,…,*n*. Then the copula connecting the marginals to the joint distribution
    of *Y* 1,…,*Y* [*n*] is the same as that connecting the marginals to the joint
    distribution of *X* 1,…,*X* [*n*] . To see this, let *G*(*y* 1,…,*y* [*n*] ) be
    the joint distribution of *Y* 1,…,*Y* [*n*] and *G* [*i*] (*y*) be the marginal
    distribution of *Y* [*i*] . Then
  id: totrans-666
  prefs: []
  type: TYPE_NORMAL
  zh: 从([14.7](#eq7))的推论是，对随机变量*X*1,…,*X*[*n*]进行翻译或缩放不会改变核密度估计。 让![内联图片](../images/CH014_138.jpg)，*i*=1,…,*n*。
    那么将边缘连接到*Y*1,…,*Y*[*n*]的联合分布的核密度估计与将边缘连接到*X*1,…,*X*[*n*]的联合分布的核密度估计相同。 为了看到这一点，让*G*(*y*1,…,*y*[*n*])是*Y*1,…,*Y*[*n*]的联合分布，*G*[*i*](*y*)是*Y*[*i*]的边缘分布。
    那么
- en: '![display-image](../images/CH014_139.jpg)'
  id: totrans-667
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH014_139.jpg)'
- en: 'Let *f* be the joint density function of *X* 1,…,*X* [*n*] and *f* [*i*] ,
    *i* = 1,…,*n*, be the density function of the marginal distribution ![inline-image](../images/CH014_140.jpg).
    From ([14.7](#eq7)), it follows that the joint density function *c* of the copula
    *C* is the following:'
  id: totrans-668
  prefs: []
  type: TYPE_NORMAL
  zh: 让 *f* 是 *X* 1,…,*X* [*n*] 的联合密度函数，*f* [*i*]，*i* = 1,…,*n*，是边际分布的密度函数![inline-image](../images/CH014_140.jpg)。根据([14.7](#eq7))，胡椒
    *C* 的联合密度函数 *c* 如下：
- en: '![display-image](../images/CH014_141.jpg)'
  id: totrans-669
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH014_141.jpg)'
- en: In other words, the joint density function of the copula is the ratio of the
    original joint density function to the product of the density functions of the
    marginals.
  id: totrans-670
  prefs: []
  type: TYPE_NORMAL
  zh: 换句话说，胡椒的联合密度函数是原始联合密度函数与边际密度函数的乘积的比值。
- en: Suppose that the inverse functions of the marginals exist. Then, from ([14.7](#eq7)),
    we have
  id: totrans-671
  prefs: []
  type: TYPE_NORMAL
  zh: 假设边际函数的反函数存在。那么，根据([14.7](#eq7))，我们有
- en: '![display-image](../images/CH014_142.jpg)(14.8)'
  id: totrans-672
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH014_142.jpg)(14.8)'
- en: 'So, ([14.8](#eq8)) shows that for any joint distribution *F* whose marginals
    have inverses, it is possible to extract a copula. This gives a method for obtaining
    copulas from well-known joint distributions. Two important copulas are obtained
    as follows:'
  id: totrans-673
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，([14.8](#eq8))表明，对于任何边际具有反函数的联合分布 *F*，都可以提取出一个胡椒。这提供了一种从著名的联合分布获取胡椒的方法。以下是获得的两个重要胡椒：
- en: '*Gaussian copula:* Such a copula is obtained by using multivariate normal ![inline-image](../images/CH014_143.jpg)
    for *F* in ([14.8](#eq8)).'
  id: totrans-674
  prefs: []
  type: TYPE_NORMAL
  zh: '*高斯胡椒:* 这样的胡椒通过在([14.8](#eq8))中使用多变量正态![inline-image](../images/CH014_143.jpg)来获得
    *F*。'
- en: '*t-copula:* Such a copula is obtained by using the multivariate *t*-distribution
    ![inline-image](../images/CH014_144.jpg) for *F* in ([14.8](#eq8)).'
  id: totrans-675
  prefs: []
  type: TYPE_NORMAL
  zh: '*t-胡椒:* 这样的胡椒通过在([14.8](#eq8))中使用多元 *t*-分布![inline-image](../images/CH014_144.jpg)来获得
    *F*。'
- en: Since translation and scaling does not change the copula, in both of the above
    cases, we may set ![inline-image](../images/CH014_145.jpg) and ![inline-image](../images/CH014_146.jpg),
    where ![inline-image](../images/CH014_147.jpg) is a correlation matrix.
  id: totrans-676
  prefs: []
  type: TYPE_NORMAL
  zh: 由于平移和缩放不会改变胡椒，所以在上述两种情况中，我们可以设置 ![inline-image](../images/CH014_145.jpg) 和 ![inline-image](../images/CH014_146.jpg)，其中
    ![inline-image](../images/CH014_147.jpg) 是一个相关矩阵。
- en: Let us now briefly consider applications of copulas to finance.
  id: totrans-677
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们简要地考虑胡椒对金融的应用。
- en: 14.3.1 Portfolio Risk
  id: totrans-678
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 14.3.1 投资组合风险
- en: Suppose there is a portfolio consisting of *n* bonds. The bonds receive ratings,
    and the value of a bond depends on its ratings. The possible ratings that a bond
    may receive is a finite non-empty set. Consider the *i*-th bond. At any time *t*,
    its rating is determined by a function ![inline-image](../images/CH014_148.jpg).
    So, the value of the *i*-th bond is a function ![inline-image](../images/CH014_149.jpg).
    Consequently, the value of the portfolio at time *t* is ![inline-image](../images/CH014_150.jpg).
  id: totrans-679
  prefs: []
  type: TYPE_NORMAL
  zh: 假设有一个由*n*个债券组成的投资组合。债券会收到评级，而债券的价值取决于其评级。债券可能收到的评级是一个有限非空集合。考虑第*i*个债券。在任何时间*t*，其评级由一个函数确定![inline-image](../images/CH014_148.jpg)。因此，第*i*个债券的价值是一个函数![inline-image](../images/CH014_149.jpg)。因此，时间*t*时投资组合的价值为![inline-image](../images/CH014_150.jpg)。
- en: The value of the portfolio changes with changes in the ratings of the individual
    bonds. To determine the change in the value of the portfolio, it is required to
    model how the ratings of the bonds change. It would not be proper to assume that
    the changes in the ratings of the individual bonds are independent. So, we need
    to consider the joint distribution of the changes in the ratings of the individual
    bonds from time *t* to time ![inline-image](../images/CH014_151.jpg). Copulas
    are used to model this joint distribution.
  id: totrans-680
  prefs: []
  type: TYPE_NORMAL
  zh: 投资组合的价值随个别债券评级的变化而变化。要确定投资组合价值的变化，需要建模债券评级的变化方式。假设个别债券评级的变化是独立的是不恰当的。因此，我们需要考虑个别债券评级从时间*t*到时间![inline-image](../images/CH014_151.jpg)的变化的联合分布。Copula用于建模这种联合分布。
- en: Suppose ![inline-image](../images/CH014_152.jpg) and ![inline-image](../images/CH014_153.jpg)
    are two possible ratings. Consider the marginal transition probability
  id: totrans-681
  prefs: []
  type: TYPE_NORMAL
  zh: 假设![inline-image](../images/CH014_152.jpg)和![inline-image](../images/CH014_153.jpg)是两种可能的评级。考虑边际转移概率
- en: '![display-image](../images/CH014_154.jpg)(14.9)'
  id: totrans-682
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH014_154.jpg)(14.9)'
- en: Previously available data about the *i*-th bond can be used to estimate this
    transition probability. As the first step towards applying copula, we introduce
    a random variable *U* [*i*] , corresponding to the *i*-th bond, which is uniform
    over (0, 1). As ![inline-image](../images/CH014_155.jpg) ranges over the set of
    possible ratings, the corresponding probabilities in ([14.9](#eq9)) sum to one.
    So, we can divide the interval (0, 1) into sub-intervals, where the lengths of
    the sub-intervals are the probabilities given by ([14.9](#eq9)). To each such
    sub-interval, we associate the corresponding value of ![inline-image](../images/CH014_156.jpg).
    As a result, the function ![inline-image](../images/CH014_157.jpg) can be considered
    to be a function of the random variable *U* [*i*] . Consequently, the question
    of modelling the joint transition probabilities boils down to that of modelling
    the joint distribution for *U* 1,…,*U* [*n*] , where each *U* [*i*] is uniform
    over (0, 1). A copula is required to model the joint distribution.
  id: totrans-683
  prefs: []
  type: TYPE_NORMAL
  zh: 先前可用的关于第*i*个债券的数据可用于估计这一转移概率。作为应用copula的第一步，我们引入一个随机变量*U*[*i*]，对应于第*i*个债券，它在(0,
    1)上均匀分布。随着![inline-image](../images/CH014_155.jpg)在可能评级的集合上变化，([14.9](#eq9))中对应的概率之和为一。因此，我们可以将区间(0,
    1)分成子区间，其中子区间的长度是由([14.9](#eq9))给出的概率。对于每个这样的子区间，我们将相应的值与![inline-image](../images/CH014_156.jpg)相关联。因此，函数![inline-image](../images/CH014_157.jpg)可以被认为是随机变量*U*[*i*]的函数。因此，对联合转移概率建模的问题归结为对*U*
    1,…,*U*[*n*]的联合分布建模的问题，其中每个*U*[*i*]在(0, 1)上均匀分布。需要一个copula来模拟联合分布。
- en: Let ![inline-image](../images/CH014_158.jpg). Then *Z* [*i*] follows ![inline-image](../images/CH014_159.jpg).
    The question then boils down to what should be the joint distribution of *Z* 1,…,*Z*
    [*n*] when the marginals are ![inline-image](../images/CH014_160.jpg). The natural
    choice is the multivariate normal distribution *N*(0, ***R*** ). Equivalently,
    one may consider the Gaussian copula defined by ![inline-image](../images/CH014_161.jpg).
    The particular choice of the correlation matrix ** *R* ** is important and depends
    on a number of factors. These considerations are rather detailed and we skip the
    issue of the choice of ***R*** .
  id: totrans-684
  prefs: []
  type: TYPE_NORMAL
  zh: 让![inline-image](../images/CH014_158.jpg)。那么*Z*[*i*]遵循![inline-image](../images/CH014_159.jpg)。那么问题归结为当边际分布为![inline-image](../images/CH014_160.jpg)时*Z*
    1,…,*Z*[*n*]的联合分布应该是什么。自然的选择是多元正态分布*N*(0, ***R*** )。等价地，可以考虑由![inline-image](../images/CH014_161.jpg)定义的高斯copula。相关矩阵***R***
    的特定选择很重要，并且取决于许多因素。这些考虑相当详细，我们跳过***R***的选择问题。
- en: 14.3.2 Tail Dependence and Tail Correlation
  id: totrans-685
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 14.3.2 尾依赖性和尾相关性
- en: A basic issue in risk management is the tail of the distribution of losses.
    It is possible that large losses in a portfolio are caused by simultaneous large
    moves in several components. Consequently, it is of interest to be able to model
    the probability of simultaneous extremes in two or more variables.
  id: totrans-686
  prefs: []
  type: TYPE_NORMAL
  zh: 风险管理中的一个基本问题是损失分布的尾部。有可能投资组合中的大额损失是由几个成分同时大幅波动引起的。因此，有兴趣能够模拟两个或更多变量同时极端事件的概率。
- en: For simplicity, we consider two random variables *X* 1 and *X* 2 whose joint
    probability distribution is linked by a copula *C* to their marginals. Assume
    that the marginals have inverses. The lower tail dependence of *X* 1 and *X* 2
    is defined to be
  id: totrans-687
  prefs: []
  type: TYPE_NORMAL
  zh: 为简单起见，我们考虑两个随机变量 *X* 1 和 *X* 2，其联合概率分布由 copula *C* 与其边缘相关。假设边缘具有反函数。*X* 1 和
    *X* 2 的下尾依赖定义为
- en: '![display-image](../images/CH014_162.jpg)'
  id: totrans-688
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH014_162.jpg)'
- en: 'It is of interest to be able to compute the lower tail dependence. This can
    be expressed in terms of the copula *C* as follows:'
  id: totrans-689
  prefs: []
  type: TYPE_NORMAL
  zh: 能够计算下尾依赖是很有意义的。这可以用 copula *C* 如下表达：
- en: '![display-image](../images/CH014_163.jpg)'
  id: totrans-690
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH014_163.jpg)'
- en: So, ![inline-image](../images/CH014_164.jpg). This calculation also shows that
    the tail dependence is symmetric, i.e. the tail dependence of *X* 1, *X* 2 is
    the same as that of *X* 2, *X* 1\. Being able to express the tail dependence in
    terms of copula allows its computation. The Gaussian copula has the property that
    its tail dependence is 0 regardless of the correlation matrix. On the other hand,
    the *t*-copula has positive tail dependendence even when *X* 1 and *X* 2 are uncorrelated.
  id: totrans-691
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，![inline-image](../images/CH014_164.jpg)。这个计算还表明尾部依赖是对称的，即 *X* 1, *X* 2 的尾部依赖与
    *X* 2, *X* 1 相同。能够用 copula 表达尾部依赖，并允许其计算。高斯 copula 具有其尾部依赖为 0 的属性，无论相关矩阵如何。另一方面，*t*-copula
    即使 *X* 1 和 *X* 2 不相关，也具有正的尾部依赖。
- en: 'Let *I* [*i*] be the indicator variable for the event ![inline-image](../images/CH014_165.jpg),
    *i* = 1, 2\. For example, *I* [*i*] could be the indicator that the *i*-th bond
    in a portfolio defaults. Then *E*[*I* [*i*] ] = *u* and the standard deviation
    of *I* [*i*] is ![inline-image](../images/CH014_166.jpg). The expectation of *I*
    1 *I* 2 is computed as ![inline-image](../images/CH014_167.jpg). Thus, the correlation
    of *I* 1 and *I* 2 is computed as follows:'
  id: totrans-692
  prefs: []
  type: TYPE_NORMAL
  zh: 让 *I* [*i*] 成为事件 ![inline-image](../images/CH014_165.jpg) 的指示变量，其中 *i* = 1,
    2。例如，*I* [*i*] 可以是投资组合中第 *i* 个债券违约的指示器。那么 *E*[*I* [*i*] ] = *u*，而 *I* [*i*] 的标准差是
    ![inline-image](../images/CH014_166.jpg)。*I* 1 *I* 2 的期望值计算如下 ![inline-image](../images/CH014_167.jpg)。因此，*I*
    1 和 *I* 2 的相关性计算如下：
- en: '![display-image](../images/CH014_168.jpg)(14.10)'
  id: totrans-693
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH014_168.jpg)(14.10)'
- en: The lower tail correlation of *X* 1 and *X* 2 is defined to be
  id: totrans-694
  prefs: []
  type: TYPE_NORMAL
  zh: '*X* 1 和 *X* 2 的下尾相关性定义为'
- en: '![display-image](../images/CH014_169.jpg)'
  id: totrans-695
  prefs: []
  type: TYPE_IMG
  zh: '![display-image](../images/CH014_169.jpg)'
- en: which from ([14.10](#eq10)) is seen to be equal to ![inline-image](../images/CH014_170.jpg).
    So, the lower tail correlation is the same as the lower tail dependence.
  id: totrans-696
  prefs: []
  type: TYPE_NORMAL
  zh: 从（[14.10](#eq10)）中可以看出，它等于 ![inline-image](../images/CH014_170.jpg)。因此，下尾相关性与下尾相关性相同。
- en: '**Remark:** Similar to the lower tail dependence, it is possible to define
    the upper tail dependence which can then be expressed in terms of survival copula
    which is a concept similar to that of copula. The properties of upper tail dependence
    are similar to those of the lower tail dependence. The same holds for upper tail
    correlation. We omit these details.'
  id: totrans-697
  prefs: []
  type: TYPE_NORMAL
  zh: '**备注：** 与下尾相关性类似，可以定义上尾相关性，然后可以用生存联合分布表示，这是与联合分布概念类似的概念。上尾相关性的性质与下尾相关性类似。上尾相关性也是如此。我们省略了这些细节。'
- en: '**Notes**'
  id: totrans-698
  prefs: []
  type: TYPE_NORMAL
  zh: '**注释**'
- en: Our description of VaR and CVaR is based on Sarykalin, Serraino, and Uryasev
    (2008). The exposition of the Sharpe ratio is from Sharpe (1994). There is a fair
    amount of literature on copula theory both in the context of statistics and its
    application to finance. Our description of copulas is based on the material which
    is part of the course ‘Statistics and Financial Risk’ at the North Carolina State
    University available at [https://www.stat.ncsu.edu/people/bloomfield/courses/st810j/](https://www.stat.ncsu.edu/people/bloomfield/courses/st810j/)
    (Accessed on November 27, 2019).
  id: totrans-699
  prefs: []
  type: TYPE_NORMAL
  zh: 我们对 VaR 和 CVaR 的描述基于 Sarykalin、Serraino 和 Uryasev（2008）。对 Sharpe 比率的阐述来自 Sharpe（1994）。有相当多的文献涉及联合分布理论，无论是在统计学上还是在其应用于金融领域。我们对联合分布的描述基于北卡罗来纳州立大学课程《统计与金融风险》中的材料，该课程可在[https://www.stat.ncsu.edu/people/bloomfield/courses/st810j/](https://www.stat.ncsu.edu/people/bloomfield/courses/st810j/)
    上找到（于2019年11月27日访问）。
- en: Chapter 15
  id: totrans-700
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第15章
- en: High-frequency Trading
  id: totrans-701
  prefs: []
  type: TYPE_NORMAL
  zh: 高频交易
- en: High-frequency trading (HFT) is a form of algorithmic trading. There is no clear-cut
    definition of HFT, though there are some characteristics of HFT activity. For
    one thing, all trading is done by a computer. The trader designs and implements
    an HFT algorithm which runs on very fast computers. The computers receive trading-related
    information from available sources. Such sources include available public information
    (such as stock quotes and other order book information) from one or more stock
    markets and also available news feeds. Based on such information, the HFT algorithm
    decides on the trades. This decision includes the assets to be traded and the
    price and the volume of the trade. Once such decisions are made, the relevant
    orders are sent to the appropriate stock markets. Apart from the initial design
    of the algorithm and subsequent tuning of its top-level parameters, there is no
    human element involved in the entire trading activity.
  id: totrans-702
  prefs: []
  type: TYPE_NORMAL
  zh: 高频交易（HFT）是一种算法交易形式。虽然对于HFT没有明确的定义，但有一些HFT活动的特征。首先，所有交易都由计算机完成。交易员设计并实现了一个在非常快的计算机上运行的HFT算法。计算机从可用来源接收与交易相关的信息。这些来源包括来自一个或多个股票市场的可用公共信息（如股票报价和其他订单簿信息），以及可用的新闻提要。根据这些信息，HFT算法决定进行交易。这个决定包括要交易的资产、交易的价格和交易的数量。一旦做出这样的决定，相关订单将被发送到适当的股票市场。除了算法的初始设计和其顶层参数的后续调整之外，在整个交易活动中没有人为因素参与其中。
- en: For any trader, the order-to-trade ratio is the number of orders placed by the
    trader in the market divided by the number of orders that are actually filled
    (i.e. executed). Not all orders are filled. One way in which an order might not
    be filled is for it to expire before it can be filled. Alternatively, the trader
    may send a request to modify or cancel the order before it is filled. A high order-to-trade
    ratio typically indicates that the trader has placed many orders, but has modified
    or cancelled them before they could be executed. Usually, HFT leads to high order-to-trade
    ratios. Another trading parameter is the turnover rate. This refers to the total
    value of stock traded in a unit of time. HFT usually has a high turnover rate.
  id: totrans-703
  prefs: []
  type: TYPE_NORMAL
  zh: 对于任何交易员来说，订单-交易比是交易员在市场上下的订单数除以实际成交的订单数（即执行）。并非所有订单都会成交。订单未成交的一种方式是在成交之前到期。或者，交易员可能会在订单成交之前发送修改或取消订单的请求。高订单-交易比通常表明交易员已经下了许多订单，但在它们执行之前对其进行了修改或取消。通常，HFT会导致较高的订单-交易比。另一个交易参数是周转率。这指的是在一个时间单位内交易的股票的总价值。HFT通常具有较高的周转率。
- en: The speed of trading is of utmost importance in HFT strategies. This speed is
    determined by the time for information to reach the trader's computers, the time
    to reach the trading decision and the time to place an order on a stock exchange.
    The time to reach the trading decision is determined by the complexity of the
    algorithm which makes the decision and the speed of the computer on which the
    algorithm is executed. The communication times (i.e. the time for information
    to reach the trading computer and the time for the orders to reach the stock exchange)
    are determined by the network delays. This time can be reduced by reducing the
    distance between the stock exchange and the trading computer and by using very
    fast networks. Co-location is a paid facility provided by an exchange to place
    the trading computers in the same data centres that house the exchange's computer
    servers. This ensures that the geographical distance between the source of information
    and the trading computer is reduced to the minimum possible. In addition, trading
    firms use ultra-low latency direct market access (ULLDMA) to ensure that network
    delays are minimised.
  id: totrans-704
  prefs: []
  type: TYPE_NORMAL
  zh: 交易速度在HFT策略中至关重要。这个速度由信息到达交易员计算机的时间、做出交易决策的时间和在股票交易所下订单的时间决定。做出交易决策的时间取决于制定决策的算法的复杂性以及执行该算法的计算机的速度。通信时间（即信息到达交易计算机的时间和订单到达股票交易所的时间）取决于网络延迟。可以通过减少股票交易所和交易计算机之间的距离以及使用非常快速的网络来缩短这段时间。同址交易是交易所提供的一个付费设施，用于将交易计算机放置在容纳交易所计算机服务器的相同数据中心中。这确保了信息来源与交易计算机之间的地理距离被缩短到最小。此外，交易公司使用超低延迟直接市场接入（ULLDMA）来确保网络延迟最小化。
- en: In many cases, HFT strategies are essentially arbitrage opportunities which
    exploit market inefficiencies. Since market inefficiencies last for very small
    intervals of time, the speed of detecting and leveraging such opportunities is
    of crucial importance. This motivates the need for high-speed trading as explained
    above.
  id: totrans-705
  prefs: []
  type: TYPE_NORMAL
  zh: 在许多情况下，高频交易（HFT）策略实质上是利用市场的不有效率来进行套利。由于市场的不有效率持续时间非常短，因此检测和利用这些机会的速度至关重要。这就解释了上面提到的需要高速交易的动机。
- en: HFT firms usually do not hold long-term positions, utilise significant capital
    or maintain portfolios for a long time. Rather, such trading moves in and out
    of short-term positions at high volumes and high speeds. The amount of profit
    per trade is usually very small. The small margin is compensated by the high volume
    of trade that HFT typically makes.
  id: totrans-706
  prefs: []
  type: TYPE_NORMAL
  zh: HFT公司通常不持有长期头寸，不利用大量资本，也不长时间持有投资组合。相反，这种交易以高交易量和高速度进出短期头寸。每笔交易的利润通常非常微小。高频交易通常会通过高交易量来弥补小幅利润。
- en: As mentioned above, HFT firms employ proprietary trading algorithms. As such,
    the exact details of such algorithms are not available. There are, however, some
    broad approaches to HFT. In the following sections, we briefly describe some of
    these approaches.
  id: totrans-707
  prefs: []
  type: TYPE_NORMAL
  zh: 如上所述，高频交易公司采用专有的交易算法。因此，这些算法的确切细节不可得知。然而，对于高频交易，存在一些广泛的方法。在以下部分，我们简要描述其中一些方法。
- en: 15.1 Market Making
  id: totrans-708
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 15.1 做市
- en: Traditionally a market maker is a firm which places orders on both sides of
    the order book. In other words, both buy and sell orders are placed by a market
    maker. The goal is to make a profit from the bid-ask spread. Exchanges have designated
    firms who receive discounts for regularly playing market making roles in various
    stocks. Such market makers provide liquidity and are committed not to exit the
    market.
  id: totrans-709
  prefs: []
  type: TYPE_NORMAL
  zh: 传统上，做市商是一家在订单簿的两侧下单的公司。换句话说，做市商同时下买单和卖单。其目标是从买卖价差中获利。交易所已指定一些公司，为在各种股票中定期扮演做市商角色而获得折扣。这些做市商提供流动性，并承诺不退出市场。
- en: HFT firms can also adopt market making strategies. They simultaneously place
    buy and sell quotes to profit from the bid-ask spread. Such quotes could be thin
    quotes which are close to the best bid-ask spread and get filled up more often
    or thick quotes which are far from the best bid-ask spread and get filled up less
    frequently. This is one among several aspects of the trading decision to be taken
    by an HFT algorithm. Building profitable market making strategies requires precise
    modelling of the target market microstructure and the use of stochastic control
    techniques.
  id: totrans-710
  prefs: []
  type: TYPE_NORMAL
  zh: 高频交易公司也可以采用做市策略。他们同时发布买入和卖出报价，以从买卖价差中获利。这些报价可以是接近最佳买卖价差的薄报价，更容易被成交，也可以是远离最佳买卖价差的厚报价，成交频率较低。这是高频交易算法需要考虑的几个交易决策之一。建立盈利的做市策略需要精确建模目标市场微观结构，并使用随机控制技术。
- en: Although an HFT firm may play the role of a market maker, such firms typically
    do not have any commitment to do so in the long run. They may exit the market
    at their discretion.
  id: totrans-711
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管高频交易公司可能扮演做市商的角色，但这些公司通常并没有长期承诺这样做。他们可能会随意退出市场。
- en: 15.2 Exploiting Limit Order Book
  id: totrans-712
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 15.2 利用限价订单簿
- en: The limit order book of an exchange contains public information. The order book
    provides the list of limit orders (both buy and sell) on all stocks listed on
    the exchange. A simple strategy for exploiting this information would be the basic
    demand–supply intuition. If more orders are placed for an asset, then there is
    an increasing demand for the asset, and the price of the asset can be expected
    to rise. So, a profit can be made by buying the asset while the price is rising
    and then sell it when the price has sufficiently risen.
  id: totrans-713
  prefs: []
  type: TYPE_NORMAL
  zh: 交易所的限价订单簿包含公开信息。订单簿提供了交易所上所有股票的限价订单列表（买入和卖出）。利用这些信息的一个简单策略是基于基本的需求-供给 intution。如果某资产的订单更多，那么对该资产的需求增加，资产的价格也有望上涨。因此，在价格上涨时购买该资产，然后在价格上涨到足够高时将其出售，就可以获利。
- en: If a single asset is of interest, then it may be possible for a human to assess
    the above situation and implement the above strategy. On the other hand, the limit
    order book of an exchange will hold a huge amount of information. Searching among
    such information, to find a number of assets where the above simple strategy can
    be applied, is very difficult for a human to do. Computer algorithms can be designed
    to process the information to discover such scenarios and exploit them with high
    speed. Hence, the involvement of HFT firms arises.
  id: totrans-714
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一个单一资产受到关注，那么可能有可能人为评估上述情况并实施上述策略。另一方面，交易所的限价订单簿将保存大量信息。在这些信息中搜索，以找到可以应用上述简单策略的多个资产，对于人类来说是非常困难的。可以设计计算机算法来处理信息，以发现这样的情景并以高速利用它们。因此，高频交易公司的介入就出现了。
- en: Detecting the rising demand for an asset is a basic information that can be
    garnered from a limit order book. HFT strategies may more generally try to obtain
    further insights into the market microstructure from the limit order book.
  id: totrans-715
  prefs: []
  type: TYPE_NORMAL
  zh: 从限价订单簿中获取资产需求上升的基本信息是可以得到的。高频交易策略可能更普遍地试图从限价订单簿中获得有关市场微观结构的更多见解。
- en: 15.3 Mean Reversion and Pairs Trading
  id: totrans-716
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 15.3 均值回归与配对交易
- en: Mean reversion is the general principle that an asset has a stable (or mean)
    price to which it will return after possible periods of volatility arising from
    external shocks. More formally, an asset price can be modelled using the Ornstein–Uhlenbeck
    process and shown to possess the mean reversion property. An application of the
    mean reversion property is in the use of a trading strategy called pairs trading.
  id: totrans-717
  prefs: []
  type: TYPE_NORMAL
  zh: 均值回归是一个通用原理，即资产具有一个稳定的（或平均的）价格，在可能由外部冲击引起的波动期后，它将返回到这个价格。更正式地说，可以使用 Ornstein-Uhlenbeck
    过程对资产价格进行建模，并显示其具有均值回归属性。均值回归属性的一个应用是使用称为配对交易的交易策略。
- en: Suppose two assets are of similar types and historical data show the prices
    of the two assets to be correlated. For some reason, this correlation may temporarily
    weaken. As a result, the prices of the two assets diverge more than what is predicted
    from historical data. Suppose the price of asset *A* goes up and the price of
    asset *B* goes down. This suggests the following trading strategy. Short sell
    asset *A* and go long on asset *B*. This means borrow asset *A* and sell it while
    buy asset *B*. The mean reversion assumption implies that after a certain amount
    of time, the prices of *A* and *B* will converge, i.e. the price of *A* will come
    down and the price of *B* will go up. At this point, asset *A* can be purchased
    and replaced to the entity from which it was borrowed for short selling. Also,
    asset *B* can be sold to make a profit.
  id: totrans-718
  prefs: []
  type: TYPE_NORMAL
  zh: 假设两种资产类型相似，并且历史数据显示这两种资产的价格存在相关性。由于某种原因，这种相关性可能暂时减弱。因此，两种资产的价格可能比历史数据预测的要更大幅度地分歧。假设资产*A*的价格上涨，而资产*B*的价格下跌。这暗示了以下交易策略。卖空资产*A*并做多资产*B*。这意味着借入资产*A*并将其出售，同时购买资产*B*。均值回归假设意味着在一段时间后，资产*A*和资产*B*的价格将会收敛，即资产*A*的价格将下降，而资产*B*的价格将上涨。在这一点上，资产*A*可以购买并替换为卖空借出的实体。此外，资产*B*可以出售以获利。
- en: The above strategy is called pairs trading. It is a market-neutral strategy
    which allows traders to make a profit from almost any market movement. The key
    to being successful in pairs trading is early detection of the price divergence
    and timeliness of the buy and sell decisions. The divergence of historically correlated
    asset prices is market inefficiency. Such opportunities do not occur on a regular
    basis. Even when such an opportunity occurs, it remains open for a very small
    window of time. So, precision of detection and speed of execution is of importance.
  id: totrans-719
  prefs: []
  type: TYPE_NORMAL
  zh: 上述策略称为配对交易。这是一种市场中性策略，允许交易者从几乎任何市场变动中获利。成功进行配对交易的关键在于早期发现价格分歧和买卖决策的及时性。历史相关资产价格的分歧是市场的非效率性。这种机会并不经常出现。即使出现这样的机会，也只会持续很短的时间窗口。因此，检测的精确性和执行的速度至关重要。
- en: 15.4 Arbitrage
  id: totrans-720
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 15.4 套利
- en: Broadly speaking, arbitrage refers to trading practices whereby it is possible
    to make a profit with no (or little) risk. A trader who engages in arbitrage is
    called an arbitrageur. Opportunities for arbitrage arise basically due to market
    inefficiencies and last for very small durations of time. Arbitrageurs have to
    be able to detect such opportunities and act upon them with utmost speed. So,
    exploiting arbitrage opportunities calls for HFT.
  id: totrans-721
  prefs: []
  type: TYPE_NORMAL
  zh: 广义上讲，套利指的是通过交易实践可以获利而几乎没有（或很少）风险的情况。从事套利交易的交易者称为套利商。套利机会主要由市场的非效率性产生，并且持续时间非常短暂。套利商必须能够发现这样的机会并且以最快的速度行动。因此，利用套利机会需要高频交易。
- en: It should be noted that the concept of arbitrage is quite old. A simple example
    is the following. Suppose the same asset trades in two different markets. Under
    normal circumstances, the price of the asset in both the markets should be the
    same. If there is a variation in the price, then a sharp trader can buy the asset
    in the market where its price is lower and sell it in the market where its price
    is higher. This allows the trader to make a profit on the price difference with
    almost no risk. The only risk is if the price of the asset falls in the second
    market before the trader can sell. Even in this case, the risk is low as the price
    is unlikely to decrease below the price at which the trader purchased the asset.
    The difference in the price of the same product in two markets is an example of
    market inefficiency. Arbitrageurs will jump in to exploit this difference. As
    a result, there will be push on the prices of the asset in opposite directions
    and will very soon lead to the prices becoming same in both the markets. The above
    analysis is a bit simplistic and ignores transactions costs and the possible costs
    of moving assets across market and possibly boundaries. A careful arbitrageur
    will have to factor in these considerations (at high speed) to decide whether
    or not to exploit the price difference. Nevertheless, the example highlights the
    basic idea of arbitrage.
  id: totrans-722
  prefs: []
  type: TYPE_NORMAL
  zh: 注意到套利的概念是相当古老的。一个简单的例子如下。假设同一资产在两个不同的市场上交易。在正常情况下，资产在两个市场上的价格应该是相同的。如果价格有所变化，那么一个敏锐的交易者就可以在价格较低的市场购买该资产，然后在价格较高的市场出售。这使得交易者可以在几乎没有风险的情况下从价格差异中获利。唯一的风险是如果在交易者能够出售之前，资产在第二个市场的价格下跌。即使在这种情况下，风险也很低，因为价格不太可能低于交易者购买资产的价格。两个市场中相同产品的价格差异是市场效率低下的一个例子。套利者将介入利用这种差异。结果，资产价格将受到相反方向的推动，并很快导致两个市场的价格变得相同。上述分析有点简化，并忽略了交易成本以及将资产移动到市场甚至边界的可能成本。一个谨慎的套利者将不得不考虑这些因素（以高速）来决定是否利用价格差异。尽管如此，这个例子突显了套利的基本思想。
- en: In the above example, we have considered that arbitrage opportunity whereby
    the same asset does not trade at the same price on all markets. The concept of
    pairs trading mentioned in the earlier section is also a kind of aribtrage. More
    generally, one may expect two different but similar assets backed by similar cash
    flows to trade at similar prices. Any deviation may give rise to an arbitrage
    opportunity.
  id: totrans-723
  prefs: []
  type: TYPE_NORMAL
  zh: 在上面的例子中，我们考虑了一种套利机会，即同一资产在所有市场上的价格并不相同。前面部分提到的成对交易的概念也是一种套利。更一般地，人们可以期望两种不同但相似的资产，由类似的现金流支持，以类似的价格交易。任何偏差都可能产生套利机会。
- en: Consider the following naïve scenario. Suppose that the price of the asset at
    time *T* in the future is *P* and the discounted price at time *t* < *T* is *P*/*D*,
    where *D* is the discount factor arising from the risk-free interest rate. Let
    the current price of the asset be *S*. Suppose an investor borrows an amount *S*
    to buy the asset at time *t*. At time *T*, the investor will have to repay an
    amount *SD* to the lender. Since the price of the asset at time *T* will be *P*,
    he can sell the asset and repay the lender. The profit (or loss) to the investor
    at time *T* is *P* − *SD* (ignoring transaction costs). If *P* > *SD*, then the
    investor makes a profit, if *P* = *SD*, then he breaks even and if, *P* < *SD*,
    then the investor makes a loss. At time *t*, the investor does not know the value
    of *P*, which is modelled as a random quantity. He hopes that *P* will turn out
    to be greater than *SD* which is the reason he makes the investment. His risk
    is that in reality *P* becomes less than *SD*.
  id: totrans-724
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑以下天真的情景。假设未来时间*T*的资产价格为*P*，而在时间*t* < *T*时的折现价格为*P*/*D*，其中*D*是由无风险利率引起的折现因子。让资产的当前价格为*S*。假设投资者借入金额*S*在时间*t*购买资产。到时间*T*，投资者将不得不向贷方偿还金额*SD*。由于时间*T*时的资产价格将为*P*，他可以出售资产并偿还贷方。投资者在时间*T*的利润（或损失）为*P*
    − *SD*（忽略交易成本）。如果*P* > *SD*，那么投资者就会获利，如果*P* = *SD*，那么他就不赚不亏，如果*P* < *SD*，那么投资者就会亏损。在时间*t*，投资者不知道*P*的价值，这被建模为一个随机量。他希望*P*最终大于*SD*，这就是他进行投资的原因。他的风险在于，实际上*P*小于*SD*。
- en: In the above setting, suppose that the investor has some way of *knowing* the
    future price *P and* further *P* > *SD* holds. Then the above scenario allows
    the investor to make a risk-free profit at time *T* with no investment. Note that
    the investor does not really need to know the actual future price; it is sufficient
    to know that this future price will be greater than *SD*. This consideration gives
    rise to a general idea for arbitrage. In practice, it is not possible to predict
    the future price of a single asset with any reasonable degree of certainty (except
    for the illegal practice of insider trading).
  id: totrans-725
  prefs: []
  type: TYPE_NORMAL
  zh: 在上述情景中，假设投资者有某种方式*知道*未来价格*P*并且*进一步* *P* > *SD*成立。那么上述情景允许投资者在时间*T*进行无风险获利而无需投资。请注意，投资者实际上并不需要知道实际未来价格；知道这个未来价格将大于*SD*就足够了。这种考虑引发了套利的一般思想。在实践中，几乎不可能以合理的确信度预测单个资产的未来价格（除了内幕交易这种非法行为）。
- en: 'Let us consider two portfolios instead of a single asset. Let *V* 1(*t*) and
    *V* 2(*t*) be the values of the two portfolios at time point *t*. Consider two
    time points *T* and *t* with *T* > *t* such that *V* 1(*T*) = *V* 2(*T*). Suppose
    that at time point *t*, *V* 1(*t*) < *V* 2(*t*). This creates an arbitrage opportunity.
    At time *t*, an arbitrageur goes long (i.e. buys) the first portfolio and short
    (i.e. sells by borrowing) the second one. At time *T*, both the portfolios have
    the same value, so the following strategy can be followed: sell the first portfolio
    and use the proceeds to buy the second portfolio and payoff the debt due to the
    short selling. Overall, the arbitrageur has made a risk-free profit.'
  id: totrans-726
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们考虑两个投资组合而不是一个单一的资产。让*V*1(*t*)和*V*2(*t*)分别表示时间点*t*时两个投资组合的价值。考虑两个时间点*T*和*t*，其中*T*
    > *t*，使得*V*1(*T*) = *V*2(*T*)。假设在时间点*t*，*V*1(*t*) < *V*2(*t*)。这就产生了套利机会。在时间*t*，套利者买入第一个投资组合并借入卖出第二个投资组合。到达时间*T*时，两个投资组合的价值相同，因此可以采取以下策略：卖出第一个投资组合，利用收益买入第二个投资组合并偿还由于卖空而产生的债务。总体而言，套利者获得了无风险利润。
- en: 15.4.1 Put–call Parity
  id: totrans-727
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 15.4.1 **看涨-看跌平价**
- en: Consider a portfolio ![inline-image](../images/CH015_1.jpg) which is long (i.e.
    has purchased) a European call option and short (i.e. has written) a European
    put option. For both the options, the strike price is *E* and the expiry date
    is *T*. At time *t* ≤ *T*, let *S*(*t*) be the price of the underlying asset;
    *C*(*t*) and *P*(*t*) be the prices of the call and put options, respectively.
    If it turns out that *S*(*T*) > *E*, then the call option will be exercised by
    the portfolio manager making a profit of *S*(*T*) − *E*, the put option will not
    be exercised by the holder (the portfolio has written the put option and somebody
    else is holding it); so the net profit to the portfolio will be *S*(*T*) − *E*.
    On the other hand, if it turns out that *S*(*T*) < *E*, then the portfolio manager
    will not exercise the call option, but the holder of the put option will exercise
    it, resulting in a loss of *E* − *S*(*T*) for the portfolio. This can be summed
    up by saying that the value of the portfolio at time *T* is equal to *S*(*T*)
    − *E*. Note that this covers the possibility *S*(*T*) = *E*, since then neither
    the call nor the put option will be exercised, resulting in a value of 0 for the
    portfolio. This analysis shows that the portfolio consisting of a long call and
    a short put is conceptually equivalent to a forward contract on the underlying
    asset with date *T* and price *E*.
  id: totrans-728
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑一个投资组合，![inline-image](../images/CH015_1.jpg)，它是长期持有（即已购买）一份欧式看涨期权并做空（即已卖出）一份欧式看跌期权。对于这两种期权，行权价为*E*，到期日为*T*。在时间*t*
    ≤ *T*，让*S*(*t*)为标的资产的价格；*C*(*t*)和*P*(*t*)分别为看涨期权和看跌期权的价格。如果事实证明*S*(*T*) > *E*，那么投资组合经理将行使看涨期权，获得*S*(*T*)
    − *E*的利润，看跌期权不会被行使（投资组合已经出售了看跌期权，而其他人持有它）；因此，投资组合的净利润为*S*(*T*) − *E*。另一方面，如果事实证明*S*(*T*)
    < *E*，那么投资组合经理将不行使看涨期权，但看跌期权的持有人将行使它，导致投资组合损失*E* − *S*(*T*)。这可以总结为，在时间*T*时，投资组合的价值等于*S*(*T*)
    − *E*。请注意，这涵盖了可能性*S*(*T*) = *E*，因为那时既不会行使看涨期权也不会行使看跌期权，从而导致投资组合的价值为0。这个分析表明，由长期持有看涨期权和做空看跌期权构成的投资组合在概念上等同于标的资产的到期日为*T*，价格为*E*的远期合约。
- en: Now consider a second portfolio ![inline-image](../images/CH015_2.jpg) which
    is long (i.e. has purchased) a single unit of the asset and has a loan such that
    at time *T* the repayment amount at the risk-free interest rate is *E*. Consider
    the scenario at time *T*. The asset is sold to obtain an amount *S*(*T*) and the
    loan is repayed. If *S*(*T*) ≥ *E*, then a profit of *S*(*T*) − *E* (or break
    even if *S*(*T*) = *E*) results. If *S*(*T*) < *E*, then a loss of *E* − *S*(*T*)
    results. Consequently, the value of this second portfolio at time *T* is also
    *S*(*T*) − *E*.
  id: totrans-729
  prefs: []
  type: TYPE_NORMAL
  zh: 现在考虑第二个投资组合，![inline-image](../images/CH015_2.jpg)，它是长期持有（即已购买）一单位资产并有一笔贷款，使得在时间*T*时，以无风险利率偿还的金额为*E*。考虑时间*T*的情景。资产被出售以获得金额*S*(*T*)，贷款被偿还。如果*S*(*T*)
    ≥ *E*，则盈利为*S*(*T*) − *E*（或者如果*S*(*T*) = *E*，则达到收支平衡）。如果*S*(*T*) < *E*，则造成损失*E*
    − *S*(*T*)。因此，该第二个投资组合在时间*T*的价值也为*S*(*T*) − *E*。
- en: In the above, we have two portfolios which have the same value at time *T*.
    At time *t*, the value of ![inline-image](../images/CH015_3.jpg) is *V* 1(*t*)
    = *C*(*t*) − *P*(*t*), whereas the value of ![inline-image](../images/CH015_4.jpg)
    is *V* 2(*t*) = *S*(*t*) – *E*/*D*(*t*, *T*), where *D*(*t*, *T*) is the discount
    factor arising from the risk-free interest rate. From the previous description
    of two-portfolio arbitrage, if *V* 1(*t*) < *V* 2(*t*), then an arbitrageur can
    make a risk-free profit. For an efficient market, the no-arbitrage condition should
    hold resulting in *C*(*t*) – *P*(*t*) = *S*(*t*) – *E*/*D*(*t*, *T*) which is
    the so-called put–call parity relation.
  id: totrans-730
  prefs: []
  type: TYPE_NORMAL
  zh: 在上述情况下，我们有两个在时刻 *T* 时具有相同价值的投资组合。在时刻 *t*，![inline-image](../images/CH015_3.jpg)
    的价值为 *V* 1(*t*) = *C*(*t*) − *P*(*t*)，而![inline-image](../images/CH015_4.jpg)
    的价值为 *V* 2(*t*) = *S*(*t*) – *E*/*D*(*t*, *T*)，其中 *D*(*t*, *T*) 是由无风险利率产生的折现因子。根据之前对两个投资组合套利的描述，如果
    *V* 1(*t*) < *V* 2(*t*)，那么套利者可以获得无风险利润。对于一个有效市场，无套利条件应该成立，从而导致 *C*(*t*) – *P*(*t*)
    = *S*(*t*) – *E*/*D*(*t*, *T*)，这就是所谓的认沽期权-认购期权平价关系。
- en: Let us consider in more detail the arbitrage opportunity that arises if the
    put–call parity does not hold. Suppose at time *t*, the price of the call option
    is *C′*, the price of the put option is *P′* and the price of the underlying is
    *S*′ such that *C′* − *P′* < *S′* − *E*/*D*(*t*, *T*). Construct a portfolio which
    is long the call option and short the put option and the underlying. In other
    words, the call option is purchased paying an amount *C′*, the put option is written
    earning an amount *P′* and the underlying is borrowed and sold earning an amount
    *S′*. Additionally, as part of the portfolio, an amount *E*/*D*(*t*, *T*) is invested
    at the risk-free interest rate. The profit in creating the portfolio is *X* =
    *P′* + *S′* − *C′* − *E*/*D*(*t*, *T*) > 0\. Let us consider what happens at time
    *T*. First note that the risk-free investment of *E*/*D*(*t*, *T*) matures to
    *E*. If *S*(*T*) ≥ *E*, then the arbitrageur exercises the call option using the
    amount *E* obtained from the risk-free investment to pay the strike price and
    acquire the underlying which is used to repay the short on the underlying; the
    put option will not be exercised. If *E* < *S*(*T*), then the call option will
    not be exercised, the holder of the put option will exercise the option; the arbitrageur
    uses the amount *E* obtained from the risk-free investment to pay the holder of
    the put option getting in return the underlying which is used to repay the short
    on the underlying. In both cases, there is neither loss nor gain for the arbitrageur
    at time *T*. In creating the portfolio, the arbitrageur makes a risk-free assured
    profit of *X* at time *t*.
  id: totrans-731
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们更详细地考虑一下，如果看涨期权和看跌期权之间的平价关系不成立时会出现的套利机会。假设在时间*t*，看涨期权的价格为*C′*，看跌期权的价格为*P′*，标的物的价格为*S′*，使得*C′*
    − *P′* < *S′* − *E*/*D*(*t*, *T*)。构建一个头寸，即多头持有看涨期权，空头持有看跌期权和标的物。换句话说，购买看涨期权需要支付*C′*，卖出看跌期权收入*P′*，借出标的物并卖出得到*S′*。此外，作为组合的一部分，以无风险利率投资*E*/*D*(*t*,
    *T*)。构建该组合的利润为*X* = *P′* + *S′* − *C′* − *E*/*D*(*t*, *T*) > 0。让我们考虑在时间*T*发生的情况。首先注意，以无风险利率投资*E*/*D*(*t*,
    *T*)到期后会变为*E*。如果*S*(*T*) ≥ *E*，那么套利者会行使看涨期权，使用从无风险投资获得的金额*E*支付执行价格并获得标的物，用于偿还标的物的空头头寸；看跌期权将不会被行使。如果*E*
    < *S*(*T*)，那么看涨期权将不会被行使，持有看跌期权的人将行使该期权；套利者使用从无风险投资获得的金额*E*支付持有看跌期权的人，获得标的物用于偿还标的物的空头头寸。在这两种情况下，套利者在时间*T*都不会有损失或盈利。通过构建该组合，套利者在时间*t*就获得了*X*的无风险确保利润。
- en: A similar reasoning shows the arbitrage opportunity that arises when *C′* −
    *P′* > *S′* − *E*/*D*(*t*, *T*).
  id: totrans-732
  prefs: []
  type: TYPE_NORMAL
  zh: 当*C′* − *P′* > *S′* − *E*/*D*(*t*, *T*)时，出现套利机会，类似的推理说明了这一点。
- en: 15.4.2 Covered Interest Rate Parity
  id: totrans-733
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 15.4.2 覆盖利率平价
- en: This relates to interest rates in two different countries. For simplicity, we
    will assume that funds can be moved across national boundaries at zero costs and
    that the buying and selling exchange rates are the same. Let *i* *d* be the domestic
    interest rate and *i* *f* be the interest rate in a foreign country for the same
    interval of time, say from time *t* to time *T*. Let *S* be the spot exchange
    rate at time *t* from the domestic to the foreign currency, i.e. at time *t* an
    amount of *X* units in the domestic currency is converted to *X*/*S* units in
    the foreign currency. At time *T*, in the domestic market *X* units will grow
    to *X*(1 + *i* *d* ), while in the foreign market *X*/*S* will grow to (1 + *i*
    *f* )*X*/*S*. Now suppose there is a forward contract which stipulates the exchange
    rate at time *T* to be *F*, i.e. at time *T* an amount *Y* units in the foreign
    currency will become *YF* units in the domestic currency. So, at time *T*, the
    amount (1 + *i* *f* )*X*/*S* in the foreign currency will be converted to an amount
    *F*(1 + *i* *f* )*X*/*S* in the domestic currency. If the values of *S*, *F*,
    *i* *d* and *i* *f* are such that *F*(1 + *i* *f* )/*S* is greater than (1 + *i*
    *d* ), then an arbitrageur can exploit the following arbitrage opportunity. Borrow
    an amount *X* in the domestic currency, convert to the foreign currency and invest
    in the foreign currency; at time *T*, execute the forward contract to covert the
    money back to the domestic currency and repay the lender in the domestic currency.
    So, at time *T*, the arbitrageur has to repay an amount (1 + *i* *d* )*X* in the
    domestic currency and gets an amount *F*(1 + *i* *f* )*X*/*S* in the domestic
    currency from his investment, thus earning a risk-free, zero-investment profit
    of an amount *X*(*F*(1 + *i* *f* )/*S* – (1 + *i* *d* )) > 0\. Such possibilities
    arise rarely and last for very short durations. An efficient market corrects itself
    by adjusting the prices of one of *i* [*d*] , *i* [*f*] , *S* and *F*. Consequently,
    the no-arbitrage condition for an efficient market implies that *S*(1 + *i* *d*
    ) = *F*(1 + *i* *f* ) which is the so-called covered interest rate parity relation,
    whereby *F* = *S*(1 + *i* *d* )/(1 + *i* *f* ) thus determining the forward exchange
    rate.
  id: totrans-734
  prefs: []
  type: TYPE_NORMAL
  zh: 这涉及到两个不同国家的利率。为了简单起见，我们假设资金可以在零成本情况下跨国界流动，并且买入和卖出的汇率是相同的。让 *i* *d* 表示国内利率，*i*
    *f* 表示同一时间间隔内外国的利率，例如从时间 *t* 到时间 *T*。让 *S* 表示时间 *t* 的即期汇率，从国内货币转换为外币，即在时间 *t*，国内货币中的
    *X* 单位被转换为相当于 *X*/*S* 单位的外币。在时间 *T*，在国内市场中， *X* 单位将增长到 *X*(1 + *i* *d* )，而在外国市场中，
    *X*/*S* 将增长到 (1 + *i* *f* )*X*/*S*。现在假设有一个远期合约，规定时间 *T* 的汇率为 *F*，即在时间 *T*，外币的数量
    *Y* 将变为 *YF* 单位的国内货币。因此，在时间 *T*，外币中的数量 (1 + *i* *f* )*X*/*S* 将被转换为国内货币中的数量 *F*(1
    + *i* *f* )*X*/*S*。如果 *S*、*F*、*i* *d* 和 *i* *f* 的值使得 *F*(1 + *i* *f* )/*S* 大于
    (1 + *i* *d* )，那么套利者可以利用以下套利机会。在国内货币中借入数量 *X*，转换为外币并投资于外币；在时间 *T*，执行远期合约将资金转换回国内货币，并以国内货币偿还借款人。因此，在时间
    *T*，套利者必须偿还数量为 (1 + *i* *d* )*X* 的国内货币，并从他的投资中获得数量为 *F*(1 + *i* *f* )*X*/*S* 的国内货币，从而获得了无风险、零投资的利润，其金额为
    *X*(*F*(1 + *i* *f* )/*S* – (1 + *i* *d* )) > 0。这种可能性很少出现，持续时间很短。一个高效的市场通过调整 *i*
    [*d*] 、*i* [*f*] 、*S* 和 *F* 中的一个的价格来纠正自身。因此，对于高效市场的无套利条件意味着 *S*(1 + *i* *d* )
    = *F*(1 + *i* *f* )，这就是所谓的带头寸利率平价关系，由此确定了远期汇率 *F* = *S*(1 + *i* *d* )/(1 + *i*
    *f* )。
- en: In the following, we briefly discuss several other types of arbitrage.
  id: totrans-735
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下内容中，我们简要讨论了几种其他类型的套利。
- en: '*Tick trading:* Public data available from an exchange often contain significant
    information. For example, such data pertain to quotes and trades made so far.
    Large orders by institutional investors are divided into small packets and sent
    to the market. Suppose the institutional investor is interested in buying a large
    number of a particular stock. This will eventually push up the price of the stock.
    The buy will proceed throughout the day and small buy orders will be placed at
    definite intervals. These quotes and the consequent trades constitute public data
    of the exchange. An HFT firm which is filtering these data using an algorithm
    may be able to detect early on that the buy orders are being placed. So, the firm
    can then buy shares of the stock and sell it to the institutional investor when
    the prices have risen later in the day. This kind of trading is called tick trading.'
  id: totrans-736
  prefs: []
  type: TYPE_NORMAL
  zh: '*Tick交易：* 交易所提供的公共数据通常包含重要信息。例如，这些数据涉及到目前为止的行情和交易。机构投资者的大额订单被分割成小包并发送到市场上。假设机构投资者有兴趣购买某只股票的大量股票。这将最终推高股票价格。购买将在全天进行，小额购买订单将在确定的间隔时间内下达。这些报价和随之而来的交易构成了交易所的公共数据。利用算法过滤这些数据的高频交易公司可能能够及早发现购买订单正在被下达。因此，该公司随后可以购买该股票的股份，并在当天稍后价格上涨时将其卖给机构投资者。这种交易称为Tick交易。'
- en: '*Index fund arbitrage:* Stock market indices are determined by a set of stocks.
    They are usually either price-weighted or capitalisation-weighted quantities.
    An index fund is a portfolio created with the goal of obtaining the return profile
    of some particular stock market index. The portfolio will contain the stocks considered
    in computing the index in the same proportion as in the index. The portfolio manager
    will periodically rebalance the portfolio to track the index that it is following.
    Index funds are made available to the public as a mutual fund. The advantage for
    a layperson is the ability to track the stock market index without actually owning
    the stocks making up the index. Index funds are usually considered safe investments
    and are used for retirement funds.'
  id: totrans-737
  prefs: []
  type: TYPE_NORMAL
  zh: '*指数基金套利：* 股票市场指数由一组股票决定。它们通常是价格加权或市值加权的数量。指数基金是一个旨在获得某个特定股票市场指数回报概况的投资组合。该投资组合将包含用于计算指数的股票，其比例与指数中的比例相同。投资组合经理将定期重新平衡投资组合以跟踪其正在跟踪的指数。指数基金向公众提供作为共同基金。对于普通人来说，优势在于能够跟踪股票市场指数，而实际上并不拥有构成指数的股票。指数基金通常被认为是安全的投资，并用于退休基金。'
- en: Since index funds track a stock market index, from time to time, the portfolio
    constituting the index fund has to be re-balanced. This will entail sale and/or
    purchase of large volumes of some asset. If an HFT firm is able to predict the
    re-balancing of an index fund, then it can buy the relevant stock early on and
    then sell them to the index fund at a profit.
  id: totrans-738
  prefs: []
  type: TYPE_NORMAL
  zh: 由于指数基金跟踪股票市场指数，因此，指数基金的投资组合不时需要重新平衡。这将涉及大量某些资产的买卖。如果一个高频交易公司能够预测指数基金的再平衡，那么它就可以提前购买相关股票，然后以利润将它们卖给指数基金。
- en: '*Statistical arbitrage:* Financial markets consist of various kinds of financial
    instruments including bonds, stock, commodities, currencies and also derivatives.
    Theoretical relationships are known between the present and future prices of various
    financial instruments. Any deviation from such theoretical relationships constitutes
    a market inefficiency and provides an arbitrage opportunity. While there is no
    generally accepted definition of statistical arbitrage, broadly speaking, statistical
    arbitrage constitutes the use of statistical (and machine learning) techniques
    to process historical and current financial data with the goal of detecting minute
    market inefficiencies. The detection has to be very fast, so that an inefficiency
    can be exploited as an arbitrage opportunity before it vanishes (due to similar
    action by other arbitrageurs). To properly utilise statistical arbitrage, it is
    required to build appropriate mathematical models of the market. This often requires
    sophisticated mathematical tools. Computations based on such models have to be
    both fast and accurate with respect to the predictions.'
  id: totrans-739
  prefs: []
  type: TYPE_NORMAL
  zh: '*统计套利：* 金融市场包括各种金融工具，包括债券、股票、大宗商品、货币以及衍生品。各种金融工具的现价和未来价之间存在着理论关系。任何偏离这种理论关系的情况都构成市场的低效，提供套利机会。虽然统计套利没有一个普遍接受的定义，但广义上讲，统计套利包括使用统计（和机器学习）技术处理历史和当前的金融数据，以便检测微小的市场低效。检测必须非常迅速，以便在其他套利者采取类似行动之前利用低效作为套利机会（导致低效消失）。要正确利用统计套利，需要构建适当的市场数学模型。这通常需要复杂的数学工具。基于这种模型的计算在预测方面既必须快速又准确。'
- en: 15.5 Market Manipulation
  id: totrans-740
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 15.5 市场操纵
- en: Manipulating market prices by fradulent means is an old strategy. One example
    is the so-called ‘pump and dump’ scheme. In this scheme, the fraudster initially
    acquires a significant holding in a security. Then, he spreads misleading information
    about the security using various means with the goal of creating a false impression
    that the price of the security is going to rise. This is the pump phase. When
    the price actually rises, the fraudster sells off his holdings giving rise to
    the dump phase. A high-frequency trader could also try to implement a pump and
    dump scheme. He uses an algorithm to place orders to momentarily drive up the
    price of a security and then dump whatever holding he has in the security.
  id: totrans-741
  prefs: []
  type: TYPE_NORMAL
  zh: 通过欺诈手段操纵市场价格是一种古老的策略。一个例子是所谓的‘泵和倾销’计划。在这个计划中，欺诈者首先收购一笔大量的证券。然后，他通过各种手段散布关于证券的误导信息，目的是制造一个虚假印象，即证券的价格将上涨。这是泵阶段。当价格实际上上涨时，欺诈者抛售他的持有，从而引发倾销阶段。高频交易者也可能尝试实施泵和倾销计划。他使用算法来下单，暂时推高证券价格，然后抛售他持有的证券。
- en: Below we discuss three other market manipulation strategies.
  id: totrans-742
  prefs: []
  type: TYPE_NORMAL
  zh: 以下我们讨论另外三种市场操纵策略。
- en: A high-frequency trader can place many limit buy orders and then cancel them
    before they are executed. This can create an impression on the other traders that
    the price of the security is rising. This would correspond to the pump phase of
    a pump and dump scheme. Similarly, a large number of sell limit orders which are
    placed (but cancelled before being filled) may lead to the impression that the
    price of the asset is falling, creating a sell pressure on the security. This
    allows the trader to buy the security at a lower price than its actual worth.
    Such a trade practice is called spoofing.
  id: totrans-743
  prefs: []
  type: TYPE_NORMAL
  zh: 高频交易者可以放置许多限价买单，然后在执行之前取消它们。这可能给其他交易者留下印象，即证券价格正在上涨。这将对应于泵和倾销计划的泵阶段。同样，放置（但在填充之前取消）的大量卖出限价单可能会导致对资产价格下跌的印象，从而在证券上创建卖压。这使得交易者可以以比其实际价值更低的价格购买证券。这样的交易行为称为欺诈。
- en: Layering is a more refined form of this kind of trade whereby orders are placed
    at different price levels on one side of the market. This causes the midpoint
    of the bid-ask spread to move away from its otherwise normal value. The same trader
    then executes a trade on the opposite side of the market. This allows the trader
    to obtain a more favourable price than what he may otherwise have obtained.
  id: totrans-744
  prefs: []
  type: TYPE_NORMAL
  zh: 层级是这种交易的更精致形式，其中订单放置在市场一侧的不同价格水平上。这导致买卖价差的中点远离其通常的值。然后，同一交易者在市场的另一侧执行交易。这使得交易者可以获得比他可能获得的更有利的价格。
- en: Quote stuffing is the practice of rapidly sending and cancelling orders with
    the intention of slowing down. These so-called phantom orders accumulate in the
    buffers of the exchange. As a result, the delay of the usual information feed
    released by the exchange increases. Exchanges, on the other hand, sell higher
    capacity feeds for a premium. So, high-frequency traders who purchase such high
    capacity feeds can use quote stuffing to delay the release of the feeds to the
    general public. This may create an opportunity for the trader to act on the obtained
    information before the general public.
  id: totrans-745
  prefs: []
  type: TYPE_NORMAL
  zh: 报价塞单是迅速发送和取消订单的做法，目的是减缓交易速度。这些所谓的幻影订单会积累在交易所的缓冲区中。因此，交易所发布的常规信息反馈的延迟会增加。另一方面，交易所会以溢价出售更高容量的信息反馈。因此，购买这些高容量信息反馈的高频交易者可以利用报价塞单来延迟向公众发布信息反馈。这可能为交易者在公众之前利用获得的信息创造机会。
- en: It is to be noted that market manipulation methods are illegal. Various firms
    have been penalised for indulging in such practices. The brief description of
    some market manipulation methods given above is only for the sake of completeness.
    We do not advocate the adoption of such practices.
  id: totrans-746
  prefs: []
  type: TYPE_NORMAL
  zh: 值得注意的是，市场操纵方法是非法的。各种公司因涉足此类行为而受到处罚。上述对一些市场操纵方法的简要描述仅为完整起见。我们不主张采用这种做法。
- en: '**Notes**'
  id: totrans-747
  prefs: []
  type: TYPE_NORMAL
  zh: '**注**'
- en: There is a large amount of online material on HFT that is available. There are
    also some books that deal with sophisticated mathematics underlying some of the
    theoretical ideas. In this chapter, we have tried to present an intuitive overview
    of HFT as essentially performing various kinds of arbitrage activities.
  id: totrans-748
  prefs: []
  type: TYPE_NORMAL
  zh: 有大量关于高频交易的在线资料可供查阅。也有一些涉及一些理论思想背后复杂数学的书籍。在本章中，我们试图以直观的方式概述高频交易，实质上是在执行各种套利活动。
