- en: © The Author(s), under exclusive license to APress Media, LLC, part of Springer
    Nature 2023B. Wu, B. WuBlockchain for Teens[https://doi.org/10.1007/978-1-4842-8808-5_3](https://doi.org/10.1007/978-1-4842-8808-5_3)
  prefs: []
  type: TYPE_NORMAL
- en: '3. Bitcoin: The Future of Money'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Brian Wu^([1](#Aff3)  ) and Bridget Wu^([1](#Aff3))(1)Livingston, NJ, USA
  prefs: []
  type: TYPE_NORMAL
- en: 'From the ancient Lydians, who invented coins as a payment type, to the first
    paper money in China, money and payments have been evolving for centuries. In
    2008, an anonymous person or group using Satoshi Nakamoto published a white paper
    titled, *Bitcoin: A Peer-to-Peer Electronic Cash System*. Since then, Bitcoin
    (BTC) has ushered in a new era of decentralized digital currencies and blockchain
    technology. As a result, digital currencies have exploded in popularity in recent
    years. There are around 20,000 cryptos, with a total market value of nearly $1.2
    trillion. As the original and most valuable cryptocurrency, Bitcoin holds about
    45% of the whole cryptocurrency market. The second-largest cryptocurrency is Ethereum,
    which holds a 16% market value. The price of Bitcoin has fluctuated over the years,
    but it has generally increased in the long term. In November 2021, Bitcoin reached
    its highest-ever price of $68,789.63.'
  prefs: []
  type: TYPE_NORMAL
- en: As a new payment technology invention, Bitcoin is a scarce resource because
    there are only 21 million Bitcoins that can be mined in the blockchain. This scarcity
    among other factors like supply and demand gives Bitcoin its value, and Bitcoin
    will continue to be digital gold in all cryptocurrencies.
  prefs: []
  type: TYPE_NORMAL
- en: 'The previous chapters were an excellent starting point for introducing blockchain
    fundamentals, where we covered many basic concepts such as cryptography, PoW consensus
    algorithms, and how blockchain works. In this chapter, we’ll continue to explore
    Bitcoin. We will cover the following specific topics:'
  prefs: []
  type: TYPE_NORMAL
- en: Bitcoin history
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Getting to know Bitcoin
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Transactions
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Lighting Network
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bitcoin History
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: There are more than 106 million Bitcoin owners with 199,000 confirmed, active
    daily Bitcoin transactions as of July 2022\. Around 34 million US adults and 10%
    of the global population own cryptocurrencies. Cryptocurrency popularity has skyrocketed
    in recent years. However, if there’s one cryptocurrency you should first know
    about, it’s Bitcoin, which most people generally refer to when they talk about
    digital currency. As the world’s first cryptocurrency, Bitcoin is not the first
    project that has attempted to create a new digital money financial system. Before
    its creation, many projects tried to build digital money and/or electronic payment
    systems. Two of those projects, DigiCash and HashCash, mostly inspired Bitcoin.
  prefs: []
  type: TYPE_NORMAL
- en: Early Attempts
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: David Chaum published a paper called *Blind Signatures for Untraceable Payments*
    in CRYPTO 1982\. Blind signature described how to protect digital cash users’
    privacy using a new type of digital signature.
  prefs: []
  type: TYPE_NORMAL
- en: To illustrate this blind signature process, David uses an electronic voting
    system as an example to show that an election voting center should verify all
    ballots.
  prefs: []
  type: TYPE_NORMAL
- en: 'The voter’s selection privacy message must be protected during the verification
    process. No one except the voter knows his/her choice. The blind signature process
    is described as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '1.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The voter fills a completed anonymous blinded ballot into a carbon paper-lined
    envelope with the voter’s identification preprinted on the outside.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '2.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Officials verify the documents’ credentials.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '3.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Officials sign the blinded ballot without knowing the message’s content.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '4.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Once the ballot is signed, the envelope is returned to the voter.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '5.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The voter places the signed ballot into a new, unmarked, plain envelope.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '6.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: This way, the voter’s anonymity and privacy can be preserved.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: The process flow is presented in Figure [3-1](#Fig1).![](../images/535492_1_En_3_Chapter/535492_1_En_3_Fig1_HTML.png)
  prefs: []
  type: TYPE_NORMAL
- en: A diagram depicts 6 voting steps. Authentication with blinded vote, verify credential
    with blinded vote, signed on blinded vote, unblind vote, vote, and verify vote.
  prefs: []
  type: TYPE_NORMAL
- en: Figure 3-1
  prefs: []
  type: TYPE_NORMAL
- en: Blind signature example
  prefs: []
  type: TYPE_NORMAL
- en: Seven years later, David Chaum launched a company, DigiCash, in Amsterdam. Digital
    cash, also called DigiCash, eCash, or EMoney, is the first digital, anonymous
    currency. In 1994, DigiCash proved that small payments could be sent across the
    Internet. Unfortunately, David Chaum and his company had many problems that led
    to the company filing for bankruptcy in 1998 and the end of their revolutionary
    *eCash*.
  prefs: []
  type: TYPE_NORMAL
- en: As the Internet became more popular in the 1990s, many companies quickly recognized
    it as an excellent advertising tool. Even in later 1997, email spam was already
    becoming a serious concern to anyone with an email account. Anyone can send tens
    of millions of emails at almost no cost, and ad companies can use bulk email software
    to send a large number of emails every day. Email bombs, a denial-of-service attack
    (DoS) against an email server, started in the late 1990s and often cause network
    downtime.
  prefs: []
  type: TYPE_NORMAL
- en: 'Adam Back created HashCash in 1997 and used proof-of-work (PoW) algorithms
    to prevent email spam and DoS attacks. It has a crucial influence on Bitcoin and
    is used in Bitcoin for transactions. In the Bitcoin white paper, Satoshi cited
    the HashCash system as a reference for the proof-of-work implementation in Bitcoin:'
  prefs: []
  type: TYPE_NORMAL
- en: '*To implement a distributed timestamp server on a peer-to-peer basis, we will
    need to use a proof-of-work system similar to Adam Back’s HashCash rather than
    newspaper or Usenet posts.*'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: HashCash’s proof-of-work is relatively straightforward.
  prefs: []
  type: TYPE_NORMAL
- en: First, the email server selects a difficulty level to specify how hard the PoW
    must be. The proof-of-work in HashCash-enabled SHA-1 hash digest starts with default
    20 zeros in binary.
  prefs: []
  type: TYPE_NORMAL
- en: SHA-1 is a cryptographic hash function that takes input and produces a 160-bit
    value. There are a total of possible 2^(160) hash values. If we make the first
    30 bit 0, the sender has to try 2^(30) different binary counters to find a hash
    with 30 leading zero bits. The more leading zero bit, the more difficult it is
    to find valid hash doubles, and it will take more time to solve.
  prefs: []
  type: TYPE_NORMAL
- en: A single leading zero in hexadecimal is the same as four 0s in binary. We can
    use the online SHA-1 tool and a brute force approach to generate a single leading
    zero with “Hashcash!”. We start once from 0\. Here is the result by trying different
    inputs.Table 3-1
  prefs: []
  type: TYPE_NORMAL
- en: Generate a single leading zero in hexadecimal
  prefs: []
  type: TYPE_NORMAL
- en: '| Hexadecimal Value | Input Text |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| 64a0565c8ef97e847d444c6961086c2ccdad9052 | Hashcash!00 |'
  prefs: []
  type: TYPE_TB
- en: '| 6e7072540d426f7bdc3d589dfd73aeac0e3050a9 | Hashcash!01 |'
  prefs: []
  type: TYPE_TB
- en: '| 0e4895d7a9ef022e313d72a1c5636e51a2f8dca | Hashcash!02 |'
  prefs: []
  type: TYPE_TB
- en: '| cf4d1b9d11cef8f1067e6e43b5593439fb412df9 | Hashcash!03 |'
  prefs: []
  type: TYPE_TB
- en: '| e2185e4362440d1a9f41f58f50032097f195aeb1 | Hashcash!04 |'
  prefs: []
  type: TYPE_TB
- en: '| 05e82b6afcf3f6a4a81ba01cf9c6e44c2e16e244 | Hashcash!05 |'
  prefs: []
  type: TYPE_TB
- en: As we can see, we need to try six times to guess just one single leading zero.
    Imagining default at 20 and leading 0 at 5 (2⁵) require much more work.
  prefs: []
  type: TYPE_NORMAL
- en: To solve this PoW, the sender needs to keep trying different inputs until they
    figure out the HashCash header with correct leading 0s. The sender can then send
    an email to a recipient.
  prefs: []
  type: TYPE_NORMAL
- en: When a recipient receives an email, it first checks its valid HashCash header
    containing the required number of leading zero bits. The recipient only needs
    to compute the hash once and then save it to the database. When a new email is
    received, it just needs to compare the database’s previous header version. So,
    it takes much less time to verify a stamp than to find a valid one. If email verification
    fails, it will move to the spam folder.
  prefs: []
  type: TYPE_NORMAL
- en: The Financial Crisis of 2008
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: During the late 1990s and early 2000s, the American economy had strong and steady
    economic growth, a low unemployment rate, and a surging stock market. It was fueled
    by rapid technological changes and low central bank federal interest rates from
    6.5 to 1.75.
  prefs: []
  type: TYPE_NORMAL
- en: The significant decrease in federal interest rates enabled banks and lending
    institutions to offer consumer credit at a lower price. Many creative lending
    products like subprime mortgages increased during this time. Banks and lending
    institutions offer low-interest rate mortgages to many homeowners with poor credit
    history, few assets, uncertain income, or other factors that negate them from
    receiving a traditional mortgage.
  prefs: []
  type: TYPE_NORMAL
- en: With these high-risk (subprime) loans flooding in, lenders could then easily
    obtain the mortgages with all the risk, jeopardizing the entire banking system
    and global economy. With housing prices continuing to soar, subprime mortgages
    grew to an overwhelming degree, a large percentage of mortgages moved into default,
    and many banks and lending institutions began to face financial difficulties.
    In August 2007, investment banking giant Lehman brothers’s stock fell sharply
    with the failure of two Bear Stearns hedge funds. In March 2008, Bear Stearns
    was broke, and six months later, Lehman filed for bankruptcy. The crisis led to
    the Great Recession, where housing prices dropped more than 30%, millions of people
    lost their jobs, and approximately 2.5 million businesses were closed. American
    households suffered worse, with an estimated $16 trillion in net worth loss.
  prefs: []
  type: TYPE_NORMAL
- en: The financial crisis shook people’s faith and trust in the financial system,
    where people stored money with a central authority bank system. A central government
    authority could print more money, so there was no limit to the amount of money
    that the government could print. This will reduce the value of money already in
    circulation in the system. A central bank prints money based on the principles
    of modern monetary theory (MMT). The easy-money policies could sometimes lead
    to unpredictability and uncertainty regarding the decrease in the value of people’s
    money.
  prefs: []
  type: TYPE_NORMAL
- en: People are starting to think about a new finance system to overcome regular
    currency shortcomings. The new system can demand a currency without depending
    on the trust of third parties, such as a central bank authority.
  prefs: []
  type: TYPE_NORMAL
- en: The Birth of Bitcoin
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'In August 2008, Bitcoin.org was registered by the Bitcoin project’s first two
    developers, Satoshi Nakamoto and Martti Malmi. On October 31, 2008, an entity,
    under the name Satoshi Nakamoto, posted a white paper on Bitcoin.org titled *Bitcoin:
    A Peer-to-Peer Electronic Cash System*. Satoshi Nakamoto proposed a solution to
    prevent double-spending *using* a peer-to-peer network. The system introduced
    a proof-of-work consensus algorithm that eliminated the need for a centralized
    bank or government treasury.'
  prefs: []
  type: TYPE_NORMAL
- en: In a traditional centralized finance system, it is impossible to physically
    copy gold or reproduce one ounce of gold into two ounces. That is why gold is
    a store of value and can be used as commodity money in exchange for goods.
  prefs: []
  type: TYPE_NORMAL
- en: Government-issued paper money is not easily duplicated. For example, one would
    need special equipment, the right currency paper, and many other materials like
    security threads and watermarks to replicate a dollar bill. Making paper money
    a legitimate fiat currency requires a very tedious, secure, and complex process.
  prefs: []
  type: TYPE_NORMAL
- en: When using physical currencies, you hand over the gold or paper money as proof
    of payment to someone when you buy something. Since the money is given physically,
    both sides can instantly verify the trade. The money was transferred from your
    side to the other, and you can’t spend the same money twice.
  prefs: []
  type: TYPE_NORMAL
- en: Double-spending is a problem within digital currency transactions, whereby digital
    money or assets is a set of software codes that can be copied and sent to multiple
    recipients. A centralized approach typically involves one auditor (such as a bank)
    who oversees and controls the issuance, distribution, and verification of money.
    Therefore, it generally requires a lot of work to guarantee no double-spending
    by a centralized authority, resulting in commission costs on digital currency
    transactions.
  prefs: []
  type: TYPE_NORMAL
- en: On January 3, 2009, the first-ever Bitcoin genesis block, Block 0, was mined
    by Satoshi himself, representing the cryptocurrency’s birthday. Here is the link
    for the Bitcoin genesis block detail from blockchain.com [www.blockchain.com/btc/block/0](http://www.blockchain.com/btc/block/0).
  prefs: []
  type: TYPE_NORMAL
- en: This block contains a message from Satoshi. Let’s have some fun finding out
    what it is and how you can verify this information for yourself.
  prefs: []
  type: TYPE_NORMAL
- en: By opening the above genesis block link, you will find the Transactions section.
    Click the hash link; it will navigate to the transaction page. Under the inputs
    section, you should find Sigscript data with a long hex vault starting from 5468652054696,
    as shown in Figure [3-2](#Fig2).![](../images/535492_1_En_3_Chapter/535492_1_En_3_Fig2_HTML.png)
  prefs: []
  type: TYPE_NORMAL
- en: A text message explains inputs which includes index, address, p k script, sig
    script, details, and value. Sig script is highlighted.
  prefs: []
  type: TYPE_NORMAL
- en: Figure 3-2
  prefs: []
  type: TYPE_NORMAL
- en: Bitcoin genesis block transaction input from Satoshi
  prefs: []
  type: TYPE_NORMAL
- en: 'Copy this encoded hex string. Now, go to the online hex decoder page: [https://cryptii.com/pipes/hex-decoder](https://cryptii.com/pipes/hex-decoder).
    Decode this message from Satoshi.'
  prefs: []
  type: TYPE_NORMAL
- en: If you did it correctly, your screen should look like in Figure [3-3](#Fig3).![](../images/535492_1_En_3_Chapter/535492_1_En_3_Fig3_HTML.png)
  prefs: []
  type: TYPE_NORMAL
- en: A message depicts text and bytes that explain the news that chancellor is on
    the brink of a second bailout for banks.
  prefs: []
  type: TYPE_NORMAL
- en: Figure 3-3
  prefs: []
  type: TYPE_NORMAL
- en: Message from Satoshi for the first transaction
  prefs: []
  type: TYPE_NORMAL
- en: 'We have revealed the hidden message from Satoshi Nakamoto. It reads: “The Times
    03/Jan/2009 Chancellor on the brink of second bailout for banks.” The same text
    appeared in a comment on line 1616 of Bitcoin’s original code:'
  prefs: []
  type: TYPE_NORMAL
- en: '[https://sourceforge.net/p/bitcoin/code/133/tree/trunk/main.cpp#l1613](https://sourceforge.net/p/bitcoin/code/133/tree/trunk/main.cpp%2523l1613)'
  prefs: []
  type: TYPE_NORMAL
- en: 'The message may prove that the block time was mined on the same day by referring
    to a UK newspaper: *The Times’* story about big government spending. Or, it might
    indicate that big centralized banks were a problem for Satoshi.'
  prefs: []
  type: TYPE_NORMAL
- en: 'The Genesis Block contained the first 50 Bitcoins ever created, and the reward
    went to Satoshi’s address: 1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa.'
  prefs: []
  type: TYPE_NORMAL
- en: On January 12, 2009, Satoshi sent ten Bitcoins to Hal Finney as the first official
    Bitcoin transaction for mining block-70.
  prefs: []
  type: TYPE_NORMAL
- en: Early Development
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '**Bitcoin Pizza Day** **(May 2010) –** On May 22, 2010, a BTC fan and programmer
    named Laszlo Hanyecz posted an unusual request on a cryptocurrency forum that
    offered 10,000 Bitcoins—reportedly valued at $40 at that time—in exchange for
    delivery of two Papa John’s pizzas. California student Jeremy Sturdivant noticed
    this intriguing request and sold two pizzas to Laszlo Hanyecz in exchange for
    10,000 BTC. It is the first physical purchase made with Bitcoin in history, recognized
    by the annual Bitcoin Pizza Day on May 22.![](../images/535492_1_En_3_Chapter/535492_1_En_3_Fig4_HTML.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: A photograph depicts two Papa John's pizzas.
  prefs: []
  type: TYPE_NORMAL
- en: Figure 3-4
  prefs: []
  type: TYPE_NORMAL
- en: Two Papa John’s pizzas worth 10,000 Bitcoins
  prefs: []
  type: TYPE_NORMAL
- en: '**First Bitcoin exchange (July 2010) –** In July 2010, Mt. Gox launched a Tokyo-based
    first cryptocurrency exchange, once the world’s biggest Bitcoin exchange. Mt.
    Gox is an acronym for “Magic: The Gathering Online Exchange,” sometimes referred
    to as MtGox or Mt Gox. Mt. Gox accounted for more than 70% of Bitcoin transactions
    at its peak.'
  prefs: []
  type: TYPE_NORMAL
- en: '**First Bitcoin mining pool (September 2010) –** In the earlier days of Bitcoin,
    mining was straightforward. You could easily generate 50 BTC using your personal
    computer. When more participants joined the network and some started mining with
    GPUs, the blocks were generated faster than desired. The Bitcoin network automatically
    adjusted the difficulty level of mining. To make mining more profitable and efficient,
    in September 2010, Marek Palatinus—also known as “slush” to many people—launched
    the world’s first Bitcoin mining pool: Slush Pool, formerly known as Bitcoin.cz.
    On December 16, the pool mined three blocks in its first 24 hours of operation.'
  prefs: []
  type: TYPE_NORMAL
- en: '**First Bitcoin online store (February 2011) –** In February 2011, Silk Road
    launched the first online store to accept Bitcoin as payment. Silk Road is also
    the first modern darknet market. Darknet markets are dark web black markets that
    offer illicit goods such as drugs, stolen information, weapons, and services and
    often use cryptocurrencies as a payment method.'
  prefs: []
  type: TYPE_NORMAL
- en: Silk Road was founded by Ross William Ulbricht, who was arrested in 2013 and
    is currently serving two life sentences in prison for his role in Silk Road. The
    FBI eventually shut down Silk Road in 2013.
  prefs: []
  type: TYPE_NORMAL
- en: '**US dollar parity (February 2011) –** February 9, 2011 was a historic date
    that Bitcoin believers had long awaited. BTC reached one US dollar. This was the
    prediction by Bitcoin forum member “jimbobway” on January 11, 2011\. He said,
    “When one Bitcoin reaches $1, we need to celebrate...I call it ‘The Parity Party.’
    What will you do for your party?”'
  prefs: []
  type: TYPE_NORMAL
- en: '**Litecoin (October 2011) –** In October 2011, a former Google engineer named
    Charlie Lee created Litecoin (LTC), a cryptocurrency forked from the Bitcoin blockchain.
    Litecoin was initially designed to create fast payments with fewer block times
    and higher transaction throughput. As opposed to 10 minutes on Bitcoin, Litecoin
    takes roughly 2.5 minutes per block. Bitcoin uses SHA-256 encryption algorithm,
    and Litecoin uses Scrypt—a memory-intensive algorithm designed to make it more
    difficult and costly to perform large-scale hardware attacks by requiring large
    amounts of memory.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Bitcoin Foundation (September 2012)** – In September 2012, Bitcoin Foundation
    was established. The original members included Gavin Andresen, Charlie Shrem,
    Mark Karpeles, Peter Vessenes, Roger Ver, and Patrick Murck. The Foundation’s
    mission is “aim to standardize, protect and promote the use of Bitcoin cryptographic
    money for the benefit of users worldwide.”'
  prefs: []
  type: TYPE_NORMAL
- en: '**First Bitcoin bubble (November 2013)** – Just short of four years after Bitcoin’s
    birth, on November 28, 2013, Bitcoin’s price soared to the all-time high of $1,217,
    surpassing $1,000 for the first time. The total market value of Bitcoins in circulation
    was around $4 billion. This is the first Bitcoin bubble. After that, the price
    gradually declined, dropping to US$172.15 in January 2015.'
  prefs: []
  type: TYPE_NORMAL
- en: Moving Mainstream
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '**Overstock Bitcoin payment (January 2014)** – Overstock (NASDAQ: OSTK) launched
    an international payment system to accept Bitcoin in January 2014 and became the
    first major online shopping store to accept cryptocurrency.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Mt. Gox hacked (Feb 2014)** – At the beginning of 2014, Mt. Gox was the world’s
    biggest Bitcoin exchange, handling over 70% of all Bitcoin transactions worldwide.'
  prefs: []
  type: TYPE_NORMAL
- en: On February 7, 2014, Mt. Gox suddenly stopped all Bitcoin withdrawals, claiming
    it was merely “unusual activity” on its Bitcoin wallets, and they “performed investigations
    during the past weeks.” Then, on February 24, 2014, the exchange suspended all
    trading and shut down the website.
  prefs: []
  type: TYPE_NORMAL
- en: On February 28, Mt. Gox filed for bankruptcy protection. During the Mt. Gox
    problems, Bitcoin’s value declined by 40%, trigging a two-year bear market for
    Bitcoin. As the victim of a massive hack, Mt. Gox lost about 744,408 Bitcoins
    (6% of all Bitcoins in existence at the time) and an additional 100,000 Bitcoins
    as company liabilities. Although 200,000 Bitcoins were later found, the remaining
    650,000 have never been recovered.
  prefs: []
  type: TYPE_NORMAL
- en: '**Bitcoin taxable (March 2014)** – Since Bitcoin started its first public trade
    in 2009, Bitcoin holders have been nervous about the legalities of Bitcoin payment
    until the rule was announced by Internal Revenue Service (IRS). With the Bitcoin
    market’s explosive growth in 2013, in March 2014, the IRS issued Notice 2014-21,
    2014-16 I.R.B. 938PDF, explaining cryptocurrency holdings to be “property” for
    tax purposes and not a legitimate, state-backed currency. Therefore, any new Bitcoins
    mined will be treated as property for federal income tax purposes, in the same
    way as any other assets you own, like stocks, various real estate, or gold.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Microsoft Bitcoin payment (December 2014)** – In December 2014, Microsoft
    (NASDAQ: MSFT) became one of the first big tech companies to support Bitcoin.
    It announced its acceptance of the digital currency as a payment option to buy
    digital content from its stores like Windows, Windows Phone, Xbox Games, and Xbox
    Music. Microsoft’s payment system processes Bitcoin transactions when integrated
    with BitPay, which is a Bitcoin payment service provider founded in 2011.'
  prefs: []
  type: TYPE_NORMAL
- en: '**NY BitLicense (June 2015)** – In June 2015, the New York State Department
    of Financial Services (DFS) issued its BitLicense regulation. The regulation requires
    that companies in the state engaged in a wide range of virtual currency transactions—including
    transmitting, mining, and buying and selling virtual currency—apply to DFS for
    a BitLicense. In September 2015, Boston-based Circle Internet Financial (a global
    crypto finance company) was granted the first BitLicense. After that, many firms
    received the license to run crypto businesses in New York, like PayPal, Coinbase,
    Ripple Labs, BitPay, Square, Robinhood, and NYDIG.'
  prefs: []
  type: TYPE_NORMAL
- en: '**CFTC labels Bitcoin a commodity (September 2015)** – In September 2015, the
    United States Commodities Futures Trading Commission (CFTC) classified Bitcoin
    and other virtual currencies as commodities under the U.S. Commodity Exchange
    Act (the CEA). The CFTC is an independent U.S. federal agency established to regulate
    the U.S. derivatives markets, including the sale of commodity and financial futures
    and options. As a result, Bitcoin trading is the same as other commodities, like
    gold and oil, which must be regulated and supervised by the CFTC in the United
    States. Therefore, the new rule started restricting unregistered firms that trade
    cryptocurrency products.'
  prefs: []
  type: TYPE_NORMAL
- en: In January 2018, the CFTC filed a complaint against defendants Patrick McDonnell
    and his company, CabbageTech, Corp., for operating a deceptive and fraudulent
    virtual currency scheme to induce customers. A New York federal judge assessed
    and adopted the CFTC’s position that virtual currencies are commodities within
    the meaning of the Commodity Exchange Act. It is the first case testing the CFTC’s
    ability to curb alleged fraud in the cryptocurrency business.
  prefs: []
  type: TYPE_NORMAL
- en: '**EU classifies Bitcoin as a currency (October 2015)** – In October 2015, Europe’s
    top Court of Justice decided Bitcoin was considered a currency, the same as other
    currencies. As a result, Bitcoins are not exempt from Value Added Tax (VAT). VAT
    is a consumption tax on all goods and services in the EU.'
  prefs: []
  type: TYPE_NORMAL
- en: The Block Size War
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: In the Bitcoin network, miners use proof-of-work consensus to create a block
    every ten minutes. A block in Bitcoin is limited to one megabyte. As Bitcoin adoption
    became widespread, transaction volume dramatically increased, and more transactions
    needed to be processed in the network within a one-megabyte size limitation. It
    slowed down transaction processing speeds, and high amount transaction fees could
    cost a user $58-60 per transaction. However, Satoshi added a maximum block size
    limit of 1 MB in July 2010 without any comment or explanation ([https://sourceforge.net/p/bitcoin/code/103/](https://sourceforge.net/p/bitcoin/code/103/)).![](../images/535492_1_En_3_Chapter/535492_1_En_3_Fig5_HTML.png)
  prefs: []
  type: TYPE_NORMAL
- en: A table displays the number of coin values and a description with highlighted
    value max block size 1000000\. It represents the bitcoin max block size 1 M B.
  prefs: []
  type: TYPE_NORMAL
- en: Figure 3-5
  prefs: []
  type: TYPE_NORMAL
- en: Bitcoin max block size 1 MB
  prefs: []
  type: TYPE_NORMAL
- en: It opened up a debated topic, “constitutional crisis,” in the Bitcoin community
    over the years, even until today. During 2015 and 2017, a debate about increasing
    the limit size of Bitcoin’s blockchain blocks heavily took place in the Bitcoin
    community.
  prefs: []
  type: TYPE_NORMAL
- en: 'To solve scalability issues, the community split into two major solutions:'
  prefs: []
  type: TYPE_NORMAL
- en: One side (big blockers solution) was to increase the block size, allowing more
    transactions to fit into each block and making transactions cheaper. However,
    a larger block size also requires higher transmission time, and it is just a temporary
    solution. When users continue to increase in the network, the new block size will
    become a limitation again. It is not a long-term solution.
  prefs: []
  type: TYPE_NORMAL
- en: Because Bitcoin is decentralized, any proposed consensus changes must receive
    significant support from the Bitcoin community. When the Bitcoin community does
    not agree on the proposal, it will result in “forking.” Blockchain has two kinds
    of forks—soft and hard. A soft fork applies newly implemented changes to an existing
    blockchain, and the modification will support backward compacity. The majority
    of the participating nodes agree on the changes. The old node will accept the
    new node after changes. Hard forks make a radical change to the Bitcoin protocol
    and lead to a chain splitting two ways. The new chain will not need backward support
    compacity, and the old node in the original chain will not accept the new node
    from the new chain. Hard fork requires a majority of miner support for the long
    term—otherwise, the new network will fail.
  prefs: []
  type: TYPE_NORMAL
- en: Big blocker solutions lead to several hard forks—Bitcoin XT, Classic, Unlimited,
    Bitcoin Cash, and SV. Some of them have failed, and others are still around today.
  prefs: []
  type: TYPE_NORMAL
- en: The other solution (small blockers) is to remain at 1 MB block size and scale
    via layer-two solutions, giving end users the easy option to run a node. The solution
    includes SegWit soft fork Lighting Network. We will discuss this in more detail
    in a later section.
  prefs: []
  type: TYPE_NORMAL
- en: '**Bitcoin XT (August 2015)** – Bitcoin XT was one of the first notable hard
    forks of Bitcoin Core.'
  prefs: []
  type: TYPE_NORMAL
- en: On June 10, 2014, Mike Hearn published a Bitcoin Improvement Proposal (BIP 64)
    calling for “a small P2P protocol extension that performs UTXO lookups given a
    set of outpoints.”
  prefs: []
  type: TYPE_NORMAL
- en: On June 22, 2015, Gavin Andresen published BIP 101, calling for “an increase
    in the maximum block size.”
  prefs: []
  type: TYPE_NORMAL
- en: The changes would increase the block size from 1 MB to 8 MB and then double
    every two years until 2036\. The block size would eventually be around 8 GB.
  prefs: []
  type: TYPE_NORMAL
- en: In August 2015, Bitcoin XT launched with an eight MB block size. In the first
    few months, more than 1,000 nodes ran in Bitcoin XT. However, the Bitcoin community
    hasn’t widely supported Bitcoin XT protocol. As a result, block size debates gained
    media attention and were seen on various social media channels—especially Reddit.
    It started to bring the scaling debate over the years.
  prefs: []
  type: TYPE_NORMAL
- en: Many community members are worried that a larger block size will lead to Bitcoin’s
    centralization, which, as one critic quotes, is “against the ethics of Satoshi
    Nakamoto.” A few months later, the project lost users’ and node operators’ interest,
    essentially fell away, and was abandoned by its users.
  prefs: []
  type: TYPE_NORMAL
- en: '**The Lightning Network whitepaper (January 2016)** – Joseph Poon and Thaddeus
    Dryja published the Lightning Network white paper on January 16, 2016\. The white
    paper proposed a protocol called “the lightning network” that speeds up transactions
    by creating a second layer on top of the Bitcoin blockchain that uses user-generated
    micropayment channels to perform more efficient transactions. These transactions
    are very fast because no miners are involved, and transaction fees are much lower
    or even unnecessary without changing the block size. Small blockers support it
    as one of Bitcoin’s scalability solutions.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Bitcoin Classic (January 2016) –** In early 2016, a group of Bitcoin community
    members proposed increasing the maximum size of Bitcoin blocks from 1 MB to 2
    MB, which is less aggressive than what was proposed by Bitcoin XT—8 MB. As a result,
    a group of developers launched Bitcoin Classic. At the beginning of 2016, Bitcoin
    Classic had hard forks from Bitcoin. It had about 2,000 nodes initially operated
    on the network, but Bitcoin Classic never reached massive adoption from the community.
    A year later, there were no more than 100 nodes in the network. Although Bitcoin
    Classic is still alive today, compared to Bitcoin’s price today, $23,028, it is
    only valued at $0.027632.'
  prefs: []
  type: TYPE_NORMAL
- en: '**The Hong Kong Agreement – SegWit proposal (February 2016)** – In February
    2016, developer Peter Wuille presented an idea called “segregated witness and
    its impact on scalability” (SegWitness or SegWit) at Hong Kong’s Cyberport Bitcoin
    conference. Signature data is bulky compared to other transaction input and takes
    up 65% of the space. Therefore, it quickly filled up the block. SegWit is a mechanism
    that separates witness signature data from the input field of the block transaction
    by creating its own individual tree. It allows for the computation of transaction
    IDs without signatures, and light clients can skip the separated data entry entirely.
    Signatures will act as “witnesses” when needed to authorize transaction outputs
    from the original owners. Bitcoin includes a mechanism that validates these signatures
    using checkpoints. SegWit enables more transactions to be stored within a block.![](../images/535492_1_En_3_Chapter/535492_1_En_3_Fig6_HTML.png)'
  prefs: []
  type: TYPE_NORMAL
- en: A block diagram classifies transaction before segwit and transaction after segwit.
    It includes input, output, and witness data.
  prefs: []
  type: TYPE_NORMAL
- en: Figure 3-6
  prefs: []
  type: TYPE_NORMAL
- en: Bitcoin SegWit
  prefs: []
  type: TYPE_NORMAL
- en: SegWit immediately ignited a new discussion within the community. After the
    conference, the Bitcoin community agreed to use SegWit as a future soft-fork release
    and continue working on a safe hard fork based on SegWit improvements, including
    increasing the nonwitness data to be around 2 MB.
  prefs: []
  type: TYPE_NORMAL
- en: '**New York Agreement (NYA) (May 2017)** – On May 23, 2017, 58 Bitcoin companies
    across 22 countries representing over 85% of the network computing power held
    a meeting to decide the future of BTC. The meeting aimed to resolve Bitcoin’s
    scaling issues and the conflict by doing a soft and a hard fork. The NYA published
    a statement known as the SegWit2x upgrade (essentially the same as the Hong Kong
    agreement). The aims were:'
  prefs: []
  type: TYPE_NORMAL
- en: Activate Segregated Witness at an 80% threshold, signaling at bit 4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Activate a 2 MB hard fork within six months
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The solution was to compromise between people wanting SegWit and others a hard
    fork.
  prefs: []
  type: TYPE_NORMAL
- en: '**SegWit Activated (August 2017) –** On August 8, 2017, 100% of the Bitcoin
    mining pools signaled support for SegWit. Segregated Witness was activated on
    August 24, 2017\. According to buybitcoinworldwide.com data, around 84% Bitcoin
    nodes have adopted SegWit as of July 2022.![](../images/535492_1_En_3_Chapter/535492_1_En_3_Fig7_HTML.png)'
  prefs: []
  type: TYPE_NORMAL
- en: A graph compares month versus percentage and displays an increasing trend.
  prefs: []
  type: TYPE_NORMAL
- en: Figure 3-7
  prefs: []
  type: TYPE_NORMAL
- en: Bitcoin SegWit adoption
  prefs: []
  type: TYPE_NORMAL
- en: '**Bitcoin Cash (August 2017)** – However, the NYA does not satisfy everyone.
    Some large blockers are unhappy with SegWit improvement and feel that this agreement
    will fail. A group of Bitcoin stakeholders, developers, and miners started to
    discuss new solutions by increasing the block size limit to 8 MB through a hard
    fork. In August 2017, Bitcoin Cash (BCH), led by entrepreneur Roger Verand, was
    launched, forking from Bitcoin. The network can process 24 transactions per second,
    and the cost is much lower at around 0.18 cents. The block size is 8 MB.'
  prefs: []
  type: TYPE_NORMAL
- en: On August 1, 2017, Bitcoin Cash opened trading at about $400, while Bitcoin’s
    value sat at about $7567\. On December 19, 2017, it reached a historical high
    of $3,923, and Bitcoin Cash was $124 compared to Bitcoin’s $22,532 on July 23,
    2022.
  prefs: []
  type: TYPE_NORMAL
- en: '**SegWit2x canceled, NYA collapses** – After NYA, many of Bitcoin’s core developers,
    who maintain and contribute to Bitcoin’s open source code, were furious about
    the development plans for the NYA because there was no representation from the
    small blockers and didn’t involve them in this agreement. They highlighted that
    Bitcoin was supposed to be an open system; therefore, the changing consensus behind
    closed doors by a secret mailing list was a deal breaker, and they considered
    opposing Bitcoin, stating that the hard fork would deviate from the “real Bitcoin.”'
  prefs: []
  type: TYPE_NORMAL
- en: Even after Segregated Witness went live in August 2017, Bitcoin’s core developers
    steadfastly refused to compromise. They didn’t think the SegWit2x plan would succeed.
  prefs: []
  type: TYPE_NORMAL
- en: On August 18, 2017, Bitcoin Core announced a statement not to support the SegWit2x
    proposal.![](../images/535492_1_En_3_Chapter/535492_1_En_3_Fig8_HTML.png)
  prefs: []
  type: TYPE_NORMAL
- en: A text depicts correcting misinformation on segwit 2 x and b t c 1 and includes
    about, download, blog, releases, development, and contact.
  prefs: []
  type: TYPE_NORMAL
- en: Figure 3-8
  prefs: []
  type: TYPE_NORMAL
- en: SegWit2x statement from Bitcoin Core [https://​bitcoincore.​org/​en/​2017/​08/​18/​btc1-misleading-statements/​](https://bitcoincore.org/en/2017/08/18/btc1-misleading-statements/)
  prefs: []
  type: TYPE_NORMAL
- en: On November 8, 2017, BitGo CEO Mike Belshe sent an email signed by major companies
    originally supporting it. The statement meant a canceled SegWit2x hard fork, and
    NYA collapsed. At the time of the statement announcement, Bitcoin’s price surged
    by 20% or more to reflect users and investors fleeing.![](../images/535492_1_En_3_Chapter/535492_1_En_3_Fig9_HTML.png)
  prefs: []
  type: TYPE_NORMAL
- en: A text page explains Segwit 2 x final steps, which includes a few paragraphs.
  prefs: []
  type: TYPE_NORMAL
- en: Figure 3-9
  prefs: []
  type: TYPE_NORMAL
- en: SegWit2x canceled [https://​lists.​linuxfoundation.​org/​pipermail/​bitcoin-segwit2x/​2017-November/​000685.​html](https://lists.linuxfoundation.org/pipermail/bitcoin-segwit2x/2017-November/000685.xhtml)
  prefs: []
  type: TYPE_NORMAL
- en: '**Lightning Network (March 2018)** – On March 15, 2018, Lightning Labs announced
    the first beta release of the Bitcoin Lightning Network. Twitter CEO, Jack Dorsey,
    endorsed the network. Bitcoin’s Lightning Network scaling solution has continued
    growth with increasing commercial and user adoption, but it is in its early stages.
    As of April 2022, the lightning network capacity grew to around 3,600 BTC, with
    over 300 companies, projects, and apps using the Lightning ecosystem. The Lightning
    transaction fee is around one Satoshi or $0.000301142\. Event on-chain fees reached
    near $60 at peaks in 2021.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Bitcoin SV** – **Hash War (November 2018)** – History tends to repeat itself.
    In August 2018, Bitcoin Cash proposed an upgrade to the protocol: the introduction
    of noncash transactions to support smart contracts and oracle price prediction
    services on the blockchain.'
  prefs: []
  type: TYPE_NORMAL
- en: Again, not everyone supported the changes in the source code, with opponents
    criticizing the prioritization of noncash transactions in a blockchain that they
    felt ought to deal with payments only. A group within the Bitcoin Cash community,
    led by Craig Wright and Calvin Ayre, disagreed with these changes in the source
    code and thought the update would corrupt Satoshi Nakamoto’s original Bitcoin
    white paper’s vision. Instead, Bitcoin as digital cash should deal with payments
    only, and the block size should be increased to 128 MB to deal with scalability
    issues in the future.
  prefs: []
  type: TYPE_NORMAL
- en: On November 15, 2018, the Bitcoin Cash network split into Bitcoin Cash ABC (BCH
    ABC) and Bitcoin SV (BCHSV). The split between two competing chains was a contentious
    one. Both chains battled to win the hash race by becoming the longest chain with
    more blocks. Bitcoin SV, led by Craig Wright and Calvin Ayre, spent a significant
    amount of hash effort against Bitcoin Cash, led by Roger Ver and Jihan Wu of Bitmain.
    The heated hash power contest lasted around ten days and ended as the Bitcoin
    SV team announced a permanent split from Bitcoin Cash. These periods were called
    a “hash war.” As a cost, Bitcoin Cash miners lost $3.45 million, and Bitcoin SV
    miners lost $2.49 million.
  prefs: []
  type: TYPE_NORMAL
- en: On November 15, 2018, Bitcoin SV opened trading at about $122, while Bitcoin
    Cash valued at about $388\. On April 15, 2021, it reached a historical high of
    $441.39, and Bitcoin SV was $58 compared to Bitcoin Cash at $124 on July 23, 2022.
  prefs: []
  type: TYPE_NORMAL
- en: Acceptance As a Mainstream Currency
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '**CME to launch Bitcoin futures (December 2017)** – The Chicago Mercantile
    Exchange (CME) Group Inc. is an American global markets company for trading futures
    and options. In response to increasing investors’ interest in the evolving cryptocurrency
    markets, CME got clearance from the U.S. Commodity Futures Commission and introduced
    a Bitcoin futures contract trading on December 18, 2017.'
  prefs: []
  type: TYPE_NORMAL
- en: CME Bitcoin futures will allow investors to bet on the future price of Bitcoin
    without the need to hold the underlying Bitcoin.
  prefs: []
  type: TYPE_NORMAL
- en: A futures contract is a legal agreement in which the buyer and seller agree
    to buy or sell a commodity or asset at a predetermined future date and price.
    For example, the Bitcoin price was $22,000 on July 1\. If someone thinks the price
    will go higher, they will buy a Bitcoin future at $23,000 a month later. On August
    1, if the Bitcoin market price is $23,500 and if the futures contract expires,
    the buyer will get the $500 difference.
  prefs: []
  type: TYPE_NORMAL
- en: Futures trading has a long history. The first modern futures exchange began
    in 1710 in Osaka, Japan, and cotton futures started on the New York Cotton Exchange
    in about 1870\. Professional investors and firms typically trade futures. A Bitcoin
    future could open the door to bringing more Wall Street firms into the Bitcoin
    and other cryptocurrency space and help reduce volatility in the underlying Bitcoin
    market.
  prefs: []
  type: TYPE_NORMAL
- en: '**New Zealand legalizes crypto-salaries (September 2019)** – On September 1,
    2019, New Zealand Inland Revenue Department (IRD) officially declared that an
    employee could be paid a salary using cryptocurrencies such as Bitcoin and Ether.
    It means a company can directly pay workers in cryptocurrency as long as it is
    under an employment agreement. As a result, New Zealand became the first country
    to legalize crypto-salary payment options and brought cryptocurrencies into everyday
    payment methods.'
  prefs: []
  type: TYPE_NORMAL
- en: '**MicroStrategy Bitcoin purchased (August 2020)** – On August 11, 2020, a leading
    worldwide business intelligence company MicroStrategy Inc (NASDAQ: MSTR) announced
    that it had purchased 21,454 Bitcoins (worth $250 million at that time). MicroStrategy
    became the first public listed company to buy Bitcoin as a legitimate investment
    asset. The MicroStrategy purchase signifies Bitcoin’s growing legitimacy and mainstream
    adoption.'
  prefs: []
  type: TYPE_NORMAL
- en: '**PayPal launched Bitcoin payment service (October 2020)** – On October 21,
    2020, PayPal received a conditional BitLicense from the New York State Department
    of Financial Services (DFS). With approval from DFS, on November 12, 2020, PayPal
    launched a new payment service that allowed PayPal users to buy, hold, and sell
    cryptocurrency. PayPal has nearly 350 million users and over 26 million active
    merchants in the system. It almost took a decade to gain 100 million Bitcoin users.
    The payment giant’s adoption meant an additional 300 million more users could
    start using Bitcoin and other cryptocurrencies as payment methods.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Cryptocurrency users reached more than 100 million (January 2021)** – During
    COVID-19, global cryptocurrency users grew rapidly. According to a report from
    Crypto.com, more than 100 million people are now using cryptocurrencies worldwide
    for the first time ever.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Coinbase launch** (**April 2021)** – On April 14, 2021, riding the wave of
    the overall cryptocurrency market boom as one of the most anticipated events on
    Wall Street, Coinbase Global Inc. went public on Nasdaq. Coinbase is the largest
    by volume and the most liquid-regulated cryptocurrency exchange in the United
    States. As the first major crypto exchange listing on Nasdaq, Coinbase sets a
    benchmark for other crypto exchanges, and the launch is a watershed moment for
    the digital asset industry. Coinbase (COIN) opened at around $340 per share and
    was valued at $86 billion.'
  prefs: []
  type: TYPE_NORMAL
- en: '**El Salvador made Bitcoin legal tender (September 2021)** – In June 2021,
    President Nayib Bukele announced his Bitcoin Law at a Miami Bitcoin 2021 conference.'
  prefs: []
  type: TYPE_NORMAL
- en: On September 7, 2021, El Salvador became the first country in the world to accept
    Bitcoin as legal tender alongside the dollar. The new law required companies to
    accept Bitcoin as payment. The government also launched a national virtual wallet
    called “chivo” based on the Lightning Network protocol that allows no-fee transactions
    and fast payments.
  prefs: []
  type: TYPE_NORMAL
- en: '**First US Bitcoin exchange-traded fund (ETF) (October 2021)** – An exchange-traded
    fund, or ETF, is exactly as the name implies: an investment fund that can be traded
    on exchanges. When you invest in an ETF, you can buy and sell on the stock market,
    just like company stocks. ETFs generally track a specific index—for example, the
    “Spider” ETF (The SPDR S&P 500 – SPY) is the most widely known ETF that tracks
    the S&P 500 Index. ETF is one of the most popular investment options today throughout
    the world. The first US ETF (SPY) launched in 1993; iShares launched its first
    bond ETF LQD in 2002; the SPDR Gold Trust ETF is the first gold-backed ETF in
    the United States. On October 19, 2021, the first US Bitcoin exchange-traded fund
    (ETF), ProShares Bitcoin Strategy ETF (BITO), started trading. The ProShares Bitcoin
    Strategy ETF attracted more than $1 billion in assets in its first two days of
    trading. Compared to the gold ETF, GLD took three days to reach ten digits. BITO
    became one of the most heavily traded ETFs in market history.![](../images/535492_1_En_3_Chapter/535492_1_En_3_Fig10_HTML.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: A text depicts the N Y S E. It mentions the proshares bitcoin strategy of B
    I T O. It includes listening, trading and data, about and insights.
  prefs: []
  type: TYPE_NORMAL
- en: Figure 3-10
  prefs: []
  type: TYPE_NORMAL
- en: NYSE-listed BITO
  prefs: []
  type: TYPE_NORMAL
- en: Bitcoin ETF provides a way for institutional and retail investors to invest
    in the crypto market on traditional stock market exchanges instead of cryptocurrency
    trading platforms. As a result, investors who were previously frightened by the
    technical complexity of trading and other security concerns needn’t create new
    crypto wallet accounts to hold the tokens and can indirectly invest in the Bitcoin
    market.
  prefs: []
  type: TYPE_NORMAL
- en: '**Bitcoin’s price reached over $68,000 (November 2021)** – On November 5, 2021,
    Bitcoin’s price hit a new all-time high at $68,521\. The soaring Bitcoin price
    pushed the cryptocurrency market capitalization to above $3 trillion. This indicates
    that Bitcoin is becoming a leading innovative payment model and is increasing
    mainstream adoption.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Taproot – Bitcoin privacy update (November 2021)** – After SegWit was activated
    in August 2017 and SegWit2x was canceled three months later, it has been four
    years since Bitcoin had a major upgrade. Finally, on November 14, 2021, Taproot—Bitcoin
    community’s most anticipated upgrade since 2017—went live. It is a milestone for
    Bitcoin, and Taproot received almost universal support from miners, developers,
    and users.'
  prefs: []
  type: TYPE_NORMAL
- en: Taproot is a soft fork upgrade initially proposed by Bitcoin core developer
    Gregory Maxwell in January 2018\. Since then, the proposal has been reviewed,
    discussed, and tested in numerous rounds in the community.
  prefs: []
  type: TYPE_NORMAL
- en: While SegWit and the Lightning Network’s primary objective is improving transaction
    speed and reducing fees, Taproot aims to address Bitcoin’s scalability, privacy,
    and transparency challenges.
  prefs: []
  type: TYPE_NORMAL
- en: 'The Taproot update includes three main improvements:'
  prefs: []
  type: TYPE_NORMAL
- en: BIP340 – Upgrading Bitcoin’s core cryptography by replacing the legacy Elliptic
    Curve Digital Signature Algorithm (ECDSA) with Schnorr. Schnorr public keys are
    32 bytes, and signatures will be 64 bytes long, compared to ECDSA public keys—33
    bytes—and signatures 72 bytes long. The upgrade makes complicated Bitcoin transactions
    more secure, simpler, and cheaper.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: BIP-341 – Merkleized Alternative Script Trees (MAST), which introduces a Taproot
    feature, aims to enable the Bitcoin network to execute smart contracts. It brings
    the potential to support decentralized finance (DeFi) and NFT projects with BTC
    with Schnorr signatures.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: BIP342 – Introducing a new type of transaction script language called “Tapscript,”
    it allows Bitcoin nodes the combination of the Schnorr signature and MAST in a
    single transaction. In addition, it also provides Bitcoin smart contracts more
    flexibility and control by removing the 10,000-byte size limit.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Bitcoin ETF (October 2021–July 2022)** – In June 2013, Cameron and Tyler
    Winklevoss cofounded cryptocurrency exchange Gemini. Best known for their battle
    with Mark Zuckerberg over the ownership of Facebook, the twins proposed creating
    a Bitcoin exchange-traded fund with securities regulators. However, in March 2017,
    S.E.C. rejected the Winklevoss brothers’ bid to create Bitcoin ETF.'
  prefs: []
  type: TYPE_NORMAL
- en: Nearly eight years later, with long-awaited development for the cryptocurrency
    industry, investors, and securities issuers, S.E.C. approved the first Bitcoin
    ETF—BITO. BITO start to trade on the New York Stock Exchange (NYSE). Legitimacy
    is a crucial concern for Bitcoin trading in the finance industry. Gaining approval
    from the U.S. Securities and Exchange Commission (S.E.C.) opens the door for Bitcoin’s
    acceptance as a mainstream digital currency. Since the first Bitcoin ETF was approved
    in October 2021, many other crypto ETFs have been approved by S.E.C. and are available
    to trade on the stock market. Here is the list of Bitcoin ETFs:Table 3-2
  prefs: []
  type: TYPE_NORMAL
- en: SEC-approved Bitcoin ETF
  prefs: []
  type: TYPE_NORMAL
- en: '| Symbol | ETF Name | Asset Class |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| ARKW | ARK Next Generation Internet ETF | Equity |'
  prefs: []
  type: TYPE_TB
- en: '| BITO | ProShares Bitcoin Strategy ETF | Currency |'
  prefs: []
  type: TYPE_TB
- en: '| SPBC | Simplify US Equity PLUS GBTC | ETF |'
  prefs: []
  type: TYPE_TB
- en: '| BITQ | Bitwise Crypto Industry Innovators ETF | Equity |'
  prefs: []
  type: TYPE_TB
- en: '| BTF | Valkyrie Bitcoin Strategy ETF | Currency |'
  prefs: []
  type: TYPE_TB
- en: '| XBTF | VanEck Bitcoin Strategy ETF | Currency |'
  prefs: []
  type: TYPE_TB
- en: '| BITS | Global X Blockchain & Bitcoin Strategy | ETF |'
  prefs: []
  type: TYPE_TB
- en: '| RIGZ | Viridi Bitcoin Miners ETF | Equity |'
  prefs: []
  type: TYPE_TB
- en: '| SATO | Invesco Alerian Galaxy Crypto Economy ETF | Equity |'
  prefs: []
  type: TYPE_TB
- en: '| BLKC | Invesco Alerian Galaxy Blockchain Users and Decentralized Commerce
    ETF | Equity |'
  prefs: []
  type: TYPE_TB
- en: '| BTCR | Volt Crypto Industry Revolution and Tech ETF | Equity |'
  prefs: []
  type: TYPE_TB
- en: '| CRYP | AdvisorShares Managed Bitcoin Strategy ETF | Multi-Asset |'
  prefs: []
  type: TYPE_TB
- en: Getting to Know Bitcoin
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In a centralized economy, the currency issued by a central bank is supposed
    to match the economy’s growth and the number of goods exchanged at stable prices.
    A central bank controls the money supply, and there is no fixed formula to determine
    how much money a central bank should print. However, the money system may sometimes
    lose control.
  prefs: []
  type: TYPE_NORMAL
- en: Bitcoin’s inventor, Satoshi Nakamoto, designed Bitcoin to resist inflation,
    limit its supply, and cap the number of coins at 21 million. As a result, the
    new number of Bitcoins is reduced by half every four years, and the last coins
    will be minted around 2140.
  prefs: []
  type: TYPE_NORMAL
- en: Limited supply makes Bitcoin a scarce asset, which can boost the coin’s future
    price—one of the reasons Bitcoin is often referred to as “digital gold.”
  prefs: []
  type: TYPE_NORMAL
- en: Bitcoin Unit
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Today, one Bitcoin is around $25,000, and the total market cap is 455B. Like
    major centralized world currencies such as the US dollar and the Euro can be broken
    down into smaller units such as cents, Bitcoins can also be broken down into Satoshi.
    Satoshi is the smallest unit of a Bitcoin.
  prefs: []
  type: TYPE_NORMAL
- en: One Bitcoin equals 100 million Satoshi, divisible to the eighth decimal place.
  prefs: []
  type: TYPE_NORMAL
- en: Table [3-3](#Tab3) shows the Satoshi unit conversion in the Bitcoin system:Table
    3-3
  prefs: []
  type: TYPE_NORMAL
- en: Bitcoin denominations and unit name
  prefs: []
  type: TYPE_NORMAL
- en: '| Unit name | BTC |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| Satoshi | 0,00000001 BTC |'
  prefs: []
  type: TYPE_TB
- en: '| μBTC (Micro Bitcoin) | 0,00001 BTC |'
  prefs: []
  type: TYPE_TB
- en: '| MBTC (Milli Bitcoin) | 0,001 BTC |'
  prefs: []
  type: TYPE_TB
- en: '| cBTC (Centi Bitcoin) | 0,01 BTC |'
  prefs: []
  type: TYPE_TB
- en: '| dBTC (Bitcoin said) | 0,1 BTC |'
  prefs: []
  type: TYPE_TB
- en: '| BTC (Bitcoin) | 1 BTC |'
  prefs: []
  type: TYPE_TB
- en: Consider the payment of 1 BTC for $23,798.46\. One MBTC is $ 0.001 23.8, and
    1 μBTC is $ 0.24.
  prefs: []
  type: TYPE_NORMAL
- en: Bitcoin Halving
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Bitcoin halving, also known as “the halvening,” is a pivotal event in Bitcoin’s
    history. Every four years, new Bitcoins are released into circulation, and the
    number of Bitcoin mining rewards is cut in half. The maximum total supply of Bitcoins
    is 21 million.
  prefs: []
  type: TYPE_NORMAL
- en: 'Here is a brief Bitcoin halving process in the past and future:'
  prefs: []
  type: TYPE_NORMAL
- en: 2009 – Bitcoin network rewarded miners, starting at 50 BTC per block every ten
    minutes.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 2012 – After 210,000 blocks were mined, the first Bitcoin halving, the reward
    went down to 25 BTC.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 2016 – After 420,000 blocks were mined, the second Bitcoin halving, the mining
    reward went down to 12.5 BTC.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 2020 – After 630,000 blocks were mined, the third Bitcoin halving, the mining
    rewards dropped to 6.25 BTC.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 2024 – The next Bitcoin halving will happen when 840,000 blocks are mined, and
    the mining reward will decrease to 3.125 BTC.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 2140 – The 64th and last halving will occur, and no new Bitcoin will be produced.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Satoshi wrote the halving policy into Bitcoin’s mining algorithm to lower Bitcoin’s
    inflation rate by maintaining scarcity. When miners’ rewards go down and they
    have less to sell, limited supply positively impacts price when demand increases.
  prefs: []
  type: TYPE_NORMAL
- en: Bitcoin Wallet
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: “Not your keys, not your coins” is one of the crypto world’s most famous mantras.
    It means if you do not truly have control over your private keys, then you do
    not actually “own” your crypto/coins. In other words, if you lose your Bitcoin
    wallet’s private key, you lose the funds in it.
  prefs: []
  type: TYPE_NORMAL
- en: 'In a traditional finance system, you have a wallet to store your cash. A Bitcoin
    wallet is similar to your regular wallet, but it is used for storing, sending,
    and receiving Bitcoins. It has two main functions:'
  prefs: []
  type: TYPE_NORMAL
- en: First, storing the user’s public and private keys, and second, performing transactions—for
    instance, receiving and sending Bitcoins.
  prefs: []
  type: TYPE_NORMAL
- en: How Bitcoin Wallets Work
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: We learned public and private keys in Chapter [2](535492_1_En_2_Chapter.xhtml),
    “Cryptography.” The chapter shows an example of using asymmetric encryption to
    generate a pair of private and public keys. After that, a blockchain address is
    derived from its public key.
  prefs: []
  type: TYPE_NORMAL
- en: In Bitcoin, when you create a blockchain wallet, private and public keys are
    associated with it. There is one private key per address. The Bitcoin address
    is publicly visible, represents your account in the blockchain, and is used for
    receiving and sending Bitcoins.
  prefs: []
  type: TYPE_NORMAL
- en: 'A private key is kept secret. It is used to verify transactions, account ownership,
    or spend the Bitcoins in your account. It can have many forms:'
  prefs: []
  type: TYPE_NORMAL
- en: '1.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'A 256-character-long binary code. Example:'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '1010111100111000000011110110001111010111101001010010001011001111011110100011000010100011111100100010100011110001110101000110011111110000101000110001010111010001010011111110101001010011110110110110000001101111010011000001110101101001000010001000010000100111.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '2.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'A 64-digit hexadecimal code. Example:'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: c2e44f51a0277e7bde2b244de3ac9afb62b528bf2f234f0a0a085e963ef7134e
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'associated address: 1Ghftir7isD9MsJVH6qcTbm2nCBHTs3Csp'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '3.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'A QR code. Example:'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'You can use an online Bitcoin QR code to generate one by giving the Bitcoin
    address: [www.bitcoinqrcodemaker.com/](http://www.bitcoinqrcodemaker.com/).'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![](../images/535492_1_En_3_Chapter/535492_1_En_3_Fig11_HTML.jpg)'
  prefs: []
  type: TYPE_IMG
- en: An image depicts the bitcoin web Q R code.
  prefs: []
  type: TYPE_NORMAL
- en: Figure 3-11
  prefs: []
  type: TYPE_NORMAL
- en: Bitcoin QR code
  prefs: []
  type: TYPE_NORMAL
- en: '4.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Mnemonic phrase. Example:'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![](../images/535492_1_En_3_Chapter/535492_1_En_3_Fig12_HTML.png)'
  prefs: []
  type: TYPE_IMG
- en: A text screenshot represents the mnemonic phrase bitcoin. It includes mnemonic
    language and details about the bitcoin wallet.
  prefs: []
  type: TYPE_NORMAL
- en: Figure 3-12
  prefs: []
  type: TYPE_NORMAL
- en: Mnemonic phrase
  prefs: []
  type: TYPE_NORMAL
- en: 'When Alice wants to send one Bitcoin from her wallet to Bob, the process handled
    by the wallets can be described as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Step 1 –** Alice collects the transaction data to be sent. Once finalized,
    Alice uses Bob’s public key to encrypt the transaction data.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Step 2 –** Alice then uses her private key and signs the transaction as a
    digital signature. Alice then sends the transaction, the digital signature, and
    her public key to Bob.'
  prefs: []
  type: TYPE_NORMAL
- en: Bob receives the transaction message. He must verify that the data sent from
    Alice has not been tampered and must have been sent from Alice.
  prefs: []
  type: TYPE_NORMAL
- en: '**Step 3 –** Bob decrypts the transaction data using his private key.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Step 4 –** Bob receives Alice’s public key to verify the digital signature
    to ensure the message is from Alice.'
  prefs: []
  type: TYPE_NORMAL
- en: If true, Bob knows the data is not altered and good to go.![](../images/535492_1_En_3_Chapter/535492_1_En_3_Fig13_HTML.png)
  prefs: []
  type: TYPE_NORMAL
- en: A diagram illustrates the bitcoin wallet working. It includes the steps Alice,
    transaction, Bob's public key, signing private key, public, hash, Alice's public
    key, origin document, and Bob's private key.
  prefs: []
  type: TYPE_NORMAL
- en: Figure 3-13
  prefs: []
  type: TYPE_NORMAL
- en: How Bitcoin wallet works
  prefs: []
  type: TYPE_NORMAL
- en: Types of Bitcoin Wallets
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'There are two categories of wallets: hot and cold. The difference between the
    two is that hot wallets require an Internet connection, while cold wallets store
    the crypto tokens offline.'
  prefs: []
  type: TYPE_NORMAL
- en: Since hot wallets are always connected to the Internet, it is easy and convenient
    to use, and it is useful for beginners to learn or for traders to make a quick
    online payment. It is highly user-friendly. On the other hand, hot wallets are
    generally less secure and more vulnerable to hacking and online attacks. Several
    types of hot wallets are available; the most common are web wallets, mobile wallets,
    and desktop wallets.
  prefs: []
  type: TYPE_NORMAL
- en: Cold wallets are not connected to the Internet. It is highly secure. Stealing
    funds from cold wallets requires physical access to the cold wallet with the owner’s
    passwords or PINS. It minimizes online hacker attacks. At the same time, it is
    hard to access and less user-friendly, with transactions taking longer. It is
    suitable for storing a large number of crypto assets over a long period. Cold
    wallets include paper and hardware wallets.
  prefs: []
  type: TYPE_NORMAL
- en: Figure [3-14](#Fig14) illustrates the two types of Bitcoin wallets.![](../images/535492_1_En_3_Chapter/535492_1_En_3_Fig14_HTML.png)
  prefs: []
  type: TYPE_NORMAL
- en: A flowchart depicts the types of bitcoin wallets. It is divided into hot and
    cold wallets. Hot wallet classifies into web, mobile, desktop wallet. Cold wallet
    classifies as paper and hardware wallet.
  prefs: []
  type: TYPE_NORMAL
- en: Figure 3-14
  prefs: []
  type: TYPE_NORMAL
- en: Types of Bitcoin wallets
  prefs: []
  type: TYPE_NORMAL
- en: Web Wallets
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: As the name implies, online wallets store your private keys, which are managed
    entirely online by a third party, typically centralized exchanges. Web wallet
    vendors are provided as a cloud service. The user-friendly web interface makes
    users smoothly handle their wallets and perform various operations, such as sending
    and receiving payments. You can access web wallets from anywhere through a web
    browser. However, web wallets are frequently targeted by hackers. Among hot wallets,
    web wallets are the least secure. Most exchanges store the majority of customer
    funds offline in cold wallets. For security reasons, users typically should not
    keep significant amounts of crypto in hot wallets.
  prefs: []
  type: TYPE_NORMAL
- en: An example of a popular web wallet is [www.exodus.com/](http://www.exodus.com/)
    or [https://electrum.org/](https://electrum.org/).
  prefs: []
  type: TYPE_NORMAL
- en: Desktop Wallets
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: Desktop wallets are downloaded computer software that runs on your desktop or
    laptop device. This wallet software generates a data file to manage users’ keys.
    The private keys are stored on your hard drive or solid-state drive (SSD).
  prefs: []
  type: TYPE_NORMAL
- en: Compared to other hot wallets, desktop wallets are the most secure and are an
    excellent solution for trading small crypto transactions using a computer. When
    using the wallet, users should create a strong password for accessing the keys.
  prefs: []
  type: TYPE_NORMAL
- en: Since the desktop wallet is connected to the Internet, it is also vulnerable
    to malware or viruses. To protect your funds in your desktop wallet, you need
    to secure your computer using a safe passphrase. It’s best practice to keep most
    of your funds in cold storage.
  prefs: []
  type: TYPE_NORMAL
- en: Mobile Wallets
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: Like the desktop wallet, a mobile wallet is a mobile application installed on
    your mobile phone.
  prefs: []
  type: TYPE_NORMAL
- en: Hardware Wallets
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: A Bitcoin hardware wallet is the most commonly used form of cold wallet and
    the most secure way of storing Bitcoins. The account’s private keys are isolated
    from the Internet and stored in a secure physical device. Similar to portable
    devices, hardware wallets can be connected to the computer to make a transaction.
    The private key in the device will automatically sign cryptocurrency transactions
    without requiring you to enter the key, which effectively prevents hackers from
    stealing your private key.
  prefs: []
  type: TYPE_NORMAL
- en: Trezor ([https://trezor.io](https://trezor.io)) and Ledger wallets ([www.ledger.com](http://www.ledger.com))
    are two of the most popular hardware wallet providers.
  prefs: []
  type: TYPE_NORMAL
- en: Paper Wallets
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: As the name implies, a paper wallet is a piece of paper containing a public
    and a private key associated with a wallet address. In addition, paper wallets
    are often printed in the form of QR codes, so you can quickly scan them to make
    a transaction.
  prefs: []
  type: TYPE_NORMAL
- en: As a type of cold wallet, paper is pretty safe to store your cryptos since your
    keys are entirely offline and out of reach of online hackers. It is the cheapest
    cold wallet option. Compared to hardware wallets like Trezor Ledger, the cost
    may range between $50 and $300.
  prefs: []
  type: TYPE_NORMAL
- en: Paper wallets are generated by downloading a wallet generator software.
  prefs: []
  type: TYPE_NORMAL
- en: Once downloaded, you must check to ensure the software doesn’t contain malware.
    Then, to print out a paper wallet, you need to disable browser add-ons and extensions,
    disconnect from the Internet, and add a passphrase. Finally, follow the wallet
    generator instructions to complete the process, print the newly generated wallet,
    and delete the files. Just make sure no one is watching you create your wallet.
  prefs: []
  type: TYPE_NORMAL
- en: Avoid using public printers, such as in schools and offices; the wallet information
    could store in the printer’s internal hard drive storage. A public unsecured Wi-Fi
    network could also leak your wallet information.
  prefs: []
  type: TYPE_NORMAL
- en: A paper wallet is easily damaged or lost. In case the app is uninstalled, you
    will lose your funds. Also, when using a wallet to receive the fund, a paper wallet
    won’t tell you if you received Bitcoins and in what quantity; you will need to
    use another app to check.
  prefs: []
  type: TYPE_NORMAL
- en: Due to many drawbacks of the paper wallet, it is not currently widespread in
    use.
  prefs: []
  type: TYPE_NORMAL
- en: You can create your own Bitcoin paper wallet online from various service providers,
    such as [https://bitcoinpaperwallet.com/](https://bitcoinpaperwallet.com/), [https://paperwallet.bitcoin.com/](https://paperwallet.bitcoin.com/),
    or [www.bitaddress.org/](http://www.bitaddress.org/).
  prefs: []
  type: TYPE_NORMAL
- en: Bitcoin Network
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Bitcoin is a peer-to-peer (P2P) network of nodes that operates on a proof-of-work
    protocol. Each node as a participant is simply a computer that runs the Bitcoin
    software. Nodes randomly select and connect with other peered nodes. Anyone can
    download and install the Bitcoin software to start a new Bitcoin node and join
    the network. The new nodes can come at any time, so the nodes in the network are
    dynamic and join and leave all the time.
  prefs: []
  type: TYPE_NORMAL
- en: The transaction will be broadcast to other nodes and miners in the network when
    the sender sends Bitcoins to a receiver signed using a Bitcoin wallet. Miners
    use computation power to run the mathematical process to verify transactions and
    add them into a block. After, the miner will broadcast the new block to the network.
    The nodes that received the new node will verify that the miners are following
    the network rules and add a block to their node. Miners are rewarded with minted
    Bitcoin for their contributions to the network. With the confirmed transaction,
    the receiver receives the Bitcoin from the sender.
  prefs: []
  type: TYPE_NORMAL
- en: 'There are different types of nodes on the Bitcoin network, of which there are
    three main types: full and super nodes, light nodes or SPV (Simple Payment Verification),
    and mining nodes.'
  prefs: []
  type: TYPE_NORMAL
- en: Let us explore the different nodes in detail.
  prefs: []
  type: TYPE_NORMAL
- en: Full Nodes
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: A full node runs Bitcoin software to validate transactions and blocks from other
    full nodes. It can validate transactions all the way back to the genesis block,
    then relay them to further full nodes. Full nodes store а copy of the entire blockchain’s
    history, including all blocks created. At the time of writing, running a Bitcoin
    full node requires at least 280 GB of free space.
  prefs: []
  type: TYPE_NORMAL
- en: A new full node installs the client’s software and is connected to other peer
    nodes. The client’s software then embeds the “genesis” block—the first node in
    the blockchain—and the new node will send the “version” message that provides
    a block header with block height.
  prefs: []
  type: TYPE_NORMAL
- en: The peer node will check block height by comparing it with its own copy of the
    entire blockchain data. If the new node block number is lower than its copy, the
    peer node will know how many blocks that new node is missing. The peer node can
    send the new node for the missing block to catch up with the latest block data.
    Each full node can have a maximum of 500 blocks per node connection.
  prefs: []
  type: TYPE_NORMAL
- en: When setting up a new node as a full node connected to the Bitcoin network,
    it will start an Initial Block Download (IBD) process.![](../images/535492_1_En_3_Chapter/535492_1_En_3_Fig15_HTML.jpg)
  prefs: []
  type: TYPE_NORMAL
- en: A block diagram represents the full node. It classifies new full node and connects
    the peer full node with the following steps, like version with block height, send
    inv message with top block, get block data.
  prefs: []
  type: TYPE_NORMAL
- en: Figure 3-15
  prefs: []
  type: TYPE_NORMAL
- en: Full node Initial Block Download (IBD)
  prefs: []
  type: TYPE_NORMAL
- en: IBD refers to downloading and validating all blocks from the genesis block to
    the current block in the blockchain. Depending on the speed of node connection
    and hardware configuration such as CPU and memory, the entire IBD could take several
    hours to days. During the IBD process, a full node will not accept or send transactions.
  prefs: []
  type: TYPE_NORMAL
- en: '**Increase privacy:** Connecting with a third-party node broadcasts your transactions.
    It could gather details about your transactions. Your transaction request is associated
    with your IP address, which can correlate to your name. To protect your privacy
    and stay truly anonymous, you need to connect to the full node you set up to broadcast
    and verify your own transactions.'
  prefs: []
  type: TYPE_NORMAL
- en: 'The benefits of running a full node are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Maintain decentralization:** By joining the Bitcoin network, you will help
    the network become more decentralized and secure. The full node will ensure that
    Bitcoin’s consensus is followed by rejecting blocks and transactions that don’t
    follow the consensus rule.'
  prefs: []
  type: TYPE_NORMAL
- en: '**More security:** Running a full node allows users to create an unsigned transaction,
    called a Partially Signed Bitcoin Transaction (PSBT). You can choose one offline
    wallet to sign the transaction, then you can broadcast the transaction from your
    full node. Your private key is safe during the entire process.'
  prefs: []
  type: TYPE_NORMAL
- en: 'There are minimum requirements to run a full node, such as:'
  prefs: []
  type: TYPE_NORMAL
- en: Updated versions of the operating software (i.e., Bitcoin Core)
  prefs: []
  type: TYPE_NORMAL
- en: A minimum of 2 GB of random access memory (RAM)
  prefs: []
  type: TYPE_NORMAL
- en: A minimum of six hours a day for your node to run
  prefs: []
  type: TYPE_NORMAL
- en: A fast Internet connection with a minimum speed of 400 kilobits (50 kilobytes)
    per second
  prefs: []
  type: TYPE_NORMAL
- en: A minimum of 280 GB of free storage space, with a minimum read/write speed of
    100 MB/sec.
  prefs: []
  type: TYPE_NORMAL
- en: Light Nodes or SPV
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: Light nodes or SPV (Simple Payment Verification) perform a similar function
    to full nodes but only download the block header of previous transactions and
    confirm the validity of the blockchain. Compared to full nodes, it saves a lot
    of storage space and allows for a faster and cheaper transaction. A block header
    is only 1/1000 the size of a block. The total size of the Bitcoin blockchain is
    280 GB, then the total size of the block headers would be around 280 MB. Many
    mobile photos are larger than this. It is an affordable size for a mobile phone
    or tablet.
  prefs: []
  type: TYPE_NORMAL
- en: An SPV node or a wallet application needs to know about its user’s unspent transaction
    outputs (UTXO)—the amount of Bitcoin that remains after a transaction. Since the
    SPV nodes only contain the header and don’t have the full picture of all UTXOs
    available for spending, the SPV nodes must connect to other full nodes and query
    to find the related transactions by a given Bitcoin address. Once an SPV node
    gets all related transactions by a given Bitcoin address, the wallet application
    can find out the unspent transaction outputs.
  prefs: []
  type: TYPE_NORMAL
- en: Mining Nodes
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: Mining nodes pick up transactions and produce new blocks by performing proof-of-work
    consensus. Groups of miners can team up to build a mining pool. Utilizing combined
    miners’ resources increases the probability of finding and generating blocks more
    quickly for Bitcoin. Once the mining pool is successful and receives a reward,
    that share of the reward is divided among participants by the miner’s contribution.
  prefs: []
  type: TYPE_NORMAL
- en: Transactions
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Transactions are at the heart of the Bitcoin ecosystem, which can be as simple
    as just transferring some Bitcoins to a Bitcoin address.
  prefs: []
  type: TYPE_NORMAL
- en: Suppose Alice wants to send Bob one Bitcoin. She uses her wallet’s private key
    to create and digitally sign the transaction. In the next step, Alice’s wallet
    will broadcast the transaction to the Bitcoin network. This transaction contains
    the sender’s and receiver’s addresses, the transferring amount, and Alice’s digital
    signature. Any node in the network can pick up this transaction and add it to
    unconfirmed transaction pools known as a mempool. Now, the mining process starts.
    Miners pick up these unconfirmed transactions and solve the PoW problem. The mining
    process typically needs around ten minutes. Once transactions are validated, they
    will be added to a newly mined block and publicly broadcast to the network. Other
    nodes can verify and confirm the transactions for the new block. It typically
    needs three to six confirmations (the probability of double spending is ruled
    out after six confirmations) and adds them to the current block. The transaction
    is finalized, and Bob gets one Bitcoin in his wallet.
  prefs: []
  type: TYPE_NORMAL
- en: Figure [3-16](#Fig16) shows an example of a transaction detail.![](../images/535492_1_En_3_Chapter/535492_1_En_3_Fig16_HTML.png)
  prefs: []
  type: TYPE_NORMAL
- en: A table represents the details of the transaction. It includes the categories
    of hash, status, received time, size, weight, included in block, confirmation,
    total input, total output, fees, fees per byte, fees per weight, value when transacted.
  prefs: []
  type: TYPE_NORMAL
- en: Figure 3-16
  prefs: []
  type: TYPE_NORMAL
- en: Transaction detail
  prefs: []
  type: TYPE_NORMAL
- en: Let’s go over some concepts for a transaction data structure.
  prefs: []
  type: TYPE_NORMAL
- en: The Transaction Data Structure
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Figure [3–16](#Fig16) shows typical transaction information. There are many
    other fields; we have chosen some of the most used ones and illustrated them in
    Table [3-4](#Tab4).Table 3-4
  prefs: []
  type: TYPE_NORMAL
- en: Bitcoin transaction detail
  prefs: []
  type: TYPE_NORMAL
- en: '| Field name | Description |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| Transaction hash(Transaction ID (TxID)) | A transaction hash is a unique
    string of characters given to every transaction verified and added to the blockchain.
    Bitcoin uses the SHA-256 hash algorithm to generate the transaction hash value.
    |'
  prefs: []
  type: TYPE_TB
- en: '| Transaction status | It checks the status of the Bitcoin transaction confirmation.
    |'
  prefs: []
  type: TYPE_TB
- en: '| Received time | The time when the sender’s wallet broadcasts the transaction
    to the network. |'
  prefs: []
  type: TYPE_TB
- en: '| Size | The total size of this transaction. |'
  prefs: []
  type: TYPE_TB
- en: '| Block | Block number to which the transaction belongs. |'
  prefs: []
  type: TYPE_TB
- en: '| Confirmations | The number of confirmations that succeed in hashing a transaction
    and adding it to the blockchain. |'
  prefs: []
  type: TYPE_TB
- en: '| Fee/Byte | The total fee paid to process this transaction. |'
  prefs: []
  type: TYPE_TB
- en: 'Alice sends Bitcoins to Bob. Alice’s wallet will start to create a transaction.
    At a high level, the transaction has three main parts:'
  prefs: []
  type: TYPE_NORMAL
- en: '1.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Inputs: contains Alice’s Bitcoin address with the amount of Bitcoin Alice owns.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '2.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Outputs: Bob’s Bitcoin address or public key.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '3.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Amounts: the amount of Bitcoins Alice sends to Bob.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Figure [3-17](#Fig17) shows an input and output example:![](../images/535492_1_En_3_Chapter/535492_1_En_3_Fig17_HTML.png)
  prefs: []
  type: TYPE_NORMAL
- en: A table classifies input and output in the transaction. It includes the index,
    address, p k script, sig script, and witness.
  prefs: []
  type: TYPE_NORMAL
- en: Figure 3-17
  prefs: []
  type: TYPE_NORMAL
- en: Transaction input and output
  prefs: []
  type: TYPE_NORMAL
- en: Input
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: Think of inputs as spending and outputs as savings to a Bitcoin account. Generally,
    each input spends a previous output. Each output is an **Unspent Transaction Output**
    (**UTXO**) until a later input consumes it.
  prefs: []
  type: TYPE_NORMAL
- en: A transaction can contain multiple inputs and outputs. The transaction will
    be valid if the input amount exceeds the associated output amounts, and the input
    amount also includes the transaction fee.
  prefs: []
  type: TYPE_NORMAL
- en: A UTXO is an unspent transaction output used for the next input spent for a
    new transaction. The transaction input data structure is described in Table [3-5](#Tab5).Table
    3-5
  prefs: []
  type: TYPE_NORMAL
- en: Bitcoin transaction input
  prefs: []
  type: TYPE_NORMAL
- en: '| Field name | Type (length) | Description |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| Transaction Hash/Tx-ID | 32 bytes | SHA-256 has a transaction ID. The previous
    transaction ID with UTXO. |'
  prefs: []
  type: TYPE_TB
- en: '| Transaction Index | 4 bytes | The previous transaction output index. |'
  prefs: []
  type: TYPE_TB
- en: '| Unlock script length | 2–9 bytes | Size of the unlocked script. |'
  prefs: []
  type: TYPE_TB
- en: '| Unlock script | Variable | It contains the unlocked scripts. |'
  prefs: []
  type: TYPE_TB
- en: '| Sequence | 4 bytes | Sequence number. The default value is 0xffffffff. |'
  prefs: []
  type: TYPE_TB
- en: Output
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: Outputs have three fields containing information about transferring Bitcoins.
    The first field is the amount of Satoshis to send, whereas the second field indicates
    the byte size of the lock script. Finally, the third field contains a locking
    script that defines the conditions that expect others in the future to spend that
    output. The transaction output data structure is explained in Table [3-6](#Tab6).Table
    3-6
  prefs: []
  type: TYPE_NORMAL
- en: Bitcoin transaction out
  prefs: []
  type: TYPE_NORMAL
- en: '| Field name | Type (length) | Description |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| Value | 8 bytes | Amount to transfer in Santoshi. |'
  prefs: []
  type: TYPE_TB
- en: '| Lock script length | 2–9 bytes | Size of the locking script. |'
  prefs: []
  type: TYPE_TB
- en: '| Lock script | Variable | It contains the lock scripts. |'
  prefs: []
  type: TYPE_TB
- en: UTXO (Unspent Transaction Output)
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: Each output of a transaction, called Unspent Transaction Output (UTXO), is used
    as the input of the next spent transaction. UTXO can only be spent once in the
    Bitcoin network, so Bitcoin transaction outputs can be classified as either UTXOs
    or spent transaction outputs. Since the Bitcoin blockchain doesn’t maintain each
    person’s account balances, Bitcoin wallet applications can query the blockchain
    full node data and aggregate the total UTXO for the Bitcoin wallet address. Similar
    to how blocks are connected in blockchain, each transaction input is linked to
    the previous transaction’s output, and each output points to the subsequent transaction’s
    input.
  prefs: []
  type: TYPE_NORMAL
- en: Imagine Alice has received multiple payments from 08/01/22 to 08/05/22\. Each
    transaction contains different values of BTC, as shown in Figure [3-18](#Fig18).![](../images/535492_1_En_3_Chapter/535492_1_En_3_Fig18_HTML.png)
  prefs: []
  type: TYPE_NORMAL
- en: Two tables denote the aggregating input, transaction, time, output, and value.
    It mentions total input and output values and differences. It points out three
    characters Alice, Bob, and Miner.
  prefs: []
  type: TYPE_NORMAL
- en: Figure 3-18
  prefs: []
  type: TYPE_NORMAL
- en: Aggregating transaction inputs and generates output
  prefs: []
  type: TYPE_NORMAL
- en: Alice’s wallet address is 18AEg8g8VWxBfFGeWLqJURuw1DLKQne8jV. Alice wants to
    send 0.005 BTC to Bob. Alice just needs to unlock any transaction between 08/01/22
    to 08/05/22 because all of these transactions have a UTXO amount larger than 0.005
    BTC. But if Alice wants to send 0.13 BTC to Bob, she must unlock all these transactions.
    To pay 0.13 BTC, Alice can’t simply take transactions 1–4 and have 0.03 BTC from
    transaction 5\. In other words, you can never use UTXO as partial spending; all
    these transactions need to be unlocked and added together to spend 0.16 BTC in
    the new transaction, pay 0.02 BTC for the miner as a transaction fee, and then
    send the remaining 0.01 BTC back to Alice.
  prefs: []
  type: TYPE_NORMAL
- en: Once a transaction is committed in the Bitcoin network, the Bitcoin transactions
    can’t be reversible unless the recipient of that payment starts a new transaction
    and sends the Bitcoin back to your Bitcoin address.
  prefs: []
  type: TYPE_NORMAL
- en: 'Unlike traditional accounts, input value can be a bit more than output value.
    In the preceding example, Alice sends Bitcoins to Bob. It needs to aggregate five
    different transaction inputs and generate three outputs: one paid for Bob, one
    for the miner, and the remainder returned to Alice.'
  prefs: []
  type: TYPE_NORMAL
- en: Let’s have a look at the most common types of Bitcoin transactions.
  prefs: []
  type: TYPE_NORMAL
- en: One Input – Two Outputs
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '![](../images/535492_1_En_3_Chapter/535492_1_En_3_Figa_HTML.png)'
  prefs: []
  type: TYPE_IMG
- en: A text screenshot represents one input and two outputs with values and it indicates
    the title summary.
  prefs: []
  type: TYPE_NORMAL
- en: Two outputs of a transaction are the most common type of a Bitcoin transaction.
    For example, Alice sends 8 BTC to Bob, but her transaction UTXO has 10 BTC. She
    will get the remainder back to her address. This remaining amount will be the
    input of the next transaction from her address.
  prefs: []
  type: TYPE_NORMAL
- en: One Input – Multiple Outputs
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '![](../images/535492_1_En_3_Chapter/535492_1_En_3_Figb_HTML.png)'
  prefs: []
  type: TYPE_IMG
- en: A text screenshot includes one input and multiple outputs with values.
  prefs: []
  type: TYPE_NORMAL
- en: Multiple outputs of a transaction could represent someone sending Bitcoins to
    many recipients. For example, if the account is a business account, it could be
    a payment for its employee.
  prefs: []
  type: TYPE_NORMAL
- en: Multiple Inputs – One or Two Outputs
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '![](../images/535492_1_En_3_Chapter/535492_1_En_3_Figc_HTML.png)'
  prefs: []
  type: TYPE_IMG
- en: A text screenshot includes multiple inputs and 1 or 2 outputs with values.
  prefs: []
  type: TYPE_NORMAL
- en: The owner could move these funds to an address when they have many different
    wallet addresses with smaller amounts. Another case could be a business account
    receiving public Bitcoin payments.
  prefs: []
  type: TYPE_NORMAL
- en: Transaction Pool
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Before transactions are added to the block, they are first added into a common
    transaction pool. These transactions are “unconfirmed.” A transaction pool, also
    known as memory pools, contains all unconfirmed transactions that have been validated
    but not yet mined.
  prefs: []
  type: TYPE_NORMAL
- en: Miners then pick the unconfirmed transactions from the transaction pool based
    on the fee and their position in the order of transactions in the pool. Higher
    transaction fees will have a better chance of being selected.
  prefs: []
  type: TYPE_NORMAL
- en: Once transactions are mined or added to the blockchain, the transaction pool
    is cleared. Then, the miner broadcasts a new block to the network. Each network
    node has a copy of the transaction pool. When the node receives an update, it
    will adjust its transaction pool.
  prefs: []
  type: TYPE_NORMAL
- en: Transaction Fees
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Transaction fees are used as an incentive reward for miners to encourage them
    to validate user transactions in the block and support network security. Mathematically,
    transaction fees are the difference between the amount of Bitcoin transaction
    input and the amount out.
  prefs: []
  type: TYPE_NORMAL
- en: 'When a Bitcoin wallet sends a transaction, it will usually display an option
    to select a fee rate in Satoshis per unit, abbreviated as sats/vByte. This transaction
    fee will be calculated based on transaction data size multiplied by this rate.
    A Bitcoin block can contain a maximum of 4 MB of data, and a larger transaction
    will occupy more block space. Thus, the larger transaction will pay more fees.
    If you want to speed up the transaction validation process with less waiting,
    you need to include more fee rates in the transaction, which makes it more likely
    to be included in the next block. However, if you do not care about waiting, pay
    a minimum fee like two sats/vByte. The transaction will typically be confirmed
    within a day or a week. A simple formula can be expressed as:'
  prefs: []
  type: TYPE_NORMAL
- en: fee = sum(inputs) – sum(outputs)
  prefs: []
  type: TYPE_NORMAL
- en: 'A Bitcoin transaction at a high level contains three primary components: metadata
    (including headers), inputs, and outputs. Each of the preceding three components
    has its own specific size. The overall transaction size will be the sum of the
    size of these components, as shown below:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../images/535492_1_En_3_Chapter/535492_1_En_3_Figd_HTML.jpg)'
  prefs: []
  type: TYPE_IMG
- en: A table includes three columns, Transaction input, Transaction output, and metadata.
  prefs: []
  type: TYPE_NORMAL
- en: 'Assuming a transaction has the following approximate sizes with a network fee
    rate of 10 Satoshis per vbyte:'
  prefs: []
  type: TYPE_NORMAL
- en: 120 vbytes per input
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 58 vbytes per output
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 22 vbytes for metadata
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](../images/535492_1_En_3_Chapter/535492_1_En_3_Fige_HTML.jpg)'
  prefs: []
  type: TYPE_IMG
- en: A block diagram divides as input 0 120 v bytes, and output 0 58 v bytes. It
    also mentions 22 v bytes.
  prefs: []
  type: TYPE_NORMAL
- en: 'For each transaction, the total transaction size is:'
  prefs: []
  type: TYPE_NORMAL
- en: 120 (input) + 58 (output) + 22 (metadata) = 200 bytes
  prefs: []
  type: TYPE_NORMAL
- en: If the transaction fee rate is 10 Satoshi/vByte, then 2000 Satoshis are needed
    for sending 200 bytes.
  prefs: []
  type: TYPE_NORMAL
- en: 1 Satoshi is 0.00000001 BTC; 2000 is 0.00002 BTC.
  prefs: []
  type: TYPE_NORMAL
- en: 'At the time of writing, the BTC price is $23,147.80, so the total transaction
    fee is:'
  prefs: []
  type: TYPE_NORMAL
- en: $23,147.80 * 0.00002 = $0.462956
  prefs: []
  type: TYPE_NORMAL
- en: You need to pay $0.462956 for the above transaction.
  prefs: []
  type: TYPE_NORMAL
- en: Lighting Network
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'In Jan 2016, Joseph Poon and Thaddeus published a white paper titled *The Bitcoin
    Lightning Network: Scalable Off-Chain Instant Payments*. The Lightning Network
    is the solution to scale up Bitcoin outside the main Bitcoin network. The Lightning
    Network is a “Layer 2” decentralized payment protocol layered on top of the Bitcoin
    blockchain, allowing off-chain transactions. The transaction process only needs
    to be validated between two parties without committing them as a transaction to
    the Bitcoin network. With Bitcoin adoption growing, Lighting Network has become
    a popular Bitcoin scaling solution. There are more than 20,000 active Lighting
    Network nodes with over 83,000 unique payment channels. Here are some of the benefits
    of the Lightning Network:'
  prefs: []
  type: TYPE_NORMAL
- en: '1.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Instant Payments:**'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: The Bitcoin network can process around three to seven transactions per second
    (tps). Lightning Network builds a peep-to-peer payment channel in which two party
    nodes establish a bidirectional payment connection and allocate funds from a 2-of-2
    multi-signature address by cryptographic protocol. Two parties in the channel
    can commit a transaction and pay each other directly without creating on-chain
    transactions for miner validation through the Bitcoin network—so the payment process
    is near-instant within the Lightning Network.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '2.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Scalability**'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Channels on the Lightning Network are “bidirectional,” as both participants
    can send and receive payments based on channel capacity.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Channel capacity is the total balance each participant holds within a channel.
    For example, a payment channel is opened by Alice and Bob by making a 10 BTC transaction.
    If Alice sends 10 BTC across the channel to Bob, she can’t receive any payments.
    Bob can receive 10 BTC from Alice but can’t send any payments. However, if Alice
    sends 5 BTC to Bob, both parties can now send and receive up to 5 BTC within the
    channel. Depending on channel capacity, many transactions could happen within
    the off-chain payment channel without an on-chain miner involved, which can potentially
    scale to millions of transactions per second (tps) and dramatically scale the
    Bitcoin network capacity.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '3.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Low Cost**'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: There is nearly no transaction fee using the Lightning Network. The cost of
    a Lightning fee is approximately one Satoshi or $0.000233.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '4.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Cross Blockchain Transactions**'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Lightning Network functionality is available on more than one blockchain as
    long as the blockchains can support a similar cryptographic hash function. Lightning
    Network could enable the ultimate decentralized exchange. The transactions could
    potentially be across numerous blockchains without needing a third party.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '5.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Privacy**'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: No blockchain records. The details of individual Lightning Network payment transactions
    are not publicly recorded on the blockchain directly. Payments may be routed through
    many sequential channels where each node operator will be able to see payments
    across their channels, but they will not be able to see the source or destination
    of those funds if they are nonadjacent.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'A few limitations of the Lightning Network:'
  prefs: []
  type: TYPE_NORMAL
- en: The Lightning Network is made up of bidirectional payment channels between two
    nodes, which, combined, create smart contracts. If at any time either party drops
    the channel, the channel will close and be settled on the blockchain.
  prefs: []
  type: TYPE_NORMAL
- en: Due to the nature of the Lightning Network’s dispute mechanism, which requires
    all participants to always monitor their channel and track the state of offline
    ledgers broadcasted to the network, the concept of a “watchtower” has been developed.
  prefs: []
  type: TYPE_NORMAL
- en: How Lightning Network Works
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Initially, Alice holds the A1 commitment transaction, and Bob holds the B1 commitment
    transaction.
  prefs: []
  type: TYPE_NORMAL
- en: The revocation key for A1, K [A1], is owned only by Alice.
  prefs: []
  type: TYPE_NORMAL
- en: The revocation key for B1, K [B1], is owned only by Bob.
  prefs: []
  type: TYPE_NORMAL
- en: Suppose Alice and Bob each own 5 BTC in their wallet. Alice wants to send 2
    BTC to Bob.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../images/535492_1_En_3_Chapter/535492_1_En_3_Figf_HTML.jpg)'
  prefs: []
  type: TYPE_IMG
- en: A block figure represents the funding transaction. It indicates 2 of 2 multi
    sig with 5 B T C. The keys are A1 K a1, B1 K b1\. Two characters connected are
    Alice and Bob.
  prefs: []
  type: TYPE_NORMAL
- en: Alice and Bob are opening a payment channel on the Lightning Network by committing
    funds to a 2-of-2 multi-sig address and sending a transaction, also called a funding
    transaction or the anchor transaction, to the Bitcoin network. This transaction
    is mined to create the channel.
  prefs: []
  type: TYPE_NORMAL
- en: Alice and Bob both deposit equal amounts of money—in our case, 5 BTC—and each
    puts a lock on it.
  prefs: []
  type: TYPE_NORMAL
- en: After the payment channel is established, two parties can start signing and
    exchanging transactions. The transactions are called commitment transactions,
    which will alter the initial state within the channel.
  prefs: []
  type: TYPE_NORMAL
- en: Alice creates a new transaction, B2, which allocates 3 BTC to Alice and 7 BTC
    to Bob.
  prefs: []
  type: TYPE_NORMAL
- en: Alice signs B2 and sends it to Bob. Bob receives B2, signs it, and keeps it.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../images/535492_1_En_3_Chapter/535492_1_En_3_Figg_HTML.jpg)'
  prefs: []
  type: TYPE_IMG
- en: A block figure represents the funding transaction. It indicates with 3 B T C
    and 7 B T C. The keys are A1 K a1, B1 K b1\. The two characters are Alice and
    Bob.
  prefs: []
  type: TYPE_NORMAL
- en: Bob creates a new transaction, A2, which allocates 3 BTC to Alice and 7 BTC
    to Bob.
  prefs: []
  type: TYPE_NORMAL
- en: Bob signs A2 and sends it to Alice.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../images/535492_1_En_3_Chapter/535492_1_En_3_Figh_HTML.jpg)'
  prefs: []
  type: TYPE_IMG
- en: A block figure represents the funding transaction. It indicates 3 B T C and
    7 B T C. It points A2 and B2 with pen marks. The keys are A1 K a1, B1 K b1\. The
    two characters are Alice and Bob.
  prefs: []
  type: TYPE_NORMAL
- en: Alice receives A2, signs it, and keeps it.
  prefs: []
  type: TYPE_NORMAL
- en: Alice provides K [A1], invalidating A1; she can then delete A1.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../images/535492_1_En_3_Chapter/535492_1_En_3_Figi_HTML.jpg)'
  prefs: []
  type: TYPE_IMG
- en: A block figure represents the funding transaction. It indicates 3 B T C and
    7 B T C. The keys are A1 K a1, B1 K b1\. The two characters are Alice and Bob.
  prefs: []
  type: TYPE_NORMAL
- en: Bob provides K [B1], invalidating B1; he can then delete B1.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../images/535492_1_En_3_Chapter/535492_1_En_3_Figj_HTML.jpg)'
  prefs: []
  type: TYPE_IMG
- en: A block figure represents the funding transaction. It indicates 3 B T C and
    7 B T C. The neglected keys are A1 K a1, B1 K b1\. The two characters are Alice
    and Bob.
  prefs: []
  type: TYPE_NORMAL
- en: To sum up, a payment channel creates a combination of money pooling for both
    parties and then transfers the promise of ownership of the pooled-in money in
    an agreed-upon manner.
  prefs: []
  type: TYPE_NORMAL
- en: When either Alice or Bob, at some point, decides to close the payment channel,
    they can sign a closing transaction. Closing a channel means both sides take their
    money back and settle the final balance between the two parties. This transaction
    will then be mined in the Bitcoin network. No matter how many transactions are
    executed in the payment channel, the Bitcoin network will only mine two transactions—opening
    and closing channel transactions.
  prefs: []
  type: TYPE_NORMAL
- en: 'Hash time lock contracts (HTLC), as its name indicates, consists of two parts:
    hash verification and time expiration verification. It is a type of payment in
    which two parties agree to a financial arrangement, where one party receives from
    the other party a certain amount by generating cryptographic proof before a deadline.
    Otherwise, the money will return to the payer. Payment channels are time-locked
    by default. Extended with hash locks, payment can route through multiple payment
    channels connected end-to-end. The transaction can be sent between parties who
    do not have direct channel connections, so anyone connected to the Lightning Network
    is part of a single, interconnected global financial system.'
  prefs: []
  type: TYPE_NORMAL
- en: Let’s take a look at an example.
  prefs: []
  type: TYPE_NORMAL
- en: Alice wants to send payment to Bob, but she doesn’t have a payment channel with
    him. Alice has a payment channel with John, who has a payment channel with Bob.
    How can Alice pay Bob?
  prefs: []
  type: TYPE_NORMAL
- en: Bob must create a cryptographic secret string (key), hash it using a hash function
    such as SHA-256, and then send it to Alice. Bob also shares that hash with John.
    To simplify this written illustration, we’ll represent value as V.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../images/535492_1_En_3_Chapter/535492_1_En_3_Figk_HTML.jpg)'
  prefs: []
  type: TYPE_IMG
- en: A figure depicts three characters, Alice, John, and Bob. It denotes V(8743 b)
    value and a pen and lock mark.
  prefs: []
  type: TYPE_NORMAL
- en: This hash V is the lock; the key is the code to unlock the HTLCs.
  prefs: []
  type: TYPE_NORMAL
- en: Alice creates a Hash Time-Locked Contract (HTLC) with John and tells him that
    she will pay him if he can produce the preimage of V within two days. Alice signs
    a transaction with a lock time of two days after it is broadcast. John can redeem
    it with knowledge of V, and afterward, it is redeemable only by Alice. HTLC allows
    Alice to make a conditional promise to John while ensuring that her funds will
    not be accidentally burned if John never knows what V is.
  prefs: []
  type: TYPE_NORMAL
- en: John does the same, making an HTLC that will pay Bob if Bob can produce V within
    a day. However, Bob does, in fact, know V. Because Bob can pull the desired amount
    from John by using his key, Bob can consider the payment from Alice completed.
    Now, he has no problem telling V to John so that they can collect their funds
    too.
  prefs: []
  type: TYPE_NORMAL
- en: Bob discloses his key to John within one day, and Bob gets paid by John.
  prefs: []
  type: TYPE_NORMAL
- en: John discloses his key to Alice within two days, and John gets paid by Alice.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../images/535492_1_En_3_Chapter/535492_1_En_3_Figl_HTML.jpg)'
  prefs: []
  type: TYPE_IMG
- en: A figure depicts three characters, Alice, John, and Bob. It points out 1, 2,
    3, 4 B T C processes, and mentions K= V.
  prefs: []
  type: TYPE_NORMAL
- en: After everyone cooperates, all of these transactions occur inside the Lighting
    Network. Everyone gets paid in a mechanical manner. The Lightning Network is almost
    atomic in nature and bidirectional, meaning that everyone gets paid or nobody
    gets paid.
  prefs: []
  type: TYPE_NORMAL
- en: In the Lighting Network, when the payment transaction is broadcasted, all the
    individual transactions will be verified first, and they must match the transaction
    history to avoid broadcasting fake or incorrect transactions. There is also a
    penalty imposed on fraudulent transactions, where if the Lighting Network detects
    a bad actor in the system, they are immediately charged with a penalty. This way,
    the entire network ensures credibility and consistency while discouraging bad
    behavior.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The main purpose of this chapter was to present the basic concept of the Bitcoin
    network. Although it only scratches the surface of entire Bitcoin blockchain,
    this chapter was an opportunity to enrich your Bitcoin knowledge. The chapter
    started with a discussion on the history of Bitcoin, then we learned basic Bitcoin
    concepts (including Bitcoin wallet and Bitcoin network). Next, we went over Bitcoin
    transactions to familiarize you with the key concepts behind the Bitcoin blockchain,
    which form the backbone of the Bitcoin network. Lastly, we also briefly introduced
    Lighting Network concepts.
  prefs: []
  type: TYPE_NORMAL
- en: 'In the next chapter, we will continue our learning journey with Ethereum: A
    Gateway to Cryptocurrency.'
  prefs: []
  type: TYPE_NORMAL
