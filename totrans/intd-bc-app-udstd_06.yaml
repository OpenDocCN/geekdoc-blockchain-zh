- en: © The Author(s), under exclusive license to APress Media, LLC, part of Springer
    Nature 2022J. T. GeorgeIntroducing Blockchain Applications[https://doi.org/10.1007/978-1-4842-7480-4_6](https://doi.org/10.1007/978-1-4842-7480-4_6)
  id: totrans-0
  prefs: []
  type: TYPE_NORMAL
  zh: © 作者，独家许可给APress Media, LLC，属于Springer Nature 2022J. T. George介绍区块链应用[https://doi.org/10.1007/978-1-4842-7480-4_6](https://doi.org/10.1007/978-1-4842-7480-4_6)
- en: 6. Hyperledger Fabric
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 6. Hyperledger Fabric
- en: Joseph Thachil George^([1](#Aff2)  )(1)Rome, Italy
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 约瑟夫·塔基尔·乔治^([1](#Aff2)  )(1)意大利罗马
- en: The success of public blockchains, such as Bitcoin and Ethereum, has led to
    growing interest in Blockchain technology and its application as a distributed
    system in the most innovative business use cases.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 公共区块链的成功，如比特币和以太坊，已经导致人们对区块链技术及其作为分布式系统在最创新的业务用例中的应用越来越感兴趣。
- en: However, corporate prerogatives are based on principles and characteristic that
    public and permissionless blockchains still cannot deliver.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，企业的专有权利基于公共和无需许可的区块链仍然无法提供的原则和特征。
- en: For this reason, private and authorized blockchains were born, capable to satisfy
    business compromises.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，私人和授权的区块链诞生了，能够满足业务妥协。
- en: 'In fact, private and authorized blockchains allow you to design systems in
    which:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 实际上，私有和授权的区块链使您能够设计系统，其中：
- en: The networks are authorized
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网络已经获得授权
- en: Participants are identified and identifiable
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 参与者被确认并可识别
- en: There is a guarantee of privacy and confidentiality of the data
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有数据隐私和保密的保证
- en: There is low transaction confirmation latency
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交易确认延迟低
- en: There are therefore many different blockchain projects authorized for corporate
    use. Hyperledger Fabric is a free software enterprise accounting system based
    on distributed ledger, with certain important variations from other famous distributed
    ledgers as well as blockchain systems.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，有许多不同的企业使用授权的区块链项目。Hyperledger Fabric是基于分布式账本的自由软件企业会计系统，与其他著名的分布式账本以及区块链系统有一些重要的区别。
- en: However, it is critical to distinguish Hyperledger from Hyperledger Fabric.
    The Hyperledger project is an open source blockchain program started by the Linux
    Foundation.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，要将Hyperledger与Hyperledger Fabric区分开来是至关重要的。Hyperledger项目是由Linux基金会发起的开源区块链项目。
- en: Hyperledger Fabric is aimed at serving as a foundation for application development
    or modular architecture solutions. Hyperledger Fabric enables plug-and-play components
    such as consent and membership services. Its modular and adaptable design accommodates
    a wide range of industry use cases. It takes a novel approach to consent, allowing
    full-scale performance while protecting privacy.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: Hyperledger Fabric旨在作为应用开发或模块化架构解决方案的基础。Hyperledger Fabric能够提供诸如同意和成员服务等即插即用的组件。其模块化和适应性设计可适应各种行业用例。它采用了一种新颖的同意方法，既可以保护隐私，又可以实现全面的性能。
- en: It is an enterprise solution for the development of applications for a wide
    variety of use cases, as promoted by IBM, it allows innovation and versatility
    for various fields of application.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一种企业级解决方案，用于开发各种用例的应用程序，正如IBM所宣传的，它为各种应用领域提供了创新和多样性。
- en: It is an *authorized* solution and therefore the participants are known, without
    the problems arising from a public network and without permits. So, there is trust
    among the participants.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个*授权*解决方案，因此参与者是已知的，没有公共网络和许可证带来的问题。因此，参与者之间存在信任。
- en: This has a significant impact on consent. In one system authorized and managed
    by a trusted authority, consent is not required. Indeed, in these cases, it would
    be inefficient in terms of performance and speed.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 这对共识产生了重大影响。在由受信任的权威管理的系统中，不需要共识。事实上，在这些情况下，从性能和速度的角度来看，这将是低效的。
- en: This allows the Hyperledger Fabric platform high performance. This blockchain
    was specially designed to be highly modular, configurable, and customizable according
    to the various business needs.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 这使得Hyperledger Fabric平台具有高性能。这个区块链被专门设计为高度模块化、可配置和可定制，以适应各种业务需求。
- en: 6.1 High-Level Perspective
  id: totrans-18
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6.1高层视角
- en: 'This section introduces Hyperledger Fabric by providing a high-level perspective.
    It includes the following components:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 本节通过提供高层视角来介绍Hyperledger Fabric。它包括以下组件：
- en: A company move that establishes system consensus by determining the order of
    transactions and, as a result, transmits new blocks to peers.
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过确定交易顺序并因此将新区块传输给对等体来建立系统共识的公司举动。
- en: A subscription network operator is in charge of using cryptographic identifiers
    to validate network identities.
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 订阅网络运营商负责使用加密标识符验证网络身份。
- en: An extra peer-to-peer gossip channel for broadcasting and ordering service result
    blocks to those other peers.
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为向其他对等体广播和排序服务结果块而设置的额外对等体间的消息传播通道。
- en: The ledger may be configured to work with a variety of database management systems.
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可以配置分类帐以与各种数据库管理系统一起工作。
- en: The customizable endorsement policy for each application. Therefore, every aspect
    of the platform is modular and configurable.
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个应用程序的可定制认可策略。因此，平台的每个方面都是模块化和可配置的。
- en: In Hyperledger Fabric, smart contracts are known to as *chaincode*. The execute-consensus
    architecture of Hyperledger Fabric is known as *execute-order-validate* .
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在Hyperledger Fabric中，智能合约称为*链代码*。Hyperledger Fabric的执行共识架构被称为*执行-排序-验证*。
- en: 'Indeed, it divides the transaction flow into three stages:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 实际上，它将交易流程分为三个阶段：
- en: Carry out a transaction and verify its validity, approving it in this manner.
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 进行交易并验证其有效性，以此方式批准它。
- en: Order the transactions using a programmable consensus protocol.
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用可编程共识协议对交易进行排序。
- en: Before registering transactions in the ledger, they must be validated according
    to the application blockchain’s policies.
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将交易注册到分类帐之前，必须根据应用程序区块链的策略对其进行验证。
- en: Hyperledger Fabric provides a channel structure. Let’s say that each channel
    corresponds to one and only one blockchain. Therefore, a blockchain is associated
    only and exclusively to a channel. This means that only organizations that are
    part of a channel are authorized to the data of the channel itself, and therefore
    to the data of the blockchain of that channel.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: Hyperledger Fabric提供了一个通道结构。假设每个通道对应于一个且只有一个区块链。因此，一个区块链只与一个通道相关联。这意味着只有参与通道的组织才有权访问通道本身的数据，因此也有权访问该通道的区块链数据。
- en: This, together with the concept of private data, provides some guarantee of
    data security and privacy.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 这个概念与私人数据的概念一起，提供了一定程度的数据安全和隐私保障。
- en: The task of categorizing entries is delegated to a modular component that is
    conceptually distinct from the peers who conduct the transactions and maintain
    the ledger. This is how the ordering process works.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 将条目分类的任务委托给一个概念上与执行交易和维护分类帐的节点明显不同的模块化组件。这就是排序过程的工作原理。
- en: Consent can be adjusted to the assumption of trust in a particular distribution
    or solutions as long as this is modular.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 只要这是模块化的，就可以将同意事项调整到对特定分发或解决方案的信任假设。
- en: In discussing the concepts and mechanisms behind Hyperledger Fabric, the chapter
    follows and trusts the official Hyperledger Fabric documentation available on
    the web, when trying to summarize the concepts. So everything that is reported
    about Hyperledger Fabric derives from the study from the analysis of its official
    documentation.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 在讨论Hyperledger Fabric背后的概念和机制时，本章遵循并信任网络上可用的官方Hyperledger Fabric文档，尝试总结这些概念。因此，关于Hyperledger
    Fabric的所有信息都源自对其官方文档的研究和分析。
- en: 6.2 Assets
  id: totrans-35
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6.2 资产
- en: Hyperledger Fabric allows you to construct any type of asset using *chaincode*
    , whether it’s physical (property, goods, products, etc.) or intangible (contract
    terms, intellectual property, documents, etc.).
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: Hyperledger Fabric允许您使用chaincode构建任何类型的资产，无论是实物（财产、商品、产品等）还是无形的（合同条款、知识产权、文件等）。
- en: Assets are specified as a number of essential pairs in Hyperledger Fabric, with
    state changes being stored as transactions on a ledger (tied to the canal). Binary
    and/or JSON representations are available for assets.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 在Hyperledger Fabric中，资产被指定为关键对的数量，状态变化被存储为分类帐上的交易（与通道相关）。资产可用于二进制和/或JSON表示。
- en: 6.3 Chaincode
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6.3 Chaincode
- en: Chaincode  is a type of software that specifies business logic. In other words,
    it defines an activity or set of activities and the transaction instructions for
    changing the activities. The chaincode therefore defines the operations that alter
    the status of the activity. It uses rules to read or change key-value pairs.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: Chaincode是一种指定业务逻辑的软件类型。换句话说，它定义了一项活动或一组活动以及改变这些活动的交易指令。因此，chaincode定义了改变活动状态的操作。它使用规则来读取或更改键值对。
- en: A settlement proposal triggers the chaincode functions, which are performed
    on the current database ledger. When the chaincode is run, it creates a set of
    writing that can be broadcast over the network and added to all peers’ ledgers.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 结算提案触发链码功能，该功能在当前数据库账本上执行。当链码运行时，它创建了一组可以广播到网络并添加到所有对等体账本的写入。
- en: 6.4 Characteristics of the Ledger
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6.4 账本的特点
- en: The ledger keeps track of all network state transitions in a sequential order.
    Chaincode invocations (transactions) supplied by the parties produce state transitions.
    Every operation contains a set of session keys for the resources in the ledger
    which are created, updated, or eliminated in the ledger.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 账本按顺序跟踪所有网络状态转换。由参与方提供的链码调用（交易）产生状态转换。每个操作包含一组会话密钥，用于在账本中创建、更新或删除的资源。
- en: 'The ledger consists of:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 账本包括：
- en: A chain to store unchangeable data in blocks.
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用链存储不可改变的数据。
- en: A state database that records the present position of the blockchain. Each channel
    has its own ledger, as previously mentioned. For each channel in which they participate,
    each peer has a copy of the data.
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 记录区块链当前位置的状态数据库。正如前面提到的，每个频道都有自己的账本。每个参与频道的对等体都有数据副本。
- en: 'Here are some ledger features:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有一些账本特性：
- en: Perform key-based searches and enquiries, as well as range and generally relied
    inquiries.
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 执行基于关键字的搜索和查询，以及范围和通常依赖的查询。
- en: Use a sophisticated query language to do read-only questions. (CouchDB).
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用先进的查询语言执行只读查询。（CouchDB）。
- en: Perform read-only questions from history and query the ledger’s record for a
    key, allowing options for where the data came from.
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从历史记录中执行只读查询，并为键查询账本记录，允许数据来源的选项。
- en: Transactions contain the signatures of each peer who approves them before being
    forwarded to the service for placing orders.
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交易包含每个同行的签名，在转发到服务进行订单放置之前由他们批准。
- en: Transactions contain the signatures of each peer who approves them before they
    are forwarded to the ordering service.
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交易包含每个同行的签名，在转发到排序服务之前由他们批准。
- en: Entries are sorted into blocks and “distributed” to peers on the channel by
    an ordering service.
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 条目被分类到块中，并通过排序服务“分发”到频道上的对等体。
- en: Peers enforce approval policies by checking events against them.
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对等体通过检查事件来强制执行批准策略。
- en: Before adding a block, a version check is conducted to confirm that the statuses
    of the read assets have not changed since the chaincode code was executed.
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在添加块之前，进行版本检查以确认自链码代码执行以来读取资产的状态未更改。
- en: Once a transaction has been verified and committed, it is immutable. A configuration
    block in the channel ledger defines policies, access controls, and other relevant
    information.
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一旦交易经过验证和提交，它就是不可变的。频道账本中的配置块定义了策略、访问控制和其他相关信息。
- en: Channels are membership provider instances that allow cryptographic materials
    to be obtained from multiple certifying bodies.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 通道是成员提供者实例，允许从多个认证机构获取加密材料。
- en: 6.5 Privacy
  id: totrans-57
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6.5 隐私
- en: I previously said that a ledger only exists in one channel  and in a channel
    there is only one ledger. Only the members of a channel can therefore access the
    ledger of this channel. This allows you to do a lot of things while ensuring privacy
    and confidentiality.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 我之前说过，分类帐仅存在于一个通道中，在一个通道中只有一个分类帐。因此，只有通道的成员才能访问该通道的分类帐。这可以在确保隐私和保密性的同时做很多事情。
- en: For example, let’s imagine the scenario in which there is a supplier company
    and various client companies. If the supplier company applies different prices
    depending on the client company, but does not want to reveal this detail, then
    the channel is the solution. In fact, it would be enough to implement a channel
    for each commercial relationship, and the confidentiality of any information is
    guaranteed.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 举个例子，假设存在供应商公司和各种客户公司的情景。如果供应商公司根据客户公司应用不同的价格，但不想透露这个细节，那么通道就是解决方案。事实上，只需为每个商业关系实施一个通道，任何信息的机密性都得到了保证。
- en: Furthermore, within the channel itself it is possible to obtain an additional
    level of confidentiality. In fact, chaincode can define an asset the functions
    that alter the state of the latter. Well, in this area, only the peers who own
    the chaincode can read the asset related to that chaincode.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，在通道内部还可以获得额外的保密级别。事实上，链码可以定义一个资产，用于改变后者的状态。在这方面，只有拥有该链码的对等方才能读取与该链码相关的资产。
- en: If a subgroup of organizations in that channel needs to keep financial data
    secret, they can gather (collect) the data and store it in a private database
    that is conceptually distinct from the channel registers and only accessible to
    a limited number of people inside the institution.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 如果该通道中的一组组织需要保持财务数据的机密性，它们可以收集数据并将其存储在与通道注册概念上不同的私有数据库中，仅可由机构内部的有限人员访问。
- en: In this way, channels maintain private transactions for the rest of the network,
    and collections store private data between organizational subsets of channels.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 通过这种方式，通道为网络的其余部分维护私有交易，集合在通道组织子集之间存储私有数据。
- en: Before submitting a transaction to the ordering service and adding the block
    to the account, the value of the chaincode can be encrypted with a cryptographic
    method to further obscure the data. Only a user with the key correspondent used
    to produce the ciphertext may decode encrypted data once it has been printed to
    the ledger.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 在将交易提交给排序服务并将区块添加到账户之前，可以使用加密方法对链码的值进行加密，以进一步混淆数据。只有具有用于生成密文的相应密钥的用户才能在数据被打印到分类帐后解码加密数据。
- en: 6.6 Identity
  id: totrans-64
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6.6 身份
- en: 'Once the encrypted data has been decrypted, a blockchain is made up of multiple
    actors:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦加密数据被解密，区块链由多个参与者组成：
- en: Peers
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对等方
- en: Orderers
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 订单者
- en: Client applications
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 客户端应用程序
- en: Directors
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 董事们
- en: Users
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户们
- en: A trusted authority is required for an identity to be verifiable. A Membership
    Service Provider (MSP) is Fabric’s most trusted authority. A MSP is an element
    that sets the rules that govern this organization’s authorized identities. The
    standard PKI (Public Key Infrastructure) model is used in the default implementation,
    which employs X.509 identity certificates.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 要验证身份，需要一个受信任的机构。成员服务提供商（MSP）是 Fabric 最受信任的机构。MSP 是制定该组织授权身份规则的元素。默认实现使用标准 PKI（公钥基础设施）模型，该模型采用
    X.509 身份证书。
- en: 6.6.1 Infrastructure with Public Keys (PKI)
  id: totrans-72
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6.6.1 公钥基础设施（PKI）
- en: A *public key infrastructure*  is one of the safety architectures that allows
    for the generation, management, and use of encryption keys and digital certificates.
    As a consequence, it’s a set of technologies that allows for secure network connections.
    (See Figure [6-1](#Fig1).)
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: '*公钥基础设施* 是一种安全架构，允许生成、管理和使用加密密钥和数字证书。因此，它是一组技术，允许安全的网络连接。(见图 [6-1](#Fig1).)'
- en: 'The elements of the PKI are:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: PKI 的元素包括：
- en: A certification authority (CA)
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 认证机构（CA）
- en: Public key and private key
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 公钥和私钥
- en: Digital certificates
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数字证书
- en: Revocation of certificates
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 证书吊销
- en: The certification authority (CA) issues the certificates. The MSP determines
    the benefits of the trusted members of a certain organization.![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig1_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig1_HTML.jpg)
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 认证机构（CA）颁发证书。MSP 确定某一组织受信任成员的福利。![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig1_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig1_HTML.jpg)
- en: Figure 6-1
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-1
- en: Example of CA e-digital certificate
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: CA 电子数字证书示例
- en: 6.6.2 Digital Certificates
  id: totrans-82
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6.6.2 数字证书
- en: A digital certificate is a collection of information about the certificate holder.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 数字证书是关于证书持有者的信息集合。
- en: 'Among the elements of an X: 509 digital certificate are:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 'X: 509 数字证书的元素包括：'
- en: Version
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 版本
- en: Serial number
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 序列号
- en: ID of the algorithm
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 算法 ID
- en: Issuing body
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 发行机构
- en: Validity
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有效性
- en: Subject
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 主题
- en: Information on the subject’s public key
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 主题的公钥信息
- en: Certificate signing algorithm
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 证书签名算法
- en: Certificate signature
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 证书签名
- en: The certificate is encrypted and therefore proof against tampering. A change
    would invalidate the certificate. In fact, it is signed with the private key of
    the certification authority, and in this way, verifiable through the public key
    of the same authority. A change would invalidate the verification process. (See
    Figure [6-2](#Fig2).)![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig2_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig2_HTML.jpg)
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 证书是加密的，因此防止篡改。任何变更都将使证书无效。实际上，它是用认证机构的私钥签名的，通过该认证机构的公钥验证。任何变更都将使验证过程无效。 (见图
    [6-2](#Fig2).)![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig2_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig2_HTML.jpg)
- en: Figure 6-2
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-2
- en: Example of CA and a digital certificate
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 证书颁发机构和数字证书示例
- en: It certifies the unique association between a public key and the identity of
    a subject.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 它证明了公钥与主体身份之间的唯一关联。
- en: The purpose of the digital certificate is to guarantee that a key public is
    associated with the true identity of the subject claiming it. In fact, the applied
    signature certifies that the public key declared is accurate.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 数字证书的目的是确保公钥与声称拥有它的主体的真实身份相关联。实际上，应用的签名证明了声明的公钥是准确的。
- en: In effect, the applied signature checks that the certificate’s public key matches
    the topic specified in the certificate’s contents.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 实际上，应用的签名检查证书的公钥是否与证书内容中指定的主题相匹配。
- en: In the beginning, therefore, if Mario Rossi wanted to digitally sign a document,
    he had to divulge his public key to the other actors of the communication. Any
    person who possessed it could receive from him documents signed with the private
    key and then verify the signature with the aforementioned public key; however
    any individual could disclose a different public key, of which he knew the relative
    private key, and declare that it was Mario Rossi’s public key.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，在开始阶段，如果马里奥·罗西想要对文档进行数字签名，他必须向通信中的其他参与者透露他的公钥。任何拥有该公钥的人都可以从他那里接收用私钥签名的文档，然后使用前述公钥验证签名；但是，任何人都可以透露一个不同的公钥，他知道其相对私钥，并声明这是马里奥·罗西的公钥。
- en: To avoid this problem, each user then enters their key in a certificate signed
    by a reliable third party (in the PKI case, the certificate authorities). All
    those who recognize this third party simply have to check its signature to decide
    if the public key really belongs to that user.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 为了避免这个问题，每个用户随后将其密钥输入由可靠的第三方签名的证书中（在PKI案例中，为证书颁发机构）。所有认可这个第三方的人只需检查其签名，就可以决定该公钥是否真的属于该用户。
- en: 6.7 Certificate Authorities
  id: totrans-102
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6.7 证书颁发机构
- en: Identity (public key pair and private key) and certificates are distributed
    by a certification authority to various actors. This certificate, which connects
    the plaintiff to the actor’s public key, is digitally signed by the certification
    authority (and optionally with a complete property). As a result, if the CA is
    trusted (and the public key is known), the individual actor may be trusted. As
    a consequence, if one trusts the CA (and knows its public key), one may be sure
    that the identified actor is related to the public key supplied in the certificate
    and possesses the included characteristics, therefore verifying the CA’s signature
    on the plaintiff’s certificate. The CA is responsible for ensuring that all actors
    in an organization have a verified digital identity. (See Figure [6-3](#Fig3).)![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig3_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig3_HTML.jpg)
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 认证机构将身份（公钥对和私钥）和证书分发给各种参与者。此证书将原告与参与者的公钥连接起来，并由认证机构进行数字签名（以及可能带有完整的属性）。因此，如果CA是受信任的（且公钥已知），则可以信任个体参与者。因此，如果信任CA（并知道其公钥），则可以确保所识别的参与者与证书中提供的公钥相关联，并具有包含的特征，从而验证原告证书上的CA签名。
    CA负责确保组织中的所有参与者都具有经过验证的数字身份。（参见图[6-3](#Fig3)。）![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig3_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig3_HTML.jpg)
- en: Figure 6-3
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-3
- en: Certificate authority
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 证书颁发机构
- en: 6.8 Membership Service Provider (MSP)
  id: totrans-106
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6.8 会员服务提供商（MSP）
- en: MSPs are able to verify identity. In other words, they determine whether an
    identity belongs to a certain organization or not, and the role it covers within
    the organization. So although the CAs can issue identities and digital certificates,
    MSPs can recognize these identities on the network.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: MSP能够验证身份。换句话说，它们确定一个身份是否属于某个组织，以及在组织内担任的角色。因此，尽管CA可以发布身份和数字证书，但MSP可以在网络上识别这些身份。
- en: MSPs also provide members with a variety of roles and permissions inside the
    network.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: MSP还为成员在网络内提供各种角色和权限。
- en: The MSP is the method through which an organization’s identification is linked
    to its membership. The public key of a member (also called a certificate, certificate
    signature) is added to the organization’s MSP to gain membership.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: MSP是将组织的身份与其成员资格相关联的方法。成员的公钥（也称为证书、证书签名）被添加到组织的MSP以获得成员资格。
- en: MSPs are also used to assign various roles and permissions to network participants.
    The MSP is the mechanism that connects identity to organizational membership.
    The member’s public key (also called a certificate, certificate signature) is
    added to the organization’s MSP to gain membership.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: MSP还用于为网络参与者分配各种角色和权限。MSP是将身份连接到组织成员资格的机制。成员的公钥（也称为证书、证书签名）被添加到组织的MSP以获得成员资格。
- en: An MSP’s capabilities, on the other hand, go beyond merely listing who is a
    network or channel member. By identifying an actor’s unique rights on a node or
    channel, the MSP is responsible for converting an identity into a role. A user
    must be allocated a role when registering with a CA Fabric, such as administrator,
    peer, client, order, or member.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，MSP的功能不仅仅是列出谁是网络或通道成员。通过识别节点或通道上参与者的独特权利，MSP负责将身份转换为角色。当使用像管理员、对等方、客户、订购者或成员这样的角色在CA
    Fabric注册时，用户必须被分配一个角色。
- en: 6.8.1 Local MSP
  id: totrans-112
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6.8.1 本地MSP
- en: MSPs for clients and nodes are specified on a per-client and per-node basis
    (peers and orderers). Local MSPs control a node’s permissions (the peer administrators
    who can run the node). At the MSP’s client premises, the users can authenticate
    themselves as a member of a channel (for example, in chaincode transactions) or
    as the holder of a certain role in the system (as an administrator organization).
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 对客户和节点（对等方和订购者）的MSP是基于每个客户和每个节点指定的。本地MSP控制节点的权限（可以运行节点的对等方管理员）。在MSP的客户端处，用户可以作为通道的成员（例如，在链代码交易中）或系统中某个角色的持有者（作为管理员组织）进行身份验证。
- en: A customer local MSP is set in the system files of the node and only applies
    to that node. Because orderers, like peer nodes, are part of a single institution,
    they have a single MSP to identify the actors or nodes they trust.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 客户本地MSP设置在节点的系统文件中，仅适用于该节点。因为订购者和对等节点像是单个机构的一部分，所以它们有一个单独的MSP来识别它们信任的参与者或节点。
- en: 6.8.2 Channel MSP
  id: totrans-115
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6.8.2 通道MSP
- en: On the other hand, channel MSPs  establish administrative and participation
    rights at the channel level. Peers and ordering nodes on an applications channel
    share the same viewpoint as channel MSPs, allowing them to authenticate channel
    guests properly. This implies that if a firm wants to join the channel, the channel
    setup should include an MSP who works with the organization’s internal personnel.
    Therefore, transactions involving the identities of this organization will be
    rejected.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，通道MSP在通道级别建立管理和参与权利。应用程序通道上的对等方和排序节点与通道MSP拥有相同的视角，使它们能够适当地验证通道访客。这意味着，如果一个公司想要加入通道，通道设置应包括一个与该组织内部人员合作的MSP。因此，涉及该组织身份的交易将被拒绝。
- en: Local MSPs are documented in a channel configuration, whereas channel MSPs are
    represented on the file system as a folder structure. Channel MSPs determine who
    has power at the channel level. The channel MSP defines the connection between
    channel members’ identities and the execution of channel-level rules.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 本地MSP在通道配置中记录，而通道MSP在文件系统中表示为文件夹结构。通道MSP确定了在通道级别谁具有权力。通道MSP定义了通道成员身份和执行通道级别规则之间的联系。
- en: The MSP channel links the MSPs of all participating organizations to a single
    ordering system. An ordering service will most likely have ordering nodes from
    many businesses, with the ordering service as a whole being handled by the businesses.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: MSP 通道将所有参与组织的 MSP 链接到单个排序系统。排序服务很可能会拥有来自多家企业的排序节点，整个排序服务由这些企业共同管理。
- en: 6.8.3 Storing MSP Data
  id: totrans-119
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6.8.3 存储 MSP 数据
- en: Local MSPs are documented in a channel configuration, whereas channel MSPs are
    represented on the file system as a folder structure. Channel MSPs determine who
    has power at the channel level. The channel MSP defines the connection between
    channel members’ identities and the execution of channel-level rules.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 本地 MSP 在通道配置中有记录，而通道 MSP 则以文件系统中的文件夹结构表示。通道 MSP 确定了谁在通道级别具有权限。通道 MSP 定义了通道成员身份与通道级别规则执行之间的联系。
- en: The MSP channel links the MSPs of all participating organizations to a single
    ordering system. An ordering service will most likely have ordering nodes from
    many businesses, with the ordering service as a whole being handled by the businesses.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: MSP 通道将所有参与组织的 MSP 链接到单个排序系统。排序服务很可能会拥有来自多家企业的排序节点，整个排序服务由这些企业共同管理。
- en: As a result, a channel MSP logically resides and is handled from the channel
    or network, but each node’s local file system contains a copy of every channel
    MSP.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，通道 MSP 在逻辑上驻留并由通道或网络处理，但每个节点的本地文件系统都包含每个通道 MSP 的副本。
- en: 6.9 Peers
  id: totrans-123
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6.9 节点
- en: A blockchain is mostly made up of nodes that communicate with one another. Because
    they have ledgers as well as smart contracts, peers are critical components of
    the network. The ledger records all smart contract transactions in an immutable
    manner. It is possible to add, remove, restart, reconfigure, and delete peers.![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig4_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig4_HTML.jpg)
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链主要由相互通信的节点组成。由于它们拥有分类帐和智能合约，因此节点是网络的关键组成部分。分类帐以不可变的方式记录所有智能合约交易。可以添加、删除、重新启动、重新配置和删除节点。![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig4_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig4_HTML.jpg)
- en: Figure 6-4
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-4
- en: Ledger and chaincode
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 分类帐和链码
- en: A peer therefore has one or more instances of the ledger and one or more instances
    of different chaincodes. (See Figure [6-4](#Fig4).)
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，一个节点具有一个或多个分类帐实例以及一个或多个不同链码的实例。（见图[6-4](#Fig4)。）
- en: In fact, a peer can participate in different channels, and therefore have different
    instances of the ledger (each channel corresponds to an independent ledger).
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 实际上，一个节点可以参与不同的通道，因此拥有不同的分类帐实例（每个通道对应一个独立的分类帐）。
- en: In addition, depending on how the network is configured and for what purposes
    it is designed, there can be multiple chaincodes. Consequently, a peer can host
    multiple instances of chaincode.![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig5_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig5_HTML.jpg)
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，根据网络的配置方式和设计目的，可能存在多个链码。 因此，对等方可以承载多个链码实例。![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig5_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig5_HTML.jpg)
- en: Figure 6-5
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-5
- en: Applications and peers
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 应用程序和对等方
- en: Then, to obtain access to the ledger, you show how apps connect with peers.
    (See Figure [6-5](#Fig5).) Hyperledger Fabric makes the Fabric APIs available
    to developers Software Development Kits (SDKs), which allow them to interact with
    the peers, the chaincodes, and therefore the ledger.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，为了获得对分类帐的访问权限，您展示了应用程序如何与对等方连接。 （见图[6-5](#Fig5)。）Hyperledger Fabric使Fabric
    API可用于开发人员的软件开发工具包（SDK），这使他们可以与对等方、链码以及分类帐进行交互。
- en: Chaincode can be used by applications to query or update a ledger over a peer
    connection. A ledger query proposed transaction result is returned quickly, but
    ledger updates need more complex interaction between apps, peers, and orderers.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 应用程序可以通过对等方连接查询或更新分类帐。 分类帐查询的建议交易结果会迅速返回，但分类帐更新需要应用程序、对等方和排序器之间的更复杂交互。
- en: Figure [6-6](#Fig6) shows this in a very basic way.![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig6_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig6_HTML.jpg)
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 图[6-6](#Fig6)以非常基本的方式显示了这一点。![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig6_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig6_HTML.jpg)
- en: Figure 6-6
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-6
- en: Apps connecting to peers
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 连接到对等方的应用程序
- en: In Figure [6-6](#Fig6), application A links to P1 and uses the chaincode S1
    to query or modify the L1 ledger. P1 requests a response from S1 with the outcome
    of the planned ledger query or update. Application A has received the proposal
    response, and the query phase of the procedure is now complete.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 在图[6-6](#Fig6)中，应用程序A链接到P1，并使用链码S1查询或修改L1分类帐。 P1使用计划中的分类帐查询或更新的结果请求S1的响应。 应用程序A已收到提案响应，程序的查询阶段现在已完成。
- en: Application A generates a transaction from all update replies and sends it to
    O1 to sort. O1 gathers and distributes transactions in blocks from all peers,
    including P1\. P1 verifies the transaction before committing it to L1\. Once L1
    has been changed, as received from A, P1 creates an event to signal completion.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 应用程序A从所有更新回复生成交易，并将其发送到O1进行排序。 O1从所有对等方，包括P1，收集并分发交易。 P1在提交到L1之前验证交易。 一旦L1被更改，从A接收后，P1创建事件以表示完成。
- en: In most cases, applications must connect to the peers they represent in order
    for the book update master to be approved. This is demonstrated in the “Transaction
    Flow” section.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 在大多数情况下，应用程序必须连接到它们代表的对等方，以便批准账本更新主。 这在“事务流程”部分中有所示。
- en: 6.9.1 Peers and Organizations
  id: totrans-140
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6.9.1 对等方和组织
- en: Different companies control blockchain networks, or a single company manages
    them all. Because they are owned by these companies, peers are crucial in the
    construction of this form of distributed network. Peers are also the connection
    points for an organization’s network.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 不同的公司控制区块链网络，或者单个公司管理所有区块链网络。由于这些公司拥有它们，同行在构建这种形式的分布式网络中至关重要。同行也是组织网络的连接点。
- en: In this case, a network is formed by four contributing organizations and eight
    peers. The five peers in network N that are connected via channel C are P1, P3,
    P5, P7, and P8\. Although the other peers of these companies have not entered
    this channel, they are generally members of at least one other channel. The applications
    developed by a company will link employees within that company as well as employees
    from other companies. For clarity, an ordering node is not shown in Figure [6-7](#Fig7).![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig7_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig7_HTML.jpg)
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，一个网络由四个贡献组织和八个同行组成。通过通道C连接的网络N中的五个同行是P1、P3、P5、P7和P8。虽然这些公司的其他同行没有进入这个通道，但他们通常至少是另一个通道的成员。一家公司开发的应用程序将连接该公司内部以及其他公司的员工。为了清晰起见，在图[6-7](#Fig7)中没有显示出一个排序节点。![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig7_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig7_HTML.jpg)
- en: Figure 6-7
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-7
- en: Connecting organizations and peers
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 连接组织和同行
- en: Multiple contributing organizations with resources establish and administer
    the network. The resources in this topic are peers; however the resources supplied
    by an organization are more than just peers. The collaborative network would not
    exist without the organizations that offer their unique resources to it. The network
    grows and narrows as a result of the resources provided by these member entities.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 多个贡献组织通过资源建立和管理网络。这个主题中的资源是同行；然而，组织提供的资源不仅仅是同行。如果没有向它提供独特资源的组织，协作网络将无法存在。由于这些成员实体提供的资源，网络会增长和缩小。
- en: 6.9.2 Peers and Identity
  id: totrans-146
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6.9.2 同行和身份
- en: Peers are assigned an identity through a digital certificate of one certain
    certification authority. When a peer connects to a blockchain via a channel, the
    peer’s rights are determined by a rule in the channel configuration based on their
    identity.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 同行通过某个认证机构的数字证书被分配一个身份。当同行通过通道连接到区块链时，根据他们的身份在通道配置中的规则确定同行的权限。
- en: Therefore, the (channel) MSP recognizes the organization to which it belongs
    through its *digital certificate* . (See Figure [6-8](#Fig8).)![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig8_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig8_HTML.jpg)
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，（通道）MSP通过其*数字证书*识别它所属的组织。 (见图[6-8](#Fig8).)![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig8_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig8_HTML.jpg)
- en: Figure 6-8
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-8
- en: Identity of the peers
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 同行的身份
- en: CA1 has provided identities to P1 and P2 in this case. The identities issued
    by CA1 are related with Org1 using ORG1.MSP, as determined by Channel C utilizing
    the MSP channel. ORG2.MSP also recognizes P3/P4 as Org2 components.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，CA1 已为 P1 和 P2 提供了身份。CA1颁发的身份与Org1相关联，使用ORG1.MSP，由通道C利用MSP通道确定。ORG2.MSP还将P3/P4识别为Org2组件。
- en: 6.9.3 Peer, Consensus, and Order
  id: totrans-152
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6.9.3 同行、共识和命令
- en: To guarantee that almost all peers on a network blockchain retain their information
    in sync, applications that want to modify the ledger go through a three-step process.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 为了确保网络区块链上几乎所有对等方都保持其信息同步，想要修改分类账的应用程序必须经过一个三步过程。
- en: In the first step, the app connects with a limited set of supporting peers,
    who individually provide a proposed response that isn’t yet applied to the ledger.
    The subset of endorsing peers that the application interacts with to update the
    ledger is determined by network policies.
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在第一步中，应用程序与一组支持的对等方连接，这些对等方分别提供了尚未应用于分类账的建议响应。应用程序与之交互以更新分类账的认可对等方子集由网络策略确定。
- en: 'These proposal answers are collected in the second step by an application that:'
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这些提案答案在第二步由一个应用程序收集，该应用程序：
- en: Verifies its consistency.
  id: totrans-156
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 验证其一致性。
- en: Sends the transaction to the ordering service as a consequence.
  id: totrans-157
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 作为结果将交易发送到排序服务。
- en: In the third and final stage, the ordering service orders all incoming transactions
    to be combined into a block, which is then sent to each neighbor, where each transaction
    is verified before being recorded.
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在第三个也是最后一个阶段，排序服务将所有传入的交易命令排序组合成一个区块，然后发送到每个相邻节点，每个交易在记录之前都经过验证。
- en: As a result, the ordering nodes that make up the ordering service are at the
    center of everything. The section that follows takes a deeper look at this procedure.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，组成排序服务的排序节点处于一切事务的中心。接下来的部分将深入探讨这个过程。
- en: 6.10 Hyperledger Fabric Consensus
  id: totrans-160
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6.10 超级账本 Fabric 共识
- en: 'Consent in Hyperledger Fabric goes through three stages:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 超级账本 Fabric 中的同意经历三个阶段：
- en: Proposal
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提议
- en: Ordering and packing of transactions in blocks
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交易在区块中的排序和打包
- en: Validation and commit
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 验证和提交
- en: '6.10.1 Stage 1: Proposal'
  id: totrans-165
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6.10.1 第一阶段：提议
- en: Initially  , the program selects a set of peers to generate updates to the proposed
    ledger.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，程序选择一组对等方来生成对所建议的分类账的更新。
- en: The approval policy (given for a chaincode) determines which organizations must
    approve a suggested ledger transaction before it can be accepted by the networks
    and therefore registered.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 批准策略（针对链码）确定必须批准所建议的分类账交易的组织，然后才能由网络接受并因此注册。
- en: 'That’s what it means to attain consensus: every relevant organization must
    agree the proposed ledger update before it can be accepted into any peer’s ledger.'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是达成共识的含义：每个相关组织都必须同意所提议的分类账更新，然后才能将其接受到任何对等方的分类账中。
- en: Applications develop transactions which are suggested, which they transmit to
    every one of the peer groups that must approve it. Each of these is unique. The
    supporting peer then generates a response to the settlement proposal by independently
    executing a transaction proposal-based chaincode. This update is not applied to
    the book master; instead, it is signed and returned to the application. (See Figure
    [6-9](#Fig9).)![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig9_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig9_HTML.jpg)
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 应用程序开发提出的交易，它们将其传输给必须批准它的每一个同行组。每个都是唯一的。支持同行然后通过独立执行基于交易提议的链码来生成对结算提议的响应。此更新不适用于账本主节点；相反，它被签名并返回给应用程序。
    (参见图 [6-9](#Fig9)。)![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig9_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig9_HTML.jpg)
- en: Figure 6-9
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-9
- en: Proposal
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 提议
- en: A peer accepts a proposed answer by signing the whole payload with his private
    key and attaching its digital signature. This permission can later be used to
    demonstrate that a certain response was generated by a peer inside the company.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 同行通过用他的私钥签署整个有效载荷并附加其数字签名来接受建议的答案。此权限稍后可用于证明某个响应是由公司内的同行生成的。
- en: Phase 1 concludes when the application obtains a enough number of peer replies.
    Note that various peers can return to the application with different transaction
    answers, making the settlement proposal contradictory.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 当应用程序获得足够数量的同行回复时，第 1 阶段结束。请注意，各种同行可能会返回给应用程序不同的交易答案，使结算提议产生矛盾。
- en: There are two possible causes for this. Because of the chaincode’s nondeterminism
    (a feature to avoid in chaincodes), or because of peer inconsistency.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 这有两种可能的原因。由于链码的非确定性（链码中要避免的一个特性），或者是因为同行不一致。
- en: If an application tries to update the ledger with an inconsistent set of reply
    transactions, it will be refused. If the proposition is successful, each response
    is consistent and thus equivalent to the others.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一个应用程序试图使用不一致的回复交易更新分类账，它将被拒绝。如果提议成功，每个响应都是一致的，因此等同于其他响应。
- en: '6.10.2 Stage 2: Transactions Are Ordered and Packaged in Blocks'
  id: totrans-176
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6.10.2 阶段 2：交易被排序并打包成块
- en: The transaction workflow continues with the packaging stage. Because he receives
    transactions comprising replies to settlement offers accepted by various applications
    and arranges them into pieces, the payer is crucial to this process.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 交易工作流继续进行打包阶段。因为他收到包含各种应用程序接受的结算提议的回复的交易，并将它们整理成片段，所以支付方对此过程至关重要。
- en: Among other things, the authorizing officers have the responsibility of gathering
    proposed transaction changes, arranging them, and packaging them into blocks for
    delivery to peers. (See Figure [6-10](#Fig10).)![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig10_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig10_HTML.jpg)
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 授权人员除了其他职责外，还负责收集提议的交易更改、安排它们，并将其打包成块，以便交付给节点。 (参见图[6-10](#Fig10).)![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig10_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig10_HTML.jpg)
- en: Figure 6-10
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-10
- en: Ordering transactions
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 交易排序
- en: 'Stage 3 begins with the computer distributing the blocks to all peers connected
    to it. When a new block is produced, the peers are linked to the orderers via
    channels in such a way that a copy of the new block is disseminated to all peers
    connected to the originator. Each peer will process this block individually, but
    in the same way as every other peer on the channel. Figure [6-11](#Fig11) illustrates
    how to keep the ledger constant in this way. It’s also worth noting that not all
    peers need to be connected to a computer: peers can connect to cascade to other
    peers via the gossip protocol.![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig11_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig11_HTML.jpg)'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 阶段 3 从计算机将块分发给所有连接到它的节点开始。当生成新的块时，通过通道将节点链接到排序器，以便将新块的副本传播到所有连接到发起者的节点。每个节点将独立处理此块，但方式与通道上的其他节点相同。图[6-11](#Fig11)说明了如何以此方式保持分类帐恒定。值得注意的是，并非所有节点都需要连接到计算机：节点可以通过流言协议级联连接到其他节点。![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig11_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig11_HTML.jpg)
- en: Figure 6-11
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-11
- en: Verification and finalization
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 验证和最终确认
- en: When a peer gets a block, it processes each transaction in the block in the
    order that it occurs. For each transaction, each peer will check if the transaction
    has been authorized by the organization requested according to the approval rules
    of the chaincode that started the transaction. (See Figure [6-11](#Fig11).)
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 当一个节点收到一个块时，它会按照交易发生的顺序处理块中的每个交易。对于每笔交易，每个节点都将检查该交易是否已经被请求的组织授权，根据启动交易的链码的批准规则。
    (参见图[6-11](#Fig11).)
- en: A few transactions, for example, may just require clearance from a single organization,
    while others may necessitate several approvals before being declared genuine.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，有些交易可能只需要单个组织的批准，而其他交易可能需要多个批准后才能被认为是真实的。
- en: This validation procedure ensures that all relevant companies produced the same
    outcome. This validation is distinct from the approval check in Stage 1, in which
    the application receives answers from the peers it authorizes and chooses whether
    or not to transmit the proposed transactions. If the application violates the
    approval rules by submitting erroneous transactions, the peer might still refuse
    the transaction at Stage 3, validation.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 这个验证过程确保所有相关公司产生相同的结果。 这种验证与第一阶段的批准检查不同，在第一阶段，申请将收到授权的同行的答复，并选择是否传输所提议的交易。 如果申请违反批准规则，提交错误交易，对等方可能仍然会在第三阶段拒绝交易，即验证阶段。
- en: If the transaction has been correctly accepted, the peer will seek to enforce
    it on the blockchain. To do so, a peer must conduct a check ledger consistency
    to confirm that the current state of the book master corresponds to the ledger
    state at the time the proposed update was created.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 如果交易已被正确接受，对等方将寻求在区块链上强制执行它。 为此，对等方必须进行检查账本一致性以确认当前状态的账本主状态是否与提议更新创建时的账本状态相对应。
- en: Even though the transaction has been fully approved, this may not always be
    doable. Another transaction, for example, the identical resource in the ledger,
    may have been changed to the point that the transaction update is no longer applicable
    and so cannot be implemented. Because all peers in the channel follow the same
    standards for validating transactions, the ledger is kept constant.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 即使交易已完全获得批准，这也不总是可行的。 例如，账本中的相同资源可能已更改到交易更新不再适用且无法实施的程度。 因为通道中的所有对等方都遵循相同的交易验证标准，所以账本保持不变。
- en: 6.11 Ledger
  id: totrans-189
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6.11 账本
- en: 'Hyperledger Fabric’s IA ledger is made up of two separate but interconnected
    parts: a blockchain and a global state. (See Figure [6-12](#Fig12).)'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: Hyperledger Fabric 的 IA 账本由两个独立但相互连接的部分组成：区块链和全局状态。 （见图[6-12](#Fig12)。）
- en: Both represent a bundle of information on a group of business items.![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig12_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig12_HTML.jpg)
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 两者代表了一组业务项的信息捆绑。 ![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig12_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig12_HTML.jpg)
- en: Figure 6-12
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-12
- en: Ledger
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 账本
- en: The first step is to use the blockchain. A transaction log records all of the
    events that have led to the world’s present state. Transactions are collected
    in blocks that are added to the blockchain, which allows you to view the path
    of events that led to the present situation. Because it is immutable once written,
    the blockchain’s data structure varies considerably from that of the rest of the
    world.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 第一步是使用区块链。 交易日志记录导致世界现状的所有事件。 交易被收集在添加到区块链的块中，这使您可以查看导致当前情况的事件路径。 由于一旦编写就是不可变的，区块链的数据结构与世界其他部分的数据结构相差很大。
- en: Second, a global state exists. The current values of a set of business object
    states are stored in a database. Instead of having to calculate the current value
    of a state by crossing the entire register of transactions, a program can directly
    access it using the world state. By default, accounting states are expressed as
    key-value pairs. States can be generated, updated, and eliminated, so the world
    state can change frequently.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 第二，存在全局状态。一组业务对象状态的当前值存储在数据库中。程序可以直接访问它，而不必通过跨越整个交易注册来计算状态的当前值，因为状态使用全局状态。默认情况下，会计状态表示为键值对。状态可以生成、更新和消除，因此全局状态可能会经常更改。
- en: As a consequence, the global state is generated from a subset of the blockchain.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，全局状态是从区块链的子集生成的。
- en: 6.11.1 Blockchain
  id: totrans-197
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6.11.1 区块链
- en: The blockchain keeps track of the events that led to the current status of assets.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链跟踪导致资产当前状态的事件。
- en: The blockchain has always been implemented as a file, unlike the state, which
    utilizes a database. (See Figure [6-13](#Fig13).)![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig13_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig13_HTML.jpg)
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链一直以文件形式实现，而状态则利用数据库。（参见图[6-13](#Fig13)。）![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig13_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig13_HTML.jpg)
- en: Figure 6-13
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-13
- en: Ledger with database
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 具有数据库的分类账
- en: A config transaction providing the network’s initial condition of the channel
    is included in the ledger’s genesis frame. The block structure is standard, as
    you saw in “Blockchain Fundamentals.”
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 包含通道初始条件的网络配置事务包含在分类账的创世帧中。块结构是标准的，就像您在“区块链基础知识”中看到的那样。
- en: 6.11.2 Transaction
  id: totrans-203
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6.11.2 交易
- en: The structure of transactions, on the other hand, is fascinating. Their design
    is depicted in Figure [6-14](#Fig14).![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig14_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig14_HTML.jpg)
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，交易的结构很有趣。它们的设计如图[6-14](#Fig14)所示。![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig14_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig14_HTML.jpg)
- en: Figure 6-14
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-14
- en: Ledger with a transaction
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 具有交易的分类账
- en: 'In this example, you can see the following fields:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，您可以看到以下字段：
- en: '**Header:** Contains some critical transaction metadata, such as the transaction’s
    chaincode name and version.'
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**头部：** 包含一些关键的交易元数据，例如交易的链码名称和版本。'
- en: '**Signature:** The application client generates a digital signature, which
    is provided. This feature is used to verify that the transaction information has
    not been altered because it requires the application’s private key to create.'
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**签名：** 应用程序客户端生成数字签名，提供。此功能用于验证交易信息是否已更改，因为它需要应用程序的私钥来创建。'
- en: '**Proposal:** Encodes an application’s input parameters into the chaincode
    that generates the proposed ledger’s update.'
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**提案：** 将应用程序的输入参数编码到生成提议分类账更新的链码中。'
- en: When chaincode is executed, this proposal offers a set of input variables that,
    when coupled with the existing world state, produce the new world state.
  id: totrans-211
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当链码执行时，此提案提供一组输入变量，当与现有世界状态配对时，产生新的世界状态。
- en: '**Response:** Encompasses the values of the world before and after. Is the
    outcome of a smart contract, and if the transaction is correctly validated, it
    will be added to the ledger to update the global system.'
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**响应：**涵盖了之前和之后的世界的值。这是智能合约的结果，如果交易被正确验证，它将被添加到账本中以更新全局系统。'
- en: '**Endorsements:** This is a list of all approved transaction answers that must
    adhere to the approval policy for each company. There will be no change in global
    status if enough people sign a transaction.'
  id: totrans-213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**认可：**这是所有已批准交易答案的列表，必须遵守每家公司的批准政策。如果足够多的人签署了交易，全局状态就不会发生变化。'
- en: 6.11.3 World State
  id: totrans-214
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6.11.3 世界状态
- en: The *World State* reflects the primary value of a business object’s characteristics
    as a single accounting state. Most applications demand the current value of an
    object; measuring the real worth of an item over the whole blockchain would be
    cumbersome; instead, you obtain it straight from the global state. (See Figure
    [6-15](#Fig15).)![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig15_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig15_HTML.jpg)
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: '*世界状态*反映了业务对象特性的主要价值，作为一个单一的会计状态。大多数应用程序需要对象的当前值；在整个区块链上衡量物品的真实价值将会很麻烦；相反，您可以直接从全局状态获取它。（见图[6-15](#Fig15)。）![../images/520777_1_En_6_Chapter/520777_1_En_6_Fig15_HTML.jpg](../images/520777_1_En_6_Chapter/520777_1_En_6_Fig15_HTML.jpg)'
- en: Figure 6-15
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-15
- en: State
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 状态
- en: A database keeps track of the present status of the planet. This is understandable
    because a database provides a wide range of archiving operators as well as fast
    state recovery.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库跟踪了地球当前状态。这是可以理解的，因为数据库提供了各种归档运算符以及快速的状态恢复。
- en: 'For the global state database, there are two options: LevelDB and CouchDB.
    Each chaincode has its own global status, which is unique from the status of all
    other chaincodes. This means that the world’s states are stored in a namespace,
    which can only be accessed by contracts intelligent from the same chaincode. As
    a result, a chaincode can’t see another chaincode’s world state.'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 全局状态数据库有两个选项：LevelDB 和 CouchDB。每个链码都有其自己的全局状态，这与所有其他链码的状态是独立的。这意味着世界状态存储在一个命名空间中，只能由来自相同链码的智能合约访问。因此，一个链码不能看到另一个链码的世界状态。
- en: 6.12 Ordering Service Implementations
  id: totrans-220
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6.12 排序服务实现
- en: The ordering service  in the latest version of Hyperledger Fabric is a crash
    fault-tolerant provider. It's called *Raft* .
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 在最新版本的 Hyperledger Fabric 中，排序服务是一个具有崩溃容错性的提供者。它被称为*Raft*。
- en: The “leader and follower” paradigm is used by Raft, in which the ordering nodes
    of a channel dynamically elect a leader, who then duplicates messages to the channel’s
    follower nodes. Raft is crash fault-tolerant because it can withstand the loss
    of some nodes, such as leader nodes, as long as the bulk of the ordered nodes
    are still operational (CFT).
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: Raft 使用“领导者和跟随者”范式，其中通道的排序节点动态选举领导者，然后将消息复制到通道的跟随者节点。Raft 具有崩溃容错性，因为它可以承受某些节点的丢失，例如领导者节点，只要大部分排序节点仍然可操作（CFT）。
- en: 6.13 Summary
  id: totrans-223
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6.13 总结
- en: 'This chapter discussed Hyperledger Fabric in detail. It started with Hyperledger
    Fabric features and then deepened your understanding of Hyperledger Fabric. The
    hyperledger concept is important for the following reasons:'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 本章详细讨论了超级账本 Fabric。它从超级账本 Fabric 的特性开始，然后加深了您对超级账本 Fabric 的理解。超级账本的概念之所以重要，有以下几个原因：
- en: Permissioned blockchain
  id: totrans-225
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 许可制区块链
- en: Good performance and low transaction latency
  id: totrans-226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 良好的性能和低事务延迟
- en: Modular and configurable according to your needs
  id: totrans-227
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 根据您的需求进行模块化和配置
- en: Database abstraction to speed up interactions with the World State
  id: totrans-228
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据库抽象以加速与世界状态的交互
- en: Ability to create different channels and therefore ledgers
  id: totrans-229
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 能够创建不同的通道，从而形成分类账
- en: Ability to develop applications and chaincode in different languages programming
  id: totrans-230
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 能够使用不同的编程语言开发应用程序和链代码
- en: There are no particular drawbacks to this platform. When discussing hyperledger,
    you must also consider the distributed system and how the hyperledger can be used
    in a distributed system. That’s where the concept of a consensus algorithm comes
    in. The next chapter focuses on the consensus algorithm in a distributed environment.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 这个平台没有特别的缺点。讨论超级账本时，还必须考虑分布式系统以及超级账本如何在分布式系统中使用。这就是共识算法的概念发挥作用的地方。下一章将重点介绍分布式环境中的共识算法。
