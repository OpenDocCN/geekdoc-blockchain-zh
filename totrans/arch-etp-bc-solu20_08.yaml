- en: Chapter 7
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Deploying Your Blockchain on BaaS
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter, I discuss why blockchain as a service (BaaS) is a great way
    to help stand up your enterprise blockchain without all the heavy lifting of having
    to set up your IT infrastructure to accommodate a blockchain. BaaS provides the
    added benefit of reducing the capex requirements of standing up resources for
    your blockchain in your on-premises data center. Then I will walk you step-by-step
    through how to deploy Hyperledger on IBM and AWS.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: BaaS takes full advantage of cloud computing by utilizing both the economic
    and technical merits of cloud computing to enable enterprises to deploy these
    services on cloud providers such as AWS, Microsoft Azure, and IBM Cloud.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: I will discuss how blockchains and distributed ledgers can facilitate an impressive
    total cost of ownership (TCO) scenario and improve your return on investment (ROI)
    models for FinTech-focused use cases.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
- en: Deploying a blockchain is a relatively direct, cost-efficient, and manageable
    task that can be completed in less than a few hours. I will discuss why companies
    choose to use a cloud service and the main benefits of using a provider such as
    IBM for your blockchain deployment.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
- en: The first part of the chapter provides a concise guide of current BaaS platforms
    with the main benefits, features, and use cases they provide. I will also discuss
    how to use BaaS for proofs of concepts and demos especially for presales-focused
    readers.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
- en: 'In the second part of the chapter, I will walk you step-by-step through deploying
    a blockchain on the following services:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
- en: Amazon Web Services (AWS)
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: IBM Cloud
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The main goal of this chapter is twofold. First, I''ll give you a financial
    perspective for how to justify implementations of blockchain services and hardware
    as well as present enterprise concerns around costs. Second, I''ll explain how
    to deploy a blockchain on the AWS and IBM Cloud services.  ## Blockchain as a
    Service Overview'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
- en: The blockchain market is expanding at a brisk pace, and BaaS is no exception.
    The market leaders in cloud computing have been investing millions in this area
    as well. From a market perspective, I will focus on AWS, IBM Cloud, and Microsoft
    Azure, which at the time of writing are the most comprehensive solutions.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
- en: '### Why Use a Blockchain as a Service?'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
- en: Blockchain as a service is a cloud services offering that allows customers to
    leverage cloud-based solutions to build, host, and use their own blockchain apps,
    smart contracts, and functions on the blockchain. In BaaS, the cloud-based service
    provider manages all the necessary tasks and activities to keep the infrastructure
    agile and available.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
- en: The BaaS market is expected to grow significantly over the next five years.
    This growth is due to the market's demand for increasing blockchain applications
    in the commerce sector. International business transactions are getting more secure,
    fast, and reliable alongside the BaaS model coming into the picture. Because the
    database is distributed and the trail of every transaction is available, blockchain
    as a service is eliminating obstacles in international payment processes. Delay
    in verification and invoice processing increases the cost of business activities,
    which can be nullified or reduced by using blockchain technology. The technology
    provides a common chain of information visibility that will be shared across vendors
    and purchasers. Using BaaS in international business transactions may very well
    reduce processing time and costs significantly.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 在未来五年内，预计 BaaS 市场将显著增长。这种增长是由市场对商业领域增加区块链应用的需求所致。随着 BaaS 模型的出现，国际商业交易变得更加安全、快速和可靠。由于数据库是分布式的，并且每笔交易的记录都是可用的，区块链作为一种服务正在消除国际支付流程中的障碍。验证和发票处理的延迟会增加业务活动的成本，而使用区块链技术可以将其抵消或减少。该技术提供了一个信息可见性的共同链，将在供应商和采购商之间共享。在国际业务交易中使用
    BaaS 很可能会显著缩短处理时间和成本。
- en: In a nutshell, the BaaS model allows companies to access a blockchain provider's
    services so they can then access, develop, and deploy blockchain-based applications.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 简而言之，BaaS 模型允许公司访问区块链提供商的服务，以便他们可以访问、开发和部署基于区块链的应用程序。
- en: The growth of blockchain is clear, and along with that there will likely be
    the increased utilization of blockchain as a service on platforms such as IBM,
    AWS, and Azure. Other players such as Oracle, Alibaba, Baidu, Hewlett Packard
    Enterprise (HPE), Huawei, and Tencent currently have BaaS or will have potential
    availability shortly.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链的增长是显而易见的，随着这种增长，使用像 IBM、AWS 和 Azure 这样的平台上的区块链作为服务的使用可能会增加。其他参与者，如 Oracle、Alibaba、百度、惠普企业（HPE）、华为和腾讯，目前已经拥有
    BaaS 或即将具备潜在可用性。
- en: One of the main benefits of using a BaaS vendor is that they provide all the
    necessary software deployments for blockchain as well as the infrastructure to
    the customer in a generally easy-to-consume subscription model. The vendor is
    then responsible for setting up and maintaining the backend of the blockchain's
    infrastructure.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 BaaS 供应商的主要好处之一是，他们为区块链提供了所有必要的软件部署以及基础设施，并且通常采用易于消费的订阅模式提供给客户。然后，供应商负责设置和维护区块链基础设施的后端。
- en: To clarify, there are certainly some BaaS platforms that are either a true software
    as a service (SaaS) or a platform as a service (PaaS) such as IBM Blockchain Platform.
    For example, IBM supports both SaaS and PaaS solutions quite well.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 为了澄清，确实有一些 BaaS 平台是真正的软件即服务（SaaS）或平台即服务（PaaS），比如 IBM 区块链平台。例如，IBM 目前很好地支持 SaaS
    和 PaaS 解决方案。
- en: 'On the other hand, some blockchains as a service are really infrastructure
    as a service where you deploy infrastructure templates. For example, AWS Blockchain
    templates in the AWS Marketplace can help your company create and deploy blockchain
    networks on AWS using different blockchain frameworks. You would need to create
    your security groups, deploy CloudFormation templates, and determine networking
    configurations before deploying the blockchain. There is a level of AWS expertise
    that would be needed to deploy these templates in a production environment.  ###
    Benefits of Using a Blockchain as a Service'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，有些区块链作为服务实际上是基础设施即服务，您可以在其中部署基础设施模板。例如，AWS Marketplace 中的 AWS 区块链模板可以帮助您的公司使用不同的区块链框架在
    AWS 上创建和部署区块链网络。在部署区块链之前，您需要创建自己的安全组、部署 CloudFormation 模板并确定网络配置。在生产环境中部署这些模板需要一定程度的
    AWS 专业知识。
- en: Cloud computing has been around since the early days of Amazon Web Services,
    which essentially created the market for infrastructure as a service (IaaS) cloud
    computing. Cloud computing has numerous benefits for an enterprise, a startup,
    or even a home user. The reality is that IT infrastructure is expensive to procure
    and to maintain, and finding talented people can be a challenge on a limited budget.
    Cloud computing has essentially leveled the playing field for both a consultant
    in Jacksonville, Florida, and a large multinational bank in New York City, thereby
    allowing them to use the same level of enterprise services on a scaled costing
    model, for example.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
- en: 'The benefits are realized because BaaS is being deployed on a cloud computing
    infrastructure that is managed by the cloud vendor. Some of the main benefits
    of using a blockchain cloud service include the following:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
- en: Lower startup costs over traditional on-premises solutions that support opex
    funding
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Faster time to market due to no infrastructure lead-time requirements
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Services managed by provider, reducing your management responsibilities
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Support and expertise of service provided by the provider
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Scalability greatly improved by provider services
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Immediate data security benefits realized and managed by the provider
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Compatibility with current cloud services that the enterprise may be utilizing
    such as monitoring
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Cloud services run blockchain applications, and it''s clear that the benefits
    are similar to what you would experience running perhaps your databases or virtual
    machines in the cloud.  ### Negatives of Using a Blockchain as a Service'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
- en: Cloud computing, as we know, has many benefits, which some enterprises may or
    may not fully realize. Not all uses cases may realize the benefits due to the
    application frameworks, cost models, or development models utilized.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
- en: For example, while working as a presales architect in the data storage and cloud
    markets for more than a decade, I can certainly say that customers that do not
    generally manage resources well in-house will likely not manage resources in the
    cloud well either. Resource management is a must in using cloud resources effectively
    and efficiently. I have seen “cloud spend” skyrocket by more than 300 percent
    in just a few months, and the cloud engineers have no idea why this is happening.
    The two types of resources that generally take up most of the “cloud spend” are
    your data storage and your virtual machines.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
- en: 'The following are some of the negative results of using BaaS:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
- en: Cloud spending costs are not managed appropriately, resulting in unexpectedly
    high cloud spending.
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Resources are centralized, and blockchains by definition should not be centralized
    for solid use cases.
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: There is limited support for blockchain/ledger services on your provider of
    choice.
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Experienced cloud professionals are in high demand and hard to find.
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Cloud applications may not be portable once placed on a cloud provider.
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Performance issues such as latency may not be acceptable for your applications.
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Compliance violations can arise when the networking nodes are in data centers
    that are not in appropriate regions.
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Cloud services run blockchain applications, and it''s clear that the negatives
    are similar to what you would experience running your databases or virtual machines
    in the cloud, so you will want to design judiciously.  ### Blockchain as a Service
    for Sales Teams'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
- en: In [Chapter 5](c05.xhtml), “Enterprise Blockchain Sales and Solutions Engineering,”
    I briefly discussed why using BaaS can enable a sales team by providing a platform
    for a proof of concept (POC) or for an actual production environment.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
- en: When considering a POC or a demo around any major blockchain, such as Hyperledger,
    Corda, or Ethereum, you can certainly leverage any number of the cloud providers
    to host your project. Using a POC or demo on a cloud provider can reduce your
    company's overhead for infrastructure.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
- en: From my experience, if you're a VAR, vendor, or systems integrator, you may
    have an internal platform you can leverage. The main challenge you may have is
    ensuring that you have the technical expertise to set up and maintain the platform.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
- en: In your situation, using BaaS may not be something you will need to be concerned
    with or need to plan for when hosting a POC or a demo. However, having options
    is always a great approach to consider for delivery of a POC or a demo.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
- en: For example, if you're a partner of AWS at specific levels, you may have available
    credits to give to your customer to spin up cloud services. This could be very
    useful because it will allow you as a trusted adviser to essentially give your
    customer the keys to test it out, and your real role is to provide guidance and
    answer questions.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
- en: 'For me that was always the best route because anyone in presales can appreciate
    that even though they are doing endless POCs and demos, in reality, the customer
    may not be interested in your technology. If your customer is willing to “take
    the keys” and take initiative to learn, then this is clearly a benefit to everyone.  ###
    Blockchain as a Service Providers'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
- en: The growth of blockchains has certainly created what seems to be a gold rush
    for cloud providers, vendors, and even VARs. Vendors and cloud providers are rushing
    to create their own blockchain services, whether it's an IaaS solution, a PaaS
    solution, or even a SaaS solution. Note that Google has no current blockchain
    offering but announced plans for marketplace solutions at its annual conference
    in 2018.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
- en: '[Table 7.1](#c07-tbl-0001) shows the mainstream cloud computing providers and
    the blockchain platforms they support at the time of writing.'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
- en: '[**TABLE 7.1**](#R_c07-tbl-0001): Comparing BaaS Providers'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
- en: '|  | AWS | AZURE | IBM |'
  id: totrans-50
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- | --- |'
  id: totrans-51
  prefs: []
  type: TYPE_TB
- en: '| **Frameworks** | Ethereum, Hyperledger Fabric, Quorum | Ethereum, Hyperledger
    Fabric, Corda | Hyperledger Fabric |'
  id: totrans-52
  prefs: []
  type: TYPE_TB
- en: '| **Deployment model** | IaaS, PaaS | IaaS, PaaS | PaaS |'
  id: totrans-53
  prefs: []
  type: TYPE_TB
- en: '| **Service** | Blockchain templates (IaaS) and managed blockchain (PaaS) |
    Blockchain workbench, Blockchain templates | IBM Blockchain platform |'
  id: totrans-54
  prefs: []
  type: TYPE_TB
  zh: '| **服务** | 区块链模板（IaaS）和托管区块链（PaaS） | 区块链工作台，区块链模板 | IBM 区块链平台 |'
- en: '| **Cost model** | Pay as you go | Pay as you go | Pay as you go |'
  id: totrans-55
  prefs: []
  type: TYPE_TB
  zh: '| **成本模型** | 按使用量付费 | 按使用量付费 | 按使用量付费 |'
- en: As you can see, the cloud providers have different cost models and deployment
    models. These differences can greatly affect the cost and scalability of the blockchain
    service.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，云服务提供商有不同的成本模型和部署模型。这些差异可能会极大地影响区块链服务的成本和可伸缩性。
- en: 'It is important to note that even if a cloud provider does not have BaaS available,
    that does not mean you cannot deploy a blockchain on that provider. In that case,
    you can certainly deploy most blockchains on a container service that supports
    Docker containers. For example, Google Cloud Platform enables you to deploy Hyperledger
    Fabric on Kubernetes Engine or the Facebook Libra testnet on Compute Engine.  ##
    Amazon Web Services Options'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: '需要注意的是，即使云服务提供商没有可用的 BaaS，也并不意味着您不能在该提供商上部署区块链。在这种情况下，您肯定可以在支持 Docker 容器的容器服务上部署大多数区块链。例如，Google
    Cloud Platform 可让您在 Kubernetes Engine 上部署 Hyperledger Fabric 或在 Compute Engine
    上部署 Facebook Libra 测试网络。 ## 亚马逊网络服务选项'
- en: 'At the time of writing, Amazon Web Services has two options to deploy blockchains:
    Amazon Managed Blockchain, which is a fully managed platform (PaaS), and Amazon
    Blockchain templates, which is essentially using containers that you set up and
    manage (IaaS). There is also a new distributed ledger technology service called
    Amazon Quantum Ledger Database (QLDB), which, at the time of writing, is still
    in prelease mode.'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 在撰写本文时，亚马逊网络服务有两种部署区块链的选择：Amazon Managed Blockchain，这是一个完全托管的平台（PaaS），以及 Amazon
    区块链模板，这实际上是使用您设置和管理的容器（IaaS）。此外，还有一项名为 Amazon Quantum Ledger Database（QLDB）的新的分布式分类账技术服务，目前仍处于预发行阶段。
- en: '**Amazon Managed Blockchain** Amazon Managed Blockchain is a fully managed
    service that makes it efficient to create and manage scalable blockchain networks
    using the popular open source frameworks Hyperledger Fabric and Ethereum. Amazon
    Managed Blockchain eliminates the overhead required to create the network and
    automatically scales to meet the demands of thousands of applications running
    millions of transactions.'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Amazon Managed Blockchain** Amazon Managed Blockchain 是一项完全托管的服务，利用流行的开源框架
    Hyperledger Fabric 和 Ethereum，高效创建和管理可扩展的区块链网络。Amazon Managed Blockchain 消除了创建网络所需的额外工作，并自动扩展以满足数千个应用程序运行数百万次交易的需求。'
- en: '[Figure 7.1](#c07-fig-0001) shows the Amazon Managed Blockchain service home
    page that has the introductory service information about the service. The direct
    link for the Amazon Managed Blockchain service is `[https://aws.amazon.com/managed-blockchain/](https://aws.amazon.com/managed-blockchain/)`.
    Note that [Figure 7.1](#c07-fig-0001) looks similar to AWS Blockchain templates.
    If you choose to go to the search engines instead of the direct links, they may
    have defaulted to AWS Blockchain templates, not the Managed Blockchain service.'
  id: totrans-60
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[图 7.1](#c07-fig-0001) 显示了 Amazon Managed Blockchain 服务主页，其中包含有关服务的简介信息。Amazon
    Managed Blockchain 服务的直接链接为 `[https://aws.amazon.com/managed-blockchain/](https://aws.amazon.com/managed-blockchain/)`。请注意，[图
    7.1](#c07-fig-0001) 看起来类似于 AWS 区块链模板。如果您选择去搜索引擎而不是直接链接，它们可能会默认为 AWS 区块链模板，而不是托管的区块链服务。'
- en: '![Image described by caption and surrounding text.](images/c07f001.png)'
  id: totrans-61
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![由标题和周围文本描述的图像。](images/c07f001.png)'
- en: '[**FIGURE 7.1**](#R_c07-fig-0001) AWS Managed Blockchain'
  id: totrans-62
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[**图 7.1**](#R_c07-fig-0001) 亚马逊托管的区块链'
- en: The Managed Blockchain service makes it easy to manage and maintain your blockchain
    network. It manages your certificates, lets you easily invite new members to join
    the network, and tracks operational metrics such as usage of compute, memory,
    and storage resources.
  id: totrans-63
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 托管的区块链服务使得管理和维护您的区块链网络变得简单。它管理您的证书，让您轻松邀请新成员加入网络，并跟踪操作指标，如计算、内存和存储资源的使用情况。
- en: '**Amazon Blockchain templates** This option is for customers who are looking
    to manage their own blockchain network and just need an easy way to set it up
    and get started. The AWS Blockchain templates service is the right fit in most
    instances I have seen.'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Amazon 区块链模板** 此选项适用于希望管理自己的区块链网络并只需一种简单的方式来设置和开始的客户。在我看来，大多数情况下 AWS 区块链模板服务都是最合适的选择。'
- en: '[Figure 7.2](#c07-fig-0002) shows the AWS Blockchain templates service and
    provides a highlight of the services. The following is the current link for Amazon
    Blockchain templates:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
- en: '`[https://aws.amazon.com/blockchain/templates/getting-started/](https://aws.amazon.com/blockchain/templates/getting-started/)`'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f002.png)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
- en: '[**FIGURE 7.2**](#R_c07-fig-0002) AWS Blockchain templates'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
- en: The AWS Blockchain templates service deploys the blockchain framework you choose
    as containers on an Amazon Elastic Container Service (ECS) cluster or directly
    on an EC2 instance running Docker depending on the deployment model.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
- en: The service costs are what you have already been paying for in AWS for basic
    services, essentially the use of the compute, network, and data resources. Effectively,
    you pay only for the resources you use, not the blockchain services with the Hyperledger
    and Ethereum templates.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
- en: The AWS blockchain solutions provided are across industries including financial
    market and commerce, supply chain, insurance, healthcare, and KYC and compliance.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
- en: Deploying blockchain services on AWS is relatively straightforward with the
    Blockchain templates once you get through the AWS required steps for security
    groups, virtual private clouds, and other networking-related tasks that must be
    set up before deployment. If the steps are not followed precisely, then the Hyperledger
    Fabric network will not work.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
- en: The instructions are broken down into high-level and low-level (step-by- step)
    instructions anyone should be able to follow. These instructions are provided
    as a baseline; cloud providers may change their interfaces, links, instructions,
    and best practices, so check with AWS before following the instructions here.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
- en: 'The following instructions will reference this template for northern Virginia,
    as specified:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
- en: 'License: Apache 2.0 (Please do not remove) Apr 19, 2018 (bt-k5nffx4jb)'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
- en: This template is clearly defined on the AWS template stack page, which I will
    reference again in the step-by-step instructions.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
- en: '### AWS Blockchain templates Deployment High-Level Steps'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
- en: 'The following are the high-level steps to create a blockchain service on AWS
    with Blockchain templates:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
- en: Determine which blockchain (Ethereum, Hyperledger, or Corda) to deploy.
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Determine which region on AWS to deploy on. Regions in AWS are effectively geographic
    locations of services.
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Create a virtual private cloud (VPC), which is a logically isolated set of services
    in AWS.
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Create key pairs and a security group, which are needed to access the virtual
    machines or containers in AWS.
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Deploy the CloudFormation stack. CloudFormation is the AWS infrastructure deployment
    tool.
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Deploy the Blockchain templates as required. Templates at the time of writing
    are Hyperledger Fabric and Ethereum.
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Install chaincode for Hyperledger Fabric.
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The preceding high-level steps have been simplified to give experienced AWS
    professionals an idea of what is expected before we progress into the step-by-step
    instructions.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
- en: Assuming that all the steps are followed correctly, that AWS makes no procedural
    changes, and that no outage occurs on any AWS service, these steps should take
    approximately two hours to complete. If you are experienced in AWS, you can assume
    it will take you approximately one hour to configure these services.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
- en: For more information about AWS Blockchain templates, refer to `[https://aws.amazon.com/blockchain/templates/](https://aws.amazon.com/blockchain/templates/)`.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
- en: 'At the time of this writing, the templates are available only for Ethereum
    and Hyperledger Fabric. From a planning perspective, you should understand the
    regions the templates are deployed in, which are limited at the time of writing.  ###
    Understanding AWS Regions and Availability Zones'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
- en: Regions are separate geographies, such as US East, US West, or EU Ireland. Availability
    Zones (AZs) are no more than isolated parts of a region that are logically segmented
    and maintain separate infrastructure for redundancy. Regions usually have three
    or four Availability Zones, providing availability for the services deployed in
    that region.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
- en: The limited availability of regions with AWS Blockchain templates could be a
    showstopper if you're in the European Union or Asia. This would likely be due,
    for example, to possible latency that could be experienced as well as to meeting
    compliance requirements.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
- en: 'For more information on AWS regions and availability zones, refer to the following:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
- en: '`[https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Concepts.RegionsAndAvailabilityZones.html](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Concepts.RegionsAndAvailabilityZones.html)`'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
- en: 'At the time of writing, templates are available for the following regions:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
- en: US East (N. Virginia) region (us-east-1)
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: US East (Ohio) region (us-east-2)
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: US West (Oregon) region (us-west-2)
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Figure 7.3](#c07-fig-0003) shows the AWS Blockchain templates web page. You
    can choose from Ethereum or Hyperledger Fabric for Blockchain templates. For the
    purposes of this book, we will choose Hyperledger Fabric.'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f003.png)'
  id: totrans-99
  prefs: []
  type: TYPE_IMG
- en: '[**FIGURE 7.3**](#R_c07-fig-0003) AWS Blockchain templates [https://aws.amazon.com/blockchain/templates/getting-started/](https://aws.amazon.com/blockchain/templates/getting-started/)'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
- en: The AWS Blockchain templates use an AWS service called CloudFormation, and we
    will use this service to create a stack in AWS.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
- en: If you are not familiar with AWS CloudFormation, which is AWS's version of infrastructure
    as code, you can consider CloudFormation as a stack in the development world,
    which is similar to a deployment workflow.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
- en: A workflow is also routinely referenced as a pipeline in many facets of application
    development. This development workflow will deploy a private Hyperledger Fabric
    blockchain network on an Amazon EC2 instance and will deploy the required components
    such as networking, storage, and other required services.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 工作流程在许多应用程序开发领域通常也被称为流水线。此开发工作流程将在 Amazon EC2 实例上部署一个私有的 Hyperledger Fabric
    区块链网络，并将部署所需的组件，如网络、存储和其他必需服务。
- en: '[Figure 7.4](#c07-fig-0004) shows the first part of the CloudFormation template,
    including the remaining parameters, such as EC2 key pair, security group, and
    other parameters. [Figure 7.5](#c07-fig-0005) shows the second part of the template.
    A template is a preconfigured stack of resources in AWS. For more information
    on what a CloudFormation template is, refer to the following:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 7.4](#c07-fig-0004) 显示了 CloudFormation 模板的第一部分，包括剩余参数，如 EC2 密钥对、安全组和其他参数。[图
    7.5](#c07-fig-0005) 显示了模板的第二部分。模板是 AWS 中预配置的一组资源。有关 CloudFormation 模板的更多信息，请参阅以下内容：'
- en: '`[https://aws.amazon.com/cloudformation/aws-cloudformation-templates/](https://aws.amazon.com/cloudformation/aws-cloudformation-templates/)`'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '`[https://aws.amazon.com/cloudformation/aws-cloudformation-templates/](https://aws.amazon.com/cloudformation/aws-cloudformation-templates/)`'
- en: '![Image described by caption and surrounding text.](images/c07f004.png)'
  id: totrans-106
  prefs: []
  type: TYPE_IMG
  zh: '![图像由标题和周围文本描述。](images/c07f004.png)'
- en: '[**FIGURE 7.4**](#R_c07-fig-0004) CloudFormation template, part 1'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '[**图 7.4**](#R_c07-fig-0004) CloudFormation 模板，第 1 部分'
- en: '![Image described by caption and surrounding text.](images/c07f005.png)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![图像由标题和周围文本描述。](images/c07f005.png)'
- en: '[**FIGURE 7.5**](#R_c07-fig-0005) CloudFormation template, part 2'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '[**图 7.5**](#R_c07-fig-0005) CloudFormation 模板，第 2 部分'
- en: 'Note that we will not deploy this template yet, as we need to prepare the AWS
    environment. This discussion was to provide insight into what the template looks
    for around configuration variables.  ### Deploying Hyperledger on AWS'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '请注意，我们暂时不会部署此模板，因为我们需要准备 AWS 环境。本讨论是为了提供关于模板寻找配置变量的见解。  ### 在 AWS 上部署 Hyperledger'
- en: When using the AWS Blockchain templates, you're essentially deploying a Hyperledger
    CloudFormation template that AWS has made free and publicly available to help
    facilitate creating a blockchain network hosted on an EC2 instance hosted in AWS.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用 AWS 区块链模板时，实质上是部署了一个由 AWS 免费提供的 Hyperledger CloudFormation 模板，以帮助在 AWS 托管的
    EC2 实例上创建区块链网络。
- en: The word *template*, of course, in most IT realms would seem as if we just have
    to click and deploy. Well, nothing could be further from the truth in AWS. The
    template you will use is only going to work after you actually set up the environment
    for the template, which includes the security groups, subnets, VPCs, and a host
    of other tasks.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，在大多数 IT 领域中，“模板”一词似乎只需点击即可部署。然而，在 AWS 中，情况远非如此。您将使用的模板只有在您实际为模板设置环境后才能正常工作，其中包括安全组、子网、VPC
    和一系列其他任务。
- en: To actually accomplish the proper setup of your AWS Blockchain templates, there
    are a few things you need to plan beforehand and set up to ensure your template
    deployment is successful, which we covered in the “AWS Blockchain template Deployment
    High-Level Steps” section.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 要实际完成 AWS 区块链模板的正确设置，您需要事先计划并设置一些内容，以确保模板部署成功，我们在“AWS 区块链模板部署高级步骤”部分中已经涵盖了这些内容。
- en: Create a virtual private cloud (VPC) subnet. To clarify, we will need to create
    a subnet in two separate parts of this chapter. This first step covers only the
    first subnet that we will create.
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个虚拟私有云（VPC）子网。澄清一下，我们将在本章的两个不同部分创建子网。此第一步仅涵盖我们将创建的第一个子网。
- en: This first subnet will be the address space used for the blockchain network
    services through the VPC. The second subnet will be created later when we get
    to that part of the AWS Management Console.
  id: totrans-115
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 第一个子网将用于通过 VPC 提供区块链网络服务的地址空间。第二个子网将在我们到达 AWS 管理控制台的相应部分时创建。
- en: Create a security group that will allow traffic to the instance through only
    the ports you specify.
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个安全组，仅允许通过您指定的端口流量到实例。
- en: Launch an EC2 VM instance into the subnet and associate it with an elastic IP.
    (An elastic IP allows traffic to access the Internet.)
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在子网中启动一个 EC2 VM 实例，并将其与弹性 IP 关联起来。（弹性 IP 允许流量访问互联网。）
- en: '#### CREATING A VPC SUBNET'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '#### 创建 VPC 子网'
- en: If you are not familiar with AWS, I recommend taking some basic training for
    using the cloud services before going outside of testing. I will spend some time
    covering the basics to clarify what some terms are such as a VPC and a security
    group to facilitate learning these subjects.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你对 AWS 不太熟悉，我建议在进行测试之外先接受一些基础的云服务培训。我将花一些时间介绍一些基础知识，以阐明一些术语，例如 VPC 和安全组，以便学习这些主题。
- en: A VPC is an isolated deployment of compute resources in AWS. A VPC can also
    be compared to a sandbox or a containerized resource pool in the IT networking
    world.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: VPC 是 AWS 中计算资源的隔离部署。VPC 也可以与 IT 网络世界中的沙盒或容器化资源池进行比较。
- en: This VPC needs to have a virtual networking structure setup, of which an elementary
    part of this networking structure is a subnet. A subnet is effectively used to
    communicate with other AWS resources but also used to effectively isolate that
    resource from other resources in the AWS Cloud.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 这个 VPC 需要设置一个虚拟网络结构，这个网络结构的一个基本部分是子网。子网有效地用于与其他 AWS 资源通信，但也用于在 AWS 云中有效地隔离该资源与其他资源。
- en: For example, say you have ten different AWS EC2 virtual machines running different
    applications and they are all on different subnets or the same subnet. You can
    think of a subnet as a routing mechanism, an address space, or even a containerized
    network schema depending on your IT experience.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，假设您有十台运行不同应用程序的 AWS EC2 虚拟机，它们位于不同的子网或相同的子网上。您可以根据您的 IT 经验将子网视为一种路由机制、地址空间，甚至是容器化的网络架构。
- en: A VPC can have one subnet or many subnets per VPC. If a VPC does not make sense
    still, then I recommend you review the AWS documentation site or take a class
    in AWS.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 每个 VPC 可以有一个或多个子网。如果 VPC 仍然没有意义，那么我建议您查看 AWS 文档网站或参加 AWS 的课程。
- en: Now let's get started deploying our cloud resources.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们开始部署我们的云资源。
- en: The first thing we would need to do is log in to the AWS Management Console,
    which is also known as the Cloud Console, Cloud Dashboard, and the AWS Management
    Console. For this book, I will reference the AWS Management Console to alleviate
    any confusion.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要做的第一件事是登录到 AWS 管理控制台，它也称为云控制台、云仪表板和 AWS 管理控制台。在本书中，我将参考 AWS 管理控制台以减少任何混淆。
- en: This book assumes you have an AWS account, which is required to access services
    on AWS. The instructions on how to set up an AWS account and log into the AWS
    Management Console are beyond the scope of the book. These instructions are on
    the AWS website, YouTube, etc., if needed.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 本书假设您拥有一个 AWS 帐户，这是访问 AWS 上的服务所必需的。如何设置 AWS 帐户并登录到 AWS 管理控制台的说明超出了本书的范围。如果需要，这些说明可以在
    AWS 网站、YouTube 等上找到。
- en: The AWS Management Console is currently located at `[console.aws.amazon.com](http://console.aws.amazon.com)`.
    (However, it is important to note that cloud providers are well known for changing
    links routinely, so validate any links provided accordingly.)
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: AWS 管理控制台当前位于 `[console.aws.amazon.com](http://console.aws.amazon.com)`。（然而，重要的是注意，云服务提供商经常更改链接，因此请相应验证提供的任何链接。）
- en: Log in to the AWS Management Console.
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 登录到 AWS 管理控制台。
- en: '[Figure 7.6](#c07-fig-0006) shows the AWS Management Console after you initially
    log in.'
  id: totrans-129
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[图 7.6](#c07-fig-0006) 显示了您初始登录后的 AWS 管理控制台。'
- en: '![Image described by caption and surrounding text.](images/c07f006.png)'
  id: totrans-130
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图片及其周围文本描述。](images/c07f006.png)'
- en: '[**FIGURE 7.6**](#R_c07-fig-0006) AWS Management Console'
  id: totrans-131
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[**图 7.6**](#R_c07-fig-0006) AWS 管理控制台'
- en: The AWS Management Console is rather simplistic from an aesthetic standpoint.
    For those of you who may not be familiar with AWS, you can find the VPC dashboard
    by going to the Find Services box in the middle of console, entering **VPC**,
    and selecting the VPC Dashboard.
  id: totrans-132
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 从美学的角度来看，AWS 管理控制台相当简单。对于那些可能不熟悉 AWS 的人，您可以通过在控制台中间的查找服务框中输入**VPC**并选择 VPC 仪表板来找到
    VPC 仪表板。
- en: Select Launch VPC Wizard from the VPC dashboard, as shown in [Figure 7.7](#c07-fig-0007).![Image
    described by caption and surrounding text.](images/c07f007.png)
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 VPC 仪表板中选择启动 VPC 向导，如 [图 7.7](#c07-fig-0007) 所示。![图片及其周围文本描述。](images/c07f007.png)
- en: '[**FIGURE 7.7**](#R_c07-fig-0007) Launching the VPC Wizard'
  id: totrans-134
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[**图 7.7**](#R_c07-fig-0007) 启动 VPC 向导'
- en: There are several options for creating a nondefault VPC, but this chapter will
    focus on the following approach.
  id: totrans-135
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 创建非默认 VPC 有几种选项，但本章将重点介绍以下方法。
- en: Select the VPC with a Single Public Subnet option, as shown in [Figure 7.8](#c07-fig-0008),
    and then click Next.
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从左侧窗格中选择具有单个公共子网选项，如[图 7.8](#c07-fig-0008)所示，然后点击下一步。
- en: A subnet is needed to ensure traffic is segmented appropriately as an address
    space on AWS.
  id: totrans-137
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 需要一个子网来确保流量在 AWS 上适当地进行分段。
- en: Enter **myblockchain** as the VPC name, as shown in [Figure 7.9](#c07-fig-0009).
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入 **myblockchain** 作为 VPC 名称，如[图 7.9](#c07-fig-0009)所示。
- en: For the purposes of this demo, leave the settings at the defaults. In your deployment,
    however, you will need to determine more detailed configurations, such as the
    endpoints, availability zone, hardware tenancy, and the CIDR range l. These configurations
    settings are beyond the scope required for this demo.
  id: totrans-139
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 出于演示目的，请将设置保留为默认值。但是在您的部署中，您需要确定更详细的配置，例如端点、可用区、硬件租用和 CIDR 范围。这些配置设置超出了此演示所需的范围。
- en: '![Image described by caption and surrounding text.](images/c07f008.png)'
  id: totrans-140
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![由标题和周围文本描述的图片。](images/c07f008.png)'
- en: '[**FIGURE 7.8**](#R_c07-fig-0008) VPC Configuration dialog'
  id: totrans-141
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[**图 7.8**](#R_c07-fig-0008) VPC 配置对话框'
- en: '![Image described by caption and surrounding text.](images/c07f009.png)'
  id: totrans-142
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![由标题和周围文本描述的图片。](images/c07f009.png)'
- en: '[**FIGURE 7.9**](#R_c07-fig-0009) Myblockchain VPC'
  id: totrans-143
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[**图 7.9**](#R_c07-fig-0009) Myblockchain VPC'
- en: Select Create VPC to complete the steps.
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择创建 VPC 完成步骤。
- en: '[Figure 7.10](#c07-fig-0010) shows that the VPC was created.'
  id: totrans-145
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[图 7.10](#c07-fig-0010)显示了 VPC 已创建。'
- en: '![Image described by caption and surrounding text.](images/c07f010.png)'
  id: totrans-146
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![由标题和周围文本描述的图片。](images/c07f010.png)'
- en: '[**FIGURE 7.10**](#R_c07-fig-0010) VPC-created confirmation'
  id: totrans-147
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[**图 7.10**](#R_c07-fig-0010) VPC 创建确认'
- en: Click OK.
  id: totrans-148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击确定。
- en: You will then see the VPC menu, as shown in [Figure 7.11](#c07-fig-0011).
  id: totrans-149
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 接下来您将看到 VPC 菜单，如[图 7.11](#c07-fig-0011)所示。
- en: '![Image described by caption and surrounding text.](images/c07f011.png)'
  id: totrans-150
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![由标题和周围文本描述的图片。](images/c07f011.png)'
- en: '[**FIGURE 7.11**](#R_c07-fig-0011) VPC menu'
  id: totrans-151
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[**图 7.11**](#R_c07-fig-0011) VPC 菜单'
- en: 'Your VPC Myblockchain is now created, so you can move on to the next step in
    the process, creating a security group.  #### CREATING A SECURITY GROUP'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 您的 VPC Myblockchain 现已创建，因此您可以继续进行下一步，创建安全组。#### 创建安全组
- en: A security group in AWS is a virtual firewall that helps facilitate proper network
    traffic to the EC2 instance at hand. You can think of a firewall (security group)
    as a barrier for your AWS networking resources, enforced by egress and ingress
    policies. *Egress* refers to traffic leaving the AWS Cloud, and *ingress* refers
    to traffic entering the AWS cloud. We need to have several ports open in these
    egress and ingress policies to allow traffic through.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: AWS 中的安全组是一个虚拟防火墙，有助于为手头的 EC2 实例提供适当的网络流量。您可以将防火墙（安全组）视为 AWS 网络资源的障碍，由出站和入站策略强制执行。*出站*
    指的是离开 AWS 云的流量，*入站* 指的是进入 AWS 云的流量。我们需要在这些出站和入站策略中开放几个端口以允许流量通过。
- en: We can configure several layers of firewalls. Effectively, we can configure
    a security group for our VPC and for our EC2 instance. In this demo, we will configure
    two layers of firewalls (security groups).
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以配置几层防火墙。实际上，我们可以为我们的 VPC 和我们的 EC2 实例配置安全组。在这个演示中，我们将配置两层防火墙（安全组）。
- en: Enough of AWS 101\. Let's get to work.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 足够的 AWS 101。让我们开始工作吧。
- en: We need to configure rules for outbound and inbound traffic to the instance.
    To do this, we will configure a security group.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要为实例配置出站和入站流量的规则。为此，我们将配置一个安全组。
- en: Select Security Groups from the left pane, as shown in [Figure 7.12](#c07-fig-0012).![Image
    described by caption and surrounding text.](images/c07f012.png)
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从左侧窗格中选择安全组，如[图 7.12](#c07-fig-0012)所示。![由标题和周围文本描述的图片。](images/c07f012.png)
- en: '[**FIGURE 7.12**](#R_c07-fig-0012) Security Group menu'
  id: totrans-158
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[**图 7.12**](#R_c07-fig-0012) 安全组菜单'
- en: Select Create Security Group.
  id: totrans-159
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择创建安全组。
- en: The Security Group dialog box appears, as shown in [Figure 7.13](#c07-fig-0013).
  id: totrans-160
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 安全组对话框出现，如[图 7.13](#c07-fig-0013)所示。
- en: '![Image described by caption and surrounding text.](images/c07f013.png)'
  id: totrans-161
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![由标题和周围文本描述的图片。](images/c07f013.png)'
- en: '[**FIGURE 7.13**](#R_c07-fig-0013) Security groups'
  id: totrans-162
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[**图 7.13**](#R_c07-fig-0013) 安全组'
- en: 'Enter the following variables and then click Create:'
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入以下变量，然后点击创建：
- en: '**Security Group Name**: Hyperledgerblockchain'
  id: totrans-164
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**安全组名称**：Hyperledgerblockchain'
- en: '**Description**: Hyperledger Fabric Deployment'
  id: totrans-165
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**描述**：Hyperledger Fabric 部署'
- en: '**VPC**: (The name of the myblockchain VPC you created previously.)'
  id: totrans-166
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**VPC**：（您之前创建的 myblockchain VPC 的名称。）'
- en: '[Figure 7.14](#c07-fig-0014) shows that the security group was created.'
  id: totrans-167
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[图 7.14](#c07-fig-0014)显示了安全组已创建。'
- en: Select Close to advance to the Security Group dashboard, as shown in [Figure
    7.15](#c07-fig-0015).
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: View the security group list to validate that the security group you created
    is in your list.
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.16](#c07-fig-0016) shows the VPC security group has been created.'
  id: totrans-170
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f014.png)'
  id: totrans-171
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.14**](#R_c07-fig-0014) VPC selection dialog completion'
  id: totrans-172
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f015.png)'
  id: totrans-173
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.15**](#R_c07-fig-0015) Security group confirmation'
  id: totrans-174
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f016.png)'
  id: totrans-175
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.16**](#R_c07-fig-0016) Security group listing'
  id: totrans-176
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Now that the security group is deployed, we need to configure the outbound and
    inbound firewall rules.
  id: totrans-177
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the Inbound Rules tab from the bottom of menu interface, and then select
    Edit Rules.
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.17](#c07-fig-0017) shows the VPC Security group has been created
    and was selected. When it''s selected, the Security metadata properties are listed
    (Description, Inbound Rules, Outbound Rules, and Tags).'
  id: totrans-179
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f017.png)'
  id: totrans-180
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.17**](#R_c07-fig-0017) Edit Inbound Rules interface'
  id: totrans-181
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Now that the security group is deployed, we need to configure the outbound and
    inbound firewall rules.
  id: totrans-182
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the Inbound Rules tab from the bottom of menu interface, and then select
    Edit Rules, as shown in [Figure 7.18](#c07-fig-0018).
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We have no rules, so we need to configure them for the blockchain services.
  id: totrans-184
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Edit Inbound Rules interface.](images/c07f018.png)'
  id: totrans-185
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.18**](#R_c07-fig-0018) Edit Inbound Rules interface'
  id: totrans-186
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Add Rule from the middle left of the screen.
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.19](#c07-fig-0019) shows the Rule “Custom TCP Rule” on the drop-down
    menu.'
  id: totrans-188
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f019.png)'
  id: totrans-189
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.19**](#R_c07-fig-0019) Edit Inbound Custom Rules initial window'
  id: totrans-190
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Create two inbound rules: one for HTTP and one for HTTPS.'
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Enter the following for the HTTP rule:'
  id: totrans-192
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '**Protocol**: TCP'
  id: totrans-193
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Port Range**: 80'
  id: totrans-194
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Source**: Custom, leave 0.0.0.0/0'
  id: totrans-195
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Description**: http'
  id: totrans-196
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Enter the following for the HTTPS rule:'
  id: totrans-197
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '**Protocol**: TCP'
  id: totrans-198
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Port Range**: 443'
  id: totrans-199
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Source**: Custom, leave 0.0.0.0/0'
  id: totrans-200
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Description**: https Note that 0.0.0.0/0 is not a best practice and is effectively
    allowing access inbound from any address. Before deploying in your enterprise,
    confirm the proper address source to configure for your AWS deployment.'
  id: totrans-201
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Figure 7.20](#c07-fig-0020) shows the Edit Inbound rules, which is for traffic
    entering the cloud network.'
  id: totrans-202
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Edit Inbound Rules with HTTP and HTTPS.](images/c07f020.png)'
  id: totrans-203
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.20**](#R_c07-fig-0020) Edit Inbound Rules with HTTP and HTTPS'
  id: totrans-204
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Add the firewall rules that allow HTTP and HTTPS traffic from anywhere and then
    select Save Rules.
  id: totrans-205
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.21](#c07-fig-0021) shows that we have completed the inbound rules.'
  id: totrans-206
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting screen when Inbound rules completed.](images/c07f021.png)'
  id: totrans-207
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.21**](#R_c07-fig-0021) Inbound rules completed'
  id: totrans-208
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Close. This will bring you back to the Security Group dashboard (see
    [Figure 7.22](#c07-fig-0022)).![Screen capture depicting Security Group dashboard
    when Rules successfully edited.](images/c07f022.png)
  id: totrans-209
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.22**](#R_c07-fig-0022) Rules successfully edited'
  id: totrans-210
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the security group again and view at the bottom of the screen the rules
    you created for HTTP and HTTPS. You should have only two rules that you created.
  id: totrans-211
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Note that in [Figure 7.22](#c07-fig-0022), I added another rule to show the
    opposite of allowing all traffic with `0.0.0.0/0` versus disallowing all traffic
    with `::/0`.
  id: totrans-212
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select VPC Dashboard to go back to the main VPC dashboard, as shown in [Figure
    7.23](#c07-fig-0023).![Image described by caption and surrounding text.](images/c07f023.png)
  id: totrans-213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.23**](#R_c07-fig-0023) VPC Dashboard  #### LAUNCHING AN EC2 INSTANCE'
  id: totrans-214
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: In AWS, we call the virtual machines EC2, which stands for Elastic Compute Cloud.
    EC2 will be used in the following blockchain deployment.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
- en: Launching your blockchain service requires you to deploy one or more virtual
    machines to run the blockchain services. In this book, I will deploy one for demo
    purposes initially.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
- en: 'To launch EC2 virtual machines, perform the following steps:'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
- en: Go back to the main Management Console and select EC2 from Find Services, as
    shown in [Figure 7.24](#c07-fig-0024).![Image described by caption and surrounding
    text.](images/c07f024.png)
  id: totrans-218
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.24**](#R_c07-fig-0024) Find Services in Management Console'
  id: totrans-219
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Launch EC2 Instances, as shown in [Figure 7.25](#c07-fig-0025).![Image
    described by caption and surrounding text.](images/c07f025.png)
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.25**](#R_c07-fig-0025) EC2 Dashboard'
  id: totrans-221
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: We want to launch an instance that will meet the requirements for scalability
    and cost. We could use this AMI as the default Amazon Machine Image (AMI) or even
    a Free Tier Eligible AMI if we choose for demo purposes. In actual development
    or production, you would want to be cautious about your VM configurations for
    performance, integration, support, and cost reasons.
  id: totrans-222
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.26](#c07-fig-0026) shows the Choose an Amazon Machine Image (AMI)
    menu page.'
  id: totrans-223
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f026.png)'
  id: totrans-224
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.26**](#R_c07-fig-0026) Choose AMI Quick Start page'
  id: totrans-225
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: For demo purposes, select the first AMI—the Amazon Linux 2 AMI (default). You
    could, of course, run the template on other versions of Linux if you choose. At
    the time of writing, more than 30 versions of machine images are available.
  id: totrans-226
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.27](#c07-fig-0027) shows the configurations available with the Amazon
    Linux 2 AMI image. We will go with what''s available for the free tier.'
  id: totrans-227
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f027.png)'
  id: totrans-228
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.27**](#R_c07-fig-0027) Selecting the AMI configuration'
  id: totrans-229
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select your image T2 Micro (Free Tier Eligible) if available.
  id: totrans-230
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Note that Amazon may not have resources available in all regions at specific
    times due to the existing workload in the region.
  id: totrans-231
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: In the next step, we will configure the EC2 instance.
  id: totrans-232
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Select Next: Configure Instance Details.'
  id: totrans-233
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.28](#c07-fig-0028) shows the initial Configure Instance Details settings
    we will configure.'
  id: totrans-234
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f028.png)'
  id: totrans-235
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.28**](#R_c07-fig-0028) Configuring the instance details'
  id: totrans-236
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the network that was created—Hyperledger Note.
  id: totrans-237
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the subnet that was created—Public Subnet.
  id: totrans-238
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Note that your naming would likely be more specific in a development or production
    deployment.
  id: totrans-239
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Skip steps 4 and 5 and proceed to step 6.
  id: totrans-240
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.29](#c07-fig-0029) shows that the security group that was created
    is selected. Note that the inbound rules do not show all the rules due to the
    screen scroll.'
  id: totrans-241
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Configure Security Group page with the security
    group that was selected.](images/c07f029.png)'
  id: totrans-242
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.29**](#R_c07-fig-0029) Security group selection'
  id: totrans-243
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the security group for Hyperledger Fabric named Hyperledgerblockchain,
    as shown in [Figure 7.29](#c07-fig-0029).
  id: totrans-244
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.30](#c07-fig-0030) shows the Review Instance Launch page.'
  id: totrans-245
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f030.png)'
  id: totrans-246
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.30**](#R_c07-fig-0030) Review Instance Launch page'
  id: totrans-247
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Validate that you selected the correct group, which will be reflected by a blue
    checkbox, and then select Review and Launch.
  id: totrans-248
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Note that selecting the wrong security group will effectively make your instance
    unusable without reconfiguration or deletion.
  id: totrans-249
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: After hitting the Launch button, you will be prompted to create or save your
    key. The key is used for SSH access, so keep it safe on your desktop.
  id: totrans-250
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.31](#c07-fig-0031) shows the key pair of the instance created.'
  id: totrans-251
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.32](#c07-fig-0032) shows the launch status of the EC2 instance.'
  id: totrans-252
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting the key pair of the instance created.](images/c07f031.png)'
  id: totrans-253
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.31**](#R_c07-fig-0031) EC2 key pair'
  id: totrans-254
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting the launch status of the EC2 instance.](images/c07f032.png)'
  id: totrans-255
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.32**](#R_c07-fig-0032) EC2 instance launch status'
  id: totrans-256
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the small blue area with a crypto name that starts with “i.”
  id: totrans-257
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: This will bring you to the EC2 Dashboard.
  id: totrans-258
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Review the instance in the EC2 Dashboard, as shown in [Figure 7.33](#c07-fig-0033).![Image
    described by caption and surrounding text.](images/c07f033.png)
  id: totrans-259
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.33**](#R_c07-fig-0033) EC2 Dashboard'
  id: totrans-260
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: We are now done with the EC2 instance configuration for this part of the process.
    The next step is to provision an elastic IP. An elastic IP is used to provision
    a static public IP, which is used to access the EC2 instance from traffic outside
    of AWS going into AWS (ingress traffic).
  id: totrans-261
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.34](#c07-fig-0034) shows the VPC Dashboard where we need to go for
    the next step.'
  id: totrans-262
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f034.png)'
  id: totrans-263
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.34**](#R_c07-fig-0034) VPC Dashboard'
  id: totrans-264
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the AWS icon at the top of the console to bring you back to the AWS Management
    Console. From there, select the EC2 dashboard.
  id: totrans-265
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select Elastic IPs from the left sidebar.
  id: totrans-266
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.35](#c07-fig-0035) shows the Elastic IP menu.'
  id: totrans-267
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f035.png)'
  id: totrans-268
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.35**](#R_c07-fig-0035) Elastic IP menu'
  id: totrans-269
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Allocate New Address.
  id: totrans-270
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.36](#c07-fig-0036) shows that the allocation for the VPC elastic
    IP has succeeded.'
  id: totrans-271
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting the successful allocation for the VPC elastic IP.](images/c07f036.png)'
  id: totrans-272
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.36**](#R_c07-fig-0036) Allocated new address'
  id: totrans-273
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Close to go back to the Elastic IP menu.
  id: totrans-274
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.37](#c07-fig-0037) shows the IP configuration.'
  id: totrans-275
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f037.png)'
  id: totrans-276
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.37**](#R_c07-fig-0037) IP configuration'
  id: totrans-277
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: After validating our IP is allocated in the list, we can now proceed to provision
    a key pair. Key pairs are needed to provide SSH access.
  id: totrans-278
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the AWS icon at the top of the page and proceed to the AWS Management
    Console to select EC2.
  id: totrans-279
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The AWS Management Console is the home page effectively and also shows the recently
    visited services such as EC2 and VPC.
  id: totrans-280
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select EC2 from the AWS Management Console Recently Visited Services or search
    for it. Below is the EC2 Dashboard, specifically the resources.
  id: totrans-281
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.38](#c07-fig-0038) shows the one running instance, which we just
    launched.'
  id: totrans-282
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f038.png)'
  id: totrans-283
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.38**](#R_c07-fig-0038) AWS Management Console'
  id: totrans-284
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Validate your key pair is correct.
  id: totrans-285
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.39](#c07-fig-0039) shows the key pair created in previous EC2 steps.'
  id: totrans-286
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Go to the Security Group section in the EC2 dashboard, as shown in [Figure 7.40](#c07-fig-0040).
  id: totrans-287
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We now need to create another security group for the EC2 instance and create
    rules.
  id: totrans-288
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f039.png)'
  id: totrans-289
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.39**](#R_c07-fig-0039) Validate Key Pair dialog box'
  id: totrans-290
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f040.png)'
  id: totrans-291
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.40**](#R_c07-fig-0040) Security Group dashboard'
  id: totrans-292
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Create Security Group.
  id: totrans-293
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The Create Security Group dialog box appears, as shown in [Figure 7.41](#c07-fig-0041).
  id: totrans-294
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Create Security Group dialog box.](images/c07f041.png)'
  id: totrans-295
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.41**](#R_c07-fig-0041) Security group configuration'
  id: totrans-296
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Configure the security group as follows:'
  id: totrans-297
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Security Group Name**: Blockchainbook'
  id: totrans-298
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Description**: Blockchain security group'
  id: totrans-299
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**VPC**: myblockchain'
  id: totrans-300
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Select Create.
  id: totrans-301
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The results should be similar to those shown in [Figure 7.42](#c07-fig-0042)
    when it completes.
  id: totrans-302
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Security group configuration with Group ID, Name,
    VPC ID.](images/c07f042.png)'
  id: totrans-303
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.42**](#R_c07-fig-0042) Security group configuration'
  id: totrans-304
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: We now need to allow traffic into the security group, so we need to edit the
    rules of security group.
  id: totrans-305
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the blockchainbook security group and then click Edit.
  id: totrans-306
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'The Edit Inbound Rules screen appears. Add the following to inbound rules,
    as shown in [Figure 7.43](#c07-fig-0043):'
  id: totrans-307
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: SSH for access from port 22
  id: totrans-308
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Custom TCP for Monitoring port 8080![Screen capture depicting Edit Inbound Rules
    screen with inbound rules added.](images/c07f043.png)
  id: totrans-309
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.43**](#R_c07-fig-0043) Editing Inbound rules'
  id: totrans-310
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the SSH and Custom Rule items and also select MyIP, since it will pick
    up your source IP from logging into AWS automatically.
  id: totrans-311
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select Save to save the rule and go back to the security group home page.
  id: totrans-312
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.44](#c07-fig-0044) shows the newly created inbound rules.'
  id: totrans-313
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting newly created inbound rules.](images/c07f044.png)'
  id: totrans-314
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.44**](#R_c07-fig-0044) Completed inbound rules'
  id: totrans-315
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'We can now move on to creating identity and access management rules and policies.  ####
    GRANTING IAM PERMISSIONS'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
- en: We have created our required security groups and rules, provisioned an elastic
    IP, and deployed a VPC, key pair, and an EC2\. Now we have to grant permissions
    for the AWS EC2 service to access services.
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
- en: Select the AWS icon at the top of the menu to get back to AWS Cloud Management
    Dashboard.
  id: totrans-318
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter **IAM** in the Find Services box.
  id: totrans-319
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.45](#c07-fig-0045) shows the IAM Dashboard. Proceed cautiously during
    the following steps, as a mistake will not allow the Hyperledger Fabric service
    to start.'
  id: totrans-320
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f045.png)'
  id: totrans-321
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.45**](#R_c07-fig-0045) IAM dashboard'
  id: totrans-322
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Policies from the left pane. We want to create a policy for S3 and CloudFormation.
  id: totrans-323
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.46](#c07-fig-0046) shows the IAM Policy menu. We need to create a
    policy that allows ECS to access S3.'
  id: totrans-324
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f046.png)'
  id: totrans-325
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.46**](#R_c07-fig-0046) IAM Policy menu'
  id: totrans-326
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Create an S3 policy that allows Full Read Access but limited List by searching
    for S3 and selecting the AmazonS3FullAccess, as shown in [Figure 7.47](#c07-fig-0047).![Screen
    capture depicting S3 policy search listing AmazonS3ReadOnlyAccess option.](images/c07f047.png)
  id: totrans-327
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.47**](#R_c07-fig-0047) S3 policy search'
  id: totrans-328
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the arrow by the AmazonS3FullAccess permissions. We need to ensure S3
    has only read-only permissions, so we need to go into the S3 AmazonS3FullAccess
    policy and reduce the permissions.
  id: totrans-329
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.48](#c07-fig-0048) shows the limited permissions to select for AmazonS3ReadOnlyAccess.
    Now we need to do the same thing as earlier for setting up permissions in the
    policy for AWS ECR.'
  id: totrans-330
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting limited permissions to select for AmazonS3ReadOnlyAccess.](images/c07f048.png)'
  id: totrans-331
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.48**](#R_c07-fig-0048) S3 limited permissions'
  id: totrans-332
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Go to Filter Policies and search for *Container*, as shown in [Figure 7.49](#c07-fig-0049).
  id: totrans-333
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select AmazonEC2ContainerRegistryReadOnly.
  id: totrans-334
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.50](#c07-fig-0050) shows the permission options available with specific
    services.'
  id: totrans-335
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Filter Policies search for Container.](images/c07f049.png)'
  id: totrans-336
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.49**](#R_c07-fig-0049) Container Registry search'
  id: totrans-337
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting permission options available with specific services.](images/c07f050.png)'
  id: totrans-338
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.50**](#R_c07-fig-0050) Container Registry Limited Permissions'
  id: totrans-339
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Create Policy.
  id: totrans-340
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The Create Policy dialog box appears, as shown in [Figure 7.51](#c07-fig-0051).
  id: totrans-341
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f051.png)'
  id: totrans-342
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.51**](#R_c07-fig-0051) Create Policy dialog'
  id: totrans-343
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: We need to add the policy via the policy editor. A policy defines the AWS permissions
    that you can assign to a user, group, or role. We will add S3 and then ECR.
  id: totrans-344
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Select the following:'
  id: totrans-345
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Service**: S3'
  id: totrans-346
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Actions**: Read'
  id: totrans-347
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Resources**: All'
  id: totrans-348
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Figure 7.52](#c07-fig-0052) shows the services available in AWS that we can
    provide policies for in S3.'
  id: totrans-349
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting services available in AWS that are provided for
    in S3 policies.](images/c07f052.png)'
  id: totrans-350
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.52**](#R_c07-fig-0052) Add Service Editor'
  id: totrans-351
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Add Additional Permissions from the bottom of the screen and perform
    the same routine for ECR as you did for S3.
  id: totrans-352
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select Review Policy.
  id: totrans-353
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The screen shown in [Figure 7.53](#c07-fig-0053) will appear.
  id: totrans-354
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f053.png)'
  id: totrans-355
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.53**](#R_c07-fig-0053) Review Policy dialog'
  id: totrans-356
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Enter **EC2BC** as the policy name, and enter **This is the policy for ECR and
    S3 for blockchain** as the description.
  id: totrans-357
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The services in the Summary section should be Elastic Container Registry and
    S3.
  id: totrans-358
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Create Policy.
  id: totrans-359
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.54](#c07-fig-0054) shows the available options. Note the EC2BC policy
    has completed.'
  id: totrans-360
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f054.png)'
  id: totrans-361
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.54**](#R_c07-fig-0054) Review Policy dialog'
  id: totrans-362
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'S3 is Amazon''s object storage service, and ECR is Amazon''s Elastic Container
    Registry, the container service that the Hyperledger Fabric containers are actually
    deployed on. I advise you to read the AWS IAM documents before configuring any
    AWS deployments because of the number of possible security vulnerabilities that
    could occur with improper setup. Refer to the following:'
  id: totrans-363
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '`[https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html)`'
  id: totrans-364
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Create a role at the IAM Roles dashboard by selecting Roles in the left pane.
  id: totrans-365
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.55](#c07-fig-0055) shows the IAM Roles dashboard, which appears more
    instructional than anything.'
  id: totrans-366
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f055.png)'
  id: totrans-367
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.55**](#R_c07-fig-0055) IAM Roles dashboard'
  id: totrans-368
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: The role we need to create will be for EC2, and we will attach the policy we
    created earlier called EC2BC.
  id: totrans-369
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.56](#c07-fig-0056) shows the roles creation dialog interface. Roles
    can be created for both users for what are machine-to-machine operations.'
  id: totrans-370
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting roles creation dialog interface.](images/c07f056.png)'
  id: totrans-371
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.56**](#R_c07-fig-0056) Creating a role'
  id: totrans-372
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Create Role. The Create Role dashboard appears.
  id: totrans-373
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Highlight the EC2 service, and then select Next: Permissions.'
  id: totrans-374
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.57](#c07-fig-0057) shows the Attach Permissions Policies options.'
  id: totrans-375
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Attach Permissions Policies options.](images/c07f057.png)'
  id: totrans-376
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.57**](#R_c07-fig-0057) Attaching permissions policies'
  id: totrans-377
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: We will now go to the filter policy and add the policy EC2BC we created earlier.
  id: totrans-378
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.58](#c07-fig-0058) shows the Create Role policy option for filtering.'
  id: totrans-379
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Create Role policy option for filtering.](images/c07f058.png)'
  id: totrans-380
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.58**](#R_c07-fig-0058) Attaching an EC2BC policy'
  id: totrans-381
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Search the Filter Policies for the EC2BC policy and then select it.
  id: totrans-382
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select Next:Tags to add a tag for easy identification.
  id: totrans-383
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.59](#c07-fig-0059) shows the Add Tags window.'
  id: totrans-384
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Enter **blockchain** as the key and **EC2** as the value, and then click Next:
    Review.'
  id: totrans-385
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.60](#c07-fig-0060) shows the review panel we will view before proceeding.'
  id: totrans-386
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Enter **EC2Blockchain** for the role name and click Create Role.
  id: totrans-387
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: A list of roles will appear, as shown in [Figure 7.61](#c07-fig-0061).
  id: totrans-388
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting the Add Tags window.](images/c07f059.png)'
  id: totrans-389
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.59**](#R_c07-fig-0059) Adding tags for EC2 policy'
  id: totrans-390
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting the review panel with blockchain as the key and
    EC2 as the value.](images/c07f060.png)'
  id: totrans-391
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.60**](#R_c07-fig-0060) Reviewing tags for the EC2 policy'
  id: totrans-392
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting list of roles for EC2Blockchain role.](images/c07f061.png)'
  id: totrans-393
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.61**](#R_c07-fig-0061) EC2blockchain role among the list of roles'
  id: totrans-394
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: The EC2blockchain has been created, so we can proceed to the next step.
  id: totrans-395
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Click the role name to bring up the Summary page, as shown in [Figure 7.62](#c07-fig-0062).![Screen
    capture depicting Summary page for the role page.](images/c07f062.png)
  id: totrans-396
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.62**](#R_c07-fig-0062) EC2blockchain role settings'
  id: totrans-397
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Note the ARN, which stands for Amazon Reference Name; it's used to locate specific
    AWS resources. We can consider this similar to a namespace in the directory services
    world.
  id: totrans-398
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Validate the new role and note the instance profile ARN, which begins with a
    format of *arn:awsxxxx*. We will need to reference this ARN address later in the
    deployment.
  id: totrans-399
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'We have finally created all the needed permissions, roles, and networking.
    We can now start to deploy our Blockchain template.  #### DEPLOYING THE AWS BLOCKCHAIN
    TEMPLATE'
  id: totrans-400
  prefs: []
  type: TYPE_NORMAL
- en: In this section, we deploy the actual Hyperledger Fabric Template and then log
    in to our Hyperledger Fabric Deployment.
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
- en: Go to the AWS Blockchain template page on AWS (`[https://aws.amazon.com/blockchain/templates/getting-started/](https://aws.amazon.com/blockchain/templates/getting-started/)`).
  id: totrans-402
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.63](#c07-fig-0063) shows the Blockchain template page on AWS. We
    will be using the Hyperledger Fabric CloudFormation template in this book.'
  id: totrans-403
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f063.png)'
  id: totrans-404
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.63**](#R_c07-fig-0063) AWS Blockchain templates'
  id: totrans-405
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the Northern Virginia Hyperledger template for Hyperledger Fabric.
  id: totrans-406
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Note that [Figure 7.64](#c07-fig-0064) and [Figure 7.65](#c07-fig-0065) are
    the same template. The image was broken into two images because of the length
    of the template.
  id: totrans-407
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f064.png)'
  id: totrans-408
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.64**](#R_c07-fig-0064) AWS Blockchain templates, part 1'
  id: totrans-409
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.64](#c07-fig-0064) shows the stack name and parameters preset in
    the top part of the template, but we still need to complete the lower half of
    the template.'
  id: totrans-410
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Enter **blockchainbook** as the name of the stack and optionally enter the channel
    and the domain (or select Default).
  id: totrans-411
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Proceed to the lower part of the template by scrolling down.
  id: totrans-412
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.65](#c07-fig-0065) shows the lower part of the stack page. I preselected
    the ECC key pair and EC2 security group and entered the ARN number that we noted
    in step 21 in the previous section. In your case, select the appropriate EC2 instance
    and available variables that meet your deployment requirements or select the defaults.'
  id: totrans-413
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f065.png)'
  id: totrans-414
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.65**](#R_c07-fig-0065) AWS Blockchain templates, part 2'
  id: totrans-415
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: It's important to double-check that we entered everything correctly, as modifying
    the template later could actually be more work than deploying a new one, depending
    on the variable misconfigured.
  id: totrans-416
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Enter the following:'
  id: totrans-417
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**ECC Key Pair**: blockchaindemo'
  id: totrans-418
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**EC2 Security Group**: blockchainbook'
  id: totrans-419
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**EC2 Instance Profile ARN**: Enter the EC2 instance ARN from step 21 in the
    previous section.'
  id: totrans-420
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Select both the “I acknowledge” checkboxes (if you agree), and then click Create.
  id: totrans-421
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.66](#c07-fig-0066) shows the status of the Blockchain template deployment.
    This process could take up to 10 minutes depending on the AWS region workload.
    However, you can select the blockchainbook2 stack and proceed since the status
    is updated dynamically.'
  id: totrans-422
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting status of the Blockchain template deployment.](images/c07f066.png)'
  id: totrans-423
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.66**](#R_c07-fig-0066) Stack creation initiated'
  id: totrans-424
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the blockchainbook2 stack to proceed to the stack page shown in [Figure
    7.67](#c07-fig-0067).
  id: totrans-425
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The CloudFormation template launched, deployed our blockchain network, and now
    shows complete. Let's validate via the Event logs.
  id: totrans-426
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting blockchainbook2 stack page.](images/c07f067.png)'
  id: totrans-427
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.67**](#R_c07-fig-0067) Stack completed'
  id: totrans-428
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select 4 More Events To Display to expand Events.
  id: totrans-429
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.68](#c07-fig-0068) reflects the CloudFormation event logs and any
    other current information.'
  id: totrans-430
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting CloudFormation event logs and other current information.](images/c07f068.png)'
  id: totrans-431
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.68**](#R_c07-fig-0068) CloudFormation event logs'
  id: totrans-432
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Outputs.
  id: totrans-433
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: This will provide insight into the components of the blockchain deployment.
    [Figure 7.69](#c07-fig-0069) shows outputs of the CloudFormation template.
  id: totrans-434
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting outputs of the CloudFormation template.](images/c07f069.png)'
  id: totrans-435
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.69**](#R_c07-fig-0069) CloudFormation outputs'
  id: totrans-436
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the URL for the ExplorerURL in the Key column. The ExplorerURL is Hyperledger
    Explorer, the same as a blockchain explorer that is used for traversing the blockchain
    ledger.
  id: totrans-437
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Hyperledger Explorer provides visual insight into the activity on our blockchain
    network. It also provides detailed status information on the components that are
    online as well as the peers that are on the network.
  id: totrans-438
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.70](#c07-fig-0070) shows our new network deployment in the Hyperledger
    Explorer.'
  id: totrans-439
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f070.png)'
  id: totrans-440
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.70**](#R_c07-fig-0070) Hyperledger Explorer'
  id: totrans-441
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.71](#c07-fig-0071) shows the current default peer graph for the network
    that was deployed. PeerGraph is showing the current nodes (peers) deploying the
    blockchain network. We have nodes online in three orgs. Orgs are organizations
    that represent a party (user). Because Hyperledger Fabric has just been installed
    and we have not installed chaincode yet, we won''t have any further activity to
    explore.'
  id: totrans-442
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f071.png)'
  id: totrans-443
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.71**](#R_c07-fig-0071) PeerGraph explorer'
  id: totrans-444
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Network to validate that the peers are online.
  id: totrans-445
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The Hyperledger Explorer Network tab shows our nodes in [Figure 7.72](#c07-fig-0072).
  id: totrans-446
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f072.png)'
  id: totrans-447
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.72**](#R_c07-fig-0072) Hyperledger Explorer Network tab'
  id: totrans-448
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Blocks to validate that the blocks have been written.
  id: totrans-449
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.73](#c07-fig-0073) shows that we have blocks written to the blockchain.'
  id: totrans-450
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f073.png)'
  id: totrans-451
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.73**](#R_c07-fig-0073) Hyperledger Explorer Blocks tab'
  id: totrans-452
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Let''s review. We successfully configured a Blockchain template on AWS for
    Hyperledger Fabric. The process to set up networking, policies, and roles takes
    some time for the EC2 instance. The CloudFormation template allowed us to deploy
    a blockchain in only a few clicks after the initial configuration was done.  ###
    Deploying AWS Managed Blockchain'
  id: totrans-453
  prefs: []
  type: TYPE_NORMAL
- en: AWS Managed Blockchain is a fully managed blockchain service that makes it easy
    to create and manage scalable blockchain networks using the open source Hyperledger
    Fabric and Ethereum frameworks. You can write smart contracts and applications
    and run them on the blockchain network to transact securely.
  id: totrans-454
  prefs: []
  type: TYPE_NORMAL
- en: The membership in a Hyperledger Fabric network is your identity, which is known
    as an *organization*. This membership enables you to participate in the blockchain
    network. The membership rate also includes a Hyperledger Fabric certificate authority
    (CA) for user management and other shared network costs. You can create multiple
    network members in a given network.
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
- en: There are four high-level steps to deploying the AWS Managed Blockchain service.
  id: totrans-456
  prefs: []
  type: TYPE_NORMAL
- en: Create a blockchain network.
  id: totrans-457
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Invite members to join the network.
  id: totrans-458
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Add peer nodes to the network.
  id: totrans-459
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Deploy applications.
  id: totrans-460
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: For the purposes of this book, we will deploy a simple Managed Hyperledger Fabric
    blockchain service. Having a production-ready network, installed clients, and
    channels requires significant work, which you need to plan for. Expect to spend
    between six to seven hours on this platform setup.
  id: totrans-461
  prefs: []
  type: TYPE_NORMAL
- en: For more information, refer to the AWS Managed Blockchain Service documentation
    at `[https://docs.aws.amazon.com/managed-blockchain/latest/managementguide/get-started-create-client.html](https://docs.aws.amazon.com/managed-blockchain/latest/managementguide/get-started-create-client.html)`.
  id: totrans-462
  prefs: []
  type: TYPE_NORMAL
- en: '#### CREATING AN AWS MANAGED BLOCKCHAIN NETWORK'
  id: totrans-463
  prefs: []
  type: TYPE_NORMAL
- en: AWS Managed Blockchain is a relatively simple service that is provided by AWS
    for deploying a PaaS-based blockchain network. Developers can deploy nodes and
    then deploy their applications on the platform without worrying about the nodes.
  id: totrans-464
  prefs: []
  type: TYPE_NORMAL
- en: Return to the AWS Management Console.
  id: totrans-465
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter **Managed Blockchain** in the Find Services box, as shown in [Figure 7.74](#c07-fig-0074).![Image
    described by caption and surrounding text.](images/c07f074.png)
  id: totrans-466
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.74**](#R_c07-fig-0074) AWS Managed Blockchain console search'
  id: totrans-467
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: This will bring up the Managed Blockchain service, as shown in [Figure 7.75](#c07-fig-0075).
  id: totrans-468
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Click the Create A Network button.
  id: totrans-469
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The Create Blockchain Network screen will appear, as shown in [Figure 7.76](#c07-fig-0076).
  id: totrans-470
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Managed Blockchain service page.](images/c07f075.png)'
  id: totrans-471
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.75**](#R_c07-fig-0075) AWS Managed Blockchain'
  id: totrans-472
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f076.png)'
  id: totrans-473
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.76**](#R_c07-fig-0076) AWS Create Blockchain Network page'
  id: totrans-474
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Two templates are available: one for Hyperledger Fabric and one for Ethereum
    (Coming Soon). There are also two choices for a network edition. A network edition
    is the subscription model. The network edition will determine attributes of the
    network, including the number of member, nodes per members, and other resources.
    The Starter network is limited in the images that can be deployed and the number
    of members and is considered a testing deployment. For production workloads, select
    the Standard network. The different editions have different consumption rates
    associated with the membership. For more information on pricing, refer to `[https://aws.amazon.com/managed-blockchain/pricing/](https://aws.amazon.com/managed-blockchain/pricing/)`.'
  id: totrans-475
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the Hyperledger Fabric template. For demo purposes, we will use the Starter
    network edition.
  id: totrans-476
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The Network Name And Description dialog box appears, as shown in [Figure 7.77](#c07-fig-0077).
  id: totrans-477
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f077.png)'
  id: totrans-478
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.77**](#R_c07-fig-0077) Network Name and Description dialog box'
  id: totrans-479
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: The voting policy is set up to confirm how many members need to approve a proposal.
    For example, if we have 10 peers and the approval threshold is 50 percent, then
    we would need to have 6 out of 10 peers approve the proposal to move forward;
    otherwise, the proposal would be rejected.
  id: totrans-480
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Enter **myblockchainnetwork** as the network name, leave the defaults for the
    Voting Policy settings, and then click Next.
  id: totrans-481
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The Create Member screen appears; enter a name and a description (optional).
  id: totrans-482
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Scroll down to the bottom of the Create Member screen, as shown in [Figure 7.78](#c07-fig-0078).
    Enter an admin username and password, and then click Next.![Image described by
    caption and surrounding text.](images/c07f078.png)
  id: totrans-483
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.78**](#R_c07-fig-0078) Create Member screen, admin settings'
  id: totrans-484
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'The Review And Create screen appears, as shown in [Figure 7.79](#c07-fig-0079).
    The Review And Create screen has two steps: Blockchain Network and Member.![Image
    described by caption and surrounding text.](images/c07f079.png)'
  id: totrans-485
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.79**](#R_c07-fig-0079) Review And Create screen'
  id: totrans-486
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Review that the information is correct, and then click Create Network and Member.
  id: totrans-487
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: This creation process will take approximately 15 minutes to complete. After
    the wait, we should see a status update from Creating to Available, as shown in
    [Figure 7.80](#c07-fig-0080).
  id: totrans-488
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Review And Create screen with status update from
    Creating to Available.](images/c07f080.png)'
  id: totrans-489
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.80**](#R_c07-fig-0080) Blockchain network configuration status'
  id: totrans-490
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.81](#c07-fig-0081) shows the updated Status now as Available.'
  id: totrans-491
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting updated Status now as Available.](images/c07f081.png)'
  id: totrans-492
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.81**](#R_c07-fig-0081) Blockchain network configuration completion'
  id: totrans-493
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'The blockchain network has been deployed and has created a managed blockchain
    network in AWS. Now we can move on to inviting members to join the network.  ####
    INVITING MEMBERS TO JOIN THE NETWORK'
  id: totrans-494
  prefs: []
  type: TYPE_NORMAL
- en: Use the Create Member Proposals pane to remove members from the blockchain network
    or invite other AWS accounts to join.
  id: totrans-495
  prefs: []
  type: TYPE_NORMAL
- en: From the list of networks in [Figure 7.81](#c07-fig-0081), click your network's
    name to reveal a set of option tabs. The Create Member Proposals option is on
    the Members tab, as shown in [Figure 7.82](#c07-fig-0082).![Screen capture depicting
    Create Member Proposals option on the Members tab.](images/c07f082.png)
  id: totrans-496
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.82**](#R_c07-fig-0082) Network details'
  id: totrans-497
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Click Propose Invitation to invite a member.
  id: totrans-498
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The Create Invitation Proposal dialog appears, as shown in [Figure 7.83](#c07-fig-0083).
  id: totrans-499
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: To invite a member, you need to have the member's AWS account number, which
    can be found in the account holder's Account Settings.
  id: totrans-500
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Create Invitation Proposal dialog.](images/c07f083.png)'
  id: totrans-501
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.83**](#R_c07-fig-0083) Create Invitation Proposal dialog'
  id: totrans-502
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: In the Submit Proposal As drop-down, choose the member in your account that
    submits the proposal. (I'm choosing Production because that's the account I am
    in.)
  id: totrans-503
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter an optional description, which will be displayed to other members.
  id: totrans-504
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Under “Specify AWS account(s) to invite to the network,” enter the account number
    for the AWS account. Click Add to enter additional accounts. Once all the potential
    additions are listed, click Create.
  id: totrans-505
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The member who submits the proposal must also vote on it (the system doesn't
    assume you vote Yes!), so the next window is the proposal voting dialog shown
    in [Figure 7.84](#c07-fig-0084).
  id: totrans-506
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The proposal has various information such as details, status, actions, and more
    to review before proceeding.
  id: totrans-507
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting proposal voting dialog.](images/c07f084.png)'
  id: totrans-508
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.84**](#R_c07-fig-0084) Voting proposal selection'
  id: totrans-509
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Propose invitation in the top right corner; you'll be asked to confirm
    your vote ([Figure 7.85](#c07-fig-0085)).![Image described by caption and surrounding
    text.](images/c07f085.png)
  id: totrans-510
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.85**](#R_c07-fig-0085) Vote On Proposal dialog'
  id: totrans-511
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Management Console Members tab with vote in the
    top part of the interface.](images/c07f086.png)'
  id: totrans-512
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '**FIGURE 7.86** Policy completion'
  id: totrans-513
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'We are now done with the preconfiguration, so we can proceed to adding peers
    to the network.  #### ADDING PEER NODES TO THE NETWORK'
  id: totrans-514
  prefs: []
  type: TYPE_NORMAL
- en: In this step, we will add peers to the blockchain network. Peers are also referred
    to as *members* in AWS blockchain. [Figure 7.87](#c07-fig-0087) shows the members
    view and the proposal status.
  id: totrans-515
  prefs: []
  type: TYPE_NORMAL
- en: '![Screen capture depicting members view and the proposal status.](images/c07f087.png)'
  id: totrans-516
  prefs: []
  type: TYPE_IMG
- en: '[**FIGURE 7.87**](#R_c07-fig-0087) Adding peers to the network'
  id: totrans-517
  prefs: []
  type: TYPE_NORMAL
- en: One member was created by default. When considering blockchain transactions,
    we would, of course, need to have at least two members to make a trade, transaction,
    purchase, etc. Effectively, we need a buyer and a seller; without two members,
    the blockchain network provides no value.
  id: totrans-518
  prefs: []
  type: TYPE_NORMAL
- en: When creating additional peer nodes, we will leave the defaults for demo purposes.
    If you were configuring the service for production, you would want to ensure that
    the peer nodes are correctly configured to limit any changes in the future.
  id: totrans-519
  prefs: []
  type: TYPE_NORMAL
- en: 'The steps are as follows:'
  id: totrans-520
  prefs: []
  type: TYPE_NORMAL
- en: Select Create Peer Node.
  id: totrans-521
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The Create Peer Node screen will appear, as shown in [Figure 7.88](#c07-fig-0088).
  id: totrans-522
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f088.png)'
  id: totrans-523
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.88**](#R_c07-fig-0088) Create Peer Node screen'
  id: totrans-524
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select an instance type and an Availability zone, and then click Create Peer
    Node. (I am leaving the defaults for the demo.)
  id: totrans-525
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.89](#c07-fig-0089) shows that the “Creating” process is still in
    progress. The process could take up to 10 minutes.'
  id: totrans-526
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f089.png)'
  id: totrans-527
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.89**](#R_c07-fig-0089) Node creation process'
  id: totrans-528
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.90](#c07-fig-0090) shows that the status has changed from creating
    to completed.'
  id: totrans-529
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f090.png)'
  id: totrans-530
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.90**](#R_c07-fig-0090) Node creation process has completed'
  id: totrans-531
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: You may want to add additional peers for your development and production networks.
    You would want to confirm the EC2 instance template and Availability zone ahead
    of time, as you cannot change the configuration of the peer at the time of writing.
  id: totrans-532
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Create a second peer node by repeating the preceding steps.
  id: totrans-533
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.91](#c07-fig-0091) shows the confirmation after you have created
    the second peer. You can now proceed to deploying applications.'
  id: totrans-534
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f091.png)'
  id: totrans-535
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.91**](#R_c07-fig-0091) Second node creation process has completed'
  id: totrans-536
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'We have now deployed a limited blockchain network on the AWS Managed Blockchain
    service. Your developers can now get to work installing chaincode as needed with
    further configuration.  #### DEPLOYING CHANNELS AND CHAINCODE'
  id: totrans-537
  prefs: []
  type: TYPE_NORMAL
- en: Finally, your developers will want to install and run chaincode they have developed.
    Before proceeding, however, they would likely need to deploy a channel and then
    add chaincode.
  id: totrans-538
  prefs: []
  type: TYPE_NORMAL
- en: In Hyperledger Fabric, a ledger exists in the scope of a channel. The ledger
    can be shared across the entire network if every member is operating on a common
    channel. A channel also can be privatized to include only a specific set of participants.
    Members can be in your AWS account, or they can be members who you invite from
    other AWS accounts.
  id: totrans-539
  prefs: []
  type: TYPE_NORMAL
- en: 'For information on how to create a channel, visit the following site:'
  id: totrans-540
  prefs: []
  type: TYPE_NORMAL
- en: '`[https://docs.aws.amazon.com/managed-blockchain/latest/managementguide/get-started-create-channel.html](https://docs.aws.amazon.com/managed-blockchain/latest/managementguide/get-started-create-channel.html)`'
  id: totrans-541
  prefs: []
  type: TYPE_NORMAL
- en: 'For more information on chaincode samples, refer to the following:'
  id: totrans-542
  prefs: []
  type: TYPE_NORMAL
- en: '`[https://docs.aws.amazon.com/managed-blockchain/latest/managementguide/get-started-chaincode.html](https://docs.aws.amazon.com/managed-blockchain/latest/managementguide/get-started-chaincode.html)`'
  id: totrans-543
  prefs: []
  type: TYPE_NORMAL
- en: '[Figure 7.92](#c07-fig-0092) shows an example of the chaincode available from
    AWS.'
  id: totrans-544
  prefs: []
  type: TYPE_NORMAL
- en: The whole process to adding a channel and chaincode can take six to seven hours,
    depending on how your client setup goes. This is a new service out of preview
    mode, and, at the time of writing, limited information is available. The service
    looks promising for companies that want a limited blockchain network structure
    to get started developing blockchain applications on. ![Screen capture depicting
    example of the chaincode available from AWS.](images/c07f092.png)
  id: totrans-545
  prefs: []
  type: TYPE_NORMAL
- en: '[**FIGURE 7.92**](#R_c07-fig-0092) Chaincode example'
  id: totrans-546
  prefs: []
  type: TYPE_NORMAL
- en: '## IBM Cloud Blockchain Platforms'
  id: totrans-547
  prefs: []
  type: TYPE_NORMAL
- en: IBM Cloud had several different blockchain deployment plans that can be used
    as an IBM Cloud subscriber. Blockchain Platform 1.0 is still in operation to current
    subscribers; however, it is closed to new subscribers. I mention IBM Blockchain
    Platform 1.0 only briefly because the platform was first to market and actually
    a pioneering, useful service for developers. IBM Blockchain was shut down effective
    December 31, 2019, to all customers.
  id: totrans-548
  prefs: []
  type: TYPE_NORMAL
- en: '**IBM Blockchain Platform 1.0** IBM Blockchain was the first-generation platform
    that had two subscription models, Starter Plan and Enterprise Plan, which were
    true software as a service deployment models. It is important to note that existing
    clients can continue to add new members and create new networks until December
    31, 2019.'
  id: totrans-549
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**IBM Blockchain Platform 2.0** IBM Blockchain Platform 2.0 is the second-generation
    platform and uses a pay-as-you-go model. That is, you pay only for resources used;
    there is no monthly fee. IBM Blockchain Platform 2.0 is the next generation of
    BaaS and is a flexible platform as a service (PaaS).'
  id: totrans-550
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Both platforms deploy Hyperledger Fabric. The version of Hyperledger Fabric
    supported is maintained directly by IBM Cloud. Hyperledger Fabric allows components,
    such as consensus and membership services, to be plug-and-play for developers.
  id: totrans-551
  prefs: []
  type: TYPE_NORMAL
- en: '### Blockchain Platform 2.0'
  id: totrans-552
  prefs: []
  type: TYPE_NORMAL
- en: Blockchain Platform 2.0, the second-generation platform, is vastly different
    from Blockchain Platform 1.0\. Differences include the subscription model, user
    interface, deployment support, integration, and many other technical aspects.
    Blockchain Platform 2.0 provides an easy-to-deploy service that is deployed as
    a platform.
  id: totrans-553
  prefs: []
  type: TYPE_NORMAL
- en: As discussed in the following sections, there are three high-level steps deploying
    the platform.
  id: totrans-554
  prefs: []
  type: TYPE_NORMAL
- en: Set up Kubernetes cluster prerequisites if required. The prerequisite is to
    create a Kubernetes cluster if your IBM Cloud environment does not have a cluster
    available.
  id: totrans-555
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Link the cluster that was created.
  id: totrans-556
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Launch the Blockchain Platform 2.0 Console.
  id: totrans-557
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: First, however, we need to select Blockchain Platform, which is the second-generation
    platform. Note that there are two main prerequisites.
  id: totrans-558
  prefs: []
  type: TYPE_NORMAL
- en: Create a Kubernetes cluster with IBM Cloud Kubernetes Service in available regions.
  id: totrans-559
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Pay any fees associated with the IBM Cloud Kubernetes Service and your storage
    costs.
  id: totrans-560
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '#### DEPLOYING YOUR BLOCKCHAIN NETWORK AND SERVICE'
  id: totrans-561
  prefs: []
  type: TYPE_NORMAL
- en: '[Figure 7.93](#c07-fig-0093) shows the IBM Cloud dashboard, which is the starting
    point for deploying IBM Blockchain Platform 2.0.'
  id: totrans-562
  prefs: []
  type: TYPE_NORMAL
- en: The easiest way to deploy blockchain services is to search the catalog and select
    the service.
  id: totrans-563
  prefs: []
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f093.png)'
  id: totrans-564
  prefs: []
  type: TYPE_IMG
- en: '[**FIGURE 7.93**](#R_c07-fig-0093) IBM Cloud dashboard'
  id: totrans-565
  prefs: []
  type: TYPE_NORMAL
- en: Select Catalog from the upper menu bar.
  id: totrans-566
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.94](#c07-fig-0094) shows Blockchain as the only option. Blockchain
    shows up in the search, and the search will explain the service. To clarify for
    those that have not used IBM Cloud Blockchain is located under IBM Cloud as a
    database service.'
  id: totrans-567
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Blockchain as the only option in IBM Cloud dashboard.](images/c07f094.png)'
  id: totrans-568
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.94**](#R_c07-fig-0094) Blockchain platform selection'
  id: totrans-569
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Search for *blockchain*, and select the Blockchain service.
  id: totrans-570
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.95](#c07-fig-0095) shows the blockchain service configuration variables
    for deployment. We can leave the service name, region, and resource groups at
    the defaults. We can also add tags to help identify resources for logging or compliance
    reasons, if required.'
  id: totrans-571
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting blockchain service configuration variables for deployment.](images/c07f095.png)'
  id: totrans-572
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.95**](#R_c07-fig-0095) Blockchain platform service selection'
  id: totrans-573
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Click Create.
  id: totrans-574
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The next step is to review the blockchain platform wizard's main menu, as shown
    in [Figure 7.96](#c07-fig-0096).
  id: totrans-575
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting blockchain platform wizard’s main menu.](images/c07f096.png)'
  id: totrans-576
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.96**](#R_c07-fig-0096) Welcome to the IBM Blockchain Platform!'
  id: totrans-577
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Continue to advance to the Create Cluster section, as shown in [Figure
    7.97](#c07-fig-0097).
  id: totrans-578
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We can choose to create a new cluster or use an existing cluster.
  id: totrans-579
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Create Cluster section.](images/c07f097.png)'
  id: totrans-580
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.97**](#R_c07-fig-0097) Create Cluster Optional'
  id: totrans-581
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Click Create A New Cluster.
  id: totrans-582
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'The choice in cluster deployment is quite critical for a production workload
    and your cloud spending. Review the following page for deployment options, especially
    for memory and worker nodes:'
  id: totrans-583
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '`[https://cloud.ibm.com/docs/services/blockchain?topic=blockchain-ibp-v2-deploy-iks](https://cloud.ibm.com/docs/services/blockchain?topic=blockchain-ibp-v2-deploy-iks)`'
  id: totrans-584
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.98](#c07-fig-0098) shows the two choices for selecting a plan: Free
    and Standard.![Screen capture depicting two choices for selecting a plan: Free
    and Standard.](images/c07f098.png)'
  id: totrans-585
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.98**](#R_c07-fig-0098) Choosing to create a new free cluster or
    standard cluster'
  id: totrans-586
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: For the purpose of development, the Free option is fine; it will set up a limited
    deployment for testing. (If you choose the Standard option, you will be able to
    choose your deployment configuration, shown in [Figure 7.99](#c07-fig-0099).)
  id: totrans-587
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting deployment configuration in Standard option.](images/c07f099.png)'
  id: totrans-588
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.99**](#R_c07-fig-0099) New cluster options'
  id: totrans-589
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Click Free; then click Create Cluster. [Figure 7.100](#c07-fig-0100) shows the
    cluster access information and is used to access the cluster and manage the cluster
    components. The cluster is being deployed, as shown in the top area next to mycluster.
    This process can take up to 20 minutes to complete.![Screen capture depicting
    cluster access information.](images/c07f100.png)
  id: totrans-590
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.100**](#R_c07-fig-0100) Cluster creation progress'
  id: totrans-591
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the Worker Nodes tab to proceed.
  id: totrans-592
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We can go to the overview window to see the progress of the worker nodes, as
    shown in [Figure 7.101](#c07-fig-0101). The state is “Pending” for the worker
    nodes.
  id: totrans-593
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting overview window to see the progress of the worker
    nodes.](images/c07f101.png)'
  id: totrans-594
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.101**](#R_c07-fig-0101) Worker node progress'
  id: totrans-595
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.102](#c07-fig-0102) shows the Cluster Creation Overview window, which
    reflects 0 percent.'
  id: totrans-596
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Cluster Creation Overview window.](images/c07f102.png)'
  id: totrans-597
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.102**](#R_c07-fig-0102) Cluster creation overview'
  id: totrans-598
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Overview to validate status of the cluster.
  id: totrans-599
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'The cluster will reflect the status of the cluster deployment. [Figure 7.103](#c07-fig-0103)
    shows that the cluster has completed and is in normal status. It also reflects
    100 percent, so we can proceed to linking the cluster to the blockchain platform.  ####
    LINKING THE BLOCKCHAIN CLUSTER'
  id: totrans-600
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Now we need to link the container cluster (Kubernetes) to the blockchain network
    services. To link the cluster to the Blockchain Platform, perform the following
    steps:'
  id: totrans-601
  prefs: []
  type: TYPE_NORMAL
- en: Select Link To A Cluster in the Blockchain Platform Wizard sidebar, as shown
    in [Figure 7.104](#c07-fig-0104), and then select the cluster you created. In
    this case, it's called mycluster.![Screen capture depicting cluster deployment
    completed and is in normal status.](images/c07f103.png)
  id: totrans-602
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.103**](#R_c07-fig-0103) Cluster creation completion'
  id: totrans-603
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Blockchain Platform Wizard.](images/c07f104.png)'
  id: totrans-604
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.104**](#R_c07-fig-0104) Linking to a cluster'
  id: totrans-605
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Deploy To Cluster at the bottom of the page.
  id: totrans-606
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.105](#c07-fig-0105) shows that your cluster has been connected.'
  id: totrans-607
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting cluster that has been connected in mycluster page.](images/c07f105.png)'
  id: totrans-608
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.105**](#R_c07-fig-0105) Cluster has been connected'
  id: totrans-609
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Launch The IBM Blockchain Platform Console. This will connect you to
    the console, as shown in [Figure 7.106](#c07-fig-0106).![Image described by caption
    and surrounding text.](images/c07f106.png)
  id: totrans-610
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.106**](#R_c07-fig-0106) Welcome to the IBM Blockchain Platform
    screen'
  id: totrans-611
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: You will also receive an email from IBM Cloud welcoming you to the blockchain
    platform.
  id: totrans-612
  prefs: []
  type: TYPE_NORMAL
- en: 'Now that we have set up the cluster and linked it to the blockchain network,
    we can move on to deploying blockchain resources.  #### CREATING BLOCKCHAIN RESOURCES'
  id: totrans-613
  prefs: []
  type: TYPE_NORMAL
- en: 'The next step is to deploy resources such as peers, ordering nodes, and certificate
    authorities. Note that these resources need to be deployed in a specific order.
    Before deploying your production network, I advise you to review the blockchain
    deployment instructions and terminology here:'
  id: totrans-614
  prefs: []
  type: TYPE_NORMAL
- en: '`[https://cloud.ibm.com/docs/services/blockchain?topic=blockchain-ibp-v2-deploy-iks](https://cloud.ibm.com/docs/services/blockchain?topic=blockchain-ibp-v2-deploy-iks)`'
  id: totrans-615
  prefs: []
  type: TYPE_NORMAL
- en: You can get the whole platform ready in less than four to five hours if you
    follow the instructions for a limited deployment.
  id: totrans-616
  prefs: []
  type: TYPE_NORMAL
- en: There is a really useful feature called Workflow. Workflow is similar to a wizard
    that provides guidance about what the next steps are in the deployment process.
    Select Get Started, as shown in [Figure 7.107](#c07-fig-0107), to access the instructions
    and help pages.
  id: totrans-617
  prefs: []
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f107.png)'
  id: totrans-618
  prefs: []
  type: TYPE_IMG
- en: '[**FIGURE 7.107**](#R_c07-fig-0107) Blockchain Platform workflow instructions'
  id: totrans-619
  prefs: []
  type: TYPE_NORMAL
- en: 'The Blockchain Platform has numerous resources, including videos and free classes.
    Blockchain developers should find the platform interesting and quite efficient
    to use once the learning curve is over.  ## Summary'
  id: totrans-620
  prefs: []
  type: TYPE_NORMAL
- en: This chapter covered two of the most common blockchain as a service (BaaS) providers,
    AWS and IBM, as well as their blockchain deployment processes. Numerous other
    providers also provide services that are more niche markets, such as Azure, Oracle,
    or Digital Ocean, that are valid solutions for the right use case.
  id: totrans-621
  prefs: []
  type: TYPE_NORMAL
- en: BaaS is a cloud services offering that allows customers to leverage cloud-based
    solutions to build, host, and use their own blockchain apps, smart contracts,
    and functions on the blockchain.
  id: totrans-622
  prefs: []
  type: TYPE_NORMAL
- en: Deploying BaaS on AWS is more time-consuming because you need to set up EC2
    and the affiliate networking configurations. However, once your VPC, security
    groups, and policies are created, you can simply deploy the Hyperledger Fabric
    template, which is through a CloudFormation template.
  id: totrans-623
  prefs: []
  type: TYPE_NORMAL
- en: Finally, IBM deploys Hyperledger Fabric on its managed blockchain service, and
    deploying it is simple. Blockchain Platform 2.0 is the next-generation platform
    that provides developers a rapid on-ramp to a managed blockchain platform.
  id: totrans-624
  prefs: []
  type: TYPE_NORMAL
