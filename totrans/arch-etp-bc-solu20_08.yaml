- en: Chapter 7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Deploying Your Blockchain on BaaS
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter, I discuss why blockchain as a service (BaaS) is a great way
    to help stand up your enterprise blockchain without all the heavy lifting of having
    to set up your IT infrastructure to accommodate a blockchain. BaaS provides the
    added benefit of reducing the capex requirements of standing up resources for
    your blockchain in your on-premises data center. Then I will walk you step-by-step
    through how to deploy Hyperledger on IBM and AWS.
  prefs: []
  type: TYPE_NORMAL
- en: BaaS takes full advantage of cloud computing by utilizing both the economic
    and technical merits of cloud computing to enable enterprises to deploy these
    services on cloud providers such as AWS, Microsoft Azure, and IBM Cloud.
  prefs: []
  type: TYPE_NORMAL
- en: I will discuss how blockchains and distributed ledgers can facilitate an impressive
    total cost of ownership (TCO) scenario and improve your return on investment (ROI)
    models for FinTech-focused use cases.
  prefs: []
  type: TYPE_NORMAL
- en: Deploying a blockchain is a relatively direct, cost-efficient, and manageable
    task that can be completed in less than a few hours. I will discuss why companies
    choose to use a cloud service and the main benefits of using a provider such as
    IBM for your blockchain deployment.
  prefs: []
  type: TYPE_NORMAL
- en: The first part of the chapter provides a concise guide of current BaaS platforms
    with the main benefits, features, and use cases they provide. I will also discuss
    how to use BaaS for proofs of concepts and demos especially for presales-focused
    readers.
  prefs: []
  type: TYPE_NORMAL
- en: 'In the second part of the chapter, I will walk you step-by-step through deploying
    a blockchain on the following services:'
  prefs: []
  type: TYPE_NORMAL
- en: Amazon Web Services (AWS)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: IBM Cloud
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The main goal of this chapter is twofold. First, I''ll give you a financial
    perspective for how to justify implementations of blockchain services and hardware
    as well as present enterprise concerns around costs. Second, I''ll explain how
    to deploy a blockchain on the AWS and IBM Cloud services.  ## Blockchain as a
    Service Overview'
  prefs: []
  type: TYPE_NORMAL
- en: The blockchain market is expanding at a brisk pace, and BaaS is no exception.
    The market leaders in cloud computing have been investing millions in this area
    as well. From a market perspective, I will focus on AWS, IBM Cloud, and Microsoft
    Azure, which at the time of writing are the most comprehensive solutions.
  prefs: []
  type: TYPE_NORMAL
- en: '### Why Use a Blockchain as a Service?'
  prefs: []
  type: TYPE_NORMAL
- en: Blockchain as a service is a cloud services offering that allows customers to
    leverage cloud-based solutions to build, host, and use their own blockchain apps,
    smart contracts, and functions on the blockchain. In BaaS, the cloud-based service
    provider manages all the necessary tasks and activities to keep the infrastructure
    agile and available.
  prefs: []
  type: TYPE_NORMAL
- en: The BaaS market is expected to grow significantly over the next five years.
    This growth is due to the market's demand for increasing blockchain applications
    in the commerce sector. International business transactions are getting more secure,
    fast, and reliable alongside the BaaS model coming into the picture. Because the
    database is distributed and the trail of every transaction is available, blockchain
    as a service is eliminating obstacles in international payment processes. Delay
    in verification and invoice processing increases the cost of business activities,
    which can be nullified or reduced by using blockchain technology. The technology
    provides a common chain of information visibility that will be shared across vendors
    and purchasers. Using BaaS in international business transactions may very well
    reduce processing time and costs significantly.
  prefs: []
  type: TYPE_NORMAL
- en: In a nutshell, the BaaS model allows companies to access a blockchain provider's
    services so they can then access, develop, and deploy blockchain-based applications.
  prefs: []
  type: TYPE_NORMAL
- en: The growth of blockchain is clear, and along with that there will likely be
    the increased utilization of blockchain as a service on platforms such as IBM,
    AWS, and Azure. Other players such as Oracle, Alibaba, Baidu, Hewlett Packard
    Enterprise (HPE), Huawei, and Tencent currently have BaaS or will have potential
    availability shortly.
  prefs: []
  type: TYPE_NORMAL
- en: One of the main benefits of using a BaaS vendor is that they provide all the
    necessary software deployments for blockchain as well as the infrastructure to
    the customer in a generally easy-to-consume subscription model. The vendor is
    then responsible for setting up and maintaining the backend of the blockchain's
    infrastructure.
  prefs: []
  type: TYPE_NORMAL
- en: To clarify, there are certainly some BaaS platforms that are either a true software
    as a service (SaaS) or a platform as a service (PaaS) such as IBM Blockchain Platform.
    For example, IBM supports both SaaS and PaaS solutions quite well.
  prefs: []
  type: TYPE_NORMAL
- en: 'On the other hand, some blockchains as a service are really infrastructure
    as a service where you deploy infrastructure templates. For example, AWS Blockchain
    templates in the AWS Marketplace can help your company create and deploy blockchain
    networks on AWS using different blockchain frameworks. You would need to create
    your security groups, deploy CloudFormation templates, and determine networking
    configurations before deploying the blockchain. There is a level of AWS expertise
    that would be needed to deploy these templates in a production environment.  ###
    Benefits of Using a Blockchain as a Service'
  prefs: []
  type: TYPE_NORMAL
- en: Cloud computing has been around since the early days of Amazon Web Services,
    which essentially created the market for infrastructure as a service (IaaS) cloud
    computing. Cloud computing has numerous benefits for an enterprise, a startup,
    or even a home user. The reality is that IT infrastructure is expensive to procure
    and to maintain, and finding talented people can be a challenge on a limited budget.
    Cloud computing has essentially leveled the playing field for both a consultant
    in Jacksonville, Florida, and a large multinational bank in New York City, thereby
    allowing them to use the same level of enterprise services on a scaled costing
    model, for example.
  prefs: []
  type: TYPE_NORMAL
- en: 'The benefits are realized because BaaS is being deployed on a cloud computing
    infrastructure that is managed by the cloud vendor. Some of the main benefits
    of using a blockchain cloud service include the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Lower startup costs over traditional on-premises solutions that support opex
    funding
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Faster time to market due to no infrastructure lead-time requirements
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Services managed by provider, reducing your management responsibilities
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Support and expertise of service provided by the provider
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Scalability greatly improved by provider services
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Immediate data security benefits realized and managed by the provider
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Compatibility with current cloud services that the enterprise may be utilizing
    such as monitoring
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Cloud services run blockchain applications, and it''s clear that the benefits
    are similar to what you would experience running perhaps your databases or virtual
    machines in the cloud.  ### Negatives of Using a Blockchain as a Service'
  prefs: []
  type: TYPE_NORMAL
- en: Cloud computing, as we know, has many benefits, which some enterprises may or
    may not fully realize. Not all uses cases may realize the benefits due to the
    application frameworks, cost models, or development models utilized.
  prefs: []
  type: TYPE_NORMAL
- en: For example, while working as a presales architect in the data storage and cloud
    markets for more than a decade, I can certainly say that customers that do not
    generally manage resources well in-house will likely not manage resources in the
    cloud well either. Resource management is a must in using cloud resources effectively
    and efficiently. I have seen “cloud spend” skyrocket by more than 300 percent
    in just a few months, and the cloud engineers have no idea why this is happening.
    The two types of resources that generally take up most of the “cloud spend” are
    your data storage and your virtual machines.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following are some of the negative results of using BaaS:'
  prefs: []
  type: TYPE_NORMAL
- en: Cloud spending costs are not managed appropriately, resulting in unexpectedly
    high cloud spending.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Resources are centralized, and blockchains by definition should not be centralized
    for solid use cases.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: There is limited support for blockchain/ledger services on your provider of
    choice.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Experienced cloud professionals are in high demand and hard to find.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Cloud applications may not be portable once placed on a cloud provider.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Performance issues such as latency may not be acceptable for your applications.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Compliance violations can arise when the networking nodes are in data centers
    that are not in appropriate regions.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Cloud services run blockchain applications, and it''s clear that the negatives
    are similar to what you would experience running your databases or virtual machines
    in the cloud, so you will want to design judiciously.  ### Blockchain as a Service
    for Sales Teams'
  prefs: []
  type: TYPE_NORMAL
- en: In [Chapter 5](c05.xhtml), “Enterprise Blockchain Sales and Solutions Engineering,”
    I briefly discussed why using BaaS can enable a sales team by providing a platform
    for a proof of concept (POC) or for an actual production environment.
  prefs: []
  type: TYPE_NORMAL
- en: When considering a POC or a demo around any major blockchain, such as Hyperledger,
    Corda, or Ethereum, you can certainly leverage any number of the cloud providers
    to host your project. Using a POC or demo on a cloud provider can reduce your
    company's overhead for infrastructure.
  prefs: []
  type: TYPE_NORMAL
- en: From my experience, if you're a VAR, vendor, or systems integrator, you may
    have an internal platform you can leverage. The main challenge you may have is
    ensuring that you have the technical expertise to set up and maintain the platform.
  prefs: []
  type: TYPE_NORMAL
- en: In your situation, using BaaS may not be something you will need to be concerned
    with or need to plan for when hosting a POC or a demo. However, having options
    is always a great approach to consider for delivery of a POC or a demo.
  prefs: []
  type: TYPE_NORMAL
- en: For example, if you're a partner of AWS at specific levels, you may have available
    credits to give to your customer to spin up cloud services. This could be very
    useful because it will allow you as a trusted adviser to essentially give your
    customer the keys to test it out, and your real role is to provide guidance and
    answer questions.
  prefs: []
  type: TYPE_NORMAL
- en: 'For me that was always the best route because anyone in presales can appreciate
    that even though they are doing endless POCs and demos, in reality, the customer
    may not be interested in your technology. If your customer is willing to “take
    the keys” and take initiative to learn, then this is clearly a benefit to everyone.  ###
    Blockchain as a Service Providers'
  prefs: []
  type: TYPE_NORMAL
- en: The growth of blockchains has certainly created what seems to be a gold rush
    for cloud providers, vendors, and even VARs. Vendors and cloud providers are rushing
    to create their own blockchain services, whether it's an IaaS solution, a PaaS
    solution, or even a SaaS solution. Note that Google has no current blockchain
    offering but announced plans for marketplace solutions at its annual conference
    in 2018.
  prefs: []
  type: TYPE_NORMAL
- en: '[Table 7.1](#c07-tbl-0001) shows the mainstream cloud computing providers and
    the blockchain platforms they support at the time of writing.'
  prefs: []
  type: TYPE_NORMAL
- en: '[**TABLE 7.1**](#R_c07-tbl-0001): Comparing BaaS Providers'
  prefs: []
  type: TYPE_NORMAL
- en: '|  | AWS | AZURE | IBM |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| **Frameworks** | Ethereum, Hyperledger Fabric, Quorum | Ethereum, Hyperledger
    Fabric, Corda | Hyperledger Fabric |'
  prefs: []
  type: TYPE_TB
- en: '| **Deployment model** | IaaS, PaaS | IaaS, PaaS | PaaS |'
  prefs: []
  type: TYPE_TB
- en: '| **Service** | Blockchain templates (IaaS) and managed blockchain (PaaS) |
    Blockchain workbench, Blockchain templates | IBM Blockchain platform |'
  prefs: []
  type: TYPE_TB
- en: '| **Cost model** | Pay as you go | Pay as you go | Pay as you go |'
  prefs: []
  type: TYPE_TB
- en: As you can see, the cloud providers have different cost models and deployment
    models. These differences can greatly affect the cost and scalability of the blockchain
    service.
  prefs: []
  type: TYPE_NORMAL
- en: 'It is important to note that even if a cloud provider does not have BaaS available,
    that does not mean you cannot deploy a blockchain on that provider. In that case,
    you can certainly deploy most blockchains on a container service that supports
    Docker containers. For example, Google Cloud Platform enables you to deploy Hyperledger
    Fabric on Kubernetes Engine or the Facebook Libra testnet on Compute Engine.  ##
    Amazon Web Services Options'
  prefs: []
  type: TYPE_NORMAL
- en: 'At the time of writing, Amazon Web Services has two options to deploy blockchains:
    Amazon Managed Blockchain, which is a fully managed platform (PaaS), and Amazon
    Blockchain templates, which is essentially using containers that you set up and
    manage (IaaS). There is also a new distributed ledger technology service called
    Amazon Quantum Ledger Database (QLDB), which, at the time of writing, is still
    in prelease mode.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Amazon Managed Blockchain** Amazon Managed Blockchain is a fully managed
    service that makes it efficient to create and manage scalable blockchain networks
    using the popular open source frameworks Hyperledger Fabric and Ethereum. Amazon
    Managed Blockchain eliminates the overhead required to create the network and
    automatically scales to meet the demands of thousands of applications running
    millions of transactions.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Figure 7.1](#c07-fig-0001) shows the Amazon Managed Blockchain service home
    page that has the introductory service information about the service. The direct
    link for the Amazon Managed Blockchain service is `[https://aws.amazon.com/managed-blockchain/](https://aws.amazon.com/managed-blockchain/)`.
    Note that [Figure 7.1](#c07-fig-0001) looks similar to AWS Blockchain templates.
    If you choose to go to the search engines instead of the direct links, they may
    have defaulted to AWS Blockchain templates, not the Managed Blockchain service.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f001.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.1**](#R_c07-fig-0001) AWS Managed Blockchain'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: The Managed Blockchain service makes it easy to manage and maintain your blockchain
    network. It manages your certificates, lets you easily invite new members to join
    the network, and tracks operational metrics such as usage of compute, memory,
    and storage resources.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '**Amazon Blockchain templates** This option is for customers who are looking
    to manage their own blockchain network and just need an easy way to set it up
    and get started. The AWS Blockchain templates service is the right fit in most
    instances I have seen.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Figure 7.2](#c07-fig-0002) shows the AWS Blockchain templates service and
    provides a highlight of the services. The following is the current link for Amazon
    Blockchain templates:'
  prefs: []
  type: TYPE_NORMAL
- en: '`[https://aws.amazon.com/blockchain/templates/getting-started/](https://aws.amazon.com/blockchain/templates/getting-started/)`'
  prefs: []
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f002.png)'
  prefs: []
  type: TYPE_IMG
- en: '[**FIGURE 7.2**](#R_c07-fig-0002) AWS Blockchain templates'
  prefs: []
  type: TYPE_NORMAL
- en: The AWS Blockchain templates service deploys the blockchain framework you choose
    as containers on an Amazon Elastic Container Service (ECS) cluster or directly
    on an EC2 instance running Docker depending on the deployment model.
  prefs: []
  type: TYPE_NORMAL
- en: The service costs are what you have already been paying for in AWS for basic
    services, essentially the use of the compute, network, and data resources. Effectively,
    you pay only for the resources you use, not the blockchain services with the Hyperledger
    and Ethereum templates.
  prefs: []
  type: TYPE_NORMAL
- en: The AWS blockchain solutions provided are across industries including financial
    market and commerce, supply chain, insurance, healthcare, and KYC and compliance.
  prefs: []
  type: TYPE_NORMAL
- en: Deploying blockchain services on AWS is relatively straightforward with the
    Blockchain templates once you get through the AWS required steps for security
    groups, virtual private clouds, and other networking-related tasks that must be
    set up before deployment. If the steps are not followed precisely, then the Hyperledger
    Fabric network will not work.
  prefs: []
  type: TYPE_NORMAL
- en: The instructions are broken down into high-level and low-level (step-by- step)
    instructions anyone should be able to follow. These instructions are provided
    as a baseline; cloud providers may change their interfaces, links, instructions,
    and best practices, so check with AWS before following the instructions here.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following instructions will reference this template for northern Virginia,
    as specified:'
  prefs: []
  type: TYPE_NORMAL
- en: 'License: Apache 2.0 (Please do not remove) Apr 19, 2018 (bt-k5nffx4jb)'
  prefs: []
  type: TYPE_NORMAL
- en: This template is clearly defined on the AWS template stack page, which I will
    reference again in the step-by-step instructions.
  prefs: []
  type: TYPE_NORMAL
- en: '### AWS Blockchain templates Deployment High-Level Steps'
  prefs: []
  type: TYPE_NORMAL
- en: 'The following are the high-level steps to create a blockchain service on AWS
    with Blockchain templates:'
  prefs: []
  type: TYPE_NORMAL
- en: Determine which blockchain (Ethereum, Hyperledger, or Corda) to deploy.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Determine which region on AWS to deploy on. Regions in AWS are effectively geographic
    locations of services.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Create a virtual private cloud (VPC), which is a logically isolated set of services
    in AWS.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Create key pairs and a security group, which are needed to access the virtual
    machines or containers in AWS.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Deploy the CloudFormation stack. CloudFormation is the AWS infrastructure deployment
    tool.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Deploy the Blockchain templates as required. Templates at the time of writing
    are Hyperledger Fabric and Ethereum.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Install chaincode for Hyperledger Fabric.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The preceding high-level steps have been simplified to give experienced AWS
    professionals an idea of what is expected before we progress into the step-by-step
    instructions.
  prefs: []
  type: TYPE_NORMAL
- en: Assuming that all the steps are followed correctly, that AWS makes no procedural
    changes, and that no outage occurs on any AWS service, these steps should take
    approximately two hours to complete. If you are experienced in AWS, you can assume
    it will take you approximately one hour to configure these services.
  prefs: []
  type: TYPE_NORMAL
- en: For more information about AWS Blockchain templates, refer to `[https://aws.amazon.com/blockchain/templates/](https://aws.amazon.com/blockchain/templates/)`.
  prefs: []
  type: TYPE_NORMAL
- en: 'At the time of this writing, the templates are available only for Ethereum
    and Hyperledger Fabric. From a planning perspective, you should understand the
    regions the templates are deployed in, which are limited at the time of writing.  ###
    Understanding AWS Regions and Availability Zones'
  prefs: []
  type: TYPE_NORMAL
- en: Regions are separate geographies, such as US East, US West, or EU Ireland. Availability
    Zones (AZs) are no more than isolated parts of a region that are logically segmented
    and maintain separate infrastructure for redundancy. Regions usually have three
    or four Availability Zones, providing availability for the services deployed in
    that region.
  prefs: []
  type: TYPE_NORMAL
- en: The limited availability of regions with AWS Blockchain templates could be a
    showstopper if you're in the European Union or Asia. This would likely be due,
    for example, to possible latency that could be experienced as well as to meeting
    compliance requirements.
  prefs: []
  type: TYPE_NORMAL
- en: 'For more information on AWS regions and availability zones, refer to the following:'
  prefs: []
  type: TYPE_NORMAL
- en: '`[https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Concepts.RegionsAndAvailabilityZones.html](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Concepts.RegionsAndAvailabilityZones.html)`'
  prefs: []
  type: TYPE_NORMAL
- en: 'At the time of writing, templates are available for the following regions:'
  prefs: []
  type: TYPE_NORMAL
- en: US East (N. Virginia) region (us-east-1)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: US East (Ohio) region (us-east-2)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: US West (Oregon) region (us-west-2)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Figure 7.3](#c07-fig-0003) shows the AWS Blockchain templates web page. You
    can choose from Ethereum or Hyperledger Fabric for Blockchain templates. For the
    purposes of this book, we will choose Hyperledger Fabric.'
  prefs: []
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f003.png)'
  prefs: []
  type: TYPE_IMG
- en: '[**FIGURE 7.3**](#R_c07-fig-0003) AWS Blockchain templates [https://aws.amazon.com/blockchain/templates/getting-started/](https://aws.amazon.com/blockchain/templates/getting-started/)'
  prefs: []
  type: TYPE_NORMAL
- en: The AWS Blockchain templates use an AWS service called CloudFormation, and we
    will use this service to create a stack in AWS.
  prefs: []
  type: TYPE_NORMAL
- en: If you are not familiar with AWS CloudFormation, which is AWS's version of infrastructure
    as code, you can consider CloudFormation as a stack in the development world,
    which is similar to a deployment workflow.
  prefs: []
  type: TYPE_NORMAL
- en: A workflow is also routinely referenced as a pipeline in many facets of application
    development. This development workflow will deploy a private Hyperledger Fabric
    blockchain network on an Amazon EC2 instance and will deploy the required components
    such as networking, storage, and other required services.
  prefs: []
  type: TYPE_NORMAL
- en: '[Figure 7.4](#c07-fig-0004) shows the first part of the CloudFormation template,
    including the remaining parameters, such as EC2 key pair, security group, and
    other parameters. [Figure 7.5](#c07-fig-0005) shows the second part of the template.
    A template is a preconfigured stack of resources in AWS. For more information
    on what a CloudFormation template is, refer to the following:'
  prefs: []
  type: TYPE_NORMAL
- en: '`[https://aws.amazon.com/cloudformation/aws-cloudformation-templates/](https://aws.amazon.com/cloudformation/aws-cloudformation-templates/)`'
  prefs: []
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f004.png)'
  prefs: []
  type: TYPE_IMG
- en: '[**FIGURE 7.4**](#R_c07-fig-0004) CloudFormation template, part 1'
  prefs: []
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f005.png)'
  prefs: []
  type: TYPE_IMG
- en: '[**FIGURE 7.5**](#R_c07-fig-0005) CloudFormation template, part 2'
  prefs: []
  type: TYPE_NORMAL
- en: 'Note that we will not deploy this template yet, as we need to prepare the AWS
    environment. This discussion was to provide insight into what the template looks
    for around configuration variables.  ### Deploying Hyperledger on AWS'
  prefs: []
  type: TYPE_NORMAL
- en: When using the AWS Blockchain templates, you're essentially deploying a Hyperledger
    CloudFormation template that AWS has made free and publicly available to help
    facilitate creating a blockchain network hosted on an EC2 instance hosted in AWS.
  prefs: []
  type: TYPE_NORMAL
- en: The word *template*, of course, in most IT realms would seem as if we just have
    to click and deploy. Well, nothing could be further from the truth in AWS. The
    template you will use is only going to work after you actually set up the environment
    for the template, which includes the security groups, subnets, VPCs, and a host
    of other tasks.
  prefs: []
  type: TYPE_NORMAL
- en: To actually accomplish the proper setup of your AWS Blockchain templates, there
    are a few things you need to plan beforehand and set up to ensure your template
    deployment is successful, which we covered in the “AWS Blockchain template Deployment
    High-Level Steps” section.
  prefs: []
  type: TYPE_NORMAL
- en: Create a virtual private cloud (VPC) subnet. To clarify, we will need to create
    a subnet in two separate parts of this chapter. This first step covers only the
    first subnet that we will create.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: This first subnet will be the address space used for the blockchain network
    services through the VPC. The second subnet will be created later when we get
    to that part of the AWS Management Console.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Create a security group that will allow traffic to the instance through only
    the ports you specify.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Launch an EC2 VM instance into the subnet and associate it with an elastic IP.
    (An elastic IP allows traffic to access the Internet.)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '#### CREATING A VPC SUBNET'
  prefs: []
  type: TYPE_NORMAL
- en: If you are not familiar with AWS, I recommend taking some basic training for
    using the cloud services before going outside of testing. I will spend some time
    covering the basics to clarify what some terms are such as a VPC and a security
    group to facilitate learning these subjects.
  prefs: []
  type: TYPE_NORMAL
- en: A VPC is an isolated deployment of compute resources in AWS. A VPC can also
    be compared to a sandbox or a containerized resource pool in the IT networking
    world.
  prefs: []
  type: TYPE_NORMAL
- en: This VPC needs to have a virtual networking structure setup, of which an elementary
    part of this networking structure is a subnet. A subnet is effectively used to
    communicate with other AWS resources but also used to effectively isolate that
    resource from other resources in the AWS Cloud.
  prefs: []
  type: TYPE_NORMAL
- en: For example, say you have ten different AWS EC2 virtual machines running different
    applications and they are all on different subnets or the same subnet. You can
    think of a subnet as a routing mechanism, an address space, or even a containerized
    network schema depending on your IT experience.
  prefs: []
  type: TYPE_NORMAL
- en: A VPC can have one subnet or many subnets per VPC. If a VPC does not make sense
    still, then I recommend you review the AWS documentation site or take a class
    in AWS.
  prefs: []
  type: TYPE_NORMAL
- en: Now let's get started deploying our cloud resources.
  prefs: []
  type: TYPE_NORMAL
- en: The first thing we would need to do is log in to the AWS Management Console,
    which is also known as the Cloud Console, Cloud Dashboard, and the AWS Management
    Console. For this book, I will reference the AWS Management Console to alleviate
    any confusion.
  prefs: []
  type: TYPE_NORMAL
- en: This book assumes you have an AWS account, which is required to access services
    on AWS. The instructions on how to set up an AWS account and log into the AWS
    Management Console are beyond the scope of the book. These instructions are on
    the AWS website, YouTube, etc., if needed.
  prefs: []
  type: TYPE_NORMAL
- en: The AWS Management Console is currently located at `[console.aws.amazon.com](http://console.aws.amazon.com)`.
    (However, it is important to note that cloud providers are well known for changing
    links routinely, so validate any links provided accordingly.)
  prefs: []
  type: TYPE_NORMAL
- en: Log in to the AWS Management Console.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.6](#c07-fig-0006) shows the AWS Management Console after you initially
    log in.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f006.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.6**](#R_c07-fig-0006) AWS Management Console'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: The AWS Management Console is rather simplistic from an aesthetic standpoint.
    For those of you who may not be familiar with AWS, you can find the VPC dashboard
    by going to the Find Services box in the middle of console, entering **VPC**,
    and selecting the VPC Dashboard.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Launch VPC Wizard from the VPC dashboard, as shown in [Figure 7.7](#c07-fig-0007).![Image
    described by caption and surrounding text.](images/c07f007.png)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.7**](#R_c07-fig-0007) Launching the VPC Wizard'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: There are several options for creating a nondefault VPC, but this chapter will
    focus on the following approach.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the VPC with a Single Public Subnet option, as shown in [Figure 7.8](#c07-fig-0008),
    and then click Next.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: A subnet is needed to ensure traffic is segmented appropriately as an address
    space on AWS.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Enter **myblockchain** as the VPC name, as shown in [Figure 7.9](#c07-fig-0009).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: For the purposes of this demo, leave the settings at the defaults. In your deployment,
    however, you will need to determine more detailed configurations, such as the
    endpoints, availability zone, hardware tenancy, and the CIDR range l. These configurations
    settings are beyond the scope required for this demo.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f008.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.8**](#R_c07-fig-0008) VPC Configuration dialog'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f009.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.9**](#R_c07-fig-0009) Myblockchain VPC'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Create VPC to complete the steps.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.10](#c07-fig-0010) shows that the VPC was created.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f010.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.10**](#R_c07-fig-0010) VPC-created confirmation'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Click OK.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: You will then see the VPC menu, as shown in [Figure 7.11](#c07-fig-0011).
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f011.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.11**](#R_c07-fig-0011) VPC menu'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Your VPC Myblockchain is now created, so you can move on to the next step in
    the process, creating a security group.  #### CREATING A SECURITY GROUP'
  prefs: []
  type: TYPE_NORMAL
- en: A security group in AWS is a virtual firewall that helps facilitate proper network
    traffic to the EC2 instance at hand. You can think of a firewall (security group)
    as a barrier for your AWS networking resources, enforced by egress and ingress
    policies. *Egress* refers to traffic leaving the AWS Cloud, and *ingress* refers
    to traffic entering the AWS cloud. We need to have several ports open in these
    egress and ingress policies to allow traffic through.
  prefs: []
  type: TYPE_NORMAL
- en: We can configure several layers of firewalls. Effectively, we can configure
    a security group for our VPC and for our EC2 instance. In this demo, we will configure
    two layers of firewalls (security groups).
  prefs: []
  type: TYPE_NORMAL
- en: Enough of AWS 101\. Let's get to work.
  prefs: []
  type: TYPE_NORMAL
- en: We need to configure rules for outbound and inbound traffic to the instance.
    To do this, we will configure a security group.
  prefs: []
  type: TYPE_NORMAL
- en: Select Security Groups from the left pane, as shown in [Figure 7.12](#c07-fig-0012).![Image
    described by caption and surrounding text.](images/c07f012.png)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.12**](#R_c07-fig-0012) Security Group menu'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Create Security Group.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The Security Group dialog box appears, as shown in [Figure 7.13](#c07-fig-0013).
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f013.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.13**](#R_c07-fig-0013) Security groups'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Enter the following variables and then click Create:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Security Group Name**: Hyperledgerblockchain'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Description**: Hyperledger Fabric Deployment'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**VPC**: (The name of the myblockchain VPC you created previously.)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Figure 7.14](#c07-fig-0014) shows that the security group was created.'
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Close to advance to the Security Group dashboard, as shown in [Figure
    7.15](#c07-fig-0015).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: View the security group list to validate that the security group you created
    is in your list.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.16](#c07-fig-0016) shows the VPC security group has been created.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f014.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.14**](#R_c07-fig-0014) VPC selection dialog completion'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f015.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.15**](#R_c07-fig-0015) Security group confirmation'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f016.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.16**](#R_c07-fig-0016) Security group listing'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Now that the security group is deployed, we need to configure the outbound and
    inbound firewall rules.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the Inbound Rules tab from the bottom of menu interface, and then select
    Edit Rules.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.17](#c07-fig-0017) shows the VPC Security group has been created
    and was selected. When it''s selected, the Security metadata properties are listed
    (Description, Inbound Rules, Outbound Rules, and Tags).'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f017.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.17**](#R_c07-fig-0017) Edit Inbound Rules interface'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Now that the security group is deployed, we need to configure the outbound and
    inbound firewall rules.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the Inbound Rules tab from the bottom of menu interface, and then select
    Edit Rules, as shown in [Figure 7.18](#c07-fig-0018).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We have no rules, so we need to configure them for the blockchain services.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Edit Inbound Rules interface.](images/c07f018.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.18**](#R_c07-fig-0018) Edit Inbound Rules interface'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Add Rule from the middle left of the screen.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.19](#c07-fig-0019) shows the Rule “Custom TCP Rule” on the drop-down
    menu.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f019.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.19**](#R_c07-fig-0019) Edit Inbound Custom Rules initial window'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Create two inbound rules: one for HTTP and one for HTTPS.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Enter the following for the HTTP rule:'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '**Protocol**: TCP'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Port Range**: 80'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Source**: Custom, leave 0.0.0.0/0'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Description**: http'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Enter the following for the HTTPS rule:'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '**Protocol**: TCP'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Port Range**: 443'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Source**: Custom, leave 0.0.0.0/0'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Description**: https Note that 0.0.0.0/0 is not a best practice and is effectively
    allowing access inbound from any address. Before deploying in your enterprise,
    confirm the proper address source to configure for your AWS deployment.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Figure 7.20](#c07-fig-0020) shows the Edit Inbound rules, which is for traffic
    entering the cloud network.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Edit Inbound Rules with HTTP and HTTPS.](images/c07f020.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.20**](#R_c07-fig-0020) Edit Inbound Rules with HTTP and HTTPS'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Add the firewall rules that allow HTTP and HTTPS traffic from anywhere and then
    select Save Rules.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.21](#c07-fig-0021) shows that we have completed the inbound rules.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting screen when Inbound rules completed.](images/c07f021.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.21**](#R_c07-fig-0021) Inbound rules completed'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Close. This will bring you back to the Security Group dashboard (see
    [Figure 7.22](#c07-fig-0022)).![Screen capture depicting Security Group dashboard
    when Rules successfully edited.](images/c07f022.png)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.22**](#R_c07-fig-0022) Rules successfully edited'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the security group again and view at the bottom of the screen the rules
    you created for HTTP and HTTPS. You should have only two rules that you created.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Note that in [Figure 7.22](#c07-fig-0022), I added another rule to show the
    opposite of allowing all traffic with `0.0.0.0/0` versus disallowing all traffic
    with `::/0`.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select VPC Dashboard to go back to the main VPC dashboard, as shown in [Figure
    7.23](#c07-fig-0023).![Image described by caption and surrounding text.](images/c07f023.png)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.23**](#R_c07-fig-0023) VPC Dashboard  #### LAUNCHING AN EC2 INSTANCE'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: In AWS, we call the virtual machines EC2, which stands for Elastic Compute Cloud.
    EC2 will be used in the following blockchain deployment.
  prefs: []
  type: TYPE_NORMAL
- en: Launching your blockchain service requires you to deploy one or more virtual
    machines to run the blockchain services. In this book, I will deploy one for demo
    purposes initially.
  prefs: []
  type: TYPE_NORMAL
- en: 'To launch EC2 virtual machines, perform the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Go back to the main Management Console and select EC2 from Find Services, as
    shown in [Figure 7.24](#c07-fig-0024).![Image described by caption and surrounding
    text.](images/c07f024.png)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.24**](#R_c07-fig-0024) Find Services in Management Console'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Launch EC2 Instances, as shown in [Figure 7.25](#c07-fig-0025).![Image
    described by caption and surrounding text.](images/c07f025.png)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.25**](#R_c07-fig-0025) EC2 Dashboard'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: We want to launch an instance that will meet the requirements for scalability
    and cost. We could use this AMI as the default Amazon Machine Image (AMI) or even
    a Free Tier Eligible AMI if we choose for demo purposes. In actual development
    or production, you would want to be cautious about your VM configurations for
    performance, integration, support, and cost reasons.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.26](#c07-fig-0026) shows the Choose an Amazon Machine Image (AMI)
    menu page.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f026.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.26**](#R_c07-fig-0026) Choose AMI Quick Start page'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: For demo purposes, select the first AMI—the Amazon Linux 2 AMI (default). You
    could, of course, run the template on other versions of Linux if you choose. At
    the time of writing, more than 30 versions of machine images are available.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.27](#c07-fig-0027) shows the configurations available with the Amazon
    Linux 2 AMI image. We will go with what''s available for the free tier.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f027.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.27**](#R_c07-fig-0027) Selecting the AMI configuration'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select your image T2 Micro (Free Tier Eligible) if available.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Note that Amazon may not have resources available in all regions at specific
    times due to the existing workload in the region.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: In the next step, we will configure the EC2 instance.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Select Next: Configure Instance Details.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.28](#c07-fig-0028) shows the initial Configure Instance Details settings
    we will configure.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f028.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.28**](#R_c07-fig-0028) Configuring the instance details'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the network that was created—Hyperledger Note.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the subnet that was created—Public Subnet.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Note that your naming would likely be more specific in a development or production
    deployment.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Skip steps 4 and 5 and proceed to step 6.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.29](#c07-fig-0029) shows that the security group that was created
    is selected. Note that the inbound rules do not show all the rules due to the
    screen scroll.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Configure Security Group page with the security
    group that was selected.](images/c07f029.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.29**](#R_c07-fig-0029) Security group selection'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the security group for Hyperledger Fabric named Hyperledgerblockchain,
    as shown in [Figure 7.29](#c07-fig-0029).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.30](#c07-fig-0030) shows the Review Instance Launch page.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f030.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.30**](#R_c07-fig-0030) Review Instance Launch page'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Validate that you selected the correct group, which will be reflected by a blue
    checkbox, and then select Review and Launch.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Note that selecting the wrong security group will effectively make your instance
    unusable without reconfiguration or deletion.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: After hitting the Launch button, you will be prompted to create or save your
    key. The key is used for SSH access, so keep it safe on your desktop.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.31](#c07-fig-0031) shows the key pair of the instance created.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.32](#c07-fig-0032) shows the launch status of the EC2 instance.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting the key pair of the instance created.](images/c07f031.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.31**](#R_c07-fig-0031) EC2 key pair'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting the launch status of the EC2 instance.](images/c07f032.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.32**](#R_c07-fig-0032) EC2 instance launch status'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the small blue area with a crypto name that starts with “i.”
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: This will bring you to the EC2 Dashboard.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Review the instance in the EC2 Dashboard, as shown in [Figure 7.33](#c07-fig-0033).![Image
    described by caption and surrounding text.](images/c07f033.png)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.33**](#R_c07-fig-0033) EC2 Dashboard'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: We are now done with the EC2 instance configuration for this part of the process.
    The next step is to provision an elastic IP. An elastic IP is used to provision
    a static public IP, which is used to access the EC2 instance from traffic outside
    of AWS going into AWS (ingress traffic).
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.34](#c07-fig-0034) shows the VPC Dashboard where we need to go for
    the next step.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f034.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.34**](#R_c07-fig-0034) VPC Dashboard'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the AWS icon at the top of the console to bring you back to the AWS Management
    Console. From there, select the EC2 dashboard.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select Elastic IPs from the left sidebar.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.35](#c07-fig-0035) shows the Elastic IP menu.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f035.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.35**](#R_c07-fig-0035) Elastic IP menu'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Allocate New Address.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.36](#c07-fig-0036) shows that the allocation for the VPC elastic
    IP has succeeded.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting the successful allocation for the VPC elastic IP.](images/c07f036.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.36**](#R_c07-fig-0036) Allocated new address'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Close to go back to the Elastic IP menu.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.37](#c07-fig-0037) shows the IP configuration.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f037.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.37**](#R_c07-fig-0037) IP configuration'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: After validating our IP is allocated in the list, we can now proceed to provision
    a key pair. Key pairs are needed to provide SSH access.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the AWS icon at the top of the page and proceed to the AWS Management
    Console to select EC2.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The AWS Management Console is the home page effectively and also shows the recently
    visited services such as EC2 and VPC.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select EC2 from the AWS Management Console Recently Visited Services or search
    for it. Below is the EC2 Dashboard, specifically the resources.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.38](#c07-fig-0038) shows the one running instance, which we just
    launched.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f038.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.38**](#R_c07-fig-0038) AWS Management Console'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Validate your key pair is correct.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.39](#c07-fig-0039) shows the key pair created in previous EC2 steps.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Go to the Security Group section in the EC2 dashboard, as shown in [Figure 7.40](#c07-fig-0040).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We now need to create another security group for the EC2 instance and create
    rules.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f039.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.39**](#R_c07-fig-0039) Validate Key Pair dialog box'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f040.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.40**](#R_c07-fig-0040) Security Group dashboard'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Create Security Group.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The Create Security Group dialog box appears, as shown in [Figure 7.41](#c07-fig-0041).
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Create Security Group dialog box.](images/c07f041.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.41**](#R_c07-fig-0041) Security group configuration'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Configure the security group as follows:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Security Group Name**: Blockchainbook'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Description**: Blockchain security group'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**VPC**: myblockchain'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Select Create.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The results should be similar to those shown in [Figure 7.42](#c07-fig-0042)
    when it completes.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Security group configuration with Group ID, Name,
    VPC ID.](images/c07f042.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.42**](#R_c07-fig-0042) Security group configuration'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: We now need to allow traffic into the security group, so we need to edit the
    rules of security group.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the blockchainbook security group and then click Edit.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'The Edit Inbound Rules screen appears. Add the following to inbound rules,
    as shown in [Figure 7.43](#c07-fig-0043):'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: SSH for access from port 22
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Custom TCP for Monitoring port 8080![Screen capture depicting Edit Inbound Rules
    screen with inbound rules added.](images/c07f043.png)
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.43**](#R_c07-fig-0043) Editing Inbound rules'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the SSH and Custom Rule items and also select MyIP, since it will pick
    up your source IP from logging into AWS automatically.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select Save to save the rule and go back to the security group home page.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.44](#c07-fig-0044) shows the newly created inbound rules.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting newly created inbound rules.](images/c07f044.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.44**](#R_c07-fig-0044) Completed inbound rules'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'We can now move on to creating identity and access management rules and policies.  ####
    GRANTING IAM PERMISSIONS'
  prefs: []
  type: TYPE_NORMAL
- en: We have created our required security groups and rules, provisioned an elastic
    IP, and deployed a VPC, key pair, and an EC2\. Now we have to grant permissions
    for the AWS EC2 service to access services.
  prefs: []
  type: TYPE_NORMAL
- en: Select the AWS icon at the top of the menu to get back to AWS Cloud Management
    Dashboard.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter **IAM** in the Find Services box.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.45](#c07-fig-0045) shows the IAM Dashboard. Proceed cautiously during
    the following steps, as a mistake will not allow the Hyperledger Fabric service
    to start.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f045.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.45**](#R_c07-fig-0045) IAM dashboard'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Policies from the left pane. We want to create a policy for S3 and CloudFormation.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.46](#c07-fig-0046) shows the IAM Policy menu. We need to create a
    policy that allows ECS to access S3.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f046.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.46**](#R_c07-fig-0046) IAM Policy menu'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Create an S3 policy that allows Full Read Access but limited List by searching
    for S3 and selecting the AmazonS3FullAccess, as shown in [Figure 7.47](#c07-fig-0047).![Screen
    capture depicting S3 policy search listing AmazonS3ReadOnlyAccess option.](images/c07f047.png)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.47**](#R_c07-fig-0047) S3 policy search'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the arrow by the AmazonS3FullAccess permissions. We need to ensure S3
    has only read-only permissions, so we need to go into the S3 AmazonS3FullAccess
    policy and reduce the permissions.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.48](#c07-fig-0048) shows the limited permissions to select for AmazonS3ReadOnlyAccess.
    Now we need to do the same thing as earlier for setting up permissions in the
    policy for AWS ECR.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting limited permissions to select for AmazonS3ReadOnlyAccess.](images/c07f048.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.48**](#R_c07-fig-0048) S3 limited permissions'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Go to Filter Policies and search for *Container*, as shown in [Figure 7.49](#c07-fig-0049).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select AmazonEC2ContainerRegistryReadOnly.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.50](#c07-fig-0050) shows the permission options available with specific
    services.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Filter Policies search for Container.](images/c07f049.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.49**](#R_c07-fig-0049) Container Registry search'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting permission options available with specific services.](images/c07f050.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.50**](#R_c07-fig-0050) Container Registry Limited Permissions'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Create Policy.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The Create Policy dialog box appears, as shown in [Figure 7.51](#c07-fig-0051).
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f051.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.51**](#R_c07-fig-0051) Create Policy dialog'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: We need to add the policy via the policy editor. A policy defines the AWS permissions
    that you can assign to a user, group, or role. We will add S3 and then ECR.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Select the following:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Service**: S3'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Actions**: Read'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Resources**: All'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Figure 7.52](#c07-fig-0052) shows the services available in AWS that we can
    provide policies for in S3.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting services available in AWS that are provided for
    in S3 policies.](images/c07f052.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.52**](#R_c07-fig-0052) Add Service Editor'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Add Additional Permissions from the bottom of the screen and perform
    the same routine for ECR as you did for S3.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select Review Policy.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The screen shown in [Figure 7.53](#c07-fig-0053) will appear.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f053.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.53**](#R_c07-fig-0053) Review Policy dialog'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Enter **EC2BC** as the policy name, and enter **This is the policy for ECR and
    S3 for blockchain** as the description.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The services in the Summary section should be Elastic Container Registry and
    S3.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Create Policy.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.54](#c07-fig-0054) shows the available options. Note the EC2BC policy
    has completed.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f054.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.54**](#R_c07-fig-0054) Review Policy dialog'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'S3 is Amazon''s object storage service, and ECR is Amazon''s Elastic Container
    Registry, the container service that the Hyperledger Fabric containers are actually
    deployed on. I advise you to read the AWS IAM documents before configuring any
    AWS deployments because of the number of possible security vulnerabilities that
    could occur with improper setup. Refer to the following:'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '`[https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html)`'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Create a role at the IAM Roles dashboard by selecting Roles in the left pane.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.55](#c07-fig-0055) shows the IAM Roles dashboard, which appears more
    instructional than anything.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f055.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.55**](#R_c07-fig-0055) IAM Roles dashboard'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: The role we need to create will be for EC2, and we will attach the policy we
    created earlier called EC2BC.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.56](#c07-fig-0056) shows the roles creation dialog interface. Roles
    can be created for both users for what are machine-to-machine operations.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting roles creation dialog interface.](images/c07f056.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.56**](#R_c07-fig-0056) Creating a role'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Create Role. The Create Role dashboard appears.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Highlight the EC2 service, and then select Next: Permissions.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.57](#c07-fig-0057) shows the Attach Permissions Policies options.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Attach Permissions Policies options.](images/c07f057.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.57**](#R_c07-fig-0057) Attaching permissions policies'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: We will now go to the filter policy and add the policy EC2BC we created earlier.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.58](#c07-fig-0058) shows the Create Role policy option for filtering.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Create Role policy option for filtering.](images/c07f058.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.58**](#R_c07-fig-0058) Attaching an EC2BC policy'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Search the Filter Policies for the EC2BC policy and then select it.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select Next:Tags to add a tag for easy identification.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.59](#c07-fig-0059) shows the Add Tags window.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Enter **blockchain** as the key and **EC2** as the value, and then click Next:
    Review.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.60](#c07-fig-0060) shows the review panel we will view before proceeding.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Enter **EC2Blockchain** for the role name and click Create Role.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: A list of roles will appear, as shown in [Figure 7.61](#c07-fig-0061).
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting the Add Tags window.](images/c07f059.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.59**](#R_c07-fig-0059) Adding tags for EC2 policy'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting the review panel with blockchain as the key and
    EC2 as the value.](images/c07f060.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.60**](#R_c07-fig-0060) Reviewing tags for the EC2 policy'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting list of roles for EC2Blockchain role.](images/c07f061.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.61**](#R_c07-fig-0061) EC2blockchain role among the list of roles'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: The EC2blockchain has been created, so we can proceed to the next step.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Click the role name to bring up the Summary page, as shown in [Figure 7.62](#c07-fig-0062).![Screen
    capture depicting Summary page for the role page.](images/c07f062.png)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.62**](#R_c07-fig-0062) EC2blockchain role settings'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Note the ARN, which stands for Amazon Reference Name; it's used to locate specific
    AWS resources. We can consider this similar to a namespace in the directory services
    world.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Validate the new role and note the instance profile ARN, which begins with a
    format of *arn:awsxxxx*. We will need to reference this ARN address later in the
    deployment.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'We have finally created all the needed permissions, roles, and networking.
    We can now start to deploy our Blockchain template.  #### DEPLOYING THE AWS BLOCKCHAIN
    TEMPLATE'
  prefs: []
  type: TYPE_NORMAL
- en: In this section, we deploy the actual Hyperledger Fabric Template and then log
    in to our Hyperledger Fabric Deployment.
  prefs: []
  type: TYPE_NORMAL
- en: Go to the AWS Blockchain template page on AWS (`[https://aws.amazon.com/blockchain/templates/getting-started/](https://aws.amazon.com/blockchain/templates/getting-started/)`).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.63](#c07-fig-0063) shows the Blockchain template page on AWS. We
    will be using the Hyperledger Fabric CloudFormation template in this book.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f063.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.63**](#R_c07-fig-0063) AWS Blockchain templates'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the Northern Virginia Hyperledger template for Hyperledger Fabric.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Note that [Figure 7.64](#c07-fig-0064) and [Figure 7.65](#c07-fig-0065) are
    the same template. The image was broken into two images because of the length
    of the template.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f064.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.64**](#R_c07-fig-0064) AWS Blockchain templates, part 1'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.64](#c07-fig-0064) shows the stack name and parameters preset in
    the top part of the template, but we still need to complete the lower half of
    the template.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Enter **blockchainbook** as the name of the stack and optionally enter the channel
    and the domain (or select Default).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Proceed to the lower part of the template by scrolling down.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.65](#c07-fig-0065) shows the lower part of the stack page. I preselected
    the ECC key pair and EC2 security group and entered the ARN number that we noted
    in step 21 in the previous section. In your case, select the appropriate EC2 instance
    and available variables that meet your deployment requirements or select the defaults.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f065.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.65**](#R_c07-fig-0065) AWS Blockchain templates, part 2'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: It's important to double-check that we entered everything correctly, as modifying
    the template later could actually be more work than deploying a new one, depending
    on the variable misconfigured.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Enter the following:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**ECC Key Pair**: blockchaindemo'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**EC2 Security Group**: blockchainbook'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**EC2 Instance Profile ARN**: Enter the EC2 instance ARN from step 21 in the
    previous section.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Select both the “I acknowledge” checkboxes (if you agree), and then click Create.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.66](#c07-fig-0066) shows the status of the Blockchain template deployment.
    This process could take up to 10 minutes depending on the AWS region workload.
    However, you can select the blockchainbook2 stack and proceed since the status
    is updated dynamically.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting status of the Blockchain template deployment.](images/c07f066.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.66**](#R_c07-fig-0066) Stack creation initiated'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the blockchainbook2 stack to proceed to the stack page shown in [Figure
    7.67](#c07-fig-0067).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The CloudFormation template launched, deployed our blockchain network, and now
    shows complete. Let's validate via the Event logs.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting blockchainbook2 stack page.](images/c07f067.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.67**](#R_c07-fig-0067) Stack completed'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select 4 More Events To Display to expand Events.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.68](#c07-fig-0068) reflects the CloudFormation event logs and any
    other current information.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting CloudFormation event logs and other current information.](images/c07f068.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.68**](#R_c07-fig-0068) CloudFormation event logs'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Outputs.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: This will provide insight into the components of the blockchain deployment.
    [Figure 7.69](#c07-fig-0069) shows outputs of the CloudFormation template.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting outputs of the CloudFormation template.](images/c07f069.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.69**](#R_c07-fig-0069) CloudFormation outputs'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the URL for the ExplorerURL in the Key column. The ExplorerURL is Hyperledger
    Explorer, the same as a blockchain explorer that is used for traversing the blockchain
    ledger.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Hyperledger Explorer provides visual insight into the activity on our blockchain
    network. It also provides detailed status information on the components that are
    online as well as the peers that are on the network.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.70](#c07-fig-0070) shows our new network deployment in the Hyperledger
    Explorer.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f070.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.70**](#R_c07-fig-0070) Hyperledger Explorer'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.71](#c07-fig-0071) shows the current default peer graph for the network
    that was deployed. PeerGraph is showing the current nodes (peers) deploying the
    blockchain network. We have nodes online in three orgs. Orgs are organizations
    that represent a party (user). Because Hyperledger Fabric has just been installed
    and we have not installed chaincode yet, we won''t have any further activity to
    explore.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f071.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.71**](#R_c07-fig-0071) PeerGraph explorer'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Network to validate that the peers are online.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The Hyperledger Explorer Network tab shows our nodes in [Figure 7.72](#c07-fig-0072).
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f072.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.72**](#R_c07-fig-0072) Hyperledger Explorer Network tab'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Blocks to validate that the blocks have been written.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.73](#c07-fig-0073) shows that we have blocks written to the blockchain.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f073.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.73**](#R_c07-fig-0073) Hyperledger Explorer Blocks tab'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Let''s review. We successfully configured a Blockchain template on AWS for
    Hyperledger Fabric. The process to set up networking, policies, and roles takes
    some time for the EC2 instance. The CloudFormation template allowed us to deploy
    a blockchain in only a few clicks after the initial configuration was done.  ###
    Deploying AWS Managed Blockchain'
  prefs: []
  type: TYPE_NORMAL
- en: AWS Managed Blockchain is a fully managed blockchain service that makes it easy
    to create and manage scalable blockchain networks using the open source Hyperledger
    Fabric and Ethereum frameworks. You can write smart contracts and applications
    and run them on the blockchain network to transact securely.
  prefs: []
  type: TYPE_NORMAL
- en: The membership in a Hyperledger Fabric network is your identity, which is known
    as an *organization*. This membership enables you to participate in the blockchain
    network. The membership rate also includes a Hyperledger Fabric certificate authority
    (CA) for user management and other shared network costs. You can create multiple
    network members in a given network.
  prefs: []
  type: TYPE_NORMAL
- en: There are four high-level steps to deploying the AWS Managed Blockchain service.
  prefs: []
  type: TYPE_NORMAL
- en: Create a blockchain network.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Invite members to join the network.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Add peer nodes to the network.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Deploy applications.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: For the purposes of this book, we will deploy a simple Managed Hyperledger Fabric
    blockchain service. Having a production-ready network, installed clients, and
    channels requires significant work, which you need to plan for. Expect to spend
    between six to seven hours on this platform setup.
  prefs: []
  type: TYPE_NORMAL
- en: For more information, refer to the AWS Managed Blockchain Service documentation
    at `[https://docs.aws.amazon.com/managed-blockchain/latest/managementguide/get-started-create-client.html](https://docs.aws.amazon.com/managed-blockchain/latest/managementguide/get-started-create-client.html)`.
  prefs: []
  type: TYPE_NORMAL
- en: '#### CREATING AN AWS MANAGED BLOCKCHAIN NETWORK'
  prefs: []
  type: TYPE_NORMAL
- en: AWS Managed Blockchain is a relatively simple service that is provided by AWS
    for deploying a PaaS-based blockchain network. Developers can deploy nodes and
    then deploy their applications on the platform without worrying about the nodes.
  prefs: []
  type: TYPE_NORMAL
- en: Return to the AWS Management Console.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter **Managed Blockchain** in the Find Services box, as shown in [Figure 7.74](#c07-fig-0074).![Image
    described by caption and surrounding text.](images/c07f074.png)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.74**](#R_c07-fig-0074) AWS Managed Blockchain console search'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: This will bring up the Managed Blockchain service, as shown in [Figure 7.75](#c07-fig-0075).
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Click the Create A Network button.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The Create Blockchain Network screen will appear, as shown in [Figure 7.76](#c07-fig-0076).
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Managed Blockchain service page.](images/c07f075.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.75**](#R_c07-fig-0075) AWS Managed Blockchain'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f076.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.76**](#R_c07-fig-0076) AWS Create Blockchain Network page'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Two templates are available: one for Hyperledger Fabric and one for Ethereum
    (Coming Soon). There are also two choices for a network edition. A network edition
    is the subscription model. The network edition will determine attributes of the
    network, including the number of member, nodes per members, and other resources.
    The Starter network is limited in the images that can be deployed and the number
    of members and is considered a testing deployment. For production workloads, select
    the Standard network. The different editions have different consumption rates
    associated with the membership. For more information on pricing, refer to `[https://aws.amazon.com/managed-blockchain/pricing/](https://aws.amazon.com/managed-blockchain/pricing/)`.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the Hyperledger Fabric template. For demo purposes, we will use the Starter
    network edition.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The Network Name And Description dialog box appears, as shown in [Figure 7.77](#c07-fig-0077).
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f077.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.77**](#R_c07-fig-0077) Network Name and Description dialog box'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: The voting policy is set up to confirm how many members need to approve a proposal.
    For example, if we have 10 peers and the approval threshold is 50 percent, then
    we would need to have 6 out of 10 peers approve the proposal to move forward;
    otherwise, the proposal would be rejected.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Enter **myblockchainnetwork** as the network name, leave the defaults for the
    Voting Policy settings, and then click Next.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The Create Member screen appears; enter a name and a description (optional).
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Scroll down to the bottom of the Create Member screen, as shown in [Figure 7.78](#c07-fig-0078).
    Enter an admin username and password, and then click Next.![Image described by
    caption and surrounding text.](images/c07f078.png)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.78**](#R_c07-fig-0078) Create Member screen, admin settings'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'The Review And Create screen appears, as shown in [Figure 7.79](#c07-fig-0079).
    The Review And Create screen has two steps: Blockchain Network and Member.![Image
    described by caption and surrounding text.](images/c07f079.png)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.79**](#R_c07-fig-0079) Review And Create screen'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Review that the information is correct, and then click Create Network and Member.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: This creation process will take approximately 15 minutes to complete. After
    the wait, we should see a status update from Creating to Available, as shown in
    [Figure 7.80](#c07-fig-0080).
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Review And Create screen with status update from
    Creating to Available.](images/c07f080.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.80**](#R_c07-fig-0080) Blockchain network configuration status'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.81](#c07-fig-0081) shows the updated Status now as Available.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting updated Status now as Available.](images/c07f081.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.81**](#R_c07-fig-0081) Blockchain network configuration completion'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'The blockchain network has been deployed and has created a managed blockchain
    network in AWS. Now we can move on to inviting members to join the network.  ####
    INVITING MEMBERS TO JOIN THE NETWORK'
  prefs: []
  type: TYPE_NORMAL
- en: Use the Create Member Proposals pane to remove members from the blockchain network
    or invite other AWS accounts to join.
  prefs: []
  type: TYPE_NORMAL
- en: From the list of networks in [Figure 7.81](#c07-fig-0081), click your network's
    name to reveal a set of option tabs. The Create Member Proposals option is on
    the Members tab, as shown in [Figure 7.82](#c07-fig-0082).![Screen capture depicting
    Create Member Proposals option on the Members tab.](images/c07f082.png)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.82**](#R_c07-fig-0082) Network details'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Click Propose Invitation to invite a member.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The Create Invitation Proposal dialog appears, as shown in [Figure 7.83](#c07-fig-0083).
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: To invite a member, you need to have the member's AWS account number, which
    can be found in the account holder's Account Settings.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Create Invitation Proposal dialog.](images/c07f083.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.83**](#R_c07-fig-0083) Create Invitation Proposal dialog'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: In the Submit Proposal As drop-down, choose the member in your account that
    submits the proposal. (I'm choosing Production because that's the account I am
    in.)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter an optional description, which will be displayed to other members.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Under “Specify AWS account(s) to invite to the network,” enter the account number
    for the AWS account. Click Add to enter additional accounts. Once all the potential
    additions are listed, click Create.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The member who submits the proposal must also vote on it (the system doesn't
    assume you vote Yes!), so the next window is the proposal voting dialog shown
    in [Figure 7.84](#c07-fig-0084).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The proposal has various information such as details, status, actions, and more
    to review before proceeding.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting proposal voting dialog.](images/c07f084.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.84**](#R_c07-fig-0084) Voting proposal selection'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Propose invitation in the top right corner; you'll be asked to confirm
    your vote ([Figure 7.85](#c07-fig-0085)).![Image described by caption and surrounding
    text.](images/c07f085.png)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.85**](#R_c07-fig-0085) Vote On Proposal dialog'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Management Console Members tab with vote in the
    top part of the interface.](images/c07f086.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '**FIGURE 7.86** Policy completion'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'We are now done with the preconfiguration, so we can proceed to adding peers
    to the network.  #### ADDING PEER NODES TO THE NETWORK'
  prefs: []
  type: TYPE_NORMAL
- en: In this step, we will add peers to the blockchain network. Peers are also referred
    to as *members* in AWS blockchain. [Figure 7.87](#c07-fig-0087) shows the members
    view and the proposal status.
  prefs: []
  type: TYPE_NORMAL
- en: '![Screen capture depicting members view and the proposal status.](images/c07f087.png)'
  prefs: []
  type: TYPE_IMG
- en: '[**FIGURE 7.87**](#R_c07-fig-0087) Adding peers to the network'
  prefs: []
  type: TYPE_NORMAL
- en: One member was created by default. When considering blockchain transactions,
    we would, of course, need to have at least two members to make a trade, transaction,
    purchase, etc. Effectively, we need a buyer and a seller; without two members,
    the blockchain network provides no value.
  prefs: []
  type: TYPE_NORMAL
- en: When creating additional peer nodes, we will leave the defaults for demo purposes.
    If you were configuring the service for production, you would want to ensure that
    the peer nodes are correctly configured to limit any changes in the future.
  prefs: []
  type: TYPE_NORMAL
- en: 'The steps are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: Select Create Peer Node.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The Create Peer Node screen will appear, as shown in [Figure 7.88](#c07-fig-0088).
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f088.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.88**](#R_c07-fig-0088) Create Peer Node screen'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select an instance type and an Availability zone, and then click Create Peer
    Node. (I am leaving the defaults for the demo.)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.89](#c07-fig-0089) shows that the “Creating” process is still in
    progress. The process could take up to 10 minutes.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f089.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.89**](#R_c07-fig-0089) Node creation process'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.90](#c07-fig-0090) shows that the status has changed from creating
    to completed.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f090.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.90**](#R_c07-fig-0090) Node creation process has completed'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: You may want to add additional peers for your development and production networks.
    You would want to confirm the EC2 instance template and Availability zone ahead
    of time, as you cannot change the configuration of the peer at the time of writing.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Create a second peer node by repeating the preceding steps.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.91](#c07-fig-0091) shows the confirmation after you have created
    the second peer. You can now proceed to deploying applications.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f091.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.91**](#R_c07-fig-0091) Second node creation process has completed'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'We have now deployed a limited blockchain network on the AWS Managed Blockchain
    service. Your developers can now get to work installing chaincode as needed with
    further configuration.  #### DEPLOYING CHANNELS AND CHAINCODE'
  prefs: []
  type: TYPE_NORMAL
- en: Finally, your developers will want to install and run chaincode they have developed.
    Before proceeding, however, they would likely need to deploy a channel and then
    add chaincode.
  prefs: []
  type: TYPE_NORMAL
- en: In Hyperledger Fabric, a ledger exists in the scope of a channel. The ledger
    can be shared across the entire network if every member is operating on a common
    channel. A channel also can be privatized to include only a specific set of participants.
    Members can be in your AWS account, or they can be members who you invite from
    other AWS accounts.
  prefs: []
  type: TYPE_NORMAL
- en: 'For information on how to create a channel, visit the following site:'
  prefs: []
  type: TYPE_NORMAL
- en: '`[https://docs.aws.amazon.com/managed-blockchain/latest/managementguide/get-started-create-channel.html](https://docs.aws.amazon.com/managed-blockchain/latest/managementguide/get-started-create-channel.html)`'
  prefs: []
  type: TYPE_NORMAL
- en: 'For more information on chaincode samples, refer to the following:'
  prefs: []
  type: TYPE_NORMAL
- en: '`[https://docs.aws.amazon.com/managed-blockchain/latest/managementguide/get-started-chaincode.html](https://docs.aws.amazon.com/managed-blockchain/latest/managementguide/get-started-chaincode.html)`'
  prefs: []
  type: TYPE_NORMAL
- en: '[Figure 7.92](#c07-fig-0092) shows an example of the chaincode available from
    AWS.'
  prefs: []
  type: TYPE_NORMAL
- en: The whole process to adding a channel and chaincode can take six to seven hours,
    depending on how your client setup goes. This is a new service out of preview
    mode, and, at the time of writing, limited information is available. The service
    looks promising for companies that want a limited blockchain network structure
    to get started developing blockchain applications on. ![Screen capture depicting
    example of the chaincode available from AWS.](images/c07f092.png)
  prefs: []
  type: TYPE_NORMAL
- en: '[**FIGURE 7.92**](#R_c07-fig-0092) Chaincode example'
  prefs: []
  type: TYPE_NORMAL
- en: '## IBM Cloud Blockchain Platforms'
  prefs: []
  type: TYPE_NORMAL
- en: IBM Cloud had several different blockchain deployment plans that can be used
    as an IBM Cloud subscriber. Blockchain Platform 1.0 is still in operation to current
    subscribers; however, it is closed to new subscribers. I mention IBM Blockchain
    Platform 1.0 only briefly because the platform was first to market and actually
    a pioneering, useful service for developers. IBM Blockchain was shut down effective
    December 31, 2019, to all customers.
  prefs: []
  type: TYPE_NORMAL
- en: '**IBM Blockchain Platform 1.0** IBM Blockchain was the first-generation platform
    that had two subscription models, Starter Plan and Enterprise Plan, which were
    true software as a service deployment models. It is important to note that existing
    clients can continue to add new members and create new networks until December
    31, 2019.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**IBM Blockchain Platform 2.0** IBM Blockchain Platform 2.0 is the second-generation
    platform and uses a pay-as-you-go model. That is, you pay only for resources used;
    there is no monthly fee. IBM Blockchain Platform 2.0 is the next generation of
    BaaS and is a flexible platform as a service (PaaS).'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Both platforms deploy Hyperledger Fabric. The version of Hyperledger Fabric
    supported is maintained directly by IBM Cloud. Hyperledger Fabric allows components,
    such as consensus and membership services, to be plug-and-play for developers.
  prefs: []
  type: TYPE_NORMAL
- en: '### Blockchain Platform 2.0'
  prefs: []
  type: TYPE_NORMAL
- en: Blockchain Platform 2.0, the second-generation platform, is vastly different
    from Blockchain Platform 1.0\. Differences include the subscription model, user
    interface, deployment support, integration, and many other technical aspects.
    Blockchain Platform 2.0 provides an easy-to-deploy service that is deployed as
    a platform.
  prefs: []
  type: TYPE_NORMAL
- en: As discussed in the following sections, there are three high-level steps deploying
    the platform.
  prefs: []
  type: TYPE_NORMAL
- en: Set up Kubernetes cluster prerequisites if required. The prerequisite is to
    create a Kubernetes cluster if your IBM Cloud environment does not have a cluster
    available.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Link the cluster that was created.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Launch the Blockchain Platform 2.0 Console.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: First, however, we need to select Blockchain Platform, which is the second-generation
    platform. Note that there are two main prerequisites.
  prefs: []
  type: TYPE_NORMAL
- en: Create a Kubernetes cluster with IBM Cloud Kubernetes Service in available regions.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Pay any fees associated with the IBM Cloud Kubernetes Service and your storage
    costs.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '#### DEPLOYING YOUR BLOCKCHAIN NETWORK AND SERVICE'
  prefs: []
  type: TYPE_NORMAL
- en: '[Figure 7.93](#c07-fig-0093) shows the IBM Cloud dashboard, which is the starting
    point for deploying IBM Blockchain Platform 2.0.'
  prefs: []
  type: TYPE_NORMAL
- en: The easiest way to deploy blockchain services is to search the catalog and select
    the service.
  prefs: []
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f093.png)'
  prefs: []
  type: TYPE_IMG
- en: '[**FIGURE 7.93**](#R_c07-fig-0093) IBM Cloud dashboard'
  prefs: []
  type: TYPE_NORMAL
- en: Select Catalog from the upper menu bar.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.94](#c07-fig-0094) shows Blockchain as the only option. Blockchain
    shows up in the search, and the search will explain the service. To clarify for
    those that have not used IBM Cloud Blockchain is located under IBM Cloud as a
    database service.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Blockchain as the only option in IBM Cloud dashboard.](images/c07f094.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.94**](#R_c07-fig-0094) Blockchain platform selection'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Search for *blockchain*, and select the Blockchain service.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.95](#c07-fig-0095) shows the blockchain service configuration variables
    for deployment. We can leave the service name, region, and resource groups at
    the defaults. We can also add tags to help identify resources for logging or compliance
    reasons, if required.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting blockchain service configuration variables for deployment.](images/c07f095.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.95**](#R_c07-fig-0095) Blockchain platform service selection'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Click Create.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The next step is to review the blockchain platform wizard's main menu, as shown
    in [Figure 7.96](#c07-fig-0096).
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting blockchain platform wizard’s main menu.](images/c07f096.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.96**](#R_c07-fig-0096) Welcome to the IBM Blockchain Platform!'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Continue to advance to the Create Cluster section, as shown in [Figure
    7.97](#c07-fig-0097).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We can choose to create a new cluster or use an existing cluster.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Create Cluster section.](images/c07f097.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.97**](#R_c07-fig-0097) Create Cluster Optional'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Click Create A New Cluster.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'The choice in cluster deployment is quite critical for a production workload
    and your cloud spending. Review the following page for deployment options, especially
    for memory and worker nodes:'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '`[https://cloud.ibm.com/docs/services/blockchain?topic=blockchain-ibp-v2-deploy-iks](https://cloud.ibm.com/docs/services/blockchain?topic=blockchain-ibp-v2-deploy-iks)`'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.98](#c07-fig-0098) shows the two choices for selecting a plan: Free
    and Standard.![Screen capture depicting two choices for selecting a plan: Free
    and Standard.](images/c07f098.png)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.98**](#R_c07-fig-0098) Choosing to create a new free cluster or
    standard cluster'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: For the purpose of development, the Free option is fine; it will set up a limited
    deployment for testing. (If you choose the Standard option, you will be able to
    choose your deployment configuration, shown in [Figure 7.99](#c07-fig-0099).)
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting deployment configuration in Standard option.](images/c07f099.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.99**](#R_c07-fig-0099) New cluster options'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Click Free; then click Create Cluster. [Figure 7.100](#c07-fig-0100) shows the
    cluster access information and is used to access the cluster and manage the cluster
    components. The cluster is being deployed, as shown in the top area next to mycluster.
    This process can take up to 20 minutes to complete.![Screen capture depicting
    cluster access information.](images/c07f100.png)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.100**](#R_c07-fig-0100) Cluster creation progress'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the Worker Nodes tab to proceed.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We can go to the overview window to see the progress of the worker nodes, as
    shown in [Figure 7.101](#c07-fig-0101). The state is “Pending” for the worker
    nodes.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting overview window to see the progress of the worker
    nodes.](images/c07f101.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.101**](#R_c07-fig-0101) Worker node progress'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[Figure 7.102](#c07-fig-0102) shows the Cluster Creation Overview window, which
    reflects 0 percent.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Cluster Creation Overview window.](images/c07f102.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.102**](#R_c07-fig-0102) Cluster creation overview'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Overview to validate status of the cluster.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'The cluster will reflect the status of the cluster deployment. [Figure 7.103](#c07-fig-0103)
    shows that the cluster has completed and is in normal status. It also reflects
    100 percent, so we can proceed to linking the cluster to the blockchain platform.  ####
    LINKING THE BLOCKCHAIN CLUSTER'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Now we need to link the container cluster (Kubernetes) to the blockchain network
    services. To link the cluster to the Blockchain Platform, perform the following
    steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Select Link To A Cluster in the Blockchain Platform Wizard sidebar, as shown
    in [Figure 7.104](#c07-fig-0104), and then select the cluster you created. In
    this case, it's called mycluster.![Screen capture depicting cluster deployment
    completed and is in normal status.](images/c07f103.png)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.103**](#R_c07-fig-0103) Cluster creation completion'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting Blockchain Platform Wizard.](images/c07f104.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.104**](#R_c07-fig-0104) Linking to a cluster'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Deploy To Cluster at the bottom of the page.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Figure 7.105](#c07-fig-0105) shows that your cluster has been connected.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Screen capture depicting cluster that has been connected in mycluster page.](images/c07f105.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '[**FIGURE 7.105**](#R_c07-fig-0105) Cluster has been connected'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select Launch The IBM Blockchain Platform Console. This will connect you to
    the console, as shown in [Figure 7.106](#c07-fig-0106).![Image described by caption
    and surrounding text.](images/c07f106.png)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**FIGURE 7.106**](#R_c07-fig-0106) Welcome to the IBM Blockchain Platform
    screen'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: You will also receive an email from IBM Cloud welcoming you to the blockchain
    platform.
  prefs: []
  type: TYPE_NORMAL
- en: 'Now that we have set up the cluster and linked it to the blockchain network,
    we can move on to deploying blockchain resources.  #### CREATING BLOCKCHAIN RESOURCES'
  prefs: []
  type: TYPE_NORMAL
- en: 'The next step is to deploy resources such as peers, ordering nodes, and certificate
    authorities. Note that these resources need to be deployed in a specific order.
    Before deploying your production network, I advise you to review the blockchain
    deployment instructions and terminology here:'
  prefs: []
  type: TYPE_NORMAL
- en: '`[https://cloud.ibm.com/docs/services/blockchain?topic=blockchain-ibp-v2-deploy-iks](https://cloud.ibm.com/docs/services/blockchain?topic=blockchain-ibp-v2-deploy-iks)`'
  prefs: []
  type: TYPE_NORMAL
- en: You can get the whole platform ready in less than four to five hours if you
    follow the instructions for a limited deployment.
  prefs: []
  type: TYPE_NORMAL
- en: There is a really useful feature called Workflow. Workflow is similar to a wizard
    that provides guidance about what the next steps are in the deployment process.
    Select Get Started, as shown in [Figure 7.107](#c07-fig-0107), to access the instructions
    and help pages.
  prefs: []
  type: TYPE_NORMAL
- en: '![Image described by caption and surrounding text.](images/c07f107.png)'
  prefs: []
  type: TYPE_IMG
- en: '[**FIGURE 7.107**](#R_c07-fig-0107) Blockchain Platform workflow instructions'
  prefs: []
  type: TYPE_NORMAL
- en: 'The Blockchain Platform has numerous resources, including videos and free classes.
    Blockchain developers should find the platform interesting and quite efficient
    to use once the learning curve is over.  ## Summary'
  prefs: []
  type: TYPE_NORMAL
- en: This chapter covered two of the most common blockchain as a service (BaaS) providers,
    AWS and IBM, as well as their blockchain deployment processes. Numerous other
    providers also provide services that are more niche markets, such as Azure, Oracle,
    or Digital Ocean, that are valid solutions for the right use case.
  prefs: []
  type: TYPE_NORMAL
- en: BaaS is a cloud services offering that allows customers to leverage cloud-based
    solutions to build, host, and use their own blockchain apps, smart contracts,
    and functions on the blockchain.
  prefs: []
  type: TYPE_NORMAL
- en: Deploying BaaS on AWS is more time-consuming because you need to set up EC2
    and the affiliate networking configurations. However, once your VPC, security
    groups, and policies are created, you can simply deploy the Hyperledger Fabric
    template, which is through a CloudFormation template.
  prefs: []
  type: TYPE_NORMAL
- en: Finally, IBM deploys Hyperledger Fabric on its managed blockchain service, and
    deploying it is simple. Blockchain Platform 2.0 is the next-generation platform
    that provides developers a rapid on-ramp to a managed blockchain platform.
  prefs: []
  type: TYPE_NORMAL
