三

管道与政治

为了建立一个由独立、匿名的计算机所有者网络构成的分散经济系统，使每个人都能为群体利益而工作，这带来了一项艰巨的技术挑战。这也是一个重大的政治挑战。让猫成群结队地行动似乎是一个比喻。事实证明，构建一个超越传统政治体系的网络需要很多政治决策。

对于分散式加密货币或区块链网络来说，成功取决于设计正确的规则集——参与者相互交互的软件协议。中本聪的比特币突破为我们提供了第一个可行的示例，即使涉及大量资金、商业机密和其他有价值的事项，也可以实现这一点。但随着比特币用户和计算机所有者社区的增长和变化，以及新手们对新功能和更强大应用的需求，不断有压力要升级和改变协议以满足这些需求。问题在于，在一个真正分散的开源系统中，没有人掌控，要让所有那些拥有迥异利益的人同意进行何种变更是极其困难的。

可能有数千名极其聪明的程序员和企业家正在努力推动这个软件的发展。在某些方面，他们就像美国的开国元勋们：他们发现了一些新奇的东西，如果他们能够恰当地配置它，这可能会改变世界。“人人生而平等”并不是仅仅在 1776 年 7 月爆发出来的。这是古典自由主义思想的综合，这种思想已经发展了几十年了——事实上，仍在发展之中。区块链运动的技术哲学家们正在探讨一个思想的无数演变。他们只需找到最好的那些。

密码朋克的圣杯

了解区块链如何工作的起点，以及它引发的技术和政治辩论，是第一个工作的区块链：**比特币**区块链。比特币把纯粹、无需许可的去中心化目标放在首位。通过引导一个自治用户社区达成对交易历史的一致意见，它表明，由没有个人或公司控制的软件可以取代传统上由银行等机构中介机构在确认我们的财务记录方面发挥的“可信第三方”角色。如果社会要定义一个明智的路径来采用或不采用这项高度颠覆性的技术，我们首先必须了解比特币是什么以及为什么重要。因此，我们将深入了解其内部机制。

在我们开始之前，让我们从区块链的这个通用定义开始：**区块链**是一个分布式、仅追加的、经过证明签名、顺序链接和加密保护的交易分类账，它被复制到计算机节点网络中，并由软件驱动的共识确定持续更新。

那么，这长篇大论实际上是什么意思呢？好吧，让我们分解它的关键词：

1.  “分布式”：账本不驻留在一个地方，而是分布在许多地方，每个记账节点独立负责与其他节点协调更新。一旦一个记账人（在这种情况下，一台计算机）更新了账本，并附有一些证明其工作合理的证据，所有其他节点将同时使用同一更新升级其自己的版本。所得到的是一个不断更新的、共同同意的真相记录，没有集中的主副本。

2.  “仅追加”：只能添加信息，不能删除。这很重要，因为这意味着没有人可以回头篡改记录。被认定为真相的就是真相。没有争论的余地。

3.  “provably signed”: 区块链使用公钥基础设施加密方法来共享和控制信息。使用 PKI，用户控制两个单独但数学上相关的字符串，或者说“密钥”。其中一个是秘密的“私钥”，只有他们知道，另一个是公钥，对所有人可见，与某种有价值的信息相关联。在比特币中，该信息是指一定量的比特币货币。当用户用他们的私钥“签名”他们的公钥时，这个操作在数学上证明了对外界用户对底层信息的控制，并且可以将其分配给另一个人的公钥，或者将其发送给他们。在比特币的情况下，这是一个人从他们的“地址”（他们的公钥）发送货币到另一个人的过程。（虽然这不是一个完美的类比，但你可以把你的私钥看作是管理你的钱的秘密密码或 PIN，把你的地址看作是一个账户。）

4.  “sequentially linked and cryptographically secured”: 密码学的一些其他工具被用来表示账本中的条目，以一种将它们链接在一起，并通过一系列不可破解的数学锁定，形成一个完全可验证的序列的方式。这形成了一个永无止境的、按时间顺序排列的区块系列，或者交易数据的批次，其完整性受到密码学的保护。这种结构提供了对账本中的任何内容是否被改变的高度自信的概率。

5.  “replicated”: 分布式模式中描述的方式，账本被复制到参与节点之间。

“软件驱动的共识”：所有计算机独立运行的程序设定了一些要求和激励，以使它们以一种系统性的方式行事，从而指导它们达成一致意见，确定哪些交易应该包含在每个更新版本的复制账本中，哪些不应该包含。 “共识”是区块链设计中的一个关键词，因为它描述了每个参与者独立管理的账本副本如何与其他人保持一致，以符合通常被认为是真相的共同约定版本。它通常归结为如何使大多数人同意更新的问题。

不是很复杂，对吧？如果你仍然在努力理解，不要害怕，我们会深入挖掘。

这里需要注意的一个关键点是，我们通用的区块链定义并不能捕捉到中本聪的突破的重要性。比特币还有其他元素，实际上实现了密码朋克的圣杯：一种完全去中心化的加密货币，任何个人、实体或任何地方的成员财团都无法控制。

总部位于旧金山湾区的密码朋克社区，在比特币出现之前为实现去中心化而努力了两十年，他们知道任何数字货币系统都需要一个公共账本来跟踪每个人的借方和贷方。这样做是为了确保人们不会“双重花费”——实际上是伪造——他们的货币余额。但是为了使系统完全去中心化，它必须允许任何人参与管理那个账本。它必须是“无需许可”的，具有一个没有任何一方可以影响的共识系统。这样，没有授权实体可以阻止、撤销或决定什么被输入到账本中，使其具有抗审查性。

在比特币出现之前，所有试图实现这一目标的尝试都陷入了一个无法解决的困境：在没有一个中央机构确认验证分类账的人的身份的情况下，一个欺诈性的验证者可能会秘密地扭曲共识，创建多个使用不同别名的计算节点。（想象一下所有那些假的 Twitter 别名，你就能感受到这是多么容易。）通过复制自己，他们可以投票超过 50%，并且将自己的虚假、“双重花费”的交易插入到共享记录中。这可能通过某种机构识别和授权每个计算机用户来解决，但那只会把事情带回原点。这违背了密码朋克的“无需许可”和抗审查的理念。

Satoshi Nakamoto 的巧妙解决方案在于一种胡萝卜和大棒的激励措施，鼓励那些验证交易的人诚实地进行验证。任何地方的计算机都可以参与验证工作，并且事实上，通过比特币奖励的一种类似抽奖的系统，这些计算机会有动力这样做。每十分钟就会支付一次这些奖励，只要其中一台计算机成功地将一批新的已验证交易添加到区块链分类账中，即“块”。（这些计算机被称为“矿工”，因为它们在寻求赢得十分钟的支付时，参与一种类似于数字黄金的计算宝藏猎人游戏。撰写本文时，十分钟的“块奖励”相当于 12.5 比特币—约 125,000 美元—由分散式软件协议自动发放给获胜的矿工。矿工还会收取交易费用，我们稍后会详细介绍。）

现在，由于它是一个无需许可的系统，任何人都可以通过向网络添加更多计算节点来增加赢得随机分配的比特币奖励抽奖的机会。因此，中本聪需要一种非中心化的方法来防止一个恶意矿工掌控超过 50%的计算能力。他通过要求每个竞争计算机都进行一项名为“工作证明”的练习来实现这一点：这是一个困难的数学难题，需要大量计算才能在其他数字的庞大数字海中找到一个数字。

工作证明是昂贵的，因为它既消耗电力又消耗处理能力。这意味着如果一个矿工想通过增加更多的计算能力来掌控共识系统的大部分控制权，他们将不得不花费大量资金。由于诸如“难度调整”等功能，随着整个网络范围的计算能力增加，工作证明难题会越来越难，中本聪的工作证明系统确保了一旦攻击者接近共识控制阈值，51%攻击的成本会呈指数增长。在比特币中，双重支付和欺诈行为不是非法的；换句话说，它们只是被“征税”到了一个极端昂贵的程度。截至撰写本文时，GoBitcoin.io 网站估计，一次 51% 攻击需要耗费 22 亿美元的硬件和电力成本。

随着时间的推移，比特币挖矿已经发展成为一个产业活动，庞大的挖矿“农场”现在主导着网络。这些大玩家可能会串通一气，通过合并资源来破坏账本吗？也许，但同时也存在着压倒性的削弱动机。在其他考虑因素中，成功的攻击将会严重削弱攻击者所拥有的所有比特币的价值。无论如何，没有人成功攻击比特币的账本已经有九年了。这个不间断的记录继续加强了人们对比特币成本和激励安全系统的信任。

如果我们从这个角度来看比特币货币——而不仅仅是因为它是一种奇怪的新数字价值单位，一些怪胎认为它是对美元、欧元或日元的良好替代品，我们就可以建立一个概念框架来理解中本聪发明的更广泛的影响。这种货币，比特币（小写“b”），首先是一种储值方式，奖励人们为保护比特币（大写“B”），即系统而努力。这才是它的主要目的，而不是希望它成为日常交易的媒介。如果没有作为鼓励计算机所有者诚实验证有价值信息交换的激励而存在，中本聪的抗审查的分布式账本就根本无法运行。

当然，为了使所有这些联系在一起，矿工必须把比特币货币看作有价值的东西——他们必须相信他们将能够将其兑换成其他具有确定价值的东西，无论是商品和服务还是像美元这样的法定货币。 充分探讨他们以及其他数百万人是如何得出结论比特币确实有价值的，需要更深入地了解人类社区如何达成共识，即什么构成了共同的交换媒介、价值存储和计价单位——这是货币的三个特性。（对于这一探讨，我们再次会毫不掩饰地推荐《加密货币时代》。） 我们可以说的是，与普遍观点相反，货币不需要有任何支撑，无论是政府的承诺还是一定数量的商品，比如黄金，只要它被足够认可为一种有用的价值衡量和结算手段即可。 这可能看起来很反直觉，因为我们倾向于将货币视为某种物理上包含价值的东西——纸币或金币。 但实际上，货币只传递一种象征性的标记化价值，这种价值仅仅是从社会共同接受这种标记作为该价值的标记者的集体意志中得出的。 只要足够多的人接受它，这种思维的可塑性就可以应用于任何标记。 这就是发生在比特币身上的事情。

账本结构对保护比特币安全也很重要。中本聪构想的是一个不断增长、连续不断的区块链，每个区块代表一批交易，这些交易在十分钟的比特币奖励周期内被串联在一起并得到验证。因此，如今每个首席信息官都会提到的词是“区块链”（blockchain）。 （值得注意的是，“区块链”这个术语在最初的比特币白皮书中从未出现——这充分说明了为什么比特币不应该对这个术语拥有独家权利的一个很好的论据。）

在每个区块期间，参与下一个比特币奖励的工作量证明竞赛的每个矿工同时收集新的传入交易，并将它们排列成自己的新区块。每个交易的细节——日期、时间、发送者和接收者的地址、发送的金额等——都被捕获并通过特殊的加密算法运行，以生成一个称为哈希的字母数字字符串。哈希算法可以将任意数量的原始源数据转换为一个固定长度的字母数字字符串，从而提供一种数学上证明该底层信息存在的手段。任何持有交易信息的人都可以轻松地将其通过相同的哈希算法运行，以确认制作原始哈希的人必须持有相同的数据。

哈希的一个关键特性是，它们对底层数据的变化非常敏感。下面是我们通过将上段原始文本运行通过比特币使用的高度安全的 SHA-256 算法生成的一个哈希：

63f48074e26b1dcd6ec26be74b35e49bd31a36f849033bdee4194b6be8505fd9

现在，请注意，当我们简单地从该段文字中删除最后一个句点时，算法返回了一个完全不同的字母数字字符串：

8f5967a42c6dc39757c2e6be4368c6c5f06647cc3c73d3aa2c0abdec3c6007a5

如果你考虑到这是某人试图秘密更改交易数据，你就会明白这种过敏反应对区块链的完整性是至关重要的。如果有人试图对现有交易进行更改，其他矿工将清楚地意识到新的哈希输出与他们在区块链版本中拥有的内容不匹配。因此，他们会拒绝它。

比特币还利用了一个事实，即可以取两个哈希值，将它们合并，并产生一个封装了两个单独数据证明的根哈希值。这个过程可以无限重复，创建哈希值的哈希值的哈希值，形成一个层次结构，称为默克尔树。这就是每个区块内的交易如何被捆绑在一起并在密码上进行关联的方式。

比特币随后将这种链接函数推进了一步。通过另一个加密哈希函数，获胜的矿工将他们新创建的区块与前一个区块相连。这将整个区块链变成了一个永不停止、数学上相连的哈希交易链，一直延伸到 2009 年 1 月 3 日的“创世”区块。对 2011 年 1 月 15 日的交易进行更改，区块链中所有随后七年记录的相互关联的基于哈希的数据都将完全改变。这有点像银行使用爆炸性染料保护纸币的方式：任何试图花费被盗资金的窃贼都会立即暴露出来。

**这种不间断的交易记录为矿工验证包含在获胜矿工新区块中的交易的合法性提供了基础。如果矿工对该区块的内容满意，他们就会承诺将他们下一个区块连接到其中如果他们很幸运成为了赢家。如果他们不满意，他们会将他们的新区块连接到一个他们信任的早期区块，将怀疑的区块作为“孤儿”留下。这种决策形成了比特币共识逻辑的基础，该共识逻辑基于一种被称为“最长链”的传统。这个想法是，如果没有矿工积累超过总计算能力的 50%，那么数学概率将确保少数流氓试图将一系列新的十分钟区块添加到先前被拒绝和被抛弃的链时，将很快落后于大多数更长的链，然后被抛弃。当然，警告是，如果坏人控制了超过 50%的计算能力，他们可以产生最长的链，因此纳入欺诈交易，其他矿工将不知不觉地视为合法。不过，正如我们所解释的那样，获得那种计算能力是成本高昂的。正是这种数学和金钱的结合保证了比特币的安全。**

**这些由零散的概念拼凑而成的概念构成了中本聪的突破：一个去中心化、抗审查的过去记录。如果我们承认所有的会计系统只是估计而已──不可能得出对现实的完美表述──那么这个系统，一个系统，集体捕捉了没有中央权威的社区的共同观点，结果是迄今为止设计的最客观的真相表述。**

在解决双花问题时，比特币做了另一件重要的事情：它神奇地创造了“数字资产”的概念。以前，任何数字化的东西都太容易复制，以至于不能被视为独立的财产，这就是为什么数字产品（如音乐和电影）通常是通过许可和访问权进行销售，而不是拥有权。通过使某个有价值的东西——在这种情况下是比特币——无法复制，比特币打破了这种传统智慧。它创造了数字稀缺性。这对于比特币作为货币的价值以及后来的许多模仿者加密资产都是至关重要的。

然而，即使比特币是一个更好的老鼠夹，它远未达到完美的程度。没有什么比一个关于看似平凡问题的激烈内部争斗更能表明这一点。它起初是一个技术分歧，但演变成了一场关于控制本应是不可控制的网络的全面战斗。它表明管理比特币不仅仅是管理分类帐本身；它涉及到管理一个社区。它涉及到政治。

比特币的“内战”

对于开源项目来说，重大代码更改一直都很困难，而对于比特币来说更加困难。没有明确定义的领导者来裁决争议，没有办法在缺乏身份信息的情况下确定你正在与谁争论，或者他们在系统中拥有多少利益。更重要的是，桌上有真钱。更改可能会深刻影响人们在数字货币中存储的价值。这是一个有毒的混合物。这意味着人们会争论，争论，争论，争论。

所有的争议都围绕着一小段代码展开：一个名为个体区块最大数据大小的小细节，从 2010 年开始被硬编码为一兆字节的限制。这一限制意味着比特币区块链每秒只能处理约七笔交易，对于希望比特币能与 Visa 竞争的支付提供商来说是一个严重的障碍，后者的网络每秒处理约 65,000 笔交易。

到了 2016 年，比特币网络上的交易量已经超过了 1MB 区块限制。原本应在几分钟内完成的交易现在要花费几个小时，甚至更长时间才能完成。为了避免这种情况，用户向矿工提供了不断增长的交易费用，以增加他们的交易被包含在一个区块中的机会。换句话说，一个人为创建的“费用市场”正在形成，用户之间相互竞争。到了 2017 年 6 月，比特币网络的平均交易费用超过了 5 美元——对于一笔价值 20,000 美元的转账来说还可以接受，但对于一杯价值 2 美元的咖啡来说是不可能的。这个成本由用户承担，并成为矿工除了比特币软件的例行 12.5 比特币区块奖励之外的另一个收入来源。突然间，矿工看起来有点像比特币本来应该打破的银行守门人。对于用户来说，一个本应无摩擦的支付系统现在却被摩擦所困扰。

许多试图在比特币之上建立业务的初创企业，如钱包提供商和交易所，因为无法及时处理客户的交易而感到沮丧。“我已经成为了一个可信的第三方，”比特币钱包和托管服务 Xapo 的首席执行官 Wences Casares 抱怨道。Casares 指的是他的公司与客户之间的太多交易必须“离链”处理，相信 Xapo 稍后会在比特币区块链上结算交易。

有行动必要。一些人简单地主张增加区块大小。但这个貌似琐碎的编码改变并不被一致地视为最佳解决方案。评论家指出，增加区块大小将需要更多内存，这将使矿工的运营成本更高昂。这可能会让其他有意向的矿工望而却步，并且让比特币挖矿更加集中于少数中心化的参与者之间，增加了破坏分类账的勾结威胁。表面上，似乎两种观点都有其合理性。“大区块派”，他们倡导确保任何人都能负担得起使用比特币——高昂的交易费用不会使支付一杯咖啡成为不可能。“小区块派”则全力保护两个宏观目标：去中心化和安全性。由于现在涉及的资金如此之多，他们的分歧是不可调和的。到了 2017 年秋季，比特币已经从一个小小的业余项目发展成了一个全球性实验，市值超过 500 亿美元。没有所有者，没有董事会，也没有管理层，谁又能说哪一方有保护这一价值池的正确想法呢？

提出了许多解决方案，但没有一种能够获得共识——在比特币圈子里几乎有着神圣意义的一个词。部分原因是因为没有机制来确定每个想法的支持者持有多少份额。比特币的匿名性质，没有人和他们控制的比特币地址的正式身份识别，是一个重要的设计特征，强调隐私和无许可参与。但这使得很难组织对政策变化进行投票。没有一个明确记录谁是谁以及谁拥有什么的计数，就没有办法衡量比特币社区的大多数人，包括用户、企业、投资者、开发者和矿工，想要什么。因此，一切都演变成了社交媒体上的喧嚣声。

这些主张大块链和小块链的人彻底被希望毫无指望地，额，阻塞住了。争论变得如此激烈，以至于比特币社区在 Reddit 上一度分裂成两半，为每个立场服务的两个独立的子 _Reddit。由于看法无法统一，越来越多的人开始采纳一种同样分裂但几乎无法想象的解决方案：将比特币一分为二。

这个想法是“分叉”比特币。这是一个软件术语，意思是你在升级一个程序，就像是微软 Word 的新版本。有两种分叉，硬分叉和软分叉。在软分叉中，旧版本的软件缺乏新功能，但仍然与新版本兼容；在硬分叉中，新软件是“向后不兼容”的，这意味着它无法与旧版本互操作。基于硬分叉的软件更改因此给用户带来了一个生死攸关的决定，要么升级，要么不升级。这对于文字处理软件来说已经够糟糕了，但对于货币来说实在是个问题。基于旧版本的比特币无法转移到支持新版本的软件的人手中。两个比特币。两种真相版本。

然后，比特币开发者皮特·维勒的创造性思维产生了另一种方法：一个名为隔离见证的代码更改，或称为 SegWit，可以通过软分叉来实现。它不会直接增加区块大小限制，但它会使交易数据更有效，这意味着将近一倍的信息可以塞进 1MB 区块中。更重要的是，SegWit 修复了一些长期存在的编码怪癖，这些怪癖使得难以实现一个非常重要的新发明：闪电网络。

[闪电网络](https://example.org/lightning_network)，可能有一天可以让比特币与 Visa 的每秒 65,000 笔交易竞争，是由 Thaddeus Dryja 和 Joseph Poon 创造的。它允许人们共同签署智能合约，创建基于预先约定金额的时间锁定的双向支付通道，支付者使用一次比特币交易种子资金。然后他们可以在预先建立的余额内相互转移资金。此外，通过一个辅助通道的互锁系统，他们可以向第三方转移资金，形成不需要在比特币区块链上确认的追踪支付网络。因此，在任何时候都没有矿工费用需要支付，也没有交易数量限制。智能合约防止用户互相欺诈，比特币区块链仅用作结算层，记录每当通道打开或关闭时的净余额交易。它作为最终的证明来源存在，保证所有“链下”闪电网络交易都是合法的。

许多编码人员支持 SegWit/Lightning 解决方案，特别是那些与比特币核心有关的人，他们的开发者，如 Wuille，与有影响力的比特币基础设施公司 Blockstream 有关联。他们心目中 SegWit/Lightning 结合是负责任的改变方式。他们相信自己有责任避免大规模的、具有破坏性的代码库改动，而是想鼓励创新者开发能够增强有限基础代码功能的应用程序。这是一种经典的、以安全为导向的协议开发方法：保持底层核心系统简单、健壮、难以更改——有些人使用“故意愚蠢”的词语——并强制创新“上升到”“应用层”。当它奏效时，你可以获得安全性和创新的最佳结合。

但是一群拥有真正影响力的矿工却毫不示弱。由一家既挖掘比特币又生产一些最广泛使用的挖矿设备的中国公司领导，这个团体坚决反对 SegWit 和闪电网络。不清楚吴忌寒，比特大陆的 CEO，究竟为何不满，但在与早期比特币投资者和著名的自由主义者 Roger Ver 站在一起之后，他展开了一系列游说活动以推动区块更大的方案。一种理论是比特大陆担心“链下”闪电解决方案会转移应该属于矿工的交易费；另一种理论是由于这种支付通道交易不像链上交易那样可追踪，中国的矿工担心他们的政府会关闭他们。当爆出其知名的 Ant 矿机挖矿设备被运往第三方矿工并带有一个允许制造商兼矿工关闭其竞争对手设备的“后门”时，比特大陆的声誉遭受打击。阴谋论四起：比特大陆计划颠覆 SegWit。该公司否认了这一点，并发誓停用该功能。但信任已经破裂。

2017 年春季的僵局一直持续着。然后，经过多次软分叉和硬分叉编码变更提案后，一群由长期比特币投资者巴里·席尔伯特领导的商人提出了 SegWit2x 妥协方案。得到了比特币商业社区的一些人（Blockstream 是一个明显的例外）的支持，这个两步计划是要在 7 月底之前让一定比例的矿工承诺首先实施 SegWit，然后在 11 月将区块大小加倍至 2MB。对于支持大区块的人来说，这看起来不过是一个面子工程，因为在一个开源设置中，没有人能够在四个月后将其他人限制在区块大小加倍上。尽管如此，这个计策奏效了。在 SegWit2x 最后期限之前不久，有超过 80%的计算能力表示他们将在 7 月 31 日后实施 SegWit，足以宣布它已成定局。然而，即便如此，在最后关头，席尔伯特的团队也没有获得明确的胜利：中国的一个脱离集团（据说是比特大陆支持的）表示他们最终会发起硬分叉。因此，在 8 月 1 日，就在比特币似乎能够避免痛苦分裂之时，分裂终于发生了。

在那个日期，一个自称为比特币现金的新版本，其新货币带有 BCH 符号（与比特币的 BTC 相比）以 8MB 区块容量启动。一旦一些反 SegWit 的矿工开始挖掘具有这些特征的区块，分叉就开始了。这就像一次股票分割 —— 从技术上讲，所有比特币持有者都有权拥有他们的原始 BTC 和相等份额的 BCH —— 但与股票分割不同的是，双方是彼此不兼容的。如果你对相等但不同的货币概念感到困惑，你并不孤单。对比特币交易所来说，这也是新的。但一旦一些人同意开始交易 BCH，市场似乎不知道该怎么处理这个新的叛逆比特币。价格最初从接近 300 美元的开盘价飙升到 700 美元，但随后，在迹象显示只有一个主要矿工组织支持它时，价格回落到略高于 200 美元，最终在夏季稳定在约 350 美元左右。与此同时，原始比特币飙升，在两周内上涨了超过 50%，至 4400 美元以上的新高。这对一对的比较表明，小区块的 BTC 和 SegWit 改革者获胜了。

Bitcoin Cash 仍在交易，尽管似乎无法取代比特币。原始的 SegWit2x 妥协计划，旨在将比特币的区块大小增加到 2MB，在 2017 年 11 月最终被放弃，因为它未能达成压倒性的共识，一方面受伤，一方面得意洋洋。比特币经历了一场荒谬的马戏团，许多外界自然认为这将损害其声誉并削弱其支持。谁想要这样一个不可管控的货币呢？然而，这里是原始比特币货币飙升至新高，不到十二个月的时间就实现了惊人的 650% 的涨幅。

为什么呢？嗯，首先，比特币已经证明了自己的抗打击性。尽管发生了内讧，但其区块链账本仍然完好无损。虽然很难看出争吵和矛盾是一种优势，但事实上，它证明了修改代码、引入货币系统变更的困难程度，被许多人视为比特币不可变性的重要测试。坚实的抗审查能力毕竟是比特币的一个定义性卖点，也是一些人认为这种数字货币有可能成为取代仍在运行的过时、可变的法定货币系统的世界储备资产的原因。实际上，可以说，这种不愿妥协、不愿前进，被外界视为比特币最大缺陷的失败，实际上可能是其最大特点。就像 TCP/IP 的简单、不变的代码库一样，比特币协议的僵局政治对系统施加了安全的刚性，并迫使创新向上堆叠。

从 BTC/BCH 分裂中得到的另一个教训是关于当区块链工程人才难以找到时资金流向的问题。它表明资金流向开发者所在之处，创新最有可能发生的地方，以及安全措施最有可能得到适当实施、更新和测试的地方。这就是 BTC，即原始比特币，承诺的：在 Core 和其他地方拥有丰富人才。BTH 无法获得如此丰富的创造力，因为以挖矿为重心的比特币社区无法吸引到同样热情的开发者。这并不是说 Core 开发者是圣人；许多企业对 Core 在系统中增加快速、小型的区块大小可能会减少压力的固执立场感到不满，并且一些人担心风险资本支持的 Blockstream 对该团队的工作产生了过多的影响。

无论如何，比特币远非市场上唯一的区块链游戏。在已建立的企业的企业界中，无论在金融还是非金融公司中，许多情况下都选择了许可的区块链。在这些安排下，一些权威，比如一些银行的财团，选择哪些实体参与验证过程。在许多方面，这是对中本聪成就的倒退，因为它让这些许可系统的用户再次取决于某些可信第三方的意见。有些人更愿意将这些私人网络安排描述为“受区块链启发”的，而不是区块链本身，并倾向于使用通用术语“分布式分类账技术”来描述它们。但它们确实使用了比特币引入的许多革命性特性，并且可以处理这些许可系统的批准成员在彼此之间共享信息时可能遇到的许多信任问题。最重要的是，许可的区块链在目前来看比比特币更具可扩展性，因为它们的治理不依赖于世界各地成千上万个身份不明的参与者的一致意见；只要成员们同意在处理需求上升时增加计算能力即可。但是，正如我们将在第六章讨论的那样，这些许可系统在可以在其中利用的创新类型方面可能天生受到更多限制。

对我们来说，无需许可的系统提供了最大的机会。虽然发展许可的区块链作为迈向更开放系统的过渡步骤可能会有很大价值，但我们相信无需许可和开放访问是我们应该追求的理想，尽管比特币的“内部纠纷”暴露出的挑战。这就是为什么我们在这本书中花了这么多时间去研究它们。

在无需许可的区块链领域，也出现了快速发展的步伐，新模型不断涌现，试图推进或增强比特币所提供的内容。许多项目不仅仅涉及比特币简单的货币提议，而是拥抱更广泛的去中心化计算概念。无论我们将这些视为比特币的竞争对手还是有趣的衍生品，它们都展示了自比特币出现以来，对新想法的探索变得多么充满活力。

以太坊：一个不可阻挡的全球计算机……带着漏洞

有一个平台，可以说吸引了与比特币一样多的关注，那就是以太坊，这是由俄罗斯出生的加拿大天才维塔利克·布特林构思的项目。比特币最早的“大想法”之一是，区块链网络可以用于在没有中介的情况下转移不仅仅是货币的东西。任何可以数字化的东西——土地所有权、合同、医疗记录、版权、法律合同、个人身份证明，甚至公司注册——都可以被插入到区块链交易中并记录在一个不可变的环境中。这意味着一个全新的、自动化的点对点交易经济可能成为现实。问题在于，比特币的单一用途货币设计并不完全适用于这些非货币应用。因此，布特林采用了核心的去中心化概念，并设计了一个针对“智能合约”的新程序，该程序可以运行专门的、去中心化的应用程序，或者称为 Dapps，允许用户交换任何东西。

这个想法是，以太坊网络上的计算机将竞争权利来执行 Dapps 的编码指令以发行和转移数字资产。这些计算机将会因此而获得以太坊的货币以太币作为计算工作的回报。由于网络是分散的，Dapps 可以以一种完全公正的方式运行，用户可以信任它按照合同规定执行。如果它能实现布特林和其他人所想象的一切，那么这个系统将会是一个全球的、分散的虚拟机，始终按照用户的编码指令执行，而没有任何一个计算机的控制。

当 **维塔利克·布特林（Vitalik Buterin）** 于 2013 年 12 月发布他的白皮书时，人们立刻被这个想法所吸引，认识到这是第一个真正可扩展的构建分布式应用的平台。在短短几年内，这个开源项目吸引了一大批热情的应用开发者。“你可能会碰到一个网页开发者、一个系统工程师、一位学者，或者一个工商管理硕士。一个跨性别者、一个热心的特朗普支持者、一位中国企业家、一个纽约城市的风险投资家，或者一个穿着带帽卫衣的技术人员，他手上有价值 500 万美元的以太币。这是一个容纳古怪性格的安全空间，”一位博主在以“owaisted”为笔名的关于主要以太坊开发者大会 Devcon 的文章中写道。

这并不奇怪；从这个去中心化平台衍生出的想法同样广泛而折衷。以下仅是其中的一部分：数字“自主”身份；去中心化医疗记录共享；自动化、市场驱动的太阳能微电网；去中心化商品交易所；众筹的、无所有者的投资基金；区块链认证的婚姻证书；可证明安全的在线投票系统；去中心化供应链和物流平台；物联网安全。清单还在继续。以太坊的内部编程语言被描述为“图灵完备”，这基本上意味着它具有很大的灵活性，允许人们编写各种各样的程序。

这一关键突破在于，除了其易于使用的编程语言之外，这种结构还能实现智能合约。正如密码学家尼克·萨博在比特币出现之前首次提出的那样，智能合约是一种在计算代码中表达根据事先约定的合同条件执行交易的方式。律师们经常对这种情况下使用“合约”一词感到不悦；毕竟，合同是指人类之间的法律约束协议。机器只能执行这些协议中概述的条款。然而，“智能合约”这个误称不应该让人忽视这样一个想法，即可信地执行的协议可能非常有用。

这里有一个简单的例子：两方签订了一份“差价合约”，这是一种有点像股票期权的协议。如果股票交易所的数据源提醒计算机，某一特定股票的价格已经下跌或上涨超过预先约定的水平——通常是初始购买价格——那么一方必须向另一方支付差额。借助基于以太坊的智能合约，这类交易可以在没有律师、第三方认证机构、托管代理人或类似人员介入的情况下自动执行，因为双方都相信这个防篡改的系统会按照宣传的方式运作。例如，智能合约可以在具有 GPS 功能的芯片检测到货物已被转移到指定仓库时，立即触发数字货币支付来转让商品所有权。因此，这些电脑合同可能会彻底改变企业之间如何管理其供应链关系的方式。

在 2014 年 1 月的北美比特币大会上推出以太坊后，Buterin 告诉作者，他想要创建一个“分散应用的安卓系统”。这将是一个开放的平台，类似于谷歌的智能手机操作系统，人们可以在上面设计任何新的应用程序，并在以太坊无主网络上以分散的方式运行，而不是在单个公司拥有的服务器上运行。当时，Buterin 只有 19 岁；当他意识到比特币和加密货币世界正在起飞，并且不会等待他时，他就辍学了滑铁卢大学的计算机科学课程。现在，他正在建立一个普遍可及的、分散的全球超级计算机。这是一个大胆的、革命性的想法。现在，有超过 600 个分散应用程序，或者称为 Dapps，运行在以太坊上，他看起来是正确的。仅在 2017 年的前 11 个月，系统的内部货币以太币的价值从 8 美元多上涨到 400 美元以上。那时，以太币的总市值达到 390 亿美元，是比特币总市值的四分之一。这一成功使得天才少年 Buterin 一夜成为千万富翁，并使他成为以太币及相关代币持有者的偶像人物。但在一个不断关注将太多关注集中在一个机构的风险的行业中，有人担心 Vitalik 的崇拜已经走得太远。

以太坊的技术尚处于年轻、不成熟和存在漏洞的阶段。由于其非常多功能且开放于各种计算可能性，它为攻击者留下了可以制造麻烦甚至更糟糕的空间。例如，网络经常受到分布式拒绝服务（DDOS）攻击，恶意黑客利用其代码中的漏洞向其网络中的分类账验证节点发送大量交易，使系统陷入瘫痪状态。由于它被设计为一个面向所有参与者的平台，并且有无数程序构建在其之上，因此通过这些程序有不成比例的大量可能的攻击向量，通过这些向量，恶意行为者可以试图伤害网络。

以太坊联合创始人约瑟夫·鲁宾在创建 ConsenSys 时增加了复杂性，这是一个类似于思想导向的商业发展部门，负责开发技术的新用例和应用。鲁宾团队的工作非常重要：它已经帮助证明了这项技术的巨大潜力，进而激发了开发者的热情并扩大了全球的区块链人才库；ConsenSys 还将去中心化架构的概念更深入地推向主流，与微软等公司合作，提供一套工具，允许初创公司和更成熟的公司的开发人员开发自己的以太坊动力去中心化应用。但是，这些项目的激增，跨越数百个新应用程序创建新钱包和智能合约，也意味着恶意行为者可以通过更多方式干扰事务或在最糟糕的情况下实施盗窃。例如，Parity 钱包由以太坊联合创始人兼首席架构师加文·伍德设计，作为一种通过浏览器无缝参与以太坊智能合约的方式，因黑客攻击而损失了 3000 万美元。

尽管这些失败会影响银行的使命关键服务，但开源开发精神将这些攻击视为教学时刻，是使系统更强大的机会。其核心理念是，每个使用以太坊的人都是在“买方自负”的基础上行事。只要达成共识，这种不断发展的过程被视为一种集体改进，使以太坊变得更强大、更动态和更适应性强。至少理论上是这样的。实际上，当涉及大量资金时，人们会非常维护自己对这些资金的权利，这反过来意味着成功的开源项目如以太坊和比特币一样，可能会变得非常政治化。这使得比特币和其他早期以太坊创始人——像 Lubin、Wood 和首席传播官 Stephan Tual 这样的人——容易受到批评，认为他们把个人利益放在首位。当然，这样的分歧是可以预料的；有趣的是以太坊社区与比特币社区在处理这些问题上的不同方式。

从一开始，以太坊是由一群可以识别的人领导的项目，他们有着刻意的战略来开发和盈利推广一个产品。以太坊的创始人拥有比早期比特币社区更像初创企业的心态。比特币几乎是悄悄地出现的，一个未知的创造者慢慢地向早期志愿用户和开发者的狭窄子集介绍，直到它在更广泛的世界中慢慢但确定地传播开来。而比特币代币是从一开始就从零开始的，任何知道它的人都有资格参与。而以太坊则通过“预挖矿”开始，预挖了约 7000 万代币，这些代币被出售和分配用于筹集资金进行开发、管理和营销，并奖励创始人。在当时这是其类别中最大规模的众筹销售之一，以太坊在 2014 年通过“预售”大部分这些代币筹集了约 1840 万美元。此外，另一批预挖的以太代币——总数的 16.5%，当时价值约 350 万美元——被留出来给创始人和开发者。对于从那个池子里分配以太的团队成员来说，这被证明是一个意外收获。这些同样的代币截至 2017 年 11 月下旬价值为 47 亿美元，仅仅在三年内增长了超过 100,000%。

这种大笔资金涉及的动态可能会引发创始人的利益与其他用户的利益不一致的担忧。以太坊的解决方案是非盈利的以太坊基金会，该基金会负责管理预挖和预售的以太币和其他资产的池子，这一模式后来被许多 ICO 代币销售所采用。目前，越来越多的人通过以太坊致富，以至于这些顶尖人物在其他代币持有者中被视为英雄。如果有什么问题，那就是成功崇拜和对开发者毫无错误的期望。与比特币相比，以太坊的主要开发者更像是高级管理人员。他们没有像常规公司的 C-suite 那样的执行权，主要是因为用户社区可以像比特币一样拒绝更新软件。但实际上，他们对以太坊治理的政治影响力要比比特币的开发者大得多。

这一点最好在前一章中讨论的价值 5500 万美元 DAO 攻击的后果中得到了很好的阐述。白帽开发者在攻击者能够耗尽整个投资基金之前，堵住了不断流失的 DAO 账户，但问题仍然存在：如何处理 5500 万美元？以太坊的领导者们知道，通过进行软件调整，他们可以改变对资金的权利，从而收回资金，只要他们在 DAO 代币的二十七天锁定期到期之前采取行动。问题是：他们应该吗？在几次小规模的编码更改失败后，他们决定采取激烈的解决方案：以太坊的核心开发者“硬分叉”以太坊区块链，实施了一个向后不兼容的软件更新，使从某个日期开始的攻击者的所有交易无效。这是一个激进的举动。对于加密货币社区的许多人来说，这引发了对以太坊至关重要的不可变性的质疑。如果一群开发者可以强制更改分类帐以覆盖用户的行为，无论这些行为多么令人不快，你如何信任这个分类帐不会被篡改或再次被操纵，从而符合一组人的利益而不是另一组人的利益？这不是毁掉了整个价值主张吗？

嗯，在许多方面，以太坊团队的运作方式类似于现实世界危机期间的政策制定者。他们做出了一些伤害了一些人但最终是为了更大利益而采取的艰难决定——希望通过尽可能民主的过程来确定。组织者竭尽全力解释并获得对硬分叉的支持。就像 Segwit2x 和其他比特币改革提案一样，如果大多数以太坊矿工不接受它，它就不会生效。就所有目的而言，这个修复程序是民主的——可以说，比国家政府通过非参与式民主模式进行的危机决策制定要民主得多。由于以太坊更多是一个由软件工程师组成的社区，而不是由加密货币投资者组成的社区，所以它比比特币在硬分叉提案上的斗争要少争议。

更重要的是，事实证明，不满意的以太坊参与者也不是完全无力的。一群人决定继续挖矿和交易较旧的、未经分叉的以太币版本，其中 DAO 攻击者的硬币仍然存在于交易历史中。他们称之为以太坊经典版，采用 ETC 作为其货币的代码，并与经过分叉的以太坊的 ETH 进行交易。现在你有了两个版本的以太坊。这造成了很多混乱和一些有趣的套利机会——以及一些教训，当两年后他们自己的货币分裂时，可以给比特币交易者一些教训——但它也可以被视为一个异议团体非暴力行使他们分裂权利的行动。一年多过去了，以太坊经典版仍然存在，尽管它的价值只是以太坊的一小部分，这意味着 DAO 攻击者的资金——其在公共以太坊区块链上的动向一直受到密切关注——比起保存在 ETH 中，价值较低。

这些黑客行为，以及解决它们的匆忙行动，看起来很疯狂，对吧？但让我们换个角度来看。首先，这种货币混乱是否比 2008 年的金融危机更令人不安？还是随后的华尔街交易丑闻的厚颜无耻？而且，随着这些疯狂的黑客行为和救援行动的发生，每一次都提供了学习的机会，导致了以太坊模型的改进，并增强了对它的信心。它们催生了新的创新，如由布特林和闪电网络联合创始人约瑟夫·普恩个人创建的 Plasma，它的目标与闪电网络对比，旨在将资源密集型的交易和智能合约执行转移到一个安全的“链下”环境中，减轻了以太坊区块链的负担。如果它成功了，它可能会使以太坊准备好迎接真正的企业级使用。在这些创意的爆发中，由数十亿美元的资金涌入这一领域所助长的，黑客攻击似乎微不足道。

尽管如此，比特币和以太坊的试验表明，开放平台、去中心化系统的治理是困难的。这需要具有竞争利益的不同团体达成一致才能做出任何改变。尽管如此，在被吸引到这个领域的开发人员富有创造力的头脑中，限制激发了他们解决这些问题的渴望。这就是为什么区块链创新中最令人兴奋的一个方面是，现在有很多伟大的想法来解决早期区块链平台的缺陷。

互联网早期，许多末日预言者认为自主计算机永远不会安全地彼此通信，主要是因为加密、法律和其他保护措施尚未到位。最终，为解决这些问题而付出的大量智慧战胜了它们。其余的就是历史。我们相信同样的结果可能会在这里出现。我们在这一章节中，简要地看了几种推动我们朝着这些目标前进的最新解决方案。

更好的比特币？

比特币和其他早期加密货币的一个主要缺陷是密码学家们痴迷的源泉，但常常被普通公众忽视：缺乏隐私。尽管人们普遍认为比特币是一个匿名工具，并且偶尔被犯罪分子和黑客公开使用来隐藏他们的身份，但事实上，比特币区块链是一个非常公开的账本。虽然你看不到任何名字，只有字母数字字符串作为地址，但每笔交易对所有人可见且可追踪的事实意味着人们——以及法律——最终都能追踪到你，特别是现在受监管的比特币交易所必须遵守了解你的客户（KYC）要求。这引发了所有深切关心隐私基本人权的人的紧张情绪。隐私倡导者表示，如果没有真正的隐私，无阻碍的开放经济访问和社会互动将始终是一种幻想，因为不受欢迎的公开暴露限制了人们进行自由表达和自由商业的能力。这就是为什么各种程序员正在设计更不可追踪的数字货币的原因。

你可能会问，为什么我们不能在那些可恶的勒索软件黑客兑现美元时抓到他们呢？嗯，首先，特定币种的永久记录的区块历史可能会损害其相对于其他币种的价值。正如新加密货币 Zcash 的创始人 Zooko Wilcox-O’Hearn 所解释的那样，这一切都是为了确保货币的“可替代性”——即“如果你要用某种东西支付某人，并且你有两个，那么给他们哪一个都没关系。”换句话说，每个美元、日元或英镑的价值都是相同的，不管相关钞票上的序列号是什么。而比特币并非总是如此。当 FBI 拍卖了从 Silk Road 非法商品市场的罗斯·乌尔布里希特处没收的 144,000 比特币（截至 2017 年 11 月底价值 14 亿美元）时，这些硬币的价格显着高于市场上的其他硬币。这个想法是，它们现在已经被美国政府“洗白”了。相比之下，其他可能有可疑过去的比特币应该价值更低，因为未来可能被扣押的风险。这几乎是不公平的：想象一下，如果你钱包里的美元被征税了 10%，因为商人知道五年前，你不知情地，它们曾被一个毒贩处理过。为了避免这些扭曲，并创建一个更像可替代现金的加密货币，Wilcox 的 Zcash 使用复杂的“零知识证明”来允许矿工证明持有货币的人没有双重支出，而又无法追踪地址。

Zcash，以及其他新型的、加密安全的匿名加密货币，如 Dash 和 Monero，引起了很大的关注。并不仅仅是来自自由主义者和其他想要隐藏身份的人。银行也被吸引到了这项技术，原因非常简单：他们不想让他们或客户的交易被市场揭示出来，因为这会削弱他们做交易的能力。事实上，除了这些新的“隐私币”之外，金融领域对隐私解决方案的兴趣激增。2017 年 2 月，包括摩根大通和瑞银在内的七家全球最大的银行与芝商所集团、英特尔和微软联合成立了以太坊企业联盟，旨在“定义符合大公司对性能和隐私的高要求”的企业级软件。

此外，比特币和以太坊面临的那些棘手问题也是如此：如何安全地实现可扩展性——也就是说，如何处理更多的每秒交易，而不会创建一个过于集中或容易被攻击的平台——以及，相关的问题是，如何建立一个民主治理结构来解决这些问题。两个新的区块链项目，Tezos 和 EOS，都在解决这些问题。在 7 月的 12 天内，它们分别筹集了 2.32 亿美元和 1.85 亿美元，暂时成为历史上最大和第二大的众筹活动。（Filecoin 随后的发行超过了这些交易，吸引了 2.52 亿美元，其中大部分是在仅仅一个小时内完成的。）

EOS 是 Daniel Larimer 的杰作，他是去中心化应用和分布式组织的早期先驱。它还包括倍受尊重的密码学家 Ian Grigg，他提出了三重记账法。EOS 背后的公司 Block.one 允许矿工通过审查消息数据来验证记录并确认交易，这是一个明显轻量级的任务，而其他无许可的区块链要求审查历史余额。EOS 经过了更简单的计算需求测试，可以处理每秒 50,000 次交易，并且 EOS 表示最终将能够达到每秒数百万次的交易。

Tezos 的结构旨在让社区更容易就协议变更达成共识。该系统允许 Tez 代币持有者投票支持特别代表，这些代表有权批准分阶段的协议变更，并且融入了灵活、动态的规则，让用户随着时间定义和发展自己的治理模式。当我们准备印刷时，Tezos 的可行性受到了质疑，因为一个丑陋的内部争吵，在第四章有所提及，动摇了人们的信心。尽管如此，Tezos 对更健壮的治理系统发展的贡献仍然是重要的。

每一个新的想法都会有缺点，然而，如果由严肃的工程团队开发，每一个想法都可以推动去中心化、功能性治理、可扩展性和隐私向前迈进。这在诸如 Litecoin 这样的替代币上已经实现，其对工作证明算法的替代性方法表明，阻止高性能、工业型参与者进入挖矿网络是可能的。其他一些币种——尤其是在第四章中讨论的 Vertcoin——已经改进了 Litecoin 的模型。Vertcoin 避免了 Bitcoin 的不受欢迎的经验，即对区块奖励的无限制竞争促进了计算密集型、耗电量大的挖矿操作的集中。

所谓的权益证明算法也有各种不同的迭代版本，它根据用户持有的硬币数量确定用户验证交易的权利。权益证明背后的核心思想是，通过这种“利益关系”，验证者被阻止破坏记录系统，而这个系统对维护他们资产价值至关重要。对该模型的批评之一是，没有工作证明的电力消耗成本，权益证明系统中的攻击者将简单地挖掘多个区块，以增加他们在分类帐中插入欺诈性区块的机会。但是，最近出现了一种改进的委托权益证明模型，特别是 EOS 所采用的模型，具有更强大的安全级别。称为委托权益证明，它允许用户指定某些计算机所有者作为代表来投票评估矿工的表现和诚实度，这是一种代表性的立法机构，以遏制行政权力。

我们将其与宪政政府进行比较并非巧合。正如我们所强调的，区块链的协议规则充当着我们经济行为的一种治理形式。许多企业都在押注这项技术将为整个数字经济提供一个新的治理层。这就是为什么弄清楚如何最好地治理这些平台本身也是至关重要的原因。好消息是，通过这种开放源代码、临时性、全球化的竞争性思想和创新的过程，解决方案正在被发现。也许像比特币和以太坊这样的已建立的区块链会从新兴企业的改进中吸取教训，并将其吸收到其模型中。或者也许他们承担的风险太大而无法改变，将自己被颠覆。或者也许会出现一种全面的加密工具，能够在所有这些不同模型之间提供互操作性，使它们都保持活力，但不使任何单一玩家占据主导地位。

我们必须观察。重点是，这些不同系统之间的竞争很重要。决定对这些新兴经济系统进行哪些变化不仅关系到中国的比特币挖矿公司或帕洛阿尔托的书呆子密码学家。它影响我们所有人的未来。
