| ![image](img/chapter_title_corner_decoration_left.png) |  | ![image](img/chapter_title_corner_decoration_right.png) |
| --- | --- | --- |

![image](img/chapter_title_above.png)

# 第五章：加密货币是如何工作的？

![image](img/chapter_title_below.png)

就像任何传统货币一样，你可以用加密货币在实体店和在线购物。你还可以将它们用作投资工具或交易或交换手段。虽然数字货币不一定具有与实体工具相同的面值，但你可以把它拿在手里，并通过你的“钱包”从一个地方带到另一个地方。本质上，你的钱包持有连接你与数据库中维护的货币的代码行。一旦满足交易的所有条件，货币就可以转让给个人或组织以完成交易。

虽然这个解释可能听起来有点复杂，但传统银行交易和加密货币交易之间实际上并没有太大区别。当你把钱存入银行账户时，你必须满足某些条件才能取回它。他们可能会要求你提供身份证、过去交易的记录，或者提供一个与他们档案中匹配的签名。

在这种情况下，银行作为第三方，在你可以对账户进行任何更改之前，验证他们档案中的数据。然而，在使用加密货币时，你消除了中间人，并通过代码，你成为确保在决定转移资金之前满足所有条件的责任人。

加密货币交易过程中有几个步骤。

1.  交易是在线提交的。

1.  请求被 P2P 网络节点接收。

1.  网络随后验证请求者的身份和交易详情。

1.  矿工随后对请求进行验证、接受或拒绝。

1.  如果批准，它将被记录到数字数据库（区块链）中。

1.  交易随后被添加到存储代码列表中。（一旦进入此处，它将无法被修改或删除。

1.  交易随后被列为已完成。

虽然这类交易涉及几个步骤，但通常只需几分钟就能完成。该系统相当高效且易于操作。不过，让我们再详细看看发生了什么。

加密/解密

加密仅仅是将交易相关的数据转换成一行代码的工具。这样做是为了让除了感兴趣的各方之外的所有人都无法访问这些信息。就像你在网上银行账户上使用密码和密钥代码一样，你的数字货币也会做同样的事情，但会更加详细。用户将创建两个通过数学方程式相互关联的密钥。公钥用于创建代码，这被称为加密，第二个密钥，称为私钥，用于解码或解密代码。

当你准备支付或购买时，你可以通过提供给对方你的公钥来完成，这会让他们访问你的虚拟钱包。然而，为了让对方收取你的付款，他们还必须拥有私钥，这会让他们访问到分配的资金。

去中心化

加密货币将决策权从中心位置移交给各方参与。而不是将所有数据保存在单一服务器上，信息存储在遵循相同基本数学规则的网络同心系统中。

在去中心化网络中，没有个人或团体对资金的流向有太多控制权。其价值由实际使用该系统的人决定。由于每个人都与每个人相连，没有中心化的弱点会导致系统失败并影响大量成员。

分布式系统

分布式系统与去中心化网络紧密相关，它是由一群通过中间件连接起来的自主计算机组成的网络。它们共享相同的资源，为用户提供集成的网络环境内相似的功能。

这些计算机集合作为一个单一的单元一起工作，并分享全球数百万台个人计算机提供的处理能力。想要成为这种网络的一部分的人通常必须首先下载并运行一个小型程序，该程序在计算机空闲时启动。

开源代码

开源代码是一种任何人都可以检查、修改和提高的软件程序。它通常附带一个许可证，允许程序员按照可能支持他们需求的方式调整软件。为了开源代码，软件必须满足几个不同的标准：

● 软件的免费再分发

允许用户作为来自其他来源的聚合分发计划的一部分出售或赠送软件。作为许可证的一个条件，他们不能要求为此分发支付版税或费用。

● 源代码的可用性

源代码必须公开提供，且允许与编译后的形式一起分发。获取源代码的方法必须广泛宣传，并通过互联网以合理的价格提供。

● 派生作品

许可证必须允许代码被修改，修改后的工作必须免费根据与原始软件相关的相同条件进行分发。

● 作者源代码的完整性

修改源代码的限制只有在许可证允许在构建时分发“补丁文件”的情况下才允许。许可证必须明确说明，分发只能来自修改后的源代码，并且可能要求衍生作品使用与原始软件不同的名称。

● 反歧视政策

开源代码的分发在任何方式上都不能对任何个人或团体进行歧视。

● 不能对任何特定领域或事业进行歧视

不能对任何类型的业务或任何特定的事业进行歧视。分发不能被任何团体或组织拒绝。

● 许可证分发

程序的权利适用于任何接收分发的组或组织。

● 许可证不能限制任何特定产品

不能依赖于任何程序或任何特定的分发。

● 不能允许限制任何其他软件程序。

不允许要求任何其他程序也必须是开源的，或者以任何其他形式出现。

● 必须技术中立

不能依赖于任何个人技术或界面。

开源代码有不同的许可证类型，允许程序员在一定条件下修改他们的软件。

使用开源代码有几个优点

1.  当源代码持续修改时，您可以获得更高质量的结果。每次传递时都会进行测试和修改，从而在每个阶段提高代码质量。

1.  对于程序员来说，这是一种学习并应用新技能的好方法，可以应用到许多流行的程序中。

1.  许多人认为开源代码比专有软件更可靠、更安全，因为问题更有可能被识别和纠正。

1.  由于它出现在公共领域，因此更有可能长期可用。

1.  在大多数情况下，使用和修改是免费的，

公共账本（区块链）

数据库的核心是公共账本。有时被称为区块链，它是网络上的每一笔交易进行的公共记录。

公共账本保持一个连续的“区块”列表，其中每笔交易以线性、按时间顺序记录。每当添加一个区块到账本中时，与网络连接的每台计算机（节点）都会自动接收一个下载的副本。

交易

当您使用加密电子签名发送任何类型的数字货币时，就会创建一个交易。然后通过公共账本添加到区块链中，该账本发送到网络上的每个节点。

节点

任何参与全球网络并且使用协议让节点之间进行通信的计算机都是一个节点。每个节点都能够验证区块中的每一笔交易。

它从交易中获取数据并验证每一个细节，然后将其与自己的账本对齐，以确保资金没有被提前花费。如果它收到任何不正确的信息，它将首先拒绝交易，并将与你的所有通信停止。这迫使含有不正确信息的节点被隔离并被迫退出系统。

挖矿

验证交易并将它们添加到区块链或公共账本的过程称为挖矿。这涉及到收集所有交易并将它们形成成区块，以及解决数学代码。这有点像先到先得。任何首先解决谜题的计算机都有权将下一个区块添加到区块链上，并因找到解决方案而获得奖励。

由于每一笔交易都是在一个完整的同伴网络中进行的，系统中每个人都对所有交易历史有相同的访问权限。即使数据库无法更改，每个人仍然可以访问整个网络中包括每个参与者身份（已编码）的每一笔交易。每个记录还将包含买方或卖方的私钥，其中包含每笔交易的所有确认信息。

当建立新的交易时，它会被自动输入系统，一旦所有确认过程都被验证，网络上的每一个同伴都会收到它。

如果没有进行确认，请求将永远停留在初始阶段并且可以被取消。然而，一旦它们得到了确认，就会被添加到区块链中；从那时起，就无法更改。矿工的职责是在网络内确认所有的交易。

任何拥有合适硬件的人都可以作为同伴进入系统并成为一名矿工。
