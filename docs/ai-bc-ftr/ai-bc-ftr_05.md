© 作者（们），独家授权给施普林格自然瑞士股份公司 2021 年 Y. Maleh 等（编）《未来网络安全应用的人工智能和区块链》大数据研究 90[`doi.org/10.1007/978-3-030-74575-2_4`](https://doi.org/10.1007/978-3-030-74575-2_4)

# 物联网中的区块链安全

Fatima Zahrae Chentouf^(1  ) 和 Said Bouchkaren^(1  )(1)ERMIA 实验室，计算机科学系，ENSAT，阿卜杜勒马利克·埃萨迪大学，塔恩吉尔，摩洛哥 Said Bouchkaren 邮箱：sbouchkaren@uae.ac.ma

## 摘要

在短短几年的时间里，物联网（IoT）的概念变得越来越大且多样化。此外，使用新技术至关重要，特别是对于企业和机构，物联网被认为是智能城市的引擎，因为它可以应用于不同的智能城市服务，以便促进人类的日常生活方式。然而，这种演变带来了网络安全挑战。因此，安全和隐私必须成为此景观中的主要主题。同时，通过建立有效的安全性，使物联网的保护和可持续性成为必不可少的问题，以便保证智能城市生态系统提供的服务的可用性。在本章中，我们介绍了区块链技术的概述以及它如何帮助塑造更安全的物联网系统，并探讨了阻碍该概念增长的主要挑战和安全问题。

关键词：物联网 智能城市 网络安全 区块链

## 1 引言

众所周知，如今人们正在经历着通信技术的巨大变革，确实他们使用了很多东西，如智能手机，智能手表，汽车等等其他设备。那么人们如何将所有这些设备连接在一起呢？这就是物联网（IoT）的概念。

最近，这个概念在研究和学术界引起了广泛关注，尤其是在工业发展之后，制造具有在网络内识别自身、通过互联网进行通信并与其他连接到互联网的物品进行交互能力的“东西”。事实上，物联网（IoT）被认为是一种新兴技术，在我们的日常生活中扮演着重要角色。PTC 首席执行官詹姆斯（吉姆）·E·赫佩尔曼回答为什么企业应该投资物联网时说，地球上约有 70 亿人口，其中三分之一通过智能手机、平板电脑、计算机等连接到互联网，但在 2010 年，连接到互联网的东西数量超过了地球上的人口，而这些东西不仅仅是智能手机和计算机，它们可能是汽车、恒温器、Fitbit、建筑物、医院等，这意味着连接事物的趋势正在加速，并且随着到 2020 年连接设备数量的增长，预计将有 50 亿个连接设备[1]。

1982 年，凯文·阿斯顿提出了物联网的概念。他的观点是为了将人类的设施提供给与虚拟或幻想条件通信的能力[2]。物联网中的物品或对象可以是任何我们可以指定 IP 地址的计算设备，并且该设备具有通过网络传输信息的能力。这些设备内嵌有传感器，使得这些设备能够检测环境并收集数据，然后将收集到的数据传输到互联网上。物联网允许远程检测和控制。因此，我们可以说物联网是具有连接、收集、交换数据和通过标准协议通信能力的事物的全球网络。明确地说，这意味着在没有人类干预的情况下允许机器之间交换数据的通信。换句话说，物联网现在被应用于各种主题，它是一个包含大量传感器和其他设备的物理和虚拟系统，通过互联网收集、传输和交换信息。

物联网的目标是将一切连接到互联网，以实现智能化的事物。比如智能城市、智能学校、智能医院和智能家居[3]。因此，这里的问题是每个试图与其他智能物品连接的新设备的身份验证。因此，物联网应用覆盖了智能城市中的不同领域，以及人类佩戴的可穿戴设备，如眼镜和手表、连接车辆、智能农业和医疗保健。这种技术进化，特别是信息和通信技术（ICT），改变了我们的社会。因此，“智能城市”概念的出现被视为更有效和可持续地应对现代城市和生活必需品的挑战的一种方式。因此，有必要全面了解现有机会，并将其与城市的具体挑战联系起来，因此智能城市的目标是通过提高服务质量向市民更好地利用公共资源，同时降低成本；以及公共管理的运营方面。

为了改善城市的智能服务，有必要检测和收集其环境、基础设施、事件和人员的数据。因此，物联网的介入并不令人意外，因为它是智能城市的关键驱动力。事实上，智能城市需要将信息通信技术（ICT）和物联网（IoT）相结合，以提高市民的生活质量。这意味着智能城市将促进诸如医疗保健、经济、商业、农业、交通和教育等多个领域的改善[4]。这些技术依赖于设备之间的互联性。然而，如果这种互联性容易受到攻击，那些连接的设备可能会面临几个安全挑战，如果后期会产生不良影响，就应该在规划阶段制定安全计划，可能会造成级联效应。

过去 10 年中，区块链技术变得非常重要，这个概念随着比特币的成立而出现，比特币是一种数字加密货币，于 2008 年由中本聪[5]创立。因此，区块链可以帮助降低成本和障碍，消除单点故障，并防止审查，确保所有参与交互的各方之间的透明度和信任。区块链技术提供了一个共享的账本技术，允许网络中的任何参与者查看单一系统的账本。换句话说，区块链包括共享一个数字账本，记录了公共或私人点对点网络中的交易。账本永久地分布在网络的所有成员节点中，以密码哈希链接块的顺序链，因此数据块被组织并链接在一起。通过在物联网中集成区块链技术，可以通过使用受信任的公共账本来强制执行安全性，而无需第三方。因此，许多公司投资于部署区块链，过去几年在区块链领域也进行了大量的研究[6]。

本章的其余部分安排如下。第二部分包含物联网和区块链的背景。在第三部分中，介绍了一些物联网的挑战。第四部分描述了区块链技术在物联网系统中的集成情况，以提供安全性以及一些相关工作。最后，我们用一个结论来结束这一章节。

## 2 背景

### 2.1 物联网

#### 2.1.1 历史

连接对象的历史始于 1999 年，当时射频识别（RFID）技术的先驱凯文·阿什顿[7]创造了“物联网”这个术语。同年，这一概念诞生于美国，尤其是在麻省理工学院（MIT）。该实验室致力于利用射频识别和无线传感器网络创建连接对象。物联网（IoT）起源于机械化和标准化，应用于对硬件和数字媒体上的文件和信息处理的自动化。随着全球化的推进，物联网迅速传播。逐渐地，物体被改造（例如加入射频识别芯片）并变成了与中央服务器相关的“连接对象”，这些服务器能够彼此通信或与各种服务器和不同的参与者在越来越少集中的方式下进行通信。

2003 年，法国第一个互联网运营商（Francenet）的创始人拉菲·哈拉吉安（Rafi Haladjian）发明了 DAL 灯。这是一款配有 9 个 LED 的情绪灯，提供不同的颜色，售价为 790 欧元。两年后，创始人的公司推出了 Nabaztag，这是一只通过 Wi-Fi 连接的兔子，可以大声朗读电子邮件，发出视觉信号，并播放音乐。然而，物联网现象是在 2007 年起飞的，随着智能手机的普及和苹果发布第一款 iPhone。数字化正在进行中。这场革命最终成为了远离互联网的第一步。这项技术不再仅限于家庭或办公室，而是全球范围内的任何地方和任何时间都可以访问。世界人口逐渐接受了这一挑战，无论是使用笔记本电脑的便利，还是自 2010 年以来向公众提供的平板电脑。首批智能手机或平板电脑的推出要早得多（三星的 GridPad 平板电脑于 1989 年推出），但数据的数字化和技术进步还没有准备好应对它目前正在经历的繁荣。其他连接的物品也在同一时期出现。例如，2005 年推出的 Nabastag（或 Karotz）兔子是第一个连接的娱乐物品。但是，希望将一切连接到互联网并将所有物品连接到彼此的愿望已经存在了许多年。据 Gartner 称，2009 年有 25 亿个连接的物体，到 2020 年将有近 300 亿个物体连接到互联网。因此，我们正在经历物联网行业的指数增长。

物联网可以远程、即时、自动地测量一切。这就是为什么它是一项革命性的技术。重要日期：

+   1999 年：Kevin Ashton 创造了“物联网”的术语;

+   2003 年：创建第一个连接的物体，DIAL 灯;

+   2007 年：智能手机的出现;

+   2008 年：创建 IPSO 地址，连接的物体的 IP 地址，使它们可以相互交互;

+   具体应用[8]：

+   家庭自动化：这项技术允许在家中远程管理许多功能：打开和关闭百叶窗、启动供暖系统、电器、灯等。

+   自动驾驶汽车：自动驾驶汽车是一种可以在没有驾驶员干预的情况下移动的汽车。首个推出这一技术的是 Google，在 2010 年。许多障碍仍然阻碍着它的普及，比如成本、车辆目前的速度较慢以及安全问题。

+   连接的垃圾箱：今天，我们使用常规的垃圾收集系统，不管垃圾箱有多满。拥有连接的垃圾箱可以优化垃圾清理，只有在需要时才进行清理，而不是定期进行。

+   连接的牙刷：它收集你刷牙的方式并进行分析。这有助于培养孩子良好的刷牙习惯，甚至可能是他们的父母的习惯。

+   连接的钥匙：承认吧，当你离开家时，你曾经到处寻找钥匙。有了连接的钥匙，这种情况再也不会发生，因为你的手机会让你在任何地方找到它们。

#### 2.1.2 定义

根据国际电信联盟[9]的说法，物联网（IoT）是“信息社会的全球基础设施，通过使用现有或不断发展的互操作信息和通信技术互联（物理或虚拟）对象，提供高级服务”[10]。实际上，物联网的定义并不固定。它跨越概念和技术两个维度[11]。从概念上讲，物联网描述了具有自己的数字身份并能够彼此通信的连接物理对象。这个网络在物理世界和虚拟世界之间创建了一种门户。

在功能级别上，物联网指的是一种融入我们日常生活以简化生活、节省时间并减轻我们大脑记忆物流数据（行程、日记等）任务的计算机系统。它允许我们创建新的用途，例如，实时了解朋友的位置信息。它还使得进行全面的测量成为可能，以前我只满足于简单的面板，比如在首都街道上测量汽车交通。物联网（IoT）的新应用正在推动全球智慧城市倡议。

从营销的角度来看，物联网对产品政策、消费者关系和研究都有影响，并且可能导致基于供应设备或自动补货等新的分销方法的出现。物联网还通过其产生的大量收集数据对大数据现象及其挑战的发展做出贡献。

#### 2.1.3 特征

连接对象是具有虚拟身份和个性的对象，在现实生活空间中运作，但也使用智能界面连接到互联网并与其他对象通信。与该对象相关联的有 5 个特征。

2.1.3.1 标识

按类型或实体进行识别是物联网的基本概念。一般来说，标识符是数字的。例如，消费品通常具有条形码，ISBN 书籍等。孤立的对象也可能有分配的数字：RFID 芯片使用 96 位套件存储电子产品代码。

2.1.3.2 对环境的敏感性

虽然它可以报告自身的状态，但物体也可以传达关于其环境的信息：温度、湿度、振动水平、噪音水平或地理位置。如果带宽允许，一个物体还可以记录或播放音频和视频流。

2.1.3.3 交互性

最新的技术进步使得各种各样的物体和设备之间能够互联。大多数情况下，对象不需要永久连接到它们附着的网络。许多所谓的“被动”对象，如 RFID 芯片，只需在它们需要交换信息时被激活。“主动”对象可以持续连接，或者当连接可用时连接。

2.1.3.4 虚拟表示

它描述了云端存在的程序能够代表其附着并完全了解的物理对象，并以其代表行事的可能性。因此，即使一个物体没有实际智能，理论上也可以拥有复杂的虚拟表示。这种虚拟表示有时被称为网络对象或虚拟代理。

2.1.3.5 自主性

物体通常是从一个单一点逐个处理，并且独立于远程控制进行操作。在这里，无状态的概念非常重要：不能有一个中央智能以极权方式控制所有个体对象。相反，每个对象都在某种程度上是自治和独立的，具有在必要时被询问和与网络中的其他对象交互的能力。

#### 2.1.4 生命周期

连接对象的完整系统集成了四个不同的组件，在生命周期中执行，如图 2.1 所示。![../images/507793_1_En_4_Chapter/507793_1_En_4_Fig1_HTML.png](img/507793_1_En_4_Fig1_HTML.png)

图 2.1

物联网生命周期

2.1.4.1 数据收集（传感器）

首先，传感器从其环境中收集数据。这可以是简单的噪音水平读数，也可以是对照片或视频流的完整读数。传感器被使用，因为它们经常可以被分组在一起或成为执行远远不止传感其环境的设备的一部分。例如（您的手机是一个具有多个传感器的设备：摄像头、加速度计、GPS 等），但您的手机不仅仅是一个传感器。无论如何，无论是一个独立的传感器还是一个设备，第一步总是相同的：某物正在捕获其环境的信息。

2.1.4.2 通信（连接）

接下来，信息被发送到云端，但需要一种方法来传输。传感器/设备可以通过多种方法连接到云端，包括：蜂窝网络、卫星、WIFI、蓝牙、LPWAN（低功耗广域网）或通过以太网直接连接到互联网。每种选项在能源消耗和带宽方面都有自己的限制。选择最佳连接方式取决于连接对象的特性和应用。最终，所有选项都提供了相同的结果：将信息发送到云端。

2.1.4.3 分析（信息处理）

一旦信息在云端，软件对其进行处理。处理可以非常简单，比如检查先前定义的温度读数是否在可接受范围内。处理也可以非常复杂，比如通过计算机读取的视频识别特定对象。该应用用于识别房屋内的入侵者。

2.1.4.4 结果（用户界面）

信息首先被处理成对最终用户有用且可读的形式。它可以以向用户发送警报的形式呈现（电子邮件、短信、通知等）。例如，当房屋内检测到入侵者时，向用户发送短信。此外，用户通常具有允许他们主动检查系统的界面。例如，我们的用户将能够在手机应用程序或网页上看到来自房屋内部的视频流。根据连接对象的范围，信息流不总是单向的。此外，用户还可以对系统发出操作指令。例如，当他通过传感器检测到热浪时，用户可以直接从手机调节冷库的温度。其他操作会自动触发。例如，在某些系统上，用户可以创建脚本，按预定义规则触发。因此，系统的连接对象将能够直接向有关部门发出警报，而不是直接向您发出警报。

#### 2.1.5 物联网应用

2.1.5.1 智能家居

家庭自动化是房屋内部建筑的自动化，称为“智能家居”。家庭自动化系统控制照明、空调、娱乐系统和电器。它还可以包括家庭安全，例如门禁和报警系统。连接到互联网时，家用电器是物联网的重要组成部分。2017 年，Terence K.L. Huia 等人[13]在他们的论文中提出了使用物联网技术将对象互连以构建智能家居的方案，根据主要要求，如异构性、自我配置、可伸缩性、环境感知、用户友好性、安全性、隐私性和智能性。

2.1.5.2 建筑结构健康

对城市历史建筑的适当维护需要持续监测每座建筑的实际情况，并确定最容易受外部因素影响的区域。城市物联网可以提供一个分布式的结构完整性测量数据库，由位于建筑物中的适当传感器收集，例如用于监测建筑物应力的振动和变形传感器，在周围地区用于监测污染水平的大气传感器，以及用于完整性环境条件的湿度传感器。这个数据库应该减少人工操作员进行昂贵的定期结构测试的需求，并允许有针对性的和主动的维护和修复行动。最后，可以将振动和地震测量结合起来，以更好地研究和理解轻微地震对城市建筑物的影响。这个数据库可以向公众开放，以便让市民意识到保护城市历史遗产所付出的努力。然而，这项服务的实际实施需要在建筑物和周围地区安装传感器，并将它们与控制系统连接起来，这可能需要进行初始投资以创建必要的基础设施。

2.1.5.3 健康

智慧城市拥有许多创新，可以改善居民的生活，也可以直接或间接地改善他们的健康。医生/患者关系已经得到便利，得益于通过智能手机和最新一代互联网网络进行的视频通信。在[14]中，作者提出了一种解决公司内部健康和安全产品监测问题的解决方案。为了解决这个问题，他们使用了一个中央云注册系统、一个中央集线器、一个分析数据系统和设备的检测系统。这就是为什么他们安装了传感器来收集每个产品的数据，并且他们在云中使用了分析软件，它可以管理产生的大量数据。这使得服务经理能够了解需要维护哪些健康和安全问题，他们的维护优先级是什么，以及他们需要如何计划维护人员来保持这些产品的良好工作状态。

2.1.5.4 废物管理

在许多现代城市中，废物管理是一个主要问题，因为服务成本高昂，并且存储废物在填埋场的问题。然而，在这一领域更深入地采用信息通信技术解决方案可以带来显著的成本节约和经济和环境效益。例如，智能垃圾箱的使用，可以检测负载水平并优化收集卡车的路由，可以降低废物收集成本并提高回收质量。为提供这样的废物管理服务，物联网必须连接终端设备，即智能垃圾箱有一个控制中心，数据由优化软件处理，确定集合卡车车队的最佳管理。

2.1.5.5 空气质量

为了解决未来 10 年气候变化带来的一些减排挑战，欧盟已经通过了 20-20-20 可再生能源指令。其目标是到 2020 年实现温室气体排放量减少 20%，通过提高能源效率减少能源消耗，以及增加可再生能源利用量 20%。

在如此程度上，城市物联网可以提供一种监测拥挤区域空气质量的手段；健康路径。此外，可以提供通信设施，允许运行在慢跑设备上的医疗应用连接到基础设施。通过这种方式，人们可以随时找到最健康的外出路径，并可以永久连接到他们喜欢的个人训练应用程序。实现这样的服务需要在整个城市部署空气质量和污染传感器，并且传感器的数据对公众开放。

2.1.5.6 交通拥堵

城市物联网可以提供的一种可能的智能城市服务是监测城市交通拥堵情况。尽管基于摄像头的交通监控系统已经在许多城市中可用并部署，但大规模的、低功耗的通信可以提供更密集的信息来源。交通监控可以通过利用现代车辆中安装的检测功能和 GPS 来实现，并且还可以通过沿着给定路线采用空气质量和声学传感器的组合来实现。汽车可以与其他系统如天气系统和交通管理系统进行通信，这些系统可以帮助实时 24/7 计算交通流量，收集到的数据不仅可以使用，还可以放置在云端并与希望使用的市民共享。

2.1.5.7 城市物流

在[15]中，提出的问题是计算丹麦北日德兰地区的驾驶路线，覆盖该地区 100%的道路。这个问题是一个关于测量移动网络覆盖率和质量的项目的一部分，通过在两辆车顶部安装特殊设备进行驾驶。本文介绍了解决道路规划问题所使用的方法，但更重要的是，它展示了如何将理论转化为图论和组合优化的实际应用的一个示例。

2.1.5.8 城市能源消耗

通过空气质量监测服务，城市物联网可以提供一个监测城市能源消耗的服务，使政府和市民可以透明地和详细地了解不同服务、交通、交通信号灯、控制摄像头、公共建筑的供暖/冷却等所需的能源数量。这可能会逐步识别出最大的能源消耗源，并确定优先级，以优化它们的行为。这与欧洲未来几年内提高能源效率的指令一致。为了获得这样的服务，必须将电力消耗监测设备集成到城市的电力网中。此外，还可以通过积极的功能来提升这些服务，以管理本地的能源生产结构（例如光伏板）。

2.1.5.9 智能电网

智能电网是一种能够智能记录消费者/用户和资源生产者（电力、燃气、水）所采取行动的系统，以维持高效、经济、可持续和安全的能源分配。在[2]中，作者旨在选择约旦的一个可持续城市的位置和设计。这个选择是基于重要的指标，即能源和水资源。为了满足这些标准，他们选择了一个拥有优秀可再生能源资源的地点（风能用于发电），并且靠近大海（海水通过海水淡化来覆盖饮用水）。

2.1.5.10 智能停车

通过使用停车传感器，驾驶员不再需要在周围兜圈子寻找停车位，而是可以在一个应用程序上获得实时信息，该应用程序会标示出空闲停车位的位置。事实上，智能停车服务是基于道路传感器和智能显示器的，它会指引驾驶员前往城市中最佳的停车路线。这项服务的好处多多：更短的找车时间意味着车辆排放的 CO 减少，交通拥堵减少，市民更加幸福。此外，通过使用短距离通信技术，如 RFID（射频识别）或 NFC（近场通信），可以在为居民或残疾人保留的停车位上实施电子验证系统，服务于可以合法使用这些地点的市民，也是对违规行为的早期检测的有效工具。

2.1.5.11 智能照明

优化街道照明效率是一个重要的特性。特别是，这项服务可以根据白天的时间、天气条件和人员的存在情况来优化街灯的亮度。为了正常运行，这样的服务必须将街灯纳入智能城市基础设施。还可以利用连接点的增加为市民提供 Wi-Fi 连接。此外，可以很容易地在街道照明控制器上实施故障检测系统。举个例子，当没有活动时，公共照明会自适应调暗，但当传感器检测到运动时会变亮。

公共建筑的自动化和健康：物联网技术的另一个重要应用是通过各种类型的传感器和执行器监测公共建筑（学校、行政办公室和博物馆）的能耗和环境健康，控制灯光、温度和湿度。通过控制这些参数，确实可以提高人们在这些环境中的舒适水平，这也可能在生产率方面产生积极回报，同时降低供暖/制冷成本。

### 2.2 区块链

#### 2.2.1 历史

BitTorrent 是一个在 21 世纪初期开发的文件共享网络，它可以说是第一个被创建的去中心化应用程序。BitTorrent 允许任何人与世界上的其他人分享任何类型的文件，即使他们没有资源支付自己的网站或服务器，也能够快速轻松地分发内容。

五年后，中本聪提出了区块链的概念，这是一种分布式数据库，并用它构建了比特币，这是第一种去中心化的货币[16]。因此，像比特币这样的去中心化货币允许人们以几乎不考虑国界的方式即时发送资金，费用可以忽略不计，比特币越来越多地被用于国际汇款、小额支付和在线商务。

区块链的目标是部署一个保持追踪事件发生的点对点网络。例如，如果 Alice 想要向 Bob 发送任意金额的资金，银行会保证交易，因此 Alice 和 Bob 必须信任第三方——即银行来确保转账。这里的问题是金融机构可能是恶意的。区块链可以通过实施不依赖第三方验证交易的点对点网络来解决这个问题，这意味着区块链是一个独立的分布式节点网络，它们彼此直接通信。

区块链不仅可以存储货币交易，还可以存储任何类型的数据。因此，可以为金融、云计算、消息传递和分布式治理创建去中心化应用程序。以太坊是一个专门为人们构建这类去中心化应用程序而设计的平台。2013 年，以太坊由 Vitalik Buterin 提出，并于 2015 年 7 月 30 日启动，预先发行了 7200 万枚代币[17]。以太坊虚拟机（EVM）可以执行图灵完备的脚本，并运行去中心化应用程序。我们称之为 Ether-browser 的以太坊客户端具有法院能力和点对点网络，用于发送消息和具有内置编程语言的通用区块链，允许人们使用区块链来创建任何类型的去中心化应用程序。

#### 2.2.2 区块链类别

关于区块链有两个主要类别，即有权限（私有）和无权限（公共）的。第一类别对共识贡献者施加限制。只有来自受信任和选定的人才有权验证交易。它不需要大量计算来达成共识，因此在执行时间和能源方面经济。通常交易是私密的，只有授权对象才能访问。第二类别（公共区块链）使用无限数量的匿名对象。基于密码学，每个参与者都可以安全地进行通信。每个对象由一对密钥（公钥/私钥）表示，并有权读取、写入和验证区块链中的交易。如果 51%的对象（或更多）是诚实的，并且达成网络共识，区块链是安全的。通常，无权限的区块链消耗大量的功率和时间，因为它们需要一定量的计算来增强系统安全性（例如使用 PoW）。

#### 2.2.3 加密术

2.2.3.1 哈希函数

指纹（或哈希）是在对起始数据应用校验和（称为哈希函数的数学计算）后获得的值。哈希函数的特性是，输入数据的微小变化会产生完全不同的哈希。例如，哈希函数的特性是，起始数据的微小变化会产生与第一个完全不同的指纹。

由于这种哈希函数的特性，不可能猜测哈希的来源：所有当前的密码学都依赖于这种无法从哈希中再现原始数据的能力。话虽如此，让我们回到区块链的第三个原则，它保护后者的不可变性：修改任何块内的元素会大大改变其哈希。由于下一个块必须引用此指纹，因此必须修改它以隐藏攻击；否则，整个网络将意识到伪造的块是假的并将其拒绝。但是，如果攻击者实际上决定修改下一个块，则必须一直修改到修改所有块为止。

由于攻击者的力量比网络的其余部分要小，因此他生成的块总是比其他人少，他的链将更短。从这里开始，决定哪条链是“正确”的就很简单了：最长的链。这里的第一个原则确保攻击者需要时间来生成新块，而第二个原则确保网络的其余部分会比他更快。

哈希指针

哈希指针是指向数据存储位置和数据摘要的指针，它只是一个用于引用其他已知信息的哈希，这些信息可用于验证数据摘要（数据是否已更改）。哈希指针可用于构建数据结构，例如区块链，它是哈希指针的链表，以及默克尔树，它是哈希指针的二叉树。

数字签名

数字签名是区块链的另一个组成部分。它使用公钥密码学来确保消息及其来源的完整性、不可否认性和真实性[18]。用数字签名签名的消息可以被其他用户验证，但消息只能由签名的所有者签名。数字签名可以由公钥创建，该公钥使用公钥和私钥的密钥组合。私钥仅由所有者保存，而公钥分发给其他用户。其他用户可以使用所有者的公钥加密消息，而消息只能由所有者使用其私钥解密。

区块链使用数字签名算法，例如椭圆曲线数字签名算法（ECDSA）来生成数字签名[19]。它涉及三个步骤来创建、签名和验证带有数字签名的消息[18]。密钥（SK）和公钥（PK）由“生成密钥”方法生成。SK 只由所有者保留，而 PK 分布在区块链节点上。消息使用 SK 进行签名。签名方法将 SK 和消息作为输入，并生成消息的签名。可以使用验证方法对节点进行验证，该方法将 PK、消息和签名作为输入。如果为真，则验证消息，否则将使其无效。因此，公钥保证消息是由签名所有者创建的，并且通过消息验证，验证用户的身份。因此，公钥用作阻止链中的用户标识。通过使用分布式阻止链，用户不需要向中央服务器或权威提供其社会安全号码、电话号码或电子邮件地址。他们可以自行创建数字身份，并将其公钥分发到分布式网络上。这使用户能够从匿名、去中心化和分布式身份管理中受益。

2.2.3.4 Merkle 树

Merkle 树是基于二叉树的数据结构。与二叉树不同，只有叶子节点用于存储数据，叶子节点是其父节点的唯一子节点。父叶节点包含其叶节点的哈希。然而，下一代的节点每个都有两个子节点，并包含其子节点包含的哈希的哈希。如果树不平衡，因为叶子的数量不均匀，将使用孤立的叶哈希两次。这种数据结构的优点是，即使删除了冗余的叶子，仍然可以验证整个树的完整性。Merkle 树的示例可以在图 2.2 中看到。![../images/507793_1_En_4_Chapter/507793_1_En_4_Fig2_HTML.png](img/507793_1_En_4_Fig2_HTML.png)

图 2.2

Merkle 树

#### 2.2.4 分布式共识

在区块链中，每个节点都有代码的副本，并且可以具有不同的分支。因此，有必要使分布式网络中的所有节点在某个时刻达成一致，选择正确的版本。

2.2.4.1 工作证明

比特币使用一种称为工作证明的共识算法[16]。其一般想法是通过执行计算来证明账本的有效性，以获得满足某些要求的结果。在比特币的情况下，计算目标是找到一个随机数，当哈希时返回一个小于预定义的全局目标值的哈希值。由于哈希算法的单向性质，即无法计算出会导致可接受哈希的值，因此找到这些值的最佳方法就是迭代数字并对其进行哈希。这意味着增加找到具有正确属性的机会的唯一方法是增加计算机的哈希功率。由于正在操作的网络中的每个节点都在自己的工作证明上工作，因此它们必须就计算机的选择达成一致。因此，已经找到可接受哈希的节点会广播它，并且网络中的其他节点可以通过执行计算自行验证它是否正确。如果向节点传播了更长的有效区块链，则节点始终选择此链而不是其当前链。最长的区块链，也是需要最多计算工作的链，最终将被网络中的每个节点接受为主区块链。

2.2.4.2 股权证明

2012 年，另一种由 S.King 等人提出的方法称为股权证明[20]。它是由 Ncoin 币数乘以用户持有 Tcoin 的时间单位数定义的。要生成新块，用户必须执行称为“币龄”的交易。该交易的发送方和接收方是相同的，即用户自己。与使用计算能力的目标值进行工作不同，此目标是使用币龄达到的。部分的年龄越高，生成块的速度可能就越快。此外，将具有最高年限的区块链视为有效。因此，我们最终得到了一个完全由股份调控的系统，作者声称这可能取代工作证明。

#### 2.2.5 智能合约

智能合约的概念最早由 Nick Szabo 在 1994 年的一篇名为《智能合约》的科学论文中提出[21]。因此，我们可以说智能合约是以计算机代码形式存在的多方协议。它们是分布式的，因此存储在公共账本中，并且在部署后无法修改。这种智能合约可以使交易在不借助第三方的情况下自动进行，因此不依赖任何人。以太坊区块链是部署智能合约最广泛使用的平台，它们基于一种称为 Solidity 的编程语言。

#### 2.2.6 比特币

比特币是基于公共区块链的数字支付系统。它允许您创建一种称为比特币的加密货币。比特币区块链的每个区块都包含其交易的哈希，称为存储在其标题中的根默克尔[22]。后者还包含前一个区块的标题的哈希。比特币网络中的每个参与者都可以是矿工或非矿工，并存储当前区块链的副本。在挖矿操作中，交易被排序和时间戳，并存储在区块中。然后执行共识机制。实际上，为了验证交易，比特币使用其自己的规则。具体来说，交易具有版本号，告诉比特币对象必须使用哪个适当的规则集来验证它们。为了共享相同的区块链并避免矿工之间的冲突，比特币使用最长链规则。当多个（竞争）矿工同时生成区块，并且每个矿工都认为自己的区块是应该添加到区块链中的合法区块时，就会发生冲突。

#### 2.2.7 以太坊

以太坊是一个基于区块链技术的分布式网络的开源协议。以太坊支持智能合约和简单货币交易的以太协议，这是一种加密货币。有属于第三方的账户，由私钥控制，以及合约账户，由前述以太坊中的智能合约代码控制。

2.2.7.1 Solidity

Solidity 是由以太坊项目创建和开发的一种高级语言[23]，静态、完整且面向合约。Solidity 代码在被称为以太坊虚拟机（EVM）的隔离环境中运行[24]。执行的代码无法访问机器上的任何其他进程，并且对其他智能合约的访问受到限制。用 Solidity 编写的合约与诸如 Java 等面向对象语言中的对象有一些相似之处[25]。合约支持状态变量以及函数和事件等。要在区块链上部署用 Solidity 编写的合约，首先必须使用 solc 编译器将其编译为字节码。合约可以部署在字节码中，这是由 solc 编译器完成的。

2.2.7.2 Gas

每个外部持有的账户都有以以太为单位的余额。每笔交易，包括合约函数或部署，都需要一定数量的燃气来执行。发送交易的用户可以指定愿意每单位燃气支付多少以太，但如果未指定价格，则将使用当前燃气的平均价格。这将交易成本与波动的加密货币解耦，同时创建了一个类似拍卖的系统，愿意支付更多的用户将使其交易得到更快处理[26]。

#### 2.2.8 漏洞

区块链比集中式系统更快更便宜，因为其去中心化和分布式设计。尽管由于其共识协议、密码学和匿名性而可靠且安全，但仍然存在一些潜在的漏洞。Sybil 攻击是威胁区块链的最著名的攻击之一。事实上，区块链没有中央机构来管理参与者的身份[27]。因此，攻击者可以创建多个自己的副本，这些副本看起来可能像是独立的参与者，尽管它们都由同一个节点控制。因此，其他节点很可能只连接到攻击者的节点。攻击者然后可以拒绝中继其他人的区块和交易，断开与网络的连接节点，或者只中继自己创建的区块。只信任具有最佳工作证明的区块链可以避免这种攻击，因为由于显著的挖矿算力需求，它不容易被伪造。

另一种已知的攻击是身份盗窃，即使区块链确保用户所有权，支持此数字身份的私钥也必须是安全的且保密的。如果这个私钥被盗取或存储它的设备被黑客入侵，受害者将失去所有的数字资产以及他们的数字身份。此外，这个数字身份将无法恢复，几乎不可能找到肇事者。有各种应用程序用于加密和同步私钥到不同的设备，以便恢复私钥。但是，如果这些应用程序包含恶意代码或被黑客攻击，用户再次面临身份盗窃的风险。此外，在多个设备之间同步密钥会增加被黑客攻击的风险。此外，随着量子计算的发展，破解区块链技术使用的加密密钥可能会成为可能[28]。

此外，在区块链上记录数据可能更安全，因为不可变性是使其强大的区块链特性之一，换句话说，无论我们何时部署它，区块链上的数据都是不可改变的，我们无法修改或更改代码。然而，实现区块链的代码库和系统可以修改，因为根据公司或组织的不同，代码可能是开源的[29]。例如，像比特币和以太坊这样的最流行的区块链平台是开源软件。因此，任何用户都可以为这些应用程序的开发做出贡献，如果这些贡献者提供了易受攻击的代码，或者由于贡献者的人为错误而导致了代码库中的问题，这最终可能会导致系统被入侵。

区块链交易的不可变性和匿名性可能会使其难以跟踪和监视。因此，该系统可能被滥用用于洗钱、非法资金流动。例如，丝绸之路，一个用于买卖非法药物的网站，使用比特币进行支付[30]。

## 3 物联网挑战

### 3.1 隐私

当全球数十亿个传感器不断收集关于其环境（包括人类）的数据时，物联网世界中的隐私问题成为焦点。大部分发达国家试图保护消费者免受机密信息的非法使用，但在许多情况下，立法并不足以应对信息获取和使用的新方式的多样性。欧盟最近更新知识产权保护法律的尝试是发达国家许多法律陈旧的一个症状。在互联网发展的早期阶段，消费者变得熟悉甚至完全习惯于跟踪文件，也称为 Cookie。知道没有法律限制网站使用 Cookie 跟踪用户浏览行为，许多公司简单地采用了这种做法，而不真正考虑用户的关切。事实上，浏览器已经对这些问题做出了响应，提供了限制 Cookie 使用并在浏览会话结束时删除它们的工具。

欧洲法律现在管制着 Cookie 的使用以及它们允许从用户那里收集什么类型的数据，然而随着移动技术的出现，许多这些法律在物联网领域变得不足够。同样，美国依赖于旧型号立法来管理新的物联网设备和系统。尽管如此，美国没有一部联邦法律来管理个人数据的使用。相反，美国依赖一套联邦和州法律来保护消费者的隐私。公众对联邦政府，特别是国家安全局，对其与执法和反恐怖主义有关的“数据挖掘”活动的愤怒，为未来的公共政策辩论打下了良好的基础。

### 3.2 网络安全

网络犯罪是当今企业面临的主要危险。据一项估计，网络犯罪每年给企业造成 4000 亿美元的损失。从物联网的角度来看，最令人担忧的是网络犯罪分子会侵入显然已被多层保护的系统。保护物联网设备的复杂性仍然是企业需要改进的一个方面，特别是为了应对“物联网生态系统”出现的那一天，届时将有数十亿物体连接到互联网和彼此之间。我们必须牢记，任何连接到互联网的设备都是黑客的潜在途径。例如，在 2014 年，一名黑客设法侵入婴儿监视器，骚扰了一个两岁的孩子。对这款由中国公司 Focsam 制造的产品进行的后续研究显示，市场上有 4.6 万套系统，其中 4 万套未收到能够防止入侵的安全更新。我们还必须记住，我们自动化和连接某些系统的越多，尤其是工业系统，我们就越容易使它们成为黑客的目标。一座正在建设智能电网的城市可以通过简化问题解决过程节省大量资金。与此同时，同一系统也允许潜在的黑客轻而易举地从他的计算机上中断整个城市的电力供应。

关于物联网的安全要求，有数据隐私、机密性和完整性以及身份验证、授权和记账，还有服务的可用性和能源效率。

在[31]中，他们将安全级别分为 3 个主要级别：低级别安全问题、中级别安全问题和高级别安全问题。第一个级别涉及通信和硬件级别的物理和数据链路层（干扰对手、不安全的初始化、低级别 Sybil 和欺骗性攻击、不安全的物理接口、睡眠剥夺攻击）。第二个级别涉及 IoT 在传输层的通信、路由和会话管理（由于分片而导致的重放或复制攻击、不安全的邻居发现、缓冲区保留攻击、RPL 路由攻击、虫洞和蠕虫攻击、中间层的 Sybil 攻击、认证和安全通信、传输层端到端安全、会话建立和恢复、基于云的 IoT 的隐私侵犯）。第三个级别是高级别安全问题，涉及在 IoT 上执行的应用程序，例如（与互联网一起的 CoAP 安全、不安全的接口、不安全的软件/固件和中间件安全）。

### 3.3 责任

当涉及到无人驾驶车辆等自动驾驶汽车时，我们面临着一个伦理困境：在事故发生的前几秒，自动驾驶汽车应该尽一切可能保护其乘客，即使这意味着伤害其他司机或行人吗？

处于危险中的人在生存本能驱使下向行人闪避时，不应对其负责。但当机器做出决定时，遇到事故受伤的行人是否有权责怪汽车制造商？在司机受伤的事故中，司机是否有权起诉汽车制造商？正如欧洲委员会在关于物联网技术固有的道德困境的报告中指出的，“人们不习惯于具有自己身份或自行行动的物体，尤其是如果它们行动不可预测”。随着数十亿设备收集数据，要知道谁对什么数据负责变得更加困难。物联网对象自主运行并与许多其他对象联合运行。数据迅速共享、处理、再次共享和处理，然后才能被人类看到。换句话说，将设备与数据单位关联起来太简单了，因为物联网的潜力在于在对象之间顺畅地传输这些数据。例如，物联网心脏监测设备不仅仅会监测患者心脏是否出现心脏病发作的迹象。它可能还会访问另一个监测患者运动活动的对象的数据，而该对象又使用来自监测其饮食的设备的数据。

### 3.4 传感器网络中的能耗

传感器网络可以被视为激活物联网的一项重要技术。它们可以通过提供测量、推断和理解环境指标的能力来塑造世界。当前技术的发展和改进为大规模远程感知应用提供了有效且廉价的设备。此外，智能手机包含不同类型的传感器，因此可以在物联网的不同领域实现不同类型的移动使用。因此，主要挑战在于如何分析无线传感器节点的能耗特性。对传感器节点能量进行系统分析非常重要，以识别能源系统中的问题，以实现有效的优化。传感器的能量消耗是由以下操作引起的：检测、处理和通信。

+   捕获能量：节点在检测或捕获操作中的能量消耗源包括：采样、模数转换、信号处理和激活捕获探针。

+   处理能量：处理能量由两种能量组成：切换能量和漏电能量。切换能量由供应电压和软件级别切换的总容量决定（运行软件时）。另一方面，漏电能量是在计算单元不执行任何处理时消耗的能量。一般来说，处理能量与通信所需的能量相比较低。

+   通信能量：通信能量分为三部分：接收能量、发送能量和待机能量。这种能量由要通信的数据量、传输距离以及无线模块的物理特性决定。信号的传输以其功率为特征；当传输功率较高时，信号将具有较长的范围，消耗的能量将更多。实际上，通信能量被认为是传感器节点能耗的最大部分。

## 4 区块链与物联网

我们知道，区块链技术在物联网安全解决方案中发挥着重要作用，因此区块链使用椭圆曲线密码学（ECC）和 SHA-256 哈希函数来提供数据的保密性和完整性。实际上，区块链是一种提供共享账本技术的解决方案，允许网络中的任何参与者查看单一的账本系统，而区块数据包含所有交易的列表和对上一个区块的哈希。公共账本中的每笔交易都经过矿工节点的大多数共识验证，数据块是不可变的，这意味着它不能被更改或删除。因此，区块链设计包含一个区块头（版本、时间戳、区块大小、交易数量、Merkle 根、随机数、难度目标），区块体包含交易列表[31]。此外，比特币被视为在区块链基础设施之上运行的应用程序。此外，以太坊区块链实施智能合约，这意味着它存储、记录和运行智能合约，最近还出现了其他智能合约区块链平台（Hyperledger、Eris、Stellar、Ripple 和 Tendermint）。此外，智能合约区块链有各种应用，如交易到自主机器间的交易、资产跟踪到自动访问控制和共享、数字身份和投票到认证、管理和记录数据的治理。

IBM 推出了其区块链框架，并且它被用于银行、供应链系统和货运公司。以下是一些区块链的有用特性，对于物联网安全设备可能会有益处：首先，地址空间：160 位（20 字节）地址空间，因此使用 ECDSA（椭圆曲线数字签名算法）生成的公钥的 160 位哈希。第二，物联网设备的身份（IDoT）和治理：物联网设备所有者可以更改，以及设备的其他属性，如类型、序列号、部署 GPS 坐标和位置等等，还可以设备可以与人类或其他设备或服务建立关系。因此，区块链通过提供可信和授权的身份注册、所有权跟踪和产品、货物和资产的监控的解决了身份和访问管理的挑战。像 TrustChain 这样的方法以便进行安全交易，并为连接的物联网设备提供管理和治理设备生命周期的身份。此外，数据认证和完整性：在区块链网络中传输的所有数据都经过密码学证明，并由具有唯一公钥和 GUID 的真实发送者签名。另外，身份验证、授权和隐私：使用智能合约提供了对物联网设备的单方和多方身份验证，以及授权访问规则和数据隐私，最后，安全通信：在物联网设备之间通信和路由中使用的协议不够安全（MQTT、CoAP、XMPP、RPL、6LoWPAN），因此我们使用它们与其他安全协议如 DTLS 和 TLS 一起。但是使用区块链，没有必要使用这些协议，因为每个物联网设备都有其自己的唯一 GUID 和非对称密钥对 [31]。

关于物联网安全需求，存在着数据隐私、机密性和完整性，以及身份验证、授权和计费，还有服务的可用性和能源效率。Bahga 等人在他们的调查中提出了一个基于区块链的工业物联网（或 IIoT）框架。它用于与云和区块链网络通信。Christidis 等人也讨论了区块链对物联网的好处，并提出了一种情景，即区块链可以在物联网设备之间自动进行能源买卖，如智能电表之间。

Minhaj 等人[31]在他们的调查中讨论了一些安全问题和安全需求，他们还提到了使用区块链来解决安全问题。因此，他们将安全级别分为 3 个主要级别：低级安全问题、中级安全问题和高级安全问题。第一级涉及通信和硬件层面的物理和数据链路层（干扰对手、不安全的初始化、低级 Sybil 和欺骗攻击、不安全的物理接口和睡眠剥夺攻击）。第二级与物联网的传输层的通信、路由和会话管理相关（由于分段而导致的重播或重复攻击、不安全的邻居发现、缓冲区保留攻击、RPL 路由攻击、汇集点和蠕虫攻击、中间层的 Sybil 攻击、身份验证和安全通信、传输层端到端安全、会话建立和恢复以及基于云的物联网的隐私侵犯）。第三级，即高级安全问题，与在物联网上执行的应用程序相关（与互联网的 CoAP 安全、不安全的接口、不安全的软件/固件和中间件安全）。

Francesco Buccafurri 等人[34]在他们的调查中专注于身份验证问题，并整合了区块链技术来增强 MQTT 协议的身份验证。他们的解决方案采用了区块链作为另一个渠道，并使用以太坊在智能合约中使用哈希作为用户假名来强化安全性，而不使用 TLS。在这里使用区块链的另一个目的是拥有一个受信任的公共账本，而无需第三方，客户端向代理发送 CONNECT 消息，身份验证过程提供了两个字段以向代理传输用户名和密码，但这些字段没有加密，因此容易受到攻击。为了解决这个问题，他们使用一次性密码（OTP），这意味着仅对一次会话有效的密码，但不能在同一通道发送，这就是为什么他们使用区块链作为另一个渠道来实现双因素身份验证。

IoT 技术依赖于设备之间的通信，因此 IoT 设备需要与其他设备进行交互，而我们谈论的是成千上万的设备。使用基本的服务器-客户端模型可能存在一些限制，并且不安全，因为该模型基于一个集中式系统，其中服务器和本地数据库包含所有代码，因此任何人都可以访问并操纵或更改代码。

由于物联网设备数量不断增长，基本模型面临一些限制，Seyoung Huh 等人[35]提出了一种基于区块链技术的模型来监控和控制物联网设备。他们使用 RSA 算法来管理密钥，以太坊平台用于存储公钥，而私钥则受到物联网设备的保护。以太坊是支持智能合约的最大加密货币之一，因此智能合约包含在以太坊上运行的图灵完备的所有代码，以便我们可以控制物联网设备。

Agrawal 等人[36]在他们的调查中提出了一种基于区块链分布式特性的解决方案，以实现物联网基于 IoT 区域标识的持续安全性。因此，物联网系统中的每个用户都被存储为区块链网络上的一个节点，该节点的每次交互都被视为一笔交易。为了使这个交易合法化，它需要一个唯一的加密令牌来避免未经授权的访问，这使得系统更加安全可靠。在这个过程中需要三个主要阶段，通过用户 IoT 轨迹的激活来进行 IoT 区域识别，通过注册证书机构（ECA）检查权限，然后验证 IoT 令牌。

## 5 结论

在本章中，我们提出了一项关于区块链技术在为物联网用户提供安全环境方面的重要性的研究。因此，我们从 IoT 和区块链的概述开始了本章。然后，我们讨论了一些可能面临的 IoT 系统的挑战。最后，我们讨论了一些安全问题、安全要求以及使用区块链来解决这些安全问题。

总之，物联网设备安全实施面临一些挑战，如资源限制、异构设备、安全协议的互操作性、单点故障、硬件/固件漏洞、可信更新和管理，以及一些区块链漏洞，因为依赖矿工哈希的机制可能会被破坏，从而允许攻击者托管区块链。关于区块链技术在物联网和智能环境中的应用研究相当广泛，有许多挑战在等待着它们。本章简要介绍了区块链技术如何用于解决物联网系统中的安全问题。我们希望这种讨论和探索可以为物联网的发展和实施铺平一条新的道路。
