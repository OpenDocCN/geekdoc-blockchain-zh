Arthur M. Langer

# 下一代软件架构的分析与设计

## 5G、物联网（IoT）、区块链和量子计算

![../images/480347_1_En_BookFrontmatter_Figa_HTML.png](img/480347_1_En_BookFrontmatter_Figa_HTML.png)Arthur M. Langer 哥伦比亚大学科技管理中心，美国纽约州纽约市 ISBN 978-3-030-36898-2e-ISBN 978-3-030-36899-9[`doi.org/10.1007/978-3-030-36899-9`](https://doi.org/10.1007/978-3-030-36899-9)© Springer Nature Switzerland AG 2020 此作品受版权保护。 出版商保留全部权利，无论是全部还是部分材料，特别是翻译权、重印权、插图重用、背诵、广播、电影胶片复制或以任何其他物理方式复制、传播或信息存储和检索、电子适配、计算机软件，或者通过现在已知或将来开发的类似或不同的方法。本出版物中使用的一般描述性名称、注册名称、商标、服务标记等，即使在没有特定声明的情况下，也不意味着此类名称免于相关的保护法律和法规的约束，因此可以自由使用。出版商、作者和编辑可以安全地假设本书中的建议和信息在出版日期被认为是真实和准确的。 出版商、作者或编辑对本文中包含的材料或可能存在的任何错误或遗漏不提供明示或暗示的保证。 出版商对已发表的地图和机构隶属不持有法律主张中立立场。

此 Springer 印记由注册公司 Springer Nature Switzerland AG 出版

公司注册地址为：瑞士 Cham 市 Gewerbestrasse 11 号

前言

## 我们为什么需要下一代的分析与设计？

+   *分析与设计的早期阶段*

当 80 年代发明了第一个分析与设计方法（在美国的 SA/SD、英国的 SSADM 和法国的 Merise），它们旨在支持以尽可能低的维护成本长期保留的商业应用程序的构建。它们旨在确保设计能够应对功能（即什么）和非功能（体积和性能）系统要求，并且这些要求应尽可能保持稳定。数据将根据优化数据访问并减少所需存储量的明确定义的数据模型进行组织，著名的关系数据模型强加了持续维护的完整性约束；交易将被仔细控制，以避免在硬件故障或性能瓶颈发生时产生不一致。

数字时代的分析与设计提供了健壮且易维护的应用程序，在这些应用程序中，一致性和性能是围绕分析师确定和定义的不变量构建的。分析师花费了大量的时间和精力来构建抗变化的信息系统，其成功的衡量标准是其生命周期的长度、符合要求以及按时和按预算交付。

*分析师在创建数字对象时遵循着建造桥梁、汽车或飞机的伟大工程传统。在工程师的世界里，投资时间交付价值是创造持久资产的关键。这种思维方式在 B2B 世界中得到了复制，那里的业务流程稳定，公司追求长期目标，这些目标通过他们的信息系统来管理。*

+   *数字时代的分析与设计*

以互联网的出现开始的数字时代为 IT 应用程序的开发、采纳和演变带来了全新的时间视角。

B2C 应用程序于 2000 年代在个人电脑上出现，然后在 2010 年代出现在智能手机上。突然之间，IT 不再局限于通过一套明确定义的目标带来进步，就像以前为商业系统所做的那样。相反，它为消费者提供了连续的创新浪潮，前提当然是消费者接受了它们的采纳。

[数字世界](https://wiki.example.org/digital)是一个达尔文式的世界，你需要从小处着手，被消费者接受并快速成长，否则就会被淘汰。也许最显著的成功故事是由迅速成功的 GAFA 所体现的，^(1)围绕着*数据平台*的数字现象建立。平台体现了数字时代最重要的商业模式颠覆之一。

+   *为什么平台不同？*

Google、Amazon、Uber 和 Airbnb 都采用了平台原则来支持他们的颠覆性商业模式——这些模式导致了一种与支付卡生态系统具有共同核心特征的新型市场的出现。

随着支付卡的出现，经济学家们提出了一个被称为“多边”的新市场类型。在卡的特定案例中，我们有两个方面：（1）持卡人，即消费者；（2）商家，通过能够读取卡并捕获交易细节的销售终端提供支付服务。

这一经济模型是由法国经济学家让·提罗尔提出的，他因此而获得了诺贝尔经济学奖。

简而言之，一个多边市场只有在每一方达到临界规模时才能真正起飞；以支付卡为例，如果一张卡没有被广泛接受，那么没有人会想要携带它，没有商家会愿意投资于点销售终端，因为没有多少消费者会使用它。

如果一个市场参与者能够向生态系统的两面提供一个平台，并承诺在达到关键规模之前几乎不支付任何费用来使用该平台，那么这种鸡和蛋的僵局就能被打破。平台是实现多边市场的工具。 ^(2)

在亚马逊的例子中，该平台对客户来说非常成功，因为他们有一个单一的途径来找到几乎他们需要的一切；对于商家来说也很成功，因为他们可以接触到比在亚马逊上没有存在时更多的潜在客户。在 Airbnb 模式中，两个方面是消费者和酒店；而在 Uber 中，它们是消费者和司机。

在平台的每一面达到关键规模可能是困难的，但一旦实现，多边市场自然倾向于发展成垄断地位，这驱动着维护竞争的需要。

在系统分析和设计方面，我们需要区分构建平台和为平台构建应用。

+   *构建平台*

发布平台的前所未有的挑战在于，在每一面的用户数量较少且交易量较低时能够有效地提供服务。参与平台的用户的初始成本需要反映出低的初始价值，即使这意味着平台运营商可能需要承担亏损直到用户收入积累起来。但可能更具挑战性的是在两个方面从零增长到关键规模时能够保持相同架构的平台的问题。

对于一名工程师来说，这就像是建造一座低成本的桥梁，它一开始只需要承载几辆卡车，但随着需求的增长，它会逐渐加固以承载更多的卡车。这并不是一件容易的任务！

+   *为平台构建应用*

相对较少的公司会冒险从零开始构建一个新的平台，而那些这样做的公司往往会是大型公司或快速增长的公司。然而，许多公司将寻求加入已建立的多边市场，并尝试在支持平台上设计和构建应用程序，以提供新的增值服务。

平台的性质决定了在可扩展性、性能、安全性和隐私方面，刚性的架构框架无法给予必要的自由来适当设计新的应用。对可用平台托管数据的分析结合玩家自身的数据和目标商业模式，为塑造向消费者提供的新服务带来了真正的增值。

+   *数字时刻的重要性*

传统上，我们区分了能够处理几秒钟或更长时间延迟的业务应用和需要毫秒级低延迟实时操作的技术应用。为了保证低延迟，技术应用需要实时循环，通过仔细审查代码来优化，以确保无论在什么情况下都能提供低延迟响应。在业务应用中，交易响应时间是关注的焦点，并且被保证在一定数量的用户和最大数据量下。

数字时代带来了一个新的背景，消费者在任何情况下都变得非常不耐烦：他们不关心有多少用户连接，需要访问多少数据，或者网络延迟（大多数情况下由互联网决定，而没有保证的性能）。数字应用唯一的“必须”是提供适当的服务质量、用户体验或“数字时刻”。当流媒体音乐或视频时，这些时刻可能非常明显——由于延迟而造成的持续缓冲和中断会迅速使体验变得不可接受。在像订购汽车或预订酒店房间这样的情境中理解数字时刻需要更多的复杂性；在汽车导航操作的情况下，这非常复杂。数字时刻的性质直接关系到消费者的注意力持续时间和他们需要做出的决策。不尊重数字时刻是用户拒绝提供的服务的根本原因，因此这个问题应该是分析师和设计师关注的重点。

+   *分布式数据*

互联网的性能、海量数据、网络延迟和安全性的提升已迫使分析师和开发人员重新审视数据本地化的话题。数据库社区曾经不可侵犯的原则：*无冗余*，现在受到了严重挑战。从像 Akamai 这样的内容分发网络使用的简单缓存机制（在数据最常用的地方存储数据的副本）开始，我们已经发展到了设计上的冗余。我们已经开始将数据发送到进程（靠近其被收集的地方），而不是受到将数据传送到进程的延迟约束的影响。我们正在体验边缘计算与物联网的结合，逐步创造一个大部分数据将存储在边缘而不是集中存储的世界。

随着“无冗余”原则的放松，数据副本存储的所有位置上的数据一致性的反向挑战也随之而来。要求完全一致性是非常低效的，因为它要求在进行下一次更新之前，必须将给定位置的每次更新复制到每个其他位置。

最后，出于运营原因，数据需要以一种能够在发生故障时恢复的方式进行备份。一段数据最终可能会被复制三次：在只读模式下访问时出于缓存原因；在边缘需要性能时出于延迟原因；最后是为了备份恢复。不足为奇的是，存储的数据量每 18 个月就会翻一番。有待观察的是如何管理这样的数据增长。

+   *消费电子态度与每周（如果不是每日）的例会*

消费电子产品推动了对新设备的渴望，甚至在之前的版本过时之前。几乎每年更换智能手机，每两个月更新操作系统版本几乎已成为常态。这种程式化的过时性是商业到消费者市场的动态的一部分。

平台服务的持续采用和使用对其成功至关重要，这驱使设计者必须对持续的用户相关性、价值和参与度予以关键关注。对持续创新的需求推动了逐步构建平台功能的实践，在每个迭代（称为冲刺）中添加新功能并纠正错误。最先进的平台每天都有例会，新功能发布的问题就像搭公交车一样，如果你不搭这辆车，5 分钟后就会有另一辆。这提供了逐步构建平台功能的能力，并在出现问题时轻松回到上一个版本。

+   *UX 就是应用程序*

UX 设计已成为数字时代的关键话题。它旨在通过提高应用程序的可用性、可访问性和吸引力来增强用户对应用程序的满意度。由于应用程序的采用和使用是成功甚至生存的最终标准，因此应该对用户界面付出大量关注。

在过去，用户界面的设计往往是在业务流程被定义之后进行的。它被视为收集必要数据然后向用户呈现输出以做出决策的方式。

这种顺序已经颠倒过来，首先设计用户界面，然后逐步增强以包含业务逻辑。多种界面渠道，包括语音、虚拟现实和触觉，现在是应用程序的主要驱动因素，而业务逻辑和处理则被视为应用程序的隐藏方面。

+   *坚持 API 不是可选的*

在现有平台内提供服务的应用程序需要尊重其架构原则，这些原则通常体现在一组强制性的 API 中（例如，AWS 提供了略多于 20 个）。这些 API 保证了应用程序集成到平台时不会影响性能、改变安全性或将多租户置于风险之中。不遵守 API 协议将导致平台运营商拒绝应用程序。

API 对于获取由平台其他方收集的数据至关重要。API 正在成为通用语言，使得金融科技公司可以访问由现有银行收集的客户数据，或者重新使用通过联网汽车收集的汽车数据。安全和隐私问题将促使参与平台生态系统的所有参与者接受由负责执行数据监管合规性的独立第三方设立的规则和法规。

+   “*我们所知大于我们所能言说*”

著名的匈牙利-英国多才多艺的麦克·波兰尼用这句话来表达一个重要的真理，即没有分析师能够完全捕捉关于给定过程或决策的知识。除了可以在业务逻辑算法中正式捕获的内容之外，还存在着只能通过深度学习发现并纳入的规则和模式。人工智能不太可能像手工编码那样高效和可执行，但对于简单的决策制定，它可以取代手动编程，对于意外和未预测到的情况，它可以成为最后一道出口错误消息的良好替代品。特别是在分析师未知的复杂情况下，人工智能可以为回归到流程的基本哲学提供合理的建议。

+   *下一范式*

本书将详细阐述回答上述挑战的适当方法。

在这个阶段，让我们介绍一些在数字世界中已经成为常见现象的新范式，当应用于商业到消费者市场时，逐渐渗透到业务应用环境中。

*Webscale Computing* 封装了一种硬件架构，其中计算性能和存储容量可以在不停止操作的情况下增加。*Multitenancy* 是在同一平台上托管多个租户及其用户而不会在性能、安全性和运营连续性方面产生任何副作用的能力。

Webscale Computing 和 Multitenancy 是云计算的两个基本支柱。

数据分发是实现性能所必需的，但它也带来了更新多个数据实例的挑战。数字时代采取的方法是放弃永久数据完整性，而是满足于最终一致性。平台运营商将接受使用不一致数据，但承诺在合理的时间范围内，将能够重新确立一致性。最终一致性可能不适用于某些应用程序，例如管理飞机座位的预订，但对于许多其他应用程序来说，它将足够好用。

*敏捷开发*通过接受对应用程序的许多更改并在被请求后迅速实现它们，建立了灵活的分析和设计基础。敏捷开发需要坚实的架构原则，以便在不影响性能和可维护性的情况下迭代构建应用程序。使用敏捷方法开发的应用程序需要作为下一次 Scrum 的一部分进展到运营阶段。这需要一种“Devops”态度，其中运营部门能够接受（例如）即使可能会中断运营连续性的每周更改。

许多公司已经进入了分析和设计的数字时代；这需要一种不同类型的组织，与传统模型共存的困难。该书将详细介绍下一代分析和设计的“是什么”和“如何”。

Hubert Tardieu

*下一代分析和设计*的目标是为管理者和从业者提供一份指南，以响应 5G 移动通信提供的能力来构建新的架构。确实，5G 将启动在无线世界进行通信的能力，使物联网（IoT）成为收集通过互联网提供的分布式网络收集的大量信息的“数据聚合器”。不幸的是，5G 的速度和物联网的普及带来了对更好安全性的需求。也就是说，收集大量有价值信息的能力是有代价的。简而言之，我们现有的架构无法提供必要的安全性来保护我们可以用来探索人工智能（AI）和机器学习（ML）的有价值数据。因此，必须开发新的架构，使用区块链设计提供的账本式方法。此外，这些新架构还将需要一种新的方法来存储数据跨越复杂的移动网络，这催生了云计算的高级功能。

为了在需要跨越各地的复杂供应链的全球化世界中竞争，公司需要重新设计他们的传统系统。想到在短时间内改变 50 年以来在特定发展理念下开发产品和服务的想法似乎是令人难以承受的。尽管如此，我对这个问题的认识非常基础，要么重新设计您的系统，要么就灭亡。尽管这可能听起来很苛刻和单一，但我相信，不迅速行动的成本将极大地影响任何组织在数字时代的竞争能力。这本书提供了技术和管理方法的指导。我的理念与其他人共享，即在大多数组织内部不可能重新设计所有现有的遗留系统。我和其他人提出了一种“互补方法”，即企业继续使用他们的传统产品提供后端服务，但需要构建新的产品，提供消费者驱动世界所需的新服务——我称之为“技术消费化”的世界。我们不能指望组织一夜之间解决 50 年的糟糕架构。我们经历了使用企业资源规划（ERP）产品进行系统集成所面临的挑战和成本，这需要 20 年才能完成。我相信，新的移动迁移将需要更长的时间和更高的成本。因此，我们必须在构建新系统的同时转变旧系统，并确保它们之间的连接。这是*下一代分析与设计*的目标。

从管理的角度来看，高管需要推动一种新的文化。根据 Gupta（2018）的说法，成功的数字战略需要强调一种互补的商业方法，而不是试图启动独立的单位或实验室——历史数据表明，这些举措过去往往未能产生有效结果。尽管 Gupta 的框架并不独特，但他提出了有效文化迁移的四个基本组成部分：

1.  1.

    重新想象您的业务

1.  2.

    重新评估您的价值链

1.  3.

    重新与客户联系

1.  4.

    重建您的组织。

尽管我同意所有这些步骤，但高管仍需要重建他们的架构。毫无疑问，这个新的数字时代提供了更加用户友好和用户直观的应用程序，但请不要误解，技术却是如今更加复杂和先进。因此，我们需要技术合格的领导人员，他们懂得如何构建这些新系统以支持数字战略。虽然文化转型是必要的，但我们必须承认，成功的数字原生公司已经建立了后端和前端系统，这些系统可以无缝运行。那么，我们组织中谁可以被称为我们最有价值的球员（MVP）呢？我在本书中认为是*分析员*，这个人可以为你的投资带来最大的回报。分析员通常可以提供技术架构设计，通常了解他们的传统系统，并能执行必要的项目管理。所有这些功能可以推动这些新系统的发展，同时帮助形成一个新的基于数字的文化。虽然我们需要高管、用户和消费者在转型的各个方面都参与其中，但分析员代表着可以成为其成功的主要导演的角色之一。因此，技术高管需要扩展分析员的角色并理解这个职位的重要性。

然而，本书也认识到互补的方法只能提供短期解决方案。与其冒险永久依赖旧系统，我一直在经济*s-曲线*的范围内运营，这个曲线巧妙地定义了任何产品或服务的生命周期。成功的公司需要按照曲线的规律替换系统，并在它们变得过时之前开始替换系统。*下一代分析与设计* 将 S-曲线与 SDLC 整合在一起，提供了一种不断演变计算机架构的新方法。最重要的是我的预测，S-曲线将继续缩短，即开发竞争系统的时间将减少，享受其优势的时间也将减少。

当今企业在制定竞争策略时需要以技术为中心并不应该是一个迷。本书还强调了需要整合多代管理人员和员工，特别关注千禧一代（Y 世代）。我们预测，千禧一代将比他们的前任更快地进入管理职位，为了在数字时代更具竞争力，企业必须更好地理解和吸收他们的才能。这种融合需要与通常是高管的婴儿潮一代和通常是 X 世代的一线经理之间的整合。

*分析与设计的下一代* 也认识到了消费者的作用。我预测这个时代将被称为“消费者革命”，因为消费者对数字技术如何为他们提供价值的认知。这些消费者价值通常通过他们对基于替代选择和个性化需求的产品和服务的需求来体现。公司需要意识到，他们必须向多个和分割的市场提供更多的产品和服务选择，才能在数字时代生存下去。

Arthur M. Langer

我要感谢我的扩大家庭，迪迪、迈克尔、迪娜、劳伦、安东尼和劳伦·P。当然还有我的两个孙子卡利和谢恩·卡普里奥，他们的成长给我带来了很多快乐。

特别感谢技术管理行政硕士（Technology Executive Masters in Technology Management）项目的校友，感谢他们取得的伟大成就，让我们大家都感到骄傲。

纽约州新城，美国

2020 年 1 月

Arthur M. Langer

### 目录

1 引言 11.​1 传统分析和设计的限制 11.​2 数字时代的技术消费主义 21.​3 不断发展的分析师角色 31.​4 为未来消费者需求制定需求 71.​5 新范式：5G、物联网、区块链、云、网络安全和量子 71.​5.​1 5G 71.​6 物联网 (IoT) 101.​7 云 121.​8 区块链 131.​9 网络安全 151.​10 量子计算 151.​11 问题和练习 19 参考文献 202 合并内部用户和消费者需求 212.​1 软件开发的层次 212.​1.​1 用户/消费者界面 222.​1.​2 工具 252.​1.​3 自动化提高效率 252.​1.​4 面向对象 252.​1.​5 客户端/服务器 262.​1.​6 从网络/局域网到移动性 262.​2 建立内部用户界面 272.​3 采用访谈方法 282.​4 处理政治派别 302.​5 内部用户的类别和级别 322.​6 无用户和无输入的需求 342.​6.​1 S 曲线和数字化转型分析与设计的概念 372.​7 S 曲线的分析与设计 392.​8 实践社区 392.​8.​1 模型驱动 AI 452.​9 数字转型时代的分析师 462.​10 问题和练习 47 参考文献 473 回顾对象范式 493.​1 逻辑等效性的概念 493.​2 结构化分析工具 543.​3 进行更改和修改 553.​4 什么是面向对象分析？ 563.​5 识别对象和类 603.​6 对象建模 653.​7 与结构化分析的关系 673.​7.​1 应用耦合 673.​7.​2 应用内聚 693.​8 面向对象数据库 723.​9 使用用例分析和设计设计分布式对象 733.​9.​1 用例模型 733.​9.​2 演员 73[3.​10 用例](480347_1_En_3_Chapter.xhtml#
