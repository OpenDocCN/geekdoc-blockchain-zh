# 第三部分人工智能和区块链作为物联网的启用者

人工智能和区块链作为物联网的启用者

本书的这一部分讨论了人工智能和区块链在物联网用例中的重要性。

我们将讨论在物联网用例中使用私有区块链的重要性，以及五种物联网-区块链实施模式，企业可以利用这些模式实现物联网设备、智能物联网网关和物联网平台之间的无缝通信到区块链。

人工智能是物联网标准参考模型中非常重要的特性之一。参考模型建议应用人工智能模式从数据中生成见解并自动采取适当的行动。本章还将就何时以及如何在物联网环境中应用人工智能提供一个视角。

© 作者，独家许可给 APress Media, LLC，属于 Springer Nature 2021 V. Upadrista 区块链与物联网标准[`doi.org/10.1007/978-1-4842-7271-8_9`](https://doi.org/10.1007/978-1-4842-7271-8_9)

# 9. 区块链与物联网

Venkatesh Upadrista^(1  )(1)英国斯拉夫

区块链是当前正在革新未来企业经营方式的技术领域中的一个有趣话题。尽管该技术仍处于实验阶段，但许多企业已经从该技术中获得了许多好处。讨论基础知识，区块链最初是一些年轻数学家开发的一种交换货币的技术，现在这已经成为几乎每笔业务交易都可以安全和经济高效地执行的核心舞台。区块链承诺在企业之间带来合作，以标准化、结构化和安全的方式共享事实数据和业务逻辑。

区块链是一个共享的密码学上不可更改的账本，用于记录交易历史。密码学与将普通明文转换为不可理解的文本，反之亦然的过程有关。它是一种将数据存储和传输为特定形式的方法，以便只有那些拥有权限的人可以阅读和处理它。

区块链不是集中化的，这是最有趣的部分 - 这意味着它不是由一个团体或个人拥有的。它是民主化的，这是重要的事情，因为这样可以增加各方之间的信任，因为没有单一实体拥有区块链。它增加了问责制（因为每个授权方都参与决策过程）和最重要的透明度（因为每个授权方都可以看到每一笔交易）。有了这样的透明度和问责制，这项技术使得摩擦力大大降低。

让我用简单的语言解释一下区块链。

你可以将区块链看作一本书。一本书有许多页，所有页都用一个粘合剂粘在一起。这本书由一个人或在某些情况下由多个人拥有。每页有多个条目或交易 - 例如人 A 持有 X 价值，人 B 持有 Y 价值 - 每个交易都用于计算一个唯一值，称为页的唯一标识符。因此，这意味着如果页中的任何值发生变化，唯一标识符也将发生变化。

在区块链术语中，一本书被称为分类帐，页面被称为区块，而装订者是区块链的链。如果一本书由一个人拥有和管理，那么它被称为中心化分类帐管理，如果一本书由多人拥有和管理，那么它被称为分布式分类帐管理。唯一的标识符被称为哈希。如果区块中的任何内容发生变化，哈希值也会发生变化，因为哈希是使用区块中的每个条目生成的。区块链的一个重要特征是不可变性，这意味着一旦记录的任何交易都不能更改。如果有人试图篡改或更改现有区块的内容，更改只会反映在他们的副本中，而其他人仍将继续看到未篡改的区块版本，这意味着区块链是不可变的。这使得区块链防篡改且高度安全。现在，向区块链添加新的区块类似于向书中添加新的页面。这就是区块链的全部内容。

区块链有两种变体。一种称为公共区块链，另一种称为私有区块链。

## 公共区块链

公共区块链是一个任何人都可以随时加入的区块链网络。基本上，在参与方面没有任何限制。此外，任何人都可以查看分类帐并参与其中的过程。例如，以太坊就是其中之一。

如果企业正在寻找一个完全去中心化的网络系统，那么公共区块链就是最佳选择。然而，当企业试图将公共区块链网络与企业内部区块链流程结合时，公共区块链可能会变得非常问题重重。

公共区块链最好的部分在于概念，即所有参与者都拥有平等的权利。每个人都可以看到账本，因此始终保持透明度。然而，公共区块链也有其公平份额的缺陷。事实上，这些平台比通常要慢；它们不太安全，许多时候违反数据隐私法律。此外，由于匿名性，它可能吸引了使用平台进行非法活动的恶意人员。

尽管公共区块链也有其自身的好处，企业通常倾向于采用私有区块链来运行他们的业务。尤其在物联网和人工智能背景下，私有区块链是最受欢迎和推荐的模型。

所以简单来说，公共区块链遵循分布式账本管理而不是集中式账本管理。在集中式账本中，一个人或实体负责区块链，而在分布式账本中，所有参与区块链的个体或实体都会得到完整账本的副本，并对账本负责。

在公共区块链环境中，任何人都可以向区块链添加新区块，但他们必须解决一个非常复杂的难题。这种方法的问题在于解决难题需要大量的计算资源。

## 私有区块链

私有区块链是一种特殊类型的区块链技术，只有单一组织或一组组织对网络拥有权限。该网络不向公众开放。所有私有区块链解决方案都将采用某种授权方案来确定哪个实体进入平台。

私有区块链网络需要邀请，并且必须由网络发起者或由网络发起者制定的一套规则进行验证。建立私有区块链的企业通常会建立一个受控网络。这对谁有资格参与网络以及谁可以执行哪些交易都设置了限制。参与者需要获取邀请或许可加入。访问控制机制可能会有所不同——现有参与者可以决定未来的入选者，或者监管机构可以为参与发放许可证，或者由财团来做出决定。一旦实体加入了网络，它将以分散的方式发挥维护区块链的作用。

在私有区块链环境中，企业不需要花费计算资源来向区块链添加新的区块，因为网络发起者或业务所有者可以向区块链添加区块。

在典型情景下，如果我们从头到尾查看任何企业业务，它是多个各方相互沟通以完成商业交易或业务流程的融合，如图 9-1 所示。

图 9-1

典型业务交易示例

生产商、金融机构、监管机构、运输机构和零售商，每个参与方都使用自己的系统维护记录，并根据这些记录与其他方进行沟通。随着这种沟通和记录过程的复杂化，可能会出现几种分歧，为了证明自己的数据和记录的正确性，企业花费了数百万美元用于中介、审计和合规等。这就是今天的现实，这意味着一个低效的系统，而这种低效的主要原因是我们经济体内的每个实体都维护自己的记录，并且在许多情况下，这些记录不与其他实体共享或透明地公开。私有区块链是解决当前经济中这种低效性的解决方案，使企业之间可以进行交易和沟通。

### 超级账本

区块链是一个单一的数据库，与直接或间接连接到业务的每个企业共享，每个企业都有每个区块链交易的相同副本。

当我们谈论区块链时，经常提到的概念之一就是超级账本。超级账本是一个由开放源代码区块链和相关工具组成的项目，于 2015 年 12 月由 Linux 基金会发起，并得到 IBM、英特尔和 SAP 的贡献，以支持基于区块链的分布式分类账的协作开发。

超级账本（Hyperledger）是一个全球企业区块链项目，为各行业构建开源区块链及相关应用提供必要的框架、标准、指南和工具。超级账本是一个许可区块链，专为企业使用区块链进行业务而设计。在许可链上，每一个同意成为联盟成员的参与方都能看到他们获得权限的所有数据，这使得他们能够看到在区块链上注册的每一笔允许的交易。例如，零售商将能够查看他们的产品在哪里；即使是由第三方物流公司交付，他们也可以找到他们货物或产品的位置、状态等信息。由于该链不受一人控制，不会发生分歧，也没有人可以篡改数据——这里只有一个分布和透明的真实状态，每个成员都有相同的数据和交易优先级和责任。一旦输入的数据变成永久，就意味着数据的准确性没有争议或质疑。

加密货币，广义上定义，是一种以令牌或“硬币”形式存在于由区块链驱动的分布式和去中心化账本上的货币。

智能合约是一种自执行的合约，买方和卖方的协议条款直接编写成代码行。这些代码和其中包含的协议存在于一个分布式、去中心化的区块链网络中。

### 区块链几乎适用于今天的每一个行业。

最初的目的是解释加密货币背后的机制，如今区块链技术已经远远超越了仅仅为比特币交易提供动力的范畴。区块链是一种强大而安全的技术，几乎渗透到了每一个行业，从银行和医药到政府部门。结合物联网，区块链正在重新定义未来企业可以开展业务的方式。

例如，在航运和物流领域，让我们考虑一个贸易场景，其中每个商品从生产点开始就可以追踪到通过船只或卡车进行的交付，最终到达仓库，然后再到店铺销售。如果供应链的每个企业部分，比如商品生产者、运输产品的货运管理公司、存储产品的仓库以及最终销售产品的零售商，都能够在任何时候追踪到商品的位置、商品的状态以及当前负责的人员，那么整个端到端的供应链将变得非常透明和有效。

让我们讨论另一个案例研究，关于食物如何从农场运送到餐桌，以及区块链如何成为一项颠覆性技术，使其更安全可持续。

您可能已经听说过 2018 年在美国发生的一起沙门氏菌污染爆发事件，这起事件由一家名为美国花生公司的公司引起，已经导致 9 人死亡，并有 46 个州报告了 700 多起沙门氏菌中毒案例。这家公司在美国只生产了极少量的花生酱，仅占 2%。花生酱是许多产品中使用的一种成分。由于许多产品使用这种黄油，在爆发期间几乎每个使用该成分的产品都被认为是污染的。连锁反应是任何从任何供应商那里获得颗粒花生的产品都被召回，而且产品范围涵盖了饼干、巧克力棒、饼干、冰淇淋，甚至宠物食品产品。总共有 3913 种不同的食品产品被召回，而这仅仅是因为一家生产 2%花生酱的小型制造商运输了沙门氏菌污染的花生酱。该公司首席执行官斯图尔特·帕内尔因此被判处数年监禁。其中一些召回事件发生的时间长达两个月，这是在最初的爆发被发现之后。你能想象两个月的受污染产品摆放在货架上，因为人们不知道他们的产品中有受污染的成分吗？而且这并不是美国独有的，亚洲和欧洲也发生了几起类似的爆发事件。

关键是要了解存在哪些解决方案可以克服这种灾难性事件——物联网与区块链的结合是解决方案。需要建立一个系统，该系统能够提供完全透明和数字化的食品系统视图，根据这个视图，在前面的案例研究中只有那些受影响的产品才能被召回。

让我们以另一个农场到餐桌的例子来说明，以一个简单的切片芒果或苹果为例。芒果通常是由中美洲或南美洲的小农户种植的。

芒果树是从种子种植的，需要五到八年才能结果。一旦树上结出了一些果实，它们在完全成熟之前就被采摘了，这需要一到两周的时间。一旦它们成熟了，芒果就通过空运、陆运或海运运输，而在许多情况下，它们被跨国运输，经过海关清关，然后芒果被带到零售商的加工设施，在那里被清洁，最后切片并放在货架上销售。

当客户进入商店时，他们并不知道谁采摘了芒果，芒果是在什么条件下运输的，以及它们是如何到达商店的。这是一个复杂的旅程。然而，从食品安全的角度来看，了解从农场到餐桌的每一个步骤都是非常重要的，特别是在发生花生酱事件之类的事情时。今天，追溯任何食品产品从购物车到农场需要数天的时间，今天大多数追溯性是通过生命周期中的不同方法实现的，并且在许多情况下，这是记录在纸上的。

物联网和区块链的结合可以通过将完整的追溯性引入到过程中来克服这一传统挑战，这种程度的追溯性可以在几分钟内实现。解决方案可以超越追溯性，达到透明度，这是食品安全管制行业中最重要的方面之一。

追溯性具有以下属性：三个 W——什么、何时、何地。这是一个芒果，它来自哪里，它去了哪里以及什么时间，它在这些日期在哪里，等等。使用当前系统，永远无法实现从农场到餐桌系统的端到端视图。

透明度的愿景是企业可以对该系统有一个完整的互联视图。透明度的属性包括产品是如何生产的，是否使用了任何杀虫剂进行产品收获，或者是否是有机种植的等等。

通过物联网和区块链，企业可以同时实现透明度和可追溯性。可以在农场、包装厂和配送中心部署物联网传感器，跟踪并追溯产品从农场到餐桌的所有环节，而且所有这些数据都可以使用区块链技术进行安全保护，供应链中的所有参与方都可以参与其中。利用这种模式，企业可以做到让客户扫描包装上的二维码，并了解产品的来源、保存方式及温度、生产过程中使用的化学品数量以及其他他们选择的属性。

最后，这样的系统给企业和整个食品系统带来了很多客户信任。

## 物联网区块链实施模式

到目前为止，我们已经讨论了区块链的重要性以及在物联网环境中使其成为强大技术的不同用例。然而，在物联网中我们面临着各种挑战，比如遗留设备和协议、这些设备产生的海量数据，以及市场上各种物联网工具和技术，因此在物联网用例中应用区块链需要谨慎规划。

工业物联网联盟（IIC）成立的目的是加速互联机器和设备以及智能分析的发展、采用和广泛使用。IIC 根据图 9-2 中描述的某些简单准则，定义了四种物联网设备、智能物联网网关和物联网平台到区块链之间的通信模式^(1)。作为将区块链应用于物联网时实现互操作性的物联网标准的一部分，已添加了第五种模式。

图 9-2

物联网区块链模式

### 模式 1：设备 ➤ 物联网云平台 ➤ 区块链

这种模式专注于具有 Wi-Fi 和/或蜂窝连接功能的物联网设备，能够使用各种物联网数据协议直接与物联网云平台通信。在这种模式中，物联网云管理所有设备数据，区块链则作为数据完整性层。物联网云平台选择将哪些数据和事件存储在区块链中。

### 模式 2：设备 ➤ 物联网网关 ➤ 物联网云平台 ➤ 区块链

这种模式专门为资源受限的物联网设备（例如传感器、RFID、智能电表等）而定义，这些设备只能通过低功耗无线通信协议（例如 Zigbee、Z-Wave、LoRa 等）连接到物联网网关，然后将收集的数据转发到物联网云平台。在这种模式中，区块链扮演与模式 1 中相同的角色。

### 模式 3：设备 ➤ 物联网网关 ➤ 区块链

这种模式针对边缘计算应用场景，物联网网关直接处理连接、存储、处理和分析，以分布式方式进行。在这种模式中，区块链取代物联网云平台来控制和管理物联网设备和网关，以实现各种与资产相关的核心功能。

### 模式 4：设备 ➤ 区块链

此模式主要针对机器对机器通信和支付场景，其中配备有 Wi-Fi/蜂窝模块的物联网设备需要以分散的方式与其他设备通信。智能合约在此模式中被广泛应用来定义物联网设备之间的交互规则和策略。物联网设备监控区块链上的特定事件，并相应地采取行动。

### 模式 5：设备 ➤ 物联网网关 ➤ 物联网平台

模式 5 被引入作为物联网标准参考模型的一部分，该模型不包括与区块链的通信。对于任何遵循物联网标准参考模型进行的物联网用例实施，此模式都是必需的，并且需要与我们讨论过的四种模式之一共存。引入此模式的原因是让企业了解，不是每个 IoT 设备生成的交易和数据都需要记录在区块链上，否则将会产生大量的数据爆炸。只有很少的用例可以在孤立的情况下应用模式 1–4，并且这些用例需要非常谨慎地确定。

#### 明智地应用集成模式

随着区块链的引入，整个网络的信任度更高了；但是，并不是所有由物联网设备生成的数据和交易都需要记录在区块链上，这就是引入模式 5 的原因之一。非常重要的是要理解什么需要记录在区块链上，以及什么可以直接存储在物联网云平台或智能物联网网关上。

模式 4 结合 5（称为模式 45）是一种广泛使用的模式，需要机器与机器之间的通信。要应用此模式，设备必须能够连接到互联网并具有计算能力是强制性的。这种模式应用于连接的汽车技术，其中由一家公司制造的汽车需要与另一家公司的汽车通信，或者需要由机器发起电子付款，例如，当电动汽车使用充电站时，汽车会自动向充电站进行付款，而无需任何人为干预。

模式 45 也可以应用于更简单的用例，例如家庭摄像头安全系统。家庭摄像头安全系统用于监视和警报各种事件，例如未经授权的进入或入室盗窃。然而，大多数现有的家用摄像头系统并没有设计用来处理网络攻击，因此我们总是在媒体上看到有关家庭系统不同类型攻击的新闻报道。

凭据填充是一种网络攻击类型，其中窃取的帐户凭据，通常包括用户名和/或电子邮件地址以及相应的密码列表，被用来通过针对 Web 应用程序的大规模自动登录请求获得对用户帐户的未经授权访问。

多因素身份验证是一种电子身份验证方法，只有在用户成功呈现两个或更多证据给身份验证机制后，计算机用户才能访问网站或应用程序：知识、持有和内在性。

当我们分析针对家用摄像头的网络安全攻击时，存在许多安全问题：

+   第一个是用户名和密码的黑客攻击。许多家用摄像头系统使用传统的基于用户名和密码的登录解决方案，而没有多因素身份验证。这种疏忽很容易成为黑客的猎物，从而导致凭证填充等攻击。

+   第二个安全问题称为数据库泄漏，这是通过入侵家庭安全系统的数据库进行密码泄露和所有权妥协。

+   第三种攻击类型称为不安全的设备绑定，黑客通过冒充真正的所有者接管摄像头所有权。

+   最后，本地或云存储的数据完整性也是一个漏洞，这在家庭摄像头上经常听到。这意味着黑客可以进入本地存储（如 SD 卡）或远程存储（如云），其中存储了视频文件。在这种类型的攻击中，数据可能会被篡改，例如插入新的剪辑或删除和修改现有视频剪辑。

随着区块链模式 45 的引入，此类攻击可以完全消除。例如，一种解决方案是使用区块链替换传统的基于用户名和密码的登录，采用无密码解决方案，其中设备和屋主可以参与区块链以实现防黑客通信。另一个例子是称为基于区块链的所有权管理。在这种解决方案中，当摄像头首次打开时，将生成区块链地址（唯一标识符）来识别设备所有者，并在区块链上启用设备所有者和家庭安全系统之间的无懈可击的配对。在这种解决方案中，设备所有权使用区块链技术而不是集中式服务器进行保护。

在智能工厂的使用场景中，模式 2 与 5 相结合（模式 25）和模式 3 与 5 相结合（模式 35）是最常用的，因为在工厂设置中有许多传统设备无法直接与物联网云平台或区块链通信。

另一个广泛使用模式 35 的行业是医疗保健部门。在医疗保健中，物联网被称为 IoMT，即医疗物联网。我遇到过很多企业选择了模式 1，一些使用了区块链，许多其他企业则在其 IoMT 实施中没有采用区块链，因为这看起来相当容易实现。然而，这些企业要么在不久的将来需要重新设计和现代化他们的物联网系统，要么可能已经开始了这一旅程。如果企业正在寻找可扩展的 IoMT 解决方案，模式 1 不是正确的模式。有人争论说快速医疗保健互操作性资源（FHIR）已经成为医疗行业的标准，并且几乎所有的设备制造商在设备制造过程中都在使用这一标准。因此，使用模式 1 不应该是一个问题。我个人反驳了这样的说法，我们将在后续讨论中讨论为什么采用模式 1 是一条失败之路。

Fast Healthcare Interoperability Resources（FHIR）是全球医疗保健数据系统之间传递医疗数据的全球行业标准。FHIR 定义了如何在不同计算机系统之间交换医疗信息，而不管这些信息在系统中的存储方式如何。FHIR 基于广泛用于医疗保健领域的互联网标准。在医疗保健领域，有几类医疗设备。

一类设备涉及远程患者监测（RPM）——RPM 是医疗保健领域最常见的应用，其中物联网设备自动收集来自未亲临医疗机构的患者的健康指标，如心率、血压、体温等，消除了患者前往医院的需要。然后将数据转发给医疗专业人员和/或患者进行下一步处理。这些设备如 Fitbit 和 Apple Watch，个人可以随时佩戴，这些设备被动监测活动并传输患者数据进行处理或分析。

还有一类设备是环境设备，例如存在于医院病床上的传感器或用于监测室温或患者行为的设备。这些设备获取医疗数据或患者行为报告。

还有另一类设备是可摄入的监测医疗设备，它们是类似小药丸的传感器，可测量 pH 值（电位氢）、温度和压力，或监测患者是否已服药。

上述是医疗保健行业中几个类别和数百种设备的子集，从处理能力极小的小型设备到具有充足数据存储和处理能力的大型设备不等。

### 互联医疗物联网的构建模块及相关挑战

#### 数据摄入

并非所有设备都能以高频率发送数据。有些设备每天只运行一次读取，还有些则以极高的速率产生数据，例如每秒甚至亚秒。企业需要设计一种标准解决方案，能够与这两类设备进行交互。模式 25 和 45 可能是正确的选择。

#### 延迟

医疗领域某些类别的设备面临的挑战是它们依赖电池供电，设备级别的数据处理会导致延迟问题。在这里，模式 25 和 35 可能是正确的选择。

#### 设备数量

在健康生态系统中有大量设备，但没有太多标准化，每个设备以自己独特的方式报告数据。在这里，模式 25 可能是正确的选择。

#### 互操作性

在医疗健康行业面临的最大挑战之一是大多数设备与其他设备不兼容。这是在 IoMT 中实施用例时需要考虑的关键因素。FHIR 正在成为医疗保健领域的常见标准，并提供了在多个医院系统之间共享数据的标准化方式；然而，这个标准仍在不断发展，许多传统设备尚未采用这个标准。在这里，模式 25 可能是正确的选择。

#### 数据迟到

在 IoMT 使用案例中我遇到的主要挑战之一是设备（例如可穿戴设备）发送的数据迟到，因为大多数这些设备使用网关进行互联网连接，例如智能手机。这些设备有时会收集数小时甚至数天的数据，一旦建立了互联网连接，数据就会被发送到后端系统。因此，在这种情况下的第一个挑战是系统应该能够处理数据的突发，第二个挑战是系统应该能够理解数据并将其与正确的时间段关联起来。

到目前为止，尚未定义设备应如何发送数据的真正标准，因此每个设备制造商都定义了自己的标准。因此，如果设备在离线收集数据，则某些设备可能首先发送最近的数据，而某些设备可能首先发送旧数据。这意味着 IoMT 解决方案应该解决这一挑战。这使得模式 1 变得高度低效，因为需要重新编写设备软件以嵌入此类标准。在这种情况下，模式 25 和 35 最为相关。

#### 数据重复

在 IoMT 环境中面临的第二个主要挑战是数据重复。由于没有定义标准，设备在预期故障期间选择重新发送数据的方式各不相同。一些设备选择重新发送完整的数据，因为它们在传输数据时连接丢失了，或者它们没有收到特定数据成功接收的确认。无论原因如何，由于每个设备在没有标准机制的情况下运行方式不同，当大量不同的设备聚集在一起时就会面临挑战。在这种情况下，模式 25 和 35 是最相关的。

#### 数据格式

除了数据重复和延迟数据到达之外，物联网设备还有自己表示数据的方式，并且没有明确的标准化。物联网设备捕获的数据以结构化、半结构化和非结构化数据的混合形式产生。

随着医疗行业中物联网设备提出的标准化挑战的巨大规模，如果企业尝试使用模式 1 在设备级别创建解决方案，显然管理和维护这些设备不仅会带来大量的 OPEX 成本，还将产生巨大的 CAPEX 成本。 CAPEX 成本将用于使设备适应标准操作的方式，并且这可能意味着在这些设备上重写或升级软件。 OPEX 成本将用于补丁和升级。成本是一部分，但还有其他挑战，例如设备使用不同的通信协议与外部世界进行通信，这将需要解决方案。所有这些挑战使模式 1 在 IoMT 环境中不合适。通过使用模式 35，设备可以保持原样，而物联网网关将在网关级别解决这些挑战。已经解决了这些挑战的几个商业级物联网网关，因此模式 35 被认为是大规模 IoMT 用例中最合适的。

## 总结

区块链是一个共享的密码学不可更改的账本，用于记录交易历史。在本章中，我们了解了区块链的工作原理以及不同类型的区块链，例如私有和公共区块链：

+   私有区块链是一种技术，只有单个组织或组织联盟对网络拥有权威。该网络不对公众开放，也是物联网用例的首选。

+   公共区块链是一个任何人都可以随时加入的区块链网络。参与时没有任何限制。

我们随后讨论了区块链如何通过利用五种区块链物联网模式来支持多个示例和案例研究的物联网用例：

1.  1.

    在第一种模式中，设备与物联网云平台通信，物联网云平台与区块链通信。

1.  2.

    在第二种模式中，设备与智能物联网网关通信。然后，网关与物联网云平台通信，后者再与区块链通信。

1.  3.

    第三种模式是设备直接与智能物联网网关通信，后者再与区块链通信。

1.  4.

    在第四种模式中，设备直接与区块链通信。

1.  5.

    在第五种模式中，设备与智能物联网网关通信。然后，网关与物联网云平台通信。在这种模式中没有区块链交互。

在下一章中，我们将讨论在物联网中应用人工智能。

© 作者(们)，独家许可给 APress Media, LLC，属于 Springer Nature 2021，V. Upadrista 使用区块链的物联网标准[`doi.org/10.1007/978-1-4842-7271-8_10`](https://doi.org/10.1007/978-1-4842-7271-8_10)

# 10. 物联网世界中的人工智能（应用物联网）

Venkatesh Upadrista^(1 )（1）英国斯劳

自动化是将机器应用于曾由人类执行的任务。尽管术语机械化通常用于指代机器简单地替代人力劳动，但自动化通常意味着将机器整合到一个自主管理的系统中。自动化已经彻底改变了引入了它的领域，并且现代生活的几乎每个方面都受到了它的影响。

数字化转型和自动化是密不可分的。数字化转型是将业务流程与当前基于自动化的技术协调一致，使整个企业范围内的工作流程变得方便、优化且减少错误。换句话说，它将任务从过去的孤立、部门特定和手动处理转变为流程化、普遍可访问和战略自动化。它通过向当前系统引入新软件来实现这一点。这些软件充当了已有系统的扩展，执行许多以前需要多个部门和多名员工处理的重复和单调功能。这种情况曾是企业流程滞后时间和瓶颈的主要原因，因为工作流程在部门队列之间停滞不前。然而，有了数字化转型技术的应用，员工就不需要再按照“旧方法”做事情了。借助自动化技术和流程化的跨部门软件，企业现在可以将注意力集中到更高层次、高阶的工作上，从而实现精细调节的企业工作流程，最小化浪费，最大化资源生产力。

世界正在朝自动化方向发展，企业在自动化方面没有技术上的限制。然而，在做出决策之前，总是需要分析自动化带来的好处与成本。简单来说，高度可重复的任务需要自动化。

有不同的工具和技术可以实现自动化。其中一种技术是机器人流程自动化（RPA），是指部分或完全自动化人类手动、基于规则且重复性的活动的软件工具。它们通过复制实际人类与一个或多个软件应用程序进行交互以执行任务，如数据输入、处理标准交易或回复简单的客户服务查询来工作。

机器人流程自动化工具不是替代底层业务应用程序的工具；相反，它们只是自动化了人类工作者已经手动完成的任务。

机器人流程自动化的一个关键优点是，这些工具不会改变现有系统或基础设施。传统的自动化工具和技术用于使用应用程序编程接口（API）与系统交互，这意味着编写代码，这可能会导致质量保证、维护该代码以及应对底层应用程序的变化方面的担忧。

使用机器人流程自动化时，需要进行脚本编写或编程来自动执行重复性任务，需要一个了解如何手动完成工作的主题专家（SME）。此外，数据源和目的地需要高度结构化且不变化 - 机器人流程自动化工具无法对错误或异常进行智能处理。但即使考虑到这些因素，机器人流程自动化也带来了实实在在的好处。伦敦政治经济学院的研究表明，RPA 在第一年内可以提供 30%至 200%的潜在投资回报^[1]。这种规模的节省将难以抗拒。去年，德勤发现，虽然只有 9%的受访公司已经实施了 RPA，但几乎 74%的公司计划在接下来的 12 个月内调查这项技术。

RPA 的局限性在于它们以静态方式模仿人类行为，并且缺乏人类适应变化的能力或智能。人工智能是下一个重大技术，通过使机器能够模仿人类的学习和解决问题等功能，来补充 RPA。人工智能可以从过去的数据中学习，并以比 RPA 更智能的方式执行任务。

RPA 和人工智能正在相互融合，其成本节约和好处对公司来说太过诱人而不容忽视。例如，机器人流程自动化（RPA）可以捕捉和解释现有业务流程应用程序的操作，例如理赔处理或客户支持。一旦“机器人软件”理解了这些任务，它就可以接管运行它们，而且比任何人都更快、更准确、更不知疲倦。通过使用 AI 算法来补充 RPA，可以提供额外的好处，即机器人可以从数据和错误中学习，以便在一段时间内提高其准确性和性能。

RPA 和 AI 的组合适用性可以涵盖改善成本以及基于此带来新的业务见解，从而可以做出智能决策。RPA 和人工智能的结合可以为企业提供最大的自动化能力，并且是数字化转型过程中必须考虑的最重要因素之一。这些优势在 IoT 环境中进一步增强，我们将在后续章节中讨论。将 IoT 与 AI 结合可以创建“智能机器”，模拟智能行为，以便在几乎不需要人类干预的情况下做出明智的决策。其结果是加速创新，可以极大地提高企业的生产率。IoT 和 AI 市场正在迅速并行发展。

## 机器人流程自动化

正如讨论的那样，机器人过程自动化（RPA）是一种技术，允许配置计算机软件或“机器人”来模拟和集成人与数字系统内部进行业务流程执行的交互。RPA 利用用户界面来捕获数据并像人类一样操作应用程序。它们解释、触发响应，并与其他系统通信，以执行各种重复任务。

许多企业正在转向 RPA 以简化企业运营并降低成本。通过 RPA，企业可以自动化基于规则的琐碎业务流程，使业务用户能够将更多时间投入到为客户或其他更高价值的工作服务上。RPA 机器人，也称为虚拟 IT 支持团队，正在取代人类进行重复的琐碎流程。企业进一步通过将 RPA 与机器学习、语音识别和自然语言处理等认知技术结合，提升其自动化努力，自动化过去需要人类感知和判断能力的更高阶任务。这就是人工智能。

将 RPA 与业务流程管理（BPM）等企业自动化工具区分开来的关键区别在于，RPA 使用软件或认知机器人执行和优化流程操作，而不是人类操作员。与 BPM 不同，RPA 是一种快速而高效的解决方案，不需要侵入性集成或对基础系统进行更改，使组织能够通过将人类替换为软件“机器人”来迅速实现效率和成本节约。

RPA 非常适用于自动化，但需要牢记其局限性。例如，由于 RPA 通常与用户界面进行交互，即使对这些界面进行微小更改也可能导致流程中断。

## 人工智能

人工智能（AI）是“使机器智能的科学”。如今，我们可以教会机器像人类一样。我们可以赋予它们看、听、说、写和移动的能力。

AI 是一个广泛的术语，涵盖了许多子领域，旨在构建可以像人类一样执行需要智能的任务的机器。这些子领域如图 10-1 所示，并列如下：![../images/517610_1_En_10_Chapter/517610_1_En_10_Fig1_HTML.jpg](img/517610_1_En_10_Fig1_HTML.jpg)

图 10-1

AI 子领域

**机器学习** - 机器学习提供了系统在不需要显式编程的情况下自动学习和改进的能力。它侧重于开发可以访问数据并利用数据自己学习的计算机程序。机器学习是计算机系统通过接触数据来提高性能而无需遵循显式编程指令的能力。它是自动在大量数据中发现模式然后用于做出预测的过程。

**深度学习** - 这是一种相对新的且极为强大的技术，涉及一系列算法，这些算法在深层“神经”网络中处理信息，其中一层的输出成为下一层的输入。神经网络是部分受到构成动物大脑的生物神经网络启发的计算系统。神经网络的数据结构和功能被设计为模拟联想记忆。深度学习算法在检测癌细胞或预测疾病等方面取得了巨大成功，但有一个巨大的限制：无法确定深度学习程序用于达到结论的因素。

**计算机视觉** - 它是计算机识别图像中的对象、场景和活动的能力，使用技术将分析图像的任务分解为可管理的部分，检测图像中对象的边缘和纹理，并将图像与已知对象进行比较以进行分类。

**自然语言/语音处理** - 这是计算机像人类一样处理文本和语言的能力，例如，从文本/语音中提取含义，甚至生成可读、风格自然且语法正确的文本。

**认知计算** - 这是一个相对较新的术语，受 IBM 青睐，认知计算将认知科学的知识应用于构建由多个人工智能子系统组成的体系结构，包括机器学习、自然语言处理、视觉和人机交互，以模拟人类思维过程，旨在在复杂情况下做出高级决策。据 IBM 称，目标是帮助人类做出更好的决策，而不是为他们做出决策。

### 数据科学

最近几年，物联网（IoT）概念已经成熟，并且正在不断成熟。人们越来越关注安全性的重要性、边缘分析以及其他使物联网项目成功所必需的技术和平台。然而，对于使物联网用例产生结果而言，最重要的元素之一是数据。事实上，“物联网”这个短语中缺少的一个重要元素可能是谜题中最重要的部分——数据本身。

物联网（IoT）与数据息息相关。几乎所有企业都在收集大量数据，以便基于这些数据做出业务决策。企业拥有的数据越多，他们就能生成越多的业务见解。使用数据科学，企业能够发现数据中的模式，这些模式之前他们甚至不知道存在。例如，一个人可以发现，基于前面一辆车发送的数据，他们有遇到事故风险的可能性。数据科学在这种情况下得到广泛应用。企业正在使用数据科学构建推荐引擎、预测机器行为等等。只有在企业拥有足够的数据时，才能应用各种算法对数据进行分析，从而得出更准确的结果。数据科学就是通过机器学习算法在大数据集上应用人工智能，进行预测并发现数据中的模式。

### 人工智能与数据科学的联系

正如我们之前讨论的，数据科学与人工智能之间的联系是一对一的映射。这意味着数据科学通过将类似的数据链接起来，帮助 AI 找到未来解决问题的解决方案。从根本上讲，数据科学使 AI 能够更快速、更有效地从庞大的数据池中找到适当和有意义的信息。没有数据科学，AI 就不存在。AI 是一组技术，擅长从大数据集中提取见解和模式，然后基于这些信息进行预测。

一个例子是 Facebook 的面部识别系统，随着时间的推移，它积累了大量关于现有用户的数据，并且对新用户也应用相同的面部识别技术。另一个例子是 Google 的自动驾驶汽车，它实时从周围环境中收集数据，并处理这些数据以在道路上做出智能决策。

一个典型的非人工智能系统依赖于人类输入，就像会计软件一样运行。该系统的规则是手动编码的。然后，它严格遵循这些规则来帮助进行税收工作。只有当人类程序员改进它时，系统才会改进。但是机器学习工具可以自行改进。这种改进来自于机器根据新数据评估自己的性能。

#### 优质数据的重要性

人工智能成功的关键在于拥有高质量的数据。只有当人工智能可以从特定于企业正在使用人工智能自动化的用例的优秀和高质量数据中学习时，人工智能才能提供卓越的结果。例如，要解决一个物理问题，如果向人工智能系统提供与数学相关的数据，那么结果可能不尽人意。您的系统会学到一些东西，但这些努力可能不会帮助系统正确回答您的测试问题。另一个例子，如果您用误将人行道标记为街道的图像来训练自动驾驶车辆的计算机视觉系统，结果可能会灾难性。为了使用机器学习算法生成准确的结果，您需要高质量的训练数据。要生成高质量的数据，您需要熟练的标注员仔细标注您计划与算法一起使用的信息。

如果数据质量不好，那么人工智能将无法提供期望的结果，因为人工智能使用机器学习从数据中学习，因此企业需要高质量的数据。如果数据质量不好，人工智能系统将无法学习良好，因此也无法产生良好的结果。这意味着使用人工智能的组织必须投入大量资源来确保它们拥有足够数量的高质量数据，以便他们的人工智能工具能够产生期望的结果。这并不一定意味着企业需要一个完全功能齐全的企业级大数据平台来开始他们的人工智能之旅。人工智能可以在针对特定用例的一部分高质量数据上运行，并且企业可以创建一个数据存储库，以满足特定用例，并使用这些数据来训练系统。

如今，市场上几乎所有的产品，无论工具专注于什么，都声称在工具中内置了人工智能功能，这在技术市场上造成了很多混乱，不知道为 AI 驱动的用例使用哪些工具。然而，人们需要理解的是，几乎所有主要工具能力不是人工智能或机器学习的工具都提供通用的人工智能功能，并且只能执行非常有限的人工智能任务。如果一个人需要在企业内在广泛的物联网用例中应用人工智能，那么他们需要看看可以针对特定用例在物联网数据上执行人工智能的物联网云平台。Azure 物联网平台就是一个例子。

## 人工智能和物联网

在前几节中我们讨论了，RPA 使用预定义的规则来执行活动，而在过去几年里，RPA 在多个用例中取得了极大的成功。即使我们考虑一些由诸如 NASA 这样的组织解决的世界上最大的问题，也是通过传统的规则或理论来实现的。例如，对于从地球飞往火星，NASA 并不瞄准火星当前的位置，而是瞄准火星九个月后将会处于的位置，因为宇航员从地球到火星需要九个月的时间。NASA 应用于预测九个月后火星位置的规则基于 300 年前的牛顿运动定律。牛顿的理论适用于我们太阳系中的所有行星，除了水星。水星是另一回事，因为它离太阳太近等等，还有其他原因。股市也存在类似的情况。预定义的规则，比如“如果股票的短期平均值超过了股票的长期平均值，那么就买入股票”，效果非常好。在过去几年，当人工智能还不是企业战略的一部分时，这样的预定义规则曾是常态，但现在已经不再是这样了。人工智能正在成为大多数组织的主流，而且越来越多的用例证明了人工智能的好处。由于这种知名度的关注，企业已经开始摒弃传统的规则和基于规则的系统思维。新的常态是——给我数据，我将通过从数据中学习来创建模型，我学得越多，我创建的模型就越好。这就是人工智能的全部内容。对于物联网用例，人工智能将利益放大到了一个极致，以至于企业能够超越其利润率，同时许多其他企业也正在进入他们过去从未想过的新业务领域。

物联网产生了大量数据。设备以高速发送大量不同种类的信息，这使得物联网数据管理非常复杂。我们将在第十一章中详细讨论物联网数据管理。管理如此复杂的物联网数据需要健壮且定制的数据架构、政策、实践和程序，以满足物联网数据生命周期需求。传统的大数据方法和基础设施是不够的，企业需要在评估过程中验证物联网云平台或物联网网关如何解决物联网特定数据挑战。

可伸缩性和灵活性是物联网数据的最大关注点之一。物联网数据流量的庞大规模及其迫切性使得物联网用例的数据管理变得复杂。物联网云平台或物联网网关需要从物联网数据的角度解决一些关键挑战，列举如下：

+   鉴于物联网设备的数量将随时间增加，例如从 40 个设备增加到 400,000 个设备，物联网数据架构如何适应这一变化？

+   大多数物联网数据的存储时间很短 - 这意味着需要在设备生成数据后立即采取行动。例如，如果设备记录了熔炉中的非常高温，那么需要立即关闭熔炉，并且只有在此时采取行动时，温度数据才有用。企业需要了解物联网产品供应商提供的用于实时处理和分析的物联网解决方案。

+   一旦接收到物联网数据，如何存储以确保为新信息提供足够的空间？

+   设备的输入和输出如何在不堵塞的情况下流动？

+   对于需要将设备数据与非设备数据（例如有关用户和密码的元数据）结合起来以使数据有意义的物联网用例，存在可以将这些不同的数据组合起来的解决方案吗？

### 在应用物联网中应用人工智能的经验教训（应用物联网）

人工智能高度依赖于优质数据来做出正确的预测。一旦企业拥有足够的优质数据，人工智能的工作方式是将机器学习模型提供一组数据。通过这组第一组数据，模型进行计算并预测结果。如果结果错误，它会重新调整规则并将规则应用于第二组数据，并预测结果。这个周期会一直持续，直到结果正确为止。一旦结果正确，数据会再次被多次馈送以确定结果的准确性。在应用规则于成千上万个数据集并消耗大量数据后，创建了一个能够做出正确预测的模型。这就是机器学习的全部内容。

在物联网用例中应用人工智能并不是一个非常直接的过程，可能会遇到几个挑战。很多时候，如果规划不当，应用物联网可能会变成一个繁琐且漫长的项目。我个人在应用物联网用例中学到的四个关键经验教训如图 10-2 所示。![../images/517610_1_En_10_Chapter/517610_1_En_10_Fig2_HTML.jpg](img/517610_1_En_10_Fig2_HTML.jpg)

图 10-2

应用物联网用例的重点关注领域

#### POC 不成功，直到它能够扩展

第一条规则是概念不能仅通过概念验证来视为成功。只有概念验证能够扩展，概念才算成功。

让我用一个案例研究来解释这个问题。 美国一家顶级奢侈品零售品牌在美国拥有 2000 多家零售店，希望我们利用机器学习创建一个人工智能实用程序，如果有任何名人出现在他们的店铺，能够在五秒内向店长发出警报。 然后，店长将能够迎接名人，并热情地欢迎他们光临店铺。 我们开发了应用 AI 的用例，并在阿拉斯加的五家店铺使用了 400 台摄像机部署了它，结果取得了鼓舞人心的成绩，成功率超过 95%。 我们使用面部识别技术和机器学习模式为大约 5000 位名人使用数百万数据集实施了 POC。 在阿拉斯加表现良好。

我们在密歇根州和其他城市使用了相同的技术，共有 10,000 台摄像机，结果并不令人鼓舞。 在密歇根州和底特律，我们错过了 32% 的名人，因为使用的数据不足以识别该地区的所有名人。 这个案例研究告诉我们，如果概念证明在 400 台摄像机和 5000 位名人中的五秒内起作用，这并不意味着它可以在 40,000 台摄像机和 50,000 位名人中起作用。 因此，第一个学到的教训是，除非证明可以扩展，否则 POC 是不成功的。

#### 人工智能需要足够的数据和时间来学习

要预测并提供准确的结果，人工智能模型需要大量的数据和时间。中等到复杂的应用人工智能用例至少需要六到九个月的学习时间才能达到 95%的准确率。一个名为 Seagate 的制造客户要求我们在他们整个生产线部署多个设备，要求能够实时了解他们产品线故障的情况，因为传统上，如果其中一个单位出现故障，整个生产线就会停止，这可能会造成数百美元的损失。但客户的关键要求是我们不能过早或过晚告诉他们这些故障；他们需要在任何事故发生之前得到通知。为了实现如此接近实时的故障警报，我们需要大量的数据，并且模型需要几个月的学习来预测故障。在将数百万个物联网数据集提供给机器学习模型进行了九个多月的训练后，该模型能够大约 85%的时间内预测故障。

#### 具体指定要实现的目标

如果给予人工智能一个具体而狭窄的任务，它将非常有效。

我们被召集到一个城市的医院，那里有高发的肺结核（TB）病例。政府决定对该城市所有年龄超过 40 岁的人进行肺结核检测。尽管在整个城市范围内进行了大规模的扫描，但医院面临的挑战是，在拍完胸部 X 光片后，医生需要两周时间才能确认一个人是否对肺结核呈阳性或阴性。对于阳性病例，在这两周的时间里，感染者有可能向周围的其他人传播疾病。人工智能被应用来解决这个问题。我们要求医生分享所有患者的 X 光片，并将它们分为两类，即肺结核阳性和肺结核阴性。肺结核阳性是指感染了肺结核的患者，其余被归类为肺结核阴性。机器学习模型在从全城实验室拉取的数千张 X 光片上运行。模型根据阳性和阴性报告进行反复训练。在学习了数百万张 X 光片后，最终 AI 模型能够在仅一秒钟内从 X 光片中预测一个人是否为肺结核阳性或阴性。该算法实现了 95% 的成功率。

因此，从这个案例研究中学到的关键是，企业需要非常明确他们希望从人工智能中实现（预测）什么。在医院的案例研究中，我们仅使用 X 光片作为预测患者肺结核的手段 - 我们没有使用 MRI 或 CT 扫描。

#### 如果模型运行良好，建议将模型投入实际应用，而不是渴望做更多的人工智能。

如果模型运行良好，建议根据用例将模型投入实际应用。

我们当时在哥本哈根，我看到了一个移动应用。该移动应用显示了距离我的位置 100 公里范围内有多少食品店的食品将在接下来的两天内过期。利用这些数据，商店会在即将过期的食品上提供 50%至 70%的折扣。我在距离我酒店 7 公里的半径范围内发现了大约 2000 种食品，一旦我点击了特定商店，它就会给我列出该商店所有即将过期的物品。我还能够点击特定的物品，然后该应用程序会给我列出所有附近商店有该即将过期物品的列表。这是一个简单的应用程序，不需要 AI 来执行任务，只需几个简单的规则就足够了。开发该应用程序的公司最初的愿望是利用 AI 算法开发该应用程序，但很快他们意识到该应用程序不需要 AI，几个简单的规则就足以从食品中提取到期日期信息并与用户共享。这意味着一旦你花足够的时间收集数据并看到结果，最好实施规则而不是强迫自己使用应用 AI。

通过这个例子学到的教训是，企业并不总是需要强迫使用收集到的数据来进行 AI，即使他们已经获得了 AI 的资金支持。如果你已经可以使用预定义的规则对你拥有的数据进行良好处理，请使用这些规则来实现业务结果。

## 摘要

在本章中，我们讨论了机器人流程自动化和人工智能之间的关键区别。我们还讨论并了解了人工智能的不同子领域，例如机器学习、深度学习、计算机视觉、自然语言/语音处理和认知计算，这些子领域旨在构建能够执行任务的机器。

本章清楚地阐述了在人工智能中大数据的重要性。数据科学帮助 AI 通过将类似的数据链接起来以便未来使用来找出问题的解决方案。从根本上讲，数据科学使 AI 能够更快、更高效地从这些巨大的数据池中找到适当和有意义的信息。毫无疑问，企业只有在拥有高质量的数据并且能够正确地使用这些数据时，才能成功地应用人工智能于 IoT 使用案例。

在 IoT 使用案例中应用 AI 并不是一个非常直接的练习，如果规划不好，可能会导致几个挑战。我们讨论了应用 IoT 使用案例场景中的四个关键学习：

1.  1.

    IoT 不能仅仅因为一个 POC 成功就被视为成功；POC 应该能够扩展，这是第一个要点。

1.  2.

    第二个要点是为 AI 模型提供足够的数据和学习时间。

1.  3.

    第三个要点是为 AI 模型设定明确的目标。

1.  4.

    第四个要点是如果 AI 模型已经产生结果，则开始使用它们，而不是渴望做更多的 AI。

企业必须确保他们选择拥有人工智能支持的正确的智能 IoT 网关和 IoT 云平台。其次，需要仔细选择 IoT 使用案例，在其中人工智能可以发挥作用。

在下一章中，我们将讨论在 IoT 生态系统中数据和分析的重要性，之后我们将讨论大数据参考模型。
