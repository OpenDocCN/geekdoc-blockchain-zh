# 第二部分 物联网标准参考模型

物联网参考模型

在这部分中，我们将讨论物联网标准参考模型，这是一个抽象框架，由一组相互关联的清晰定义的组件组成，使用这些组件，企业可以成功实现物联网解决方案。

我们还将讨论企业在实施物联网用例时面临的挑战，以及如何使用物联网标准参考模型来克服这些挑战。随后，我们将讨论企业可以根据哪些特定原则为其物联网用例选择适当的设备、智能物联网网关和物联网云平台，并减轻这些挑战。

© 作者（作者）独家许可给 APress Media, LLC，Springer Nature 2021 的一部分 V. UpadristaIoT 标准与区块链[`doi.org/10.1007/978-1-4842-7271-8_4`](https://doi.org/10.1007/978-1-4842-7271-8_4)

# 4. 物联网标准参考模型

Venkatesh Upadrista^(1  )(1) 英国斯劳

连接到互联网的设备数量，包括组成物联网（IoT）的机器、传感器和摄像头，仍然以稳定的速度增长。IDC 的新预测估计，到 2025 年将有 416 亿个连接的物联网设备或“物”，生成 79.4 ZB 的数据^(1)。

随着连接的物联网设备数量增长，这些设备生成的数据量也在增长。其中一些数据是小而突发的，表明了机器健康的单一指标，而大量数据则由其他设备生成，例如使用计算机视觉分析人群的视频监控摄像头。

所有“事物”和这些事物产生的数据之间存在明显的直接关系。IDC 预测，在 2018 年至 2025 年的预测期间，这些连接的物联网设备产生的数据量将以 28.7%的复合年增长率增长。大多数数据是由视频监控应用程序生成的，但工业和医疗等其他类别的数据将随着时间的推移越来越多地生成。

随着市场的不断成熟，物联网越来越成为从“事物”、人和流程中交换信息的基础。数据成为共同的基数 - 当它从网络的最近和最远的边缘捕获、处理和使用时，为行业、政府和个人的生活创造价值。

物联网的领域涵盖了各种各样的技术，因此单一的架构无法用于所有可能的物联网实现。物联网的实施因企业而异。举例来说，制造业的物联网（IIoT）与医疗保健领域的物联网实施（IoMT）不同。事实上，物联网就像是围绕我们周围所有可能的互联网和非互联网设备和计算机的一把伞。因此，物联网架构需要足够开放，具有开放的协议，以支持各种现有的网络应用程序和用例。此外，还应包括用于可伸缩性、安全性和语义表示的中间件，以促进来自各种设备的设备和数据集成。

在本章中，定义了物联网标准参考模型，它是一个抽象框架或领域特定的本体，包括一组相互关联的清晰定义的组件，使用这些组件，企业可以成功地实施物联网解决方案。物联网标准参考模型可以应用于任何行业的物联网用例。为了使许多潜在不同的物联网架构可以基于物联网标准参考模型实施，物联网标准参考模型保持抽象。

## 物联网标准参考模型

踏上物联网之旅，企业需要选择作为物联网实施一部分的合适设备，并选择要使用的合适网络、合适的物联网平台等等。然后最终需要以最安全的方式进行集成。好消息是通过及早关注安全，企业可以提前设计安全，而不是被迫采取反应性措施。

图 4-1 描绘了物联网标准参考模型，该模型广泛分为三个水平服务。^(2) 安全是一个垂直服务，适用于所有水平服务，并且在制定有关设备、智能物联网网关或全栈物联网平台的决策时是最重要的考虑因素之一。设备管理和人工智能（AI）是两个特定服务，它们要么是智能物联网网关或全栈物联网平台的一部分。这些服务应该位于哪里的选择取决于物联网用例，因此被视为参考模型中的一个垂直。最后，区块链是支持完整物联网标准参考模型的一个总体功能，并且是跨越所有水平和垂直服务的一个水平服务。![../images/517610_1_En_4_Chapter/517610_1_En_4_Fig1_HTML.jpg](img/517610_1_En_4_Fig1_HTML.jpg)

图 4-1

物联网标准参考模型

第一个水平服务是设备层，包括位于车间的物理对象。

第二个是智能物联网网关，负责从设备收集数据并将其中继到其他系统。在许多情况下，智能物联网网关执行从设备收集的数据的预处理，包括分析。智能物联网网关执行的另一个功能是设备管理。一些企业选择在智能物联网网关级别执行设备管理，但其他企业更喜欢在下一个级别即全栈物联网平台级别执行设备管理。设备管理在后续章节中详细讨论，指的是涉及作为物联网环境一部分运行的设备的配置、认证、配置、维护、监控和诊断等过程。

全栈物联网平台就像企业业务的神经系统，通过智能物联网网关从设备获取的物联网数据与其他非物联网数据结合，利用分析系统或应用程序提取有用的洞察力。人工智能（AI）是物联网标准参考模型中的另一个功能，使企业能够创建模拟智能行为并在决策过程中支持的智能机器，几乎不需要人类干预。一些企业选择在智能物联网网关级别应用 AI 模型，一些企业选择在全栈物联网平台级别应用 AI 模型，而另一些企业选择在两个地方同时执行 AI。做出这些选择取决于企业选择实施的物联网用例。

设备、智能物联网网关和全栈物联网平台需要进行安全保护，这是物联网标准参考模型的一个关键隐含要求。企业需要确保选择作为物联网标准参考模型一部分的工具和平台在安全方面经过了彻底验证。

最后，物联网标准参考模型以区块链技术为支撑。尽管区块链目前在物联网背景下正在发展，但非常重要的是，企业在决定物联网架构时需要规划区块链的功能，因为区块链将成为企业未来成功实施物联网的最重要元素。

我们将在后续章节详细讨论每一个功能，并提供以下内容的快速预览。

### 设备（传感器和执行器）

作为每个物联网系统的基础，连接设备或连接对象负责提供数据，这是物联网的本质。为了在外部世界或对象内部获取物理参数，设备需要传感器。

从根本上说，物联网设备由硬件和软件组成，具有操作系统、计算、存储和连接功能。设备与计算机的最大区别在于，物联网设备的输入和输出与传统计算机非常不同。设备包括传感器和执行器。

传感器可以嵌入设备本身，也可以作为独立对象实现，用于测量和收集遥测数据。例如，农业传感器的任务是测量空气和土壤温度和湿度、土壤 pH 值或作物暴露于阳光的程度。

并非所有物联网设备都会有输出。具有输出的设备可以对事件执行操作，例如让某人知道发生了什么事情，如按下蜂鸣器按钮，或者按下按钮后液压升降机可以升起数吨重物。

此层的另一个元素是执行器。执行器与传感器紧密合作，将设备生成的数据转换为物理动作。举例来说，想象一个智能灌溉系统，所有必要的传感器都已经就位。根据传感器提供的输入，设备实时分析情况并命令执行器打开位于土壤湿度低于设定值的地方的选定水阀。阀门保持打开状态，直到传感器报告数值已恢复到默认值。

设备保持连接以便能够传输和接收数据并执行指令是至关重要的。

在新的连接设备的世界中，设备之间进行通信以收集和共享信息，并实时协作以利用整个物联网部署的价值也是至关重要的。由于企业中存在许多资源受限且由电池供电的遗留设备，因此通常无法实现此目标，需要创建解决方法。这些遗留设备面临着很多挑战，如计算能力、能源和带宽等方面的资源。此外，每个设备使用不同的语言（称为协议）进行通信，因此设备之间直接通信并不总是容易的。这就是为什么智能物联网网关出现并成为任何设备（无论是现代设备还是遗留设备）与其他设备进行安全和最优通信的解决方法的主要原因。

### 智能物联网网关

智能物联网网关通常执行三个主要功能，如图 4-2 所示。^(4)![../images/517610_1_En_4_Chapter/517610_1_En_4_Fig2_HTML.jpg](img/517610_1_En_4_Fig2_HTML.jpg)

图 4-2

智能物联网网关的功能

首先，它充当数据采集层，使设备能够与物联网架构中的其他系统以及彼此交流和共享数据，并且执行物联网设备的管理。物联网网关之所以被称为智能网关，是因为它们执行另一个重要功能，即对来自物联网设备的数据进行预处理和分析，也被称为边缘 IT 或边缘分析。

并非所有物联网网关都是智能的。标准的物联网网关只执行第一个功能，即使设备通信成为可能。一些网关制造商使其网关能够执行设备管理。智能网关在网关级别执行数据处理和分析，减少了将数据发送和接收到物联网平台的开销。它将计算和数据存储靠近设备所在的位置，以提高响应时间并节省网络带宽。

了解并不是所有物联网架构都需要智能物联网网关是非常重要的。根据企业需求和物联网用例，需要选择正确的网关。

#### 设备通信是网关的首要功能

在物联网生态系统中，企业将拥有几个设备，所有这些设备都需要连接并交换信息。并非所有设备都可以直接与其他设备交流，因为它们每一个都使用不同的语言（也就是通信协议），因此物联网（智能）网关变得非常重要。物联网网关的功能是使设备能够在物联网架构中与其他设备通信，而不受它们使用的通信协议的限制。我们将在第六章讨论更多关于通信协议的内容。

物联网（智能）网关表示网关可以是物联网网关或智能物联网网关。

物联网网关意味着该网关没有智能功能，即它没有数据存储、数据预处理和分析能力。

通信协议是一套规则系统，允许通信系统中的两个或多个实体传输信息。

物联网（智能）网关是实现物联网通信的解决方案，通常是设备对设备的通信或设备对云端的通信。物联网网关是执行诸如协议转换为通用标准、数据处理、数据存储、数据过滤和设备安全等功能的设备。

考虑到数百万设备产生的大量输入和输出，数据的聚合、选择和传输能力非常重要。作为连接物联网设备与云端和分析系统之间的中介，网关充当数据采集系统，并提供将其余层次联系在一起所需的连接点。物联网网关通过将传感器数据转换为易于传输和其他系统组件可用的格式，促进传感器与其余系统之间的通信。

#### 设备管理是一些网关执行的另一个重要功能

设备管理是自动和安全地提供、验证、配置、控制、监视和维护物联网设备的过程。一些企业选择通过物联网（智能）网关执行设备管理，而一些企业则更倾向于根据特定的使用案例选择使用全栈物联网平台来执行设备管理。

#### 边缘计算是智能物联网网关的第三个重要功能

边缘计算是一种分布式计算范式，将计算和数据存储集中到需要的位置，以改善响应时间并节省带宽。

边缘计算正在改变世界各地数百万台设备处理、处理和交付数据的方式。互联网连接设备（IoT）的爆炸性增长，以及需要实时计算能力的新应用程序，不断推动着边缘计算系统的发展。

更快的网络技术，比如[5G](https://www.networkworld.com/article/3330603/5g-versus-4g-how-speed-latency-and-application-support-differ.html)无线技术，正在加速边缘计算的创建或支持实时应用程序的过程，比如视频处理和分析、自动驾驶汽车、人工智能和机器人技术等。

定义

***工作负载*** *是本书中使用的术语，指的是应用程序、连接性和数据的组合，可以是全部或部分。*

*在网络中，延迟衡量数据到达目的地所需的时间。通常将其表示为往返延迟，即信息到达目的地并返回到源地址所需的时间。*

市场研究公司 Gartner 将边缘计算定义为“分布式计算拓扑结构的一部分，其中信息处理位于边缘位置，物联网设备和人员在此产生或消费信息。” 在基本层面上，边缘计算将计算和数据存储靠近正在收集数据的设备，而不是依赖于可能距离设备数千英里的中心位置。这意味着数据，特别是实时数据，由智能物联网网关处理，这些网关托管在设备所在位置附近。由于这个原因，企业不会面临延迟问题，因为数据在设备之间来回传输，并在靠近设备的地方进行处理。此外，使用智能物联网网关，公司可以节省资金，因为处理是在本地进行的，这减少了需要发送和在中心化或基于云的位置处理的数据量。

启用边缘计算的智能物联网网关由于物联网设备的指数增长而变得非常重要，这些设备连接到互联网，用于从云接收信息或将数据返回到云端。许多物联网设备在运行过程中会产生大量的数据。智能物联网网关主要是将处理从云端移动到距离终端设备或终端用户更近的位置。这也包括延迟对于需要实时响应的物联网应用程序来说非常重要，比如那些在 IoT 中需要实时响应的应用程序。

边缘计算与智能物联网网关的关键驱动因素是

+   网络和带宽——边缘计算可以降低大量数据的传输成本，并减少对网络的依赖。

+   数据隐私和安全——边缘计算帮助组织遵守数据主权法律，并确保知识产权留在现场。

+   边缘计算的采用也受到了对本地计算的渴望的推动——在设备上或在现场。

+   在往返延迟问题上，边缘计算已经打破了整个市场。云计算主要是访问互联网上的系统，这意味着数据和通信需要在互联网上来回传输。通过边缘计算，数据存储在智能物联网网关中，从而缓解了网络延迟问题。

尽管人们可能不认为边缘设备是每个物联网架构的一部分，但这是决定今天特定企业和用例的任何物联网实施的未来成功的最重要因素之一。边缘计算对大规模物联网实施带来了显著的好处。

##### 智能网关的挑战

智能物联网网关通过边缘计算实现了数据存储和计算能力。它们在网关本身进行数据处理，但是在网关层面能够处理的数据和计算量是有限的。对于连接到网关的数百万设备，并且需要大规模计算能力的企业来说，需要在智能物联网网关层面上做出选择，决定哪些数据需要在此处理，而其余的数据和处理则需要由通常驻留在云中的全栈物联网平台来执行。

为了克服物联网边缘网关层面的数据存储和计算限制，一些企业正在尝试专门的模型，以在智能物联网网关或设备附近提供无限的计算能力。这些公司试图在区域性地维护和管理服务器，以确保企业无需在互联网上来回移动工作负载，从而减少应用程序和企业内部业务团队期望从云端获取的延迟。此外，这些公司更进一步，允许连接跨越多个云服务提供商（例如 AWS、Azure 或 Google Cloud）以及跨越私有和公有云的应用程序和数据。这对于选择在共同设定的私有云中为关键任务或敏感应用程序和数据建立自己的私有云的大型企业来说尤为重要，并将其余部分移到公有云。这些公司的存在使得私有云和公有云之间的合作和通信成为可能。Equinix 的云互连布局（Cloud Interconnect Fabric）就是一个这样的例子。

许多私有和公有云服务提供商都积极参与推动无限边缘计算的成功。

西门子提出了工业边缘的概念。工业边缘解决方案允许企业在机器上分析所有数据，并同时快速预处理数据。优化后的数据点随后可以传输到云端，在那里企业可以获得更多的计算能力和更大的存储容量。

### 全栈物联网平台

全栈物联网平台设计用于存储、处理和分析大量数据，利用强大的数据分析引擎和机器学习机制获得深入洞察。它是一个创建和管理应用程序、运行分析以及存储和保护企业物联网数据的平台。一些企业选择在物联网平台级别执行设备管理，这取决于所考虑的用例，在所有这些情况下，都需要选择能够支持此功能的合适物联网平台。

当今市场上存在多个物联网平台，大多数这些平台支持设备管理。有些平台针对特定行业，如商业地产和家庭健康。有些专注于某一类型的设备：例如，至少有几个平台专注于增强现实头显。有些则专注于特定的功能，如制造业或医疗保健。

没有一种全能的全栈物联网平台可以跨越所有行业使用，也不能解决所有的业务问题；因此，要选择合适的物联网平台，需要从对企业物联网战略的深入了解开始，了解企业通过物联网尝试解决的问题和机遇（及其相应的用例），以及企业的主要行业，如制造业、零售业或医疗保健业。根据这些因素，需要选择一个物联网平台。

任何物联网平台都应能够跟踪数据的路径，从从设备收集数据（使用智能物联网网关）到从数据中生成洞察。将数据从设备转换为物联网平台的关键在于非常具体的数据，这些数据来自于机器特定的工业协议或医疗设备，并且一旦被摄入到平台中，数据将被处理、规范化和标准化为适合分析平台生成洞察的结构。这就是为什么需要选择一个具有非常强大的数据和分析能力的物联网平台，以支持从设备中泵出的大量数据生成正确的洞察的原因之一。

#### 人工智能（AI，人工智能）是物联网平台执行的重要功能，在某些情况下在物联网网关级别执行（称为边缘 IT）。

人工智能构成了物联网标准参考模型中最重要的特性之一。

人工智能（AI）指的是在机器中模拟人类智能的过程，这些机器被编程成像人类一样思考和模仿他们的行为。该术语也可以应用于任何表现出与人类思维相关特征的机器，如学习和解决问题。

机器学习是人工智能的一个子集，它依赖数据并使用统计技术来帮助它“学习”如何在任务上逐渐变得更好，而无需专门为该任务进行编程。随着大数据成为物联网架构的一部分，人工智能在物联网背景下变得非常强大。

作为物联网生态系统的一部分，设备产生大量的数据。随着大数据的出现，我们有了数据湖，可以存储 PB 级别的数据。关键是要理解我们如何使用这些数据并充分利用它。这就是人工智能发挥作用的地方，人工智能可以执行许多功能，例如异常检测、根本原因分析等。

AI 在工业自动化和预测性维护的背景下非常适用。在旧的传统物联网实现中，架构中有一个规则引擎，执行重复的任务，例如如果传感器数据达到定义的阈值，则执行特定的预定义任务。例如，如果炉子的温度超过摄氏 70 度，则关闭炉子。然而，所有这些规则和值都是硬编码的。随着 AI 在物联网架构中的引入，企业现在可以部署模型并在一段时间内对系统进行训练，这样就不需要硬编码业务逻辑或规则。借助 AI，我们让机器在一段时间内从模式中学习，以便根据学习进行操作。这有助于多种用例，如预测性维护。例如，我们为一家大型汽车制造商部署了基于物联网的预测性维护解决方案，可以预测主轴损坏，并识别旋转设备、齿轮和电机缺陷的开裂和剥落。结果，他们通过将诊断时间缩短了 70%以上，修复时间减少了 20%以上，从而提高了设备的整体效率。

在物联网中，我所面临的一个挑战是，有大量数据需要发送到云端，在许多行业中，基于人工智能算法执行命令的时间太长，因为数据需要来回传输到云端，以便机器从数据中学习。我遇到的另一个挑战是，一些受监管行业的企业认为数据很敏感，不适合发送到云端。为了克服这一挑战，企业需要在生成数据的设备附近执行人工智能算法。这意味着这些任务需要由智能物联网网关执行，也称为边缘人工智能。但并非所有智能网关都具备在边缘运行人工智能算法的计算能力。有几家企业已经推出了能够在设备附近运行人工智能算法的智能物联网网关。

企业采用不同的模型来实现物联网架构中的人工智能。在某些情况下，人工智能直接由智能物联网网关执行，使用来自设备的数据称为边缘 AI。在一些情况下，从设备中传送大量数据，部分人工智能发生在智能物联网网关级别，其余部分发生在全栈物联网平台级别，而在一些情况下，企业选择在全栈物联网平台级别执行人工智能。企业需要根据正在实施的数据和用例选择执行 AI 的最佳位置。对于一家制造公司，我们使用亚马逊 AWS Snowball Edge 在物联网设备附近执行大量计算操作，即智能物联网网关。Snowball Edge 能够在物联网网关上运行一个完整的机器学习模型。其工作原理是在公共云中训练模型，然后将模型带到物联网网关并运行。当检测到预测不太准确时，它会返回到托管在全栈物联网平台级别的数据湖进行进一步训练，然后再次部署到物联网网关，并且这个循环会持续进行，直到算法以 100%的准确性执行动作。

在物联网中引入人工智能和机器学习后，静态规则引擎被动态和机器学习规则所取代，这意味着预测性维护取代了响应式维护。

物联网和人工智能的整合为物联网的卓越性开辟了许多新途径。例如，当我们涉足连接车辆领域时，连接车辆实际上就是一种轮上的边缘计算。它具有大量的计算能力，实际上正在处理数据。这是边缘计算在车轮上的一个典型例子，类似的飞机也在运行边缘计算，未来许多车辆和工业设备也将如此。

### 智能物联网网关和全栈物联网平台执行的典型活动

我们讨论了智能物联网网关和全栈物联网平台的重要性。供应商已经在这两个领域开发了产品，这些产品在功能上有很多相似之处，而且很多时候这些产品执行的活动都与其他产品相同。因此，企业很难决定哪个层面需要执行哪个过程。以下是一个典型的指南，将责任分配在智能物联网网关和全栈物联网平台之间。

| 智能物联网网关 | 全栈物联网平台 |
| --- | --- |
| 基本数据可视化 | 复杂分析 |
| 基本数据分析和短期数据历史记录功能 | 大数据挖掘 |
| 数据缓存、缓冲和流式传输 | 业务逻辑的来源 |
| 数据预处理、清洗、过滤和优化 | 机器学习规则 |
| 一些数据聚合 | 高级可视化 |
| 设备间通信/M2M | 长期数据存储/数据仓库 |
| 人工智能（边缘 AI） | 人工智能 |

### 安全性

在物联网环境中，安全性需要在物联网标准参考模型的三个层面上进行考虑——第一是设备级别的安全性，第二是智能网关级别的安全性，第三是物联网平台级别的安全性。除了在这三个层面内的硬件和软件层面的安全性之外，网络层面上的安全性变得至关重要，并且需要做到无懈可击，因为物联网标准参考模型中三个层之间的通信是通过互联网进行的。

物联网安全已经成为受到审查的主题，之前发生过一些引人注目的事件，其中一个普通的物联网设备被用来渗透和攻击更大的网络。实施安全措施对确保与其连接的网络和物联网设备的安全至关重要。

我们将在第十三章中讨论安全顾问的角色，作为物联网核心团队的一部分。这个角色需要确保选择符合企业安全立场的正确设备、平台、网关和网络。在物联网环境中，设备、网关和平台安全性是除了应用程序安全性之外最重要的考虑因素。

#### 设备安全

在物联网生态系统中，设备安全方面，企业需要确保在其 OT 设备中部署具有设备安全性的设备，这是必不可少的。安全不仅需要内置到设备中，而且应该有一种方式来通过软件更新或升级来解决任何安全问题。

与传统物联网设备相关的一个问题是，它们通常资源受限，并且没有足够的计算资源来实现强大的安全性。因此，许多设备不提供高级安全功能。例如，大多数监测湿度或温度的传感器无法处理高级加密或其他安全措施。传统上，许多物联网设备被构建成放置在场地或机器上直到寿命结束，并且几乎从不接收安全更新或补丁。因此，从一些企业的观点来看，从一开始构建安全性可能成本高昂，并且会减慢开发速度。然而，对于渴望为其业务采用物联网的企业来说，在设备中构建安全性是必不可少的。然而，设备所需的安全级别也取决于用例和行业。例如，黑客会对破解农业物联网设备的兴趣较小，而对破解制造厂更感兴趣。

企业还需要确保设备的访问以及通过这些设备产生的所有数据由授权用户或系统控制。并且存储在设备上或通过通信路径传输的任何数据都是加密的和安全的。

#### 智能物联网网关安全性

网关是物联网生态系统中的重要组成部分，但也是一个脆弱的、易受攻击的单一入侵点。物联网网关通常是第一个被攻击的对象，因为它们具有更高的处理能力，可以运行更加密集的应用程序。更高的处理能力意味着更好的软件，而更好的软件意味着黑客可以利用的漏洞更多。物联网网关成为许多黑客的热点的另一个关键原因是其位于互联网和内部网络之间的边缘设备位置。网关通常是任何安全威胁的第一个入口点（以及系统的第一道防线）。

市场上存在许多成熟的物联网网关，需要谨慎选择，考虑安全因素。在选择物联网网关时需要考虑的一些因素列于下文。

**消息安全性**：物联网网关需要具有强大的端到端加密方法。消息应该被加密，只能由接收方使用加密密钥解密。这使得网关设备仍然可以接受和传递数据，但它将无法读取数据。因此，在安全威胁的情况下，黑客将无法解析和读取网关设备中的数据。

**设备入网安全性**：设备入网是指在物联网生态系统中添加新设备的过程。关键管理实践以及在接受新设备时如何交换密钥是一个很大的安全漏洞。物理篡改也可能导致私钥被提取。了解网关制造商在设备入网级别处理安全性的方式非常重要。

**集成安全**：物联网 API 安全是一个重要考虑因素。物联网系统传输和接收大量的数据和信息，重要的是能够在设备、网关和后端数据库之间进行安全的数据传输。由于集成容易受到攻击，必须持续扫描和测试以确保系统内数据的完整性。

**空中安全更新**：固件更新需要在物联网生态系统内进行，了解这些更新是如何进行的以及物联网网关如何安全处理它们是必要的。

#### 物联网平台安全

物联网平台是所有物联网数据驻留的中心，在许多情况下，执行设备管理，这是物联网生态系统的重要组成部分。物联网平台级别的安全性非常重要；然而，好消息是，不同的产品供应商在这个领域的安全性方面已经做了很多工作。几乎所有大型平台供应商，如亚马逊、微软和谷歌，都提供各个层面的安全服务，包括预防性安全机制，如加密和访问控制设备数据的服务，以及持续监控和审计配置的服务。

### 区块链

信任是人类交往中最关键的组成部分。信任始终是一个关键组成部分，是一个人有效处理他人的能力，也是企业进行业务和建立文明的能力。我们传统上有管理每笔交易的信任部分的中心化机构。例如，在货币交易中，由于我们不信任未知的个人或企业，一个我们信任的中介，比如银行，坐在中间为我们协调支付。这是一个让我们能够思考解决信任问题的模式，这样我们就可以自信地与他人进行交流。然而，中介增加了很多摩擦和成本，同时还有一些交易挑战。区块链技术正在试图以更安全更便宜的方式解决这个信任问题，而无需任何人依赖于中介。这不仅仅局限于银行，还适用于公共事业和机构控制，在这些领域各方之间存在某种形式的交流。

区块链是一个分散的和分布式的数字分类账，由称为块的记录组成，用于记录跨多台计算机的交易，以便任何涉及的块都不能被事后更改，而不会更改所有随后的块。它是一种分布式分类账技术（DLT），允许数据在成千上万台服务器上全球存储，同时让网络上的任何人几乎实时地查看其他所有人的条目。这使得一个用户难以控制或改变网络。

区块链是一种记录信息的系统，以使得更改或入侵该系统变得困难或不可能。区块链本质上是一个交易的数字分类帐，在区块链上的整个计算机系统网络中复制和分发。链中的每个区块包含多个交易，每当区块链上发生新交易时，该交易的记录就会添加到每个（参与者的）分类帐中。

关于区块链试图解决每一个市场问题的讨论很多，但区块链是一种专为解决少数问题而量身定制的技术。就成本而言，区块链将解决的根本问题是降低交易成本。举个例子，A 人醒来并验证自己身份，线上购买了一些东西，并参与了某种数字交易。每个这样的交易都需要验证，比如谁参与其中、交换的金额等，而社会花费了大量资源和金钱来确保这些属性（交易和参与者）是正确的，且交易能够顺利执行。目前，每个这样的交易都有几个中间人。区块链是一种技术，大幅降低了验证特定属性是否真实和真实的成本。

简单来说，区块链是一种新的去中心化分布式信息管理方式，用于跨不一定相互信任但有共同利益的各方之间。

举个例子，食品链中“从农场到餐桌”的过程的常见结果从农业生产开始，到零售商出售产品，再到消费者消费。在这样的设置中，涉及到不同的参与者，例如生产水果和蔬菜的农民、使用正确的温度控制冰箱将这些产品从农场运送到商店的货运管理公司、销售这些产品的零售商以及购买和消费这些产品的消费者。以透明和防篡改的方式管理所有这些参与者之间的信息是这个用例中最重要的元素。这个用例的共同结果是消费者可以信任产品的质量并购买这些产品，以便供应链中的每个参与者都能获利，而这可以通过物联网和区块链技术实现。这就是为什么区块链已经成为物联网标准参考模型的主要原因。

一方面，有几个例子说明物联网从区块链中创造了巨大价值，另一方面，也有相反的例子，说明区块链为物联网增添了很多价值。

让我通过一个食品安全案例来解释这个问题。如果你走进沃尔玛店购买一些水果，作为消费者，我们目前如何确定产品的质量呢？我们只是基于对沃尔玛的信任来做出质量假设。我们不知道是谁生产了水果，农场在种植过程中使用了多少化学品，水果是否在正确的温度下运输并在一定时间内运输到了，以及水果是在哪里打包、测试和加工的。有了区块链和物联网技术，整个从农场到餐桌的步骤序列可以透明地展示给顾客，而不依赖于任何中间人，因此这可以被认为是一项值得探索的伟大技术。

在案例研究中的关键方面是确定如何确保进入区块链的信息准确可信。只要有人类发送信息，比如产品存储的温度，数据就可能被篡改。如果是来自防篡改的端点，比如物联网设备定期向区块链发送温度信息，这就为基于区块链的可追溯性解决方案增加了更多的信任。这就是物联网为基于区块链的解决方案贡献巨大价值的一个例子。

区块链为物联网增加了很多价值的另一个例子是在制药行业。制药伪劣药品问题是一个价值 2000 亿美元的问题，可以通过区块链和物联网进行定性解决。如果从采购原材料到药品制造再到运输并交付给客户的所有交易都可以使用区块链记录，并使用防篡改标签，那么伪劣药品问题就可以得到解决。通过区块链，除了追溯性外，还增加了信任，因为在区块链世界中没有任何交易可以被更改。

相反，让我们以连接汽车为例。我们听说过多起案例，一些第三方欺诈者找到了一种在我们驾驶时侵入汽车的方法。在几乎 70% 的情况下，这是在软件升级过程中发生的，黑客试图伪装成真实行为者进入汽车系统并控制系统。如果这样的软件升级协调可以通过区块链进行中介，企业就能确保只有拥有正确权限的正确行为者能够向汽车系统发送交易，除此之外，还能确保发送的软件经过签名且未被篡改。这种方法开始看到区块链为基于物联网的解决方案增加价值。

区块链解决了信任的基本问题。然而，对任何企业来说，在端到端交易中的核心问题是，有各种利益不同的参与者和企业需要订阅相同的区块链模型才能完成交易，而并非必须所有参与者都这样做。如果不是所有方都从行业的角度订阅了该模型，企业将无法充分利用这项技术。因此，制造商、运输公司、零售商和交付公司都要订阅这个模型非常重要。

假设每个人都遵守这种模式，在许多参与者加入端到端交易的情况下，很重要的是要了解谁拥有数据，谁拥有在区块链上运行的业务逻辑，谁可以在现有区块链上增加新服务，以及谁将决定谁可以加入网络和谁可以离开网络。这引入了区块链治理的最重要要素，在实施物联网标准参考模型时需要解决这个问题。

公链是无需许可的。任何人都可以加入区块链网络，并在其中读取、写入或参与操作。公链是去中心化的，没有一个单一的实体控制网络。在公链上的数据是安全的，因为一旦在区块链上验证过，就不可能修改或更改数据。

私有链是受许可的区块链。私有区块链基于访问控制，限制谁可以参与网络。有一个或多个实体控制网络，这导致依赖第三方进行交易。在私有链中，只有参与交易的实体会知晓，而其他人将无法访问这些信息。

物联网和区块链的结合使得端到端的业务洞见具备了完整的安全性。然而，需要注意的是，作为物联网景观的一部分，私有区块链最适合，因为物联网是面向行业和企业的，一般公众不被允许参与此举措。

## 总结

在本章中，我们讨论了物联网标准参考模型，它大致分为三个水平服务和两个垂直服务。

水平服务是全栈物联网平台、智能物联网网关和设备：

+   设备层是物理对象位于车间的地方。

+   智能物联网网关负责从设备收集数据并将其传输到其他系统。在许多场景中，智能物联网网关执行从设备收集的数据的预处理，包括分析。智能物联网网关执行的另一个功能是设备管理。一些企业选择在智能物联网网关层面执行设备管理，但其他企业更倾向于在下一个块中即全栈物联网平台层面执行设备管理。

+   全栈物联网平台是从设备通过智能物联网网关传输的物联网数据与其他非物联网数据相结合，以利用分析系统或应用程序得出有用的洞见的地方。

两个垂直服务是区块链和安全性：

+   尽管区块链目前在物联网的背景下正在发展，但在决定其物联网架构时，企业务必计划此功能，因为区块链将成为企业未来在物联网中取得成功的最重要元素。

+   设备、智能物联网网关和全栈物联网平台需要得到保护，这是物联网标准参考模型的关键隐含要求之一。

在下一章中，我们将讨论不同的物联网设备及其通信协议，包括它们的限制和挑战。

© 作者(s) 版权所有，独家许可给 APress Media, LLC，Springer Nature 旗下一部分 2021 V. Upadrista 区块链 IoT 标准[`doi.org/10.1007/978-1-4842-7271-8_5`](https://doi.org/10.1007/978-1-4842-7271-8_5)

# 5. IoT 设备及其通信

Venkatesh Upadrista^(1  )(1) 英国 斯劳

IoT 设备是非标准计算设备，通过无线方式连接到网络并具有传输数据的能力。IoT 涉及将互联网连接扩展到标准设备之外的物理设备和日常物品。这些设备嵌入了技术，可以通过互联网进行通信和交互。它们还可以远程监控和控制。

IoT 设备，也称为连接设备，与环境中的其他相关设备进行通信，以自动化家庭和工业任务。设备通常分为三大类别：消费者、企业和工业。

消费者连接设备包括智能电视、智能音箱、玩具、可穿戴设备和智能家电。智能电表、商业安防系统、智能城市技术和制造自动化是工业和企业 IoT 设备的示例。其他技术，包括智能空调、智能恒温器、智能照明和智能安全，涵盖了家庭、企业和工业用途。

举例来说，在智能家居中，一旦用户到达家门口，他们的车就会与车库通信，打开门。一旦进入家门，恒温器就会调整到他们喜欢的温度，并且灯光会调整到较低的强度和颜色，因为他们的起搏器数据表明这是一个压力大的一天。

在企业中，位于会议室的智能传感器可以帮助员工找到并安排一个可用于会议的房间，确保适当的房间类型、大小和功能可用。当与会者进入房间时，温度将根据占用情况调整，灯光将调暗，适当的 PowerPoint 将加载到屏幕上，演讲者可以直接开始他们的演示。

在工厂车间中，配备传感器的装配线机器将向工厂操作员提供传感器数据，通知他们异常情况并预测零件需要更换的时间。这样的信息可以防止意外停机，以及造成的生产力和利润损失。

每个行业都有几个这样的用例，而且 IoT 市场正在获得很多的关注。 IoT 已经催生了几个被企业使用的应用程序，包括工厂自动化、智慧城市、智能家居、连接车辆和电子健康。

IoT 在企业中的采用速度正在迅速增加；然而，挑战也是巨大的。 IoT 行业面临的一个挑战就是设备连接性。设备连接性是 IoT 实施中最大的挑战之一，这是因为 IoT 生态系统需要集成几种传统设备，而每种设备都使用不同和独特的有线和无线协议。 IoT 设备分为三类，下文将讨论这三类。

## 设备类型

图 5-1 描述了存在于 IoT 生态系统中的三种类型的 IoT 设备。第一类设备是小型设备，第二类称为大型设备，第三类是复杂设备。![../images/517610_1_En_5_Chapter/517610_1_En_5_Fig1_HTML.jpg](img/517610_1_En_5_Fig1_HTML.jpg)

图 5-1

设备类型

### 小型设备（Type 1 设备）

小物品，也称为类型 1 设备，是可连接到互联网的物品，例如带有小传感器的设备。这些设备具有较小的内存，它们消耗的电力和互联网带宽很少，而且很多时候是通过 SIM 卡连接的。它们的数据模型简单，大多数时候都是用电池运行。

小型物品的一个例子是智能灯泡和智能门锁。智能灯泡没有成千上万的参数需要控制。它只有开关和调光功能，而且在某些情况下，灯泡可能会发送有关消耗多少电的数据。

### 大型物品（类型 2 设备）

大型物品可能是重型机械或工业物联网连接汽车之类的东西。这些设备有足够的电源供应、充足的互联网连接，在大多数情况下能够连接到互联网。虽然这些设备具有连接到物联网的所有必需特性，但数据模型非常复杂，由成千上万个需要控制的参数组成。这些参数涵盖了根据某个事件做出复杂决策并执行一些复杂算法。

### 复杂物品（类型 3 设备）

第三种也是最有趣的设备是第 3 型设备，被称为复杂的东西。虽然被称为物联网（IoT）设备，但复杂的东西实际上并不是真正的物联网设备，因为它们没有互联网（IoT 中的 I）部分。这些设备包括飞利浦 Hue、亚马逊 Echo Plus（带有 Alexa 语音控制）和霍尼韦尔恒温器。第 3 型设备使用非互联网使能的协议进行通信，例如 Zigbee 和 Z-Wave，因此它们无法连接到互联网。然而，在物联网世界中，无论设备类型如何，都必须连接到互联网是至关重要的。在制造或医疗行业的大多数企业中，都会有几个复杂的东西存在于它们的生态系统中。企业中存在的复杂事物越多，物联网在这些企业中的实施就越困难。

## 通信协议

物联网世界中的通信协议被分为七种广泛的标准，下面对其进行描述。每种标准都有其自身的优点和挑战，并适用于特定的用例和行业。

### LPWAN（低功率广域网）

LPWAN 是一种协议，它提供了使用寿命长达数年的小型廉价电池进行长距离通信。这个技术系列是专门为支持覆盖广阔的工业和商业园区的大规模物联网网络而设计的。

LPWAN 可以连接所有类型的物联网传感器——从资产跟踪、环境监测和设施管理到占用检测和消耗品监测等多种应用。

LPWAN 的缺点是它只能以低速发送小块数据，因此使用 LPWAN 连接的设备更适合不需要高带宽且不受时间限制的用例。

LPWAN 用于不同的应用，例如智能计量、智能停车、智能电网控制、智能安全、智能城市、智能农业、资产跟踪、智能家居自动化、关键基础设施监控、个人物联网应用、物流等等。

LPWAN 有两个变体，即有许可和无许可。有许可的 LPWAN 版本在公共蜂窝网络上运行，并可以由多个电信移动运营商操作和管理。它支持漫游，因此除了使用独占频率连接外，不存在互操作性问题，而且安全可靠。

无许可的 LPWAN 版本使用无许可的频谱，并且不为每个连接使用独占频率，任何人都可以使用，没有任何独占性。这意味着未经许可的频谱可能会导致使用相同无线电频谱的设备之间的干扰，并且不能用于高速连接。无许可的 LPWAN 技术包括 LoRaWAN、Sigfox 等。

### 卫星通信网络（3G/4G/5G）

卫星通信使手机通信从诸如手机之类的设备到约 10-15 英里的下一个天线成为可能。在物联网语言中，这种形式的通信大多被称为“M2M”（机器对机器），因为它允许诸如手机之类的设备通过蜂窝网络发送和接收数据。卫星通信网络提供可靠的宽带通信，支持各种语音通话和视频流应用程序。不利的一面是，它们会带来非常高的运营成本和功耗要求。

尽管蜂窝网络对于由电池驱动的传感器网络提供动力的大多数物联网应用都不可行，但它们在特定的工业物联网用例中非常适用，例如在制造工厂、连接的汽车或运输和物流中的车队管理中。

例如，在车载信息娱乐、交通路线规划、高级驾驶辅助系统（ADAS）以及车队车辆追踪服务方面，都可以依赖高带宽蜂窝连接。

具有高速移动支持和超低延迟的 5G 蜂窝下一代定位为未来自主车辆和增强现实。预计 5G 还将实现实时视频监控以确保公共安全，将医疗数据集的实时移动交付用于连接健康，并在未来实现几个时间敏感的工业自动化应用。

网状拓扑是一种网络设置，其中每台计算机和网络设备彼此连接。这种拓扑设置允许大多数传输进行分发，即使其中一个连接断开。这是一种常用于无线网络的拓扑结构。资讯娱乐，也称为软性新闻，是一种提供信息和娱乐结合的媒体，通常是电视。

### 无线电频率（RF）网络

无线电频率通信可能是设备之间最简单的通信形式。诸如 Zigbee 或 Z-Wave 的协议使用低功率 RF 无线电嵌入或改装到电子设备和系统中。

Zigbee 是一种短距离、低功耗的无线标准。与 LPWAN 相比，Zigbee 提供了更高的数据传输速率，但同时功耗效率要低得多。

由于它们的物理短距离，Zigbee 和类似的协议，如 Z-Wave、Thread 等，最适合于中等范围的物联网应用，节点在附近均匀分布。通常情况下，Zigbee 适用于各种家庭自动化用例，如智能照明、HVAC（暖通空调）控制、安全和能源管理，利用家庭传感器网络。

### 蓝牙

蓝牙是一种用于在短距离内在固定和移动设备之间交换数据的无线技术标准。

Bluetooth Classic 最初是为了在消费者设备之间进行点对点或点对多点数据交换而设计的。为了优化功耗，后来引入了蓝牙低功耗（BLE）以解决小型消费者物联网应用。

BLE 启用的设备主要与电子设备一起使用，通常是作为将数据传输到云端的中心的智能手机。如今，BLE 广泛集成到健身和医疗可穿戴设备（例如智能手表、血糖仪、脉搏血氧仪等）以及智能家居设备（例如门锁）中，从而使数据方便地通信并在智能手机上进行可视化。

信标是使用低功耗蓝牙技术向附近的其他智能设备发送信号的小型无线发射器。简单来说，它们连接并向智能设备传输信息，使基于位置的搜索和交互更加简单和准确。

2017 年发布的新规范称为蓝牙 Mesh，旨在实现 BLE 设备更具可扩展性的部署，特别是在零售环境中。BLE 信标已被用于推动新的服务创新，如店内导航、个性化促销和内容传递。

### Wi-Fi

Wi-Fi 是一种无线局域网（WLAN），可为范围内的设备提供互联网访问（大约距离接入点 66 英尺）。

在物联网空间中，Wi-Fi 在覆盖范围、可扩展性和功耗方面的主要限制使得该技术变得不那么普及。由于对能量需求较高，Wi-Fi 在大型电池供电的物联网传感器网络中通常不是可行的解决方案，特别是在工业物联网和智能建筑场景中。相反，它更适用于连接可以方便地连接到电源插座的设备，如智能家居设备和家用电器、数字标牌或安全摄像头。

Wi-Fi 6 是最新的 Wi-Fi 一代，大大提高了网络带宽，以改善拥挤环境下每个用户的数据吞吐量。Wi-Fi 6 标准正在通过零售和大众娱乐领域的新数字移动服务，改变客户体验。此外，用于信息娱乐和车载诊断的车载网络预计将成为 Wi-Fi 6 最具颠覆性的用例。

### RFID

射频识别（RFID）利用无线电波将少量数据从 RFID 标签传输到读取器，在非常短的距离内。到目前为止，该技术已在零售和物流领域引发了一场重大革命。

通过将 RFID 标签附加到产品和设备上，企业可以实时跟踪其库存和资产，从而实现更好的库存和生产计划以及优化的供应链管理。随着物联网采用率的增加，RFID 仍然深入到零售领域，实现了新的物联网应用，如智能货架、自助结账和智能镜子。

### 有线网络

有线网络使用以太网电缆连接到网络。而以太网电缆又连接到数字用户线路（DSL）或互联网网关。有线网络是成熟的技术，很容易连接，因为企业已经有电话线、电力线和同轴电缆线。

即使是无线网络，这些网络通常也会在某个时候连接到有线网络；因此，最常用的网络是有线和无线网络连接的混合体。

例如，PROFINET 是工业以太网数据通信的行业技术标准之一，旨在从工业系统中收集数据并控制设备。PROFINET 基于标准以太网，可以与 WLAN 或蓝牙等任何无线标准无缝连接。

另一个例子是 Modbus 协议。Modbus 是用于可编程逻辑控制器（PLC）的串行通信协议。PLC 用于制造过程中，通常用于将仪器和控制设备的信号传输回主控制器或数据收集系统，例如，测量温度和湿度并将结果传输到计算机的系统。

DSL 是一种通过电话线路传输数据的连接类型。

同轴电缆，简称同轴，是一种用于传输数据、互联网、视频和语音通信的电缆类型。

可编程逻辑控制器或可编程控制器是一种用于控制制造过程的工业数字计算机，经过了强化和适应，例如装配线、机器人设备或任何需要高可靠性、易编程和过程故障诊断的活动。

### 选择适合工业用例的正确智能物联网网关

每个行业垂直领域都有其独特的网络要求。智能物联网网关将设备连接到物联网标准参考模型的其他层，因此选择正确的智能物联网网关意味着准确地权衡标准，即在该特定行业领域内使用何种类型的设备，然后进一步具体了解企业正在寻找与其特定用例相连接的设备的具体细节。表 5-1 提供了跨行业广泛使用的通信协议的概览。表 5-1

协议与行业特定用例

| 物联网垂直领域 | LPWAN | 卫星网络 | RFID | 无线电网络 | 蓝牙 BLE | Wi-Fi | 有线 |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 工业物联网 | ▸ | ⊳ |   | ⊳ |   |   | ▸ |
| 智能电表 | ▸ |   |   |   |   |   | ▸ |
| 智能城市 | ▸ |   |   |   |   |   | ⊳ |
| 智能建筑 | ▸ |   |   |   | ⊳ |   | ⊳ |
| 智能家居 |   |   |   | ▸ | ▸ | ▸ |   |
| 可穿戴设备 | ⊳ |   |   |   | ▸ |   |   |
| 连接汽车 |   |   |   |   |   | ⊳ |   |
| 连接健康 |   | ▸ |   |   | ▸ |   | ⊳ |
| 智能零售 |   | ⊳ | ▸ |   | ▸ | ⊳ |   |
| 物流和资产追踪 | ⊳ | ▸ | ▸ |   |   |   |   |
| 智能农业 | ▸ |   |   |   |   |   |   |

⊳ 适度适用 ▸ 高度适用

对于一家名为 A 公司的工业设备制造公司，我们为其部署了戴尔的 Edge Gateway 5000 作为其智能物联网网关。 A 公司的要求是将他们的智能物联网网关放置在能够承受高温和湿度较高水平的位置，并且应能够 24/7 运行。另一方面，作为制造公司，智能物联网网关需要连接到几个设备，例如他们的 PLC 系统（运行在 Modbus 上），除了连接到使用 Zigbee 和 6LoWPAN 协议的设备。根据这个需求，选择了 Edge Gateway 5000 用于这家企业。

关键点

+   小物品，也称为类型 1 设备，是可以连接到互联网的东西，例如带有小型传感器的设备。

+   大型物品可能是重型机械或工业物联网连接的汽车。这些设备具有足够的电源供应、充足的互联网连接，并且在大多数情况下能够连接到互联网。

+   虽然称为物联网设备的复杂物品实际上并不是物联网，因为它们没有互联网（物联网中的 I）部分。

## 摘要

在本章中，我们讨论了三种类型的设备，分别是称为小物品的简单互联网设备，例如重型机械的大物品，以及不具备互联网功能的复杂物品。

+   小物品，也称为类型 1 设备，是可以连接到互联网的东西，例如带有小型传感器的设备。

+   大型物体可能是重型机械或工业物联网连接的汽车。 这些设备具有足够的电源供应，充足的互联网连接，并且在大多数情况下能够连接到互联网。

+   虽然被称为物联网设备的复杂物体实际上并不是物联网，因为它们没有互联网（来自物联网的 I）部分。

然后，我们讨论了这些设备使用的不同通信协议，以及如何根据需要连接到物联网生态系统的设备选择智能物联网网关的指导。

在下一章中，我们将讨论智能物联网网关，这是一个系统，用于将多个设备（使用不同的协议）连接到物联网生态系统。

© 作者（s），在 APress Media，LLC 的独家许可下，属于 Springer Nature 2021V. Upadrista 具有区块链的 IoT 标准[`doi.org/10.1007/978-1-4842-7271-8_6`](https://doi.org/10.1007/978-1-4842-7271-8_6)

# 6. 智能物联网网关

Venkatesh Upadrista^(1  )(1)英国斯劳

实施物联网的组织越来越关注使用技术实现业务成果，物联网倡议不再仅仅是为了内部运营改进而驱动。 IT 和业务利益相关者正在共同努力，将物联网项目与业务成果对齐，以改善收入和客户体验，但由于传统系统和方法的挑战，他们面临挑战。传统不会消失，这是事实，但有一些促进因素正在帮助企业克服这些挑战-智能物联网网关就是其中之一。

科技分析公司 IDC 预测，到 2025 年，总共将有 416 亿个连接的物联网设备，或“物件”。它还表示，工业和汽车设备代表了连接“物件”的最大机会，但它还预见到智能家居和可穿戴设备在短期内将得到强劲的采用。另一家科技分析公司 Gartner 预测，企业和汽车行业今年将占据 58 亿台设备，几乎比 2019 年增长了四分之一。随着智能电表的推出，公用事业将成为物联网的最大用户。安全设备，如入侵检测和网络摄像头，将是物联网设备的第二大使用案例。建筑自动化，如连接的照明，将是增长最快的行业，其次是汽车（连接的汽车）和医疗保健（慢性病监测）。这清楚地表明，尽管企业面临着诸多挑战，但物联网将是企业未来开展业务的方向，物联网成熟度较高的组织在物联网采用方面取得了更高的成功率。

物联网（IoT）的核心在于使个人和企业的生活和工作更加便捷和可信赖 - 可能涉及使用家庭安全设备保障家庭安全，或者自动切换大型建筑物的空调和供暖装置，或者涉及预测性维护以减少工厂停机时间。在采矿行业，物联网可以帮助避免每个月都派遣技术人员乘卡车或直升机去检查设备是否正常工作。有了物联网，企业可以预测设备故障周期，技术人员可以在真正需要维护的时候到达采矿现场，因为设备将在接下来的一到两周内发生故障。这不仅节省了企业成本，还使它们能够变得更加高效。

在物联网世界中，有两个部门需要一起努力，而传统上和文化上一直没有太多时间在一起 - 这些是信息技术（IT）和运营技术（OT）部门。一个典型的 IT 部门衡量标准包括系统的正常运行时间、应用程序和 IT 基础设施的可用性、安全漏洞的数量以及降低 IT 成本。另一方面，OT 部门包括工厂经理、生产经理，甚至农民。这些人生产食品、控制油气工艺、从地下抽取石油，或者负责维护公司卡车车队。OT 部门的成功标准完全不同，例如作物产量是多少、为了创造这个产量使用了多少水、工厂的生产正常运行时间是多少、如何在数百辆卡车车队中节省燃料、如何提高驾驶员的安全性、如何阻止人们偷窃卡车或商店里的货物等。

在物联网世界中，IT 部门和 OT 部门是两个完全不同的世界，而且每个部门在成功方面的衡量标准也大不相同。随着物联网的发展，这两个部门需要共同努力，这也是人与物相连同样重要的地方。在物联网世界中，IT 和 OT 绝对必须合作，才能够开展这些项目，而企业还需要引入支持功能，例如财务、市场营销和销售部门，所有这些部门一起将能够打造最优秀的物联网解决方案。这是企业在着手进行企业级物联网旅程之前需要解决的几个重要方面之一。

几年前，当人们讨论物联网时，专家们通常会解释物联网的基础知识及其相关好处。另一方面，有些企业的 IT 和 OT 人员第一次见面。快进到今天，很少有物联网讨论需要解释物联网的基础知识，而且我们看到 IT 和 OT 团队之间的协同越来越多。

然而，障碍仍然很大，对于着手物联网之旅的企业来说，仍然存在许多挑战。企业在实施企业范围的物联网时需要解决的前六大挑战在图 6-1^(2)中描述。![../images/517610_1_En_6_Chapter/517610_1_En_6_Fig1_HTML.jpg](img/517610_1_En_6_Fig1_HTML.jpg)

图 6-1

物联网挑战

## 安全

每家企业在物联网环境中始终优先考虑的第一个挑战是安全性。作为物联网实施的一部分，企业正在将诸如机械和传感器之类的设备（物）暴露在互联网上，这些设备主要并非为互联网通信设计，因此在这些设备中从未考虑过网络安全问题。我们正在尝试使操作技术世界中的每个设备都可以通过互联网访问，这意味着我们已经极大地开放了攻击表面。尽管在这方面已经做了很多工作，但安全性仍然是头号挑战。我们将详细讨论安全性以及如何解决这个问题，详见第八章。

## IT-OT 团队整合

第二个挑战是将 IT 和 OT 人员团结在一起，实现物联网的愿景。尽管这个团队最近才开始凝聚，但对企业来说，确保这个团队完全统一在一个共同的目标上以确保物联网用例的成功非常重要。我们将在第十三章讨论物联网核心团队，并尝试解决这一挑战。

## 数据容量和分析

第三个主要障碍是数据容量和分析复杂性。物联网数据的激增带来了大量经济价值，预计到 2025 年将达到约 11 万亿美元。但它也带来了一些重大挑战，因为庞大的数据量使得数据聚合和数据分析变得复杂。这导致很难快速轻松地从物联网用例中提取战略价值。

物联网数据的主要挑战在于其实时性。根据 IDC^(3)的数据，到 2025 年，所有数据的 30%将是实时数据，其中物联网占据了将近 95%，所有数据的 20%将是关键的，而所有数据的 10%将是超关键的。企业必须实时进行分析才能从这些类型的数据中获益。尽管明显物联网生成了大量数据，但这并不是主要挑战。关键问题在于，并不是很多企业拥有以数据为驱动的文化 - 这意味着企业仍然没有在其企业中创建成熟的大数据管理流程。挑战不在于数据量，而在于从哪里获取数据，如何将数据拼接在一起以产生有意义的见解，如何管理和维护这些数据，以及如何以最合适的方式进行此操作。第十一章将讨论将帮助确保选择合适的平台和工具来有意义地管理和管理数据的大数据平台。

## 缺乏标准的通信（数据）协议

第四个挑战源于企业内存在大量的传统设备，并且每个设备都有自己的协议，这使得在物联网标准参考模型的不同层之间进行通信非常困难。我们将在随后的章节中讨论物联网网关如何解决这一挑战。

## 产品和平台的多样性

第五个主要挑战是构成完整物联网生态系统的多样化产品和平台。如果任何供应商或服务提供商表示他们可以部署端到端的物联网解决方案而不需要任何合作伙伴生态系统，那么他们的解决方案基本上存在问题。物联网解决方案需要一个庞大的生态系统，从设备供应商到物联网网关制造商再到物联网云提供商，这构成了完整的解决方案，企业需要在这些领域选择最佳解决方案，使整个解决方案具有成本效益和高效性。

## 投资回报率

最近出现的最终挑战是投资回报率。在企业的物联网环境中，讨论已经从 IT 级别（首席信息官级别）转移到财务级别（首席财务官级别），首席财务官明确要求物联网实施的投资回报率，这需要清晰地考虑和表述。毕竟，物联网将需要资本支出投资，随之而来的是运营支出投资。

资本支出（CAPEX）是长期支出，而运营支出（OPEX）是公司的日常支出。通常，CAPEX 是任何项目启动时所需的成本，而在 OPEX 中，成本分布在项目持续时间内。

数据中心是用于容纳企业内部计算系统和相关组件的建筑物、建筑物内的专用空间，或者一组建筑物。它是由本地网络连接的计算和存储资源组成的网络，可以提供共享软件应用程序和数据的交付。

云数据服务（称为云服务或云）是公司物理场所之外的远程版本的数据中心，它使企业可以通过互联网访问其数据。传统上，数据中心是指位于您公司场所上的服务器硬件，通过您的本地网络存储和访问数据。

在企业开始他们的物联网之旅时，需要仔细分析之前讨论的每一个挑战。除了这些挑战之外，企业需要明白并没有一个单一的架构可以作为他们进行物联网实施的指南。企业需要根据他们的身份（即所处的行业）、所做的事情（即生产产品、制造药品或销售杂货）、以及他们试图连接事物的方式和内容来定制他们的物联网架构，所有这些都是确定物联网架构的重要依赖。

企业需要连接的是物联网生态系统中的多个设备，这些设备并非他们制造的。但是如果你看一下现场的这些设备的多样性，就可以很容易地理解这些是使用多种不同协议进行通信的设备，从而导致了一个非常复杂的物联网生态系统。到目前为止，我们讨论的大多数挑战都可以通过引入（智能）物联网网关到物联网标准参考模型中来解决。

## 物联网网关

设备及其协议存在很多复杂性。如第五章讨论的那样，设备使用多种协议，如 Zigbee、Z-Wave、Wi-Fi、蓝牙等。另一方面，有几个标准机构和联盟每天都在制定新的标准和新的协议。这就是 IoT 网关的作用所在。

IoT 网关是一种用于实现物联网通信的解决方案，通常是设备到设备的通信或设备到云的通信。在最简单的形式下，传统的 IoT 网关是一种硬件或软件，用于使用多种通信协议从多个 I/O 设备收集和聚合数据。然后，网关将数据传输到本地数据中心或云中的服务器。在这种简化的情况下，网关的功能类似于“代理”。在此情况下，网关直接连接到物联网现场设备（传感器、执行器等），或通过可编程逻辑控制器（PLC）或监控控制与数据采集系统（SCADA）连接到物联网现场数据。这些网关支持各种 I/O 接口，包括有线和无线连接。

在这种情况下，网关有两个主要目标：

1.  1.

    允许更多设备以工业规模连接到互联网

1.  2.

    支持不同的协议 - 从 Zigbee 到 Wi-Fi 到 4G/5G

    可编程逻辑控制器或可编程控制器是一种专为控制制造过程而设计的工业数字计算机，如装配线、机器人设备或任何需要高可靠性、易编程和过程故障诊断的活动。

    监控控制与数据采集（SCADA）是一种控制系统架构，包括计算机、网络数据通信和图形用户界面（GUI），用于高级过程监控管理。

然而，在 Gartner 预计到 2020 年会有 200 亿个物联网设备投入使用的市场中，传统的网关面临着很多挑战，因为如果所有数据都需要从物联网设备发送到云端或数据中心，我们谈论的是每秒大量的数据，有些情况下甚至可能达到每分钟几 TB 到 PB 级别的数据传输量。物联网设备产生了大量的原始数据，如果这些数据直接从物联网网关发送到云端，会引入许多低效性，因为从设备到云端的数据传输会导致延迟和高成本，而且有时会阻塞网络连接，除了在某些情况下引起数据隐私问题。因此，尽管网关是用来连接未连接的设备的，但网关另一个主要任务是在网关级别开始分析过程。这就是边缘计算颠覆市场的地方。

边缘计算是一种分布式计算模型，将计算和数据存储带到需要的地方，以改善响应时间并节省带宽。在边缘计算中，关键数据处理发生在数据源而不是集中的基于云的位置。边缘计算通过在物联网网关本身执行重要任务来解决低效数据传输架构的挑战。使用边缘计算技术构建的网关称为智能物联网网关。

因此，本质上，当我们谈论智能物联网网关时，实际上是要像管理一个事物一样轻松地管理数百万个设备，除了消耗所有来自设备的数据、推导出洞察，并根据洞察执行操作。使用智能物联网网关，关键是在边缘管理易腐数据，只有将从长期角度看实际上需要存储的数据或对非常专业的数据执行分析的数据移动到物联网云平台。

## 智能物联网网关

边缘计算之所以备受关注的原因之一是因为它可以避免高延迟，有时甚至可以降低存储成本。

存在一些处理个人生死的用例，比如在医疗保健领域，这些用例中，人们的生命、安全和高额财产都岌岌可危。这些是企业几乎零延迟的要求的例子，因此没有兴趣将所有数据传回云进行处理。企业需要尽快在源头处处理数据，利用智能物联网网关。智能物联网网关应该能够提供与我们传统上期望从云端或数据中心的物联网平台获得的高功率、高性能和低延迟相同类型的特性。

智能物联网网关应该能够执行管理外部 OT 和内部 IT 的任务。这意味着企业在物联网用例中处理不同类型的设备，并且每个行业使用不同的设备。在建筑管理中使用的设备与汽车行业或制药领域使用的设备非常不同。这些设备使用多种协议和输入/输出，并且它们将与我们一起存在多年。物联网解决方案与这些设备和协议共存是至关重要的。这意味着智能物联网网关应该能够支持和与这些 OT 设备的数量进行通信，以便企业可以从这些设备中检索所有数据 - 因此，智能物联网网关应该具有的第一个功能是具有正确的连接性，能够连接和与任何类型的设备进行通信。

第二个方面是这些智能物联网网关不会放置在数据中心、桌子下面或家庭环境中。这些设备需要非常坚固，因为它们可能需要放置在风车或锅炉房等高温环境下，这并不是一个很容易的环境，同时，它们必须能够在这些条件下持续很长时间并且高效地运行。通常，网关会成为物联网架构中至关重要的一部分，因为大多数使用物联网的企业都依赖于这些设备来预测未来，所以这些网关的任何停机都可能导致业务问题。

因此，总结一下，当企业正在列出物联网网关时，他们需要首先查看网关支持的协议，这是根据他们企业内部的设备来确定的。物联网网关应该能够连接到企业设置中的多种类型的设备（包括旧设备），其次，它们需要足够健壮，以便企业可以在高温或多尘的环境中部署这些物联网网关。

一些物联网用例需要网关不断地连接到设备，除了能够根据从这些设备收到的数据做出时效性和实时决策。在这种情况下，引入延迟是不可选的，这通常是由于数据在云端来回传输而引起的。这意味着物联网网关应该能够执行分析和实时决策。

最后，最重要的是安全性。许多行业，如医疗保健、制药、银行和金融服务，都受到监管，对于所有这些企业来说，保持数据在现场是至关重要的，因此物联网网关应具备存储数据的能力。

市场上有大量的物联网网关可供选择，根据企业特定需求选择正确的网关对于在物联网旅程中取得成功至关重要。物联网网关对于成功部署物联网解决方案有着重大影响。由于选择网关不当，相当比例的物联网项目面临着实施和可扩展性问题。有必要根据企业希望实施的物联网用例仔细评估合适的网关。

## 选择正确的智能物联网网关

选择正确的网关取决于几个因素，并且基于企业选择实施的用例。七个关键考虑因素如图 6-2 所示。![../images/517610_1_En_6_Chapter/517610_1_En_6_Fig2_HTML.jpg](img/517610_1_En_6_Fig2_HTML.jpg)

图 6-2

选择智能物联网网关的七个考虑因素

### 数据大小和存储能力

许多工业物联网用例需要部署数百个传感器，在某些情况下，可能在一个位置有上万个传感器，每个传感器每秒获取和传输数百个读数。分析数据量是网关选择过程中的重要步骤。其次，许多网关供应商对可加载到物联网网关上的设备数量有限制，安装多个物联网网关以实现规模可能不是最明智的解决方案。

在工厂部署的工业网关通常每秒收集多个传感器读数。然而，诸如网络故障之类的情况可能会发生，因此在处理网络问题时，网关将需要在本地存储这些数据。

目前市场上大多数网关型号具有存储能力，但在典型工业环境中安装的网关需要能够存储大量数据并且存储时间较长。因此建议选择允许存储扩展的网关。

### 在 IoT 网关级别的数据处理能力是另一个必需条件

我们讨论过，传统的 IoT 网关在处理从传感器或 IoT 设备收集的数据方面能力有限。许多传统的网关制造商开发的网关在网关本身没有处理或数据存储能力，这意味着所有数据需要发送到数据中心或云端进行处理。现在，随着对 IoT 使用案例的新需求，边缘数据处理成为必需，因此智能 IoT 网关成为常态。

在大多数 IoT 解决方案中，并非所有来自传感器的数据都需要发送到云端进行处理。网关需要对从传感器获取的数据执行一些预处理操作，然后将数据发送到云端进行大规模分析处理或数据存储。

根据企业需求，应选择适当的网关。

### IoT 网关的坚固性

一些企业需要在 HVAC（暖通空调）单元或高海拔地区安装网关，因此，网关需要具备坚固耐用的特性，并且能够在极端条件下运行。

一些网关型号设计用于在温度范围为 –30°C 到 70°C、海拔范围为 15 米到 5000 米、以及允许高冲击和振动情况下运行的恶劣环境中。企业需要确保他们选择适合其运行环境的网关。

### 互操作性（连接要求）

许多物联网平台利用近距离连接选项，如蓝牙和以太网，而 Wi-Fi 和无线局域网用于更长距离的连接需求。随着工业设置中物联网的激增，几乎所有企业选择使用智能手机远程监视其工厂或工厂的运营。有一些智能物联网网关型号确实可以适应更广范围的连接选项，以连接到移动设备。然而，并非所有物联网网关在这方面都是相同的，在这方面，通常情况下，网关越便宜，提供的连接选项就越少，这是一个重要的考虑因素。

作为一般规则，在企业内使用的协议之外，网关还应支持标准协议，如 TCP/IP 和 HTTP。在工业物联网环境中，除了协议连接之外，网关必须能够与以下系统集成和互操作：

+   企业资产管理（EAM）

+   计算机化维护管理系统（CMMS）

+   车队管理

+   基于条件的维护（CBM）

+   制造执行系统（MES）

+   维护、修理和运营（MRO）

+   产品生命周期管理（PLM）

+   应用程序组合管理（APM）

+   现场服务管理（FSM）

+   建筑管理系统（BMS）

### 安全性

网关安全对整个物联网平台至关重要。尽管大多数现代网关都具有内置的安全选项，但仍需要检查网关使用的加密标准，网关是否提供强身份验证流程，以及网关是否能够检测篡改。此外，选择在物联网网关级别执行设备管理的企业需要从设备管理的角度了解产品提供的安全解决方案。像过空软件升级（SOTA）或安全的 DTLS 数据加密等功能是设备管理中必不可少的功能。

一种过空（SOTA）更新是通过安全的无线方式向设备传送新软件、固件或其他数据。数据报传输层安全性（DTLS）使企业能够加密在设备和智能物联网网关之间发送的数据包。

### 旧设备集成

许多企业拥有无法更换的传统设备，尤其是在制造业和医疗行业。

传统设备采用传统连接方式运行，需要选择正确的网关来与传统设备通信。

工厂使用寿命长的传统设备和机械。通常情况下，直接连接到互联网并不经济或可能无法升级或更换这些设备。在这种情况下，网关应能够连接这些传统设备，以确保工厂的所有数据都被整合。

### 可扩展性

可扩展性将成为处理物联网爆炸式增长的关键。智能物联网网关必须具备支持日益增长的连接设备数量、用户数量、应用功能和分析能力的能力，而不会降低服务质量。

## 物联网网关比较

如今市场上存在几家专门从事智能物联网网关的公司。在本书的背景下，我们将讨论商业和工业物联网供应商。

商业物联网目标是我们家庭外的日常环境（消费者物联网）。可以部署一组应用程序，这些应用程序可以部署在我们经常访问的地方，例如商业办公楼，超市，商店，酒店，医疗保健设施或娱乐场所。

工业物联网网关的设计结构坚固，并且旨在用于关键系统和工业环境。

几乎所有工业和商业物联网解决方案都需要智能物联网网关，因为许多物联网设备，如传感器和执行器，无法连接到 IT 基础设施。设备约束，如小型物理尺寸，传统协议，极端环境条件，偏远位置，电池供电，快速响应时间和低成本需要专为目的设计的智能物联网网关，以执行协议转换并在设备之间启用数据通信。智能物联网网关执行的另一个重要功能是在网关级别进行本地分析，从而缩短响应时间，提高可靠性并减少上行带宽。智能物联网网关所需的另一个最关键的功能是安全性。很少有物联网设备具有企业级安全性，特别是旧设备从未考虑过网络安全。智能物联网网关应该能够提供防火墙保护，可以将这些易受攻击的设备与企业资产以及开放互联网上的威胁隔离开来。

尽管物联网市场仍在发展，但戴尔和 HPE 拥有最强大的商用智能物联网网关，目前被认为是市场领导者。这些网关对于寻求大量计算和带宽的企业最为相关，比如实施视频监控。戴尔最近推出了围绕视频监控的捆绑套餐。一般来说，任何能处理视频数据密度的网关也能处理工厂自动化，以及预测性分析。一些戴尔和惠普的物联网网关版本还支持人工智能和机器学习。

### 惠普企业

鉴于物联网网关市场在低端的商品化，HPE 保留了其 Edgeline 品牌用于自给自足的汇聚边缘系统。这些网关汇聚传感器数据，将其转换并发送到云端进行进一步处理。这些网关还在网关级别执行自动决策、存储和控制。HPE 的 EL1000 和 EL4000 汇聚边缘系统是 HPE 提供的网关的示例。

### 戴尔

戴尔提供了 Edge Gateway 5000 系列，这是一款具有双核 Atom 处理器的耐用网关，用于本地分析。Atom 处理器是英特尔公司设计的一种超低电压微处理器，旨在与普通的英特尔 Core 系列处理器相比，降低电能消耗和功率消耗。

Edge Gateway 5000 系列专为工业环境的温度、灰尘和湿度而设计。它们提供的操作系统包括 Linux 0、Ubuntu Snappy 或 Windows 10。

尽管戴尔和惠普领导物联网网关领域，但还有其他专注于特定行业和用例的中端物联网网关供应商，以下是其中的一些示例。

### AAEON

AAEON 提供了四款用于户外应用的物联网网关，支持低功耗 LoRa 无线网络以及 4G 和 LTE 蜂窝网络。

具有广泛的工作温度、防水连接器和耐尘性的 AAEON 网关旨在用于能源计量、交通运输和其他户外应用。

### Digi International

Digi International 是一家总部位于明尼苏达州霍普金斯的美国工业物联网技术公司。

诸如 Digi International 的 SmartSense 之类的网关是针对特定垂直行业开发的，例如食品服务和酒店业、设施管理、教育、医疗保健、交通运输和物流以及零售业。对于这些垂直行业，SmartSense 网关与 Wi-Fi 和蓝牙低功耗等协议配合良好。

### 华为

华为拥有专门针对视频监控和智能城市应用的网关，例如街灯和计量。

## 摘要

在本章中，我们首先讨论了企业在启程进行物联网（IoT）之旅时面临的挑战，以及如何缓解这些挑战 - 这些挑战包括安全性、数据量、多样化的产品和平台、IT 和 OT 集成的挑战，以及缺乏标准化的通信协议和方法来为 IoT 项目提供 ROI。

然后，我们讨论了选择适合物联网用例的正确智能 IoT 网关的七个因素，这些因素如下所列：

1.  1.

    数据大小和存储

1.  2.

    IoT 网关的数据处理能力

1.  3.

    IoT 网关的坚固性

1.  4.

    互操作性

1.  5.

    安全性

1.  6.

    网关与遗留设备的集成能力

1.  7.

    可扩展性

我们随后讨论了智能物联网网关应该具备支持 OT 设备规模的能力，以便企业可以从企业 OT 生态系统中的所有设备检索数据。除了规模之外，虽然大多数现代网关都具有内置的安全选项，但仍然需要检查网关使用的加密标准——即网关是否提供强大的身份验证流程，以及网关是否能够检测篡改。很少有物联网设备具有企业级安全性，而且由于传统设备从未考虑过网络安全问题，因此智能物联网网关应具备防火墙保护功能，可以将这些容易受攻击的设备与企业资产以及互联网上的威胁隔离开来。

在下一章中，我们将讨论物联网云平台，这是物联网标准参考模型的核心。

© 作者（们），在 Springer Nature 的 APress Media, LLC 专属许可下，2021 年 V. Upadrista 物联网标准与区块链[`doi.org/10.1007/978-1-4842-7271-8_7`](https://doi.org/10.1007/978-1-4842-7271-8_7)

# 7. 物联网云平台

Venkatesh Upadrista（1）（1）英国斯劳

平台是软件和硬件的组合，包括操作环境、存储、计算能力、安全性、开发工具和许多其他常见功能。平台将许多常见功能从特定的应用逻辑中抽象出来。例如，无论您是尝试编写一个优化燃料消耗的应用程序还是一个课堂空间，许多底层技术需求本质上都是相同的。企业只需要专注于解决的具体问题，并使用计算能力、存储或安全性的通用功能。一个好的平台极大地降低了开发和维护应用程序的成本。就像笔记本电脑的操作系统一样，平台在后台完成了许多使开发人员、管理人员和用户的生活更加轻松和廉价的事情。

用于创建物联网解决方案的平台称为物联网平台。物联网平台使企业能够更快、更便宜、更好地构建物联网解决方案。各种形状和大小的物联网平台都有。有针对特定行业的平台，如商业房地产和家庭健康。有些专注于某种类型的设备；例如，至少有几个平台专注于为增强现实头戴设备创建物联网解决方案，而有些则专注于特定功能，如制造业。物联网设备之间需要安全、高效地连接并进行互操作。物联网平台满足了这一需求，因此已成为物联网部署的支柱。尽管物联网平台的重要性显著增加，但市场上出现了大量的物联网平台。截至 2019 年底，已知的公开物联网平台约有 620 个，是 2015 年的两倍多。随着物联网平台数量的增加，企业选择合适的平台至关重要，这些平台可以支持它们的行业特定用例，并在同一时间能够满足未来十年的物联网需求。最终，企业不希望每隔几年就更换物联网平台，而是需要一个能够持久使用的解决方案。

物联网平台所需的基本能力包括连接和网络管理、物联网设备管理、数据获取、处理、分析和可视化、应用程序开发（创建和管理物联网应用程序）、存储和安全。

随着物联网标准参考模型中智能物联网网关的引入，一些功能由物联网网关处理。举例来说，在大多数物联网场景中，除了数据收集、处理和部分分析外，物联网网关还执行连接和网络管理。然而，这会根据具体情况而异，需要进行仔细评估以决定哪种最优和最有效的模型能够确定由智能物联网网关执行哪些任务，由物联网平台执行哪些任务。基于这种评估，需要选择适当的物联网平台。

## 物联网基础六项

性能是选择物联网平台的关键考虑因素之一，但还有其他重要因素需要考虑。关于选择哪个物联网云平台并不容易回答；然而，在深入了解特定平台是如何开发以支持物联网解决方案之前，根据图 7-1 中描述的六个一般特征，即所谓的物联网基础六项，有必要先将物联网云平台提供商进行初步筛选。![../images/517610_1_En_7_Chapter/517610_1_En_7_Fig1_HTML.jpg](img/517610_1_En_7_Fig1_HTML.jpg)

图 7-1

在选择云平台时需要考虑的六个一般特征

### 可靠性和可用性

可靠且高可用的 IT 平台是任何企业进行业务的基本需求。可靠性是指在一段时间内系统或组件（托管在云中）执行所需功能而无故障的概率。可用性是指平台提供商保证在特定时间内数据和服务可用的时间。

举例来说，当你访问托管在云端或数据中心的应用程序或服务时，从可靠性的角度来看，以下是基本的期望：

+   应用程序或服务正在运行。

+   您可以随时从任何位置的任何设备访问所需的内容。

+   不会有任何中断或停机。

+   您的连接是安全的。

+   您将能够执行完成工作所需的任务。

从定义上来看，很明显，云平台的可靠性和可用性对任何希望利用云来进行业务的企业至关重要，因为停机会直接影响业务。

从这里开始筛选云平台，并且企业需要明确寻找那些不仅同意高可用性和可靠性 SLA 的提供商，而且在过去几年中始终如一地履行这些 SLA。

在理想的情况下，系统应该是 100%可靠和可用的，但这可能并非是一个可以达到的目标。许多云服务提供商有 99.99%的可靠性目标的 SLA。可用性通常以每年的时间百分比来记录，例如，99.999%的正常运行时间意味着企业每年最多无法访问资源约五分钟。

### 可扩展性

影响选择云服务提供商的第二重要因素是可扩展性。云可扩展性指系统如何能够对不断变化的需求做出反应和适应。随着企业的增长，他们希望能够无缝地增加资源而不影响服务质量或中断。随着资源需求的减少，企业希望能够快速高效地缩减系统，这样他们就不必为他们不需要的资源付费。资源包括操作系统、应用程序、特定的硬件、工具或设备。

然而，在云中，可扩展性不仅仅是根据需要添加或删除资源，还包括以下一些内容。

#### 云弹性

云弹性是指云服务能够根据需求增加和删除资源的能力。弹性很重要，因为企业希望确保他们的客户和员工能够使用他们需要的正确数量的资源，并且他们支付所使用的资源。云弹性应该是自动和无缝的。访问云服务的人们不应该注意到资源是如何添加或删除的。他们只应该有信心能够访问和使用资源而没有中断。

#### 垂直扩展

垂直扩展（或“纵向扩展”）指的是升级单个资源。例如，向现有服务器安装更多内存或存储容量。在物理的本地设置中，企业需要关闭服务器以安装更新，但在云世界中，可以在不关闭服务器的情况下完成此操作。

#### 水平扩展

这个术语用于描述通过增加额外的组件来“构建”系统。例如，企业可以通过与其他服务器链接来增加处理能力或更多内存到服务器上。水平扩展是选择云提供商时需要验证的必要能力。企业应该能够添加额外的硬件或软件资源，而对服务的冗余性和可靠性保持最小的影响，以确保服务保持可靠和可用。

#### 自动扩展

自动扩展是云计算的一个重要特性，它使企业能够自动管理云中的不同类型的可扩展性。云提供商，如亚马逊网络服务、微软 Azure 和谷歌云，提供自动扩展功能，以确保在当前资源需求上保持一致的性能，这是选择云平台时需要验证的另一个关键因素。

### 灾难恢复

第三个确定平台选择的基本特征是云服务提供商在灾难发生时的反应能力。灾难恢复（DR）是安全规划的一个领域，旨在保护组织免受洪水、火灾和其他自然灾害等重大负面和意外事件的影响。建立灾难恢复机制使组织能够在中断后保持或迅速恢复关键任务功能。云计算中的灾难恢复意味着将关键数据和应用程序存储在云存储中，在灾难发生时转移到辅助站点。灾难恢复是选择云服务提供商时需要考虑的一个非常重要的特性。企业需要了解提供商的灾难恢复规定、流程以及他们支持数据保留期望的能力（包括恢复时间目标）。

静止数据通常指存储在持久性存储（磁盘、磁带）中的数据，而使用中的数据通常指计算机中央处理单元（CPU）或随机访问存储器（RAM，也称为主存储器或简称内存）中正在处理的数据。

运输数据，也称为传输数据和飞行数据，分为两类：流动在公共或不受信任网络（如互联网）上的信息以及在企业或公司本地区域网络等私人网络的范围内流动的数据。

### 数据安全

数据安全构成了第四个关键考虑因素，是选择物联网平台时最重要的元素。云数据保护是在云环境中保护企业数据的实践，无论数据位于何处，无论数据处于静止状态还是运动状态，无论数据是由公司内部管理还是由第三方外部管理。企业需要确保他们选择的提供商符合基于其地区和行业需求的严格安全标准。企业需要验证云提供商是否符合 ISO 27000 系列等基本标准，以及他们的认证是否有效。企业还需要查看平台提供商是否符合数据保护和隐私法律法规，如欧盟的《通用数据保护条例》（GDPR）、美国的《1996 年健康保险可携带性和责任法案》（HIPAA）等。

企业数据和应用程序将驻留的服务器位置也很重要，因为不同的地方法律可能适用，企业需要确保对其数据存储、处理和管理的司法管辖权有 100%的控制。

除了数据安全之外，云安全在平台选择过程中也是必须理解的重要因素。云安全包括一套政策、控制、程序和技术，这些技术共同工作以保护基于云的系统、数据和基础设施。从验证访问权限到过滤流量，平台提供商需要具有可以根据业务的确切需求进行配置的云安全性。

平台即服务（PaaS）是云计算提供的一种类型，在这种服务中，服务提供商向客户提供一个平台，使他们能够开发、运行和管理业务应用程序，而无需构建和维护通常需要的基础设施，如软件开发过程。

基础设施即服务（IaaS）是一种通过互联网提供虚拟化计算资源的云计算形式。IaaS 是云计算服务的三大主要类别之一，另外两个是软件即服务（SaaS）和平台即服务（PaaS）。

软件即服务^(1) 是一种软件许可和交付模式，其中软件基于订阅方式许可，并且是集中托管的。有时被称为“按需软件”，并且以前由微软称为“软件加服务”^(2)。

企业非常需要根据安全领域的平台功能，例如认证、加密和监控功能，验证企业需求与平台能力是否相符。

### 定价模式

云计算的好处之一是企业只为他们使用的服务和资源付费。与固定费用不同，云服务提供商采用按使用量计费的模式。每个云服务提供商都有独特的服务捆绑和定价模式。不同的提供商对于不同的产品具有独特的价格优势。通常，定价变量基于使用期限，一些提供商允许按分钟使用，并提供长期承诺的折扣。

基于 SaaS 的产品最常见的模型是按用户、按月计费，尽管可能会根据存储需求、合同承诺或访问高级功能进行不同级别的设置。

PaaS 和 IaaS 的定价模式更加精细化，涉及特定资源或“资源集合”的消耗成本。除了财务竞争力之外，企业还需要寻找资源变量和快速提供与撤销方面的灵活性。允许企业独立扩展不同元素的应用架构意味着可以更有效地使用云资源。

### 认证与标准

符合公认标准和质量框架的提供商展示了对行业最佳实践和标准的遵循。虽然标准可能不确定选择哪个平台，但它们可以在初步筛选潜在的物联网平台提供商时非常有帮助。例如，如果安全性是优先考虑的因素，企业需要查看获得 ISO 27001 认证或政府的网络安全基本原则方案或 COBIT 认证的物联网平台。

### 公司简介

始终建议与声誉良好、稳定记录良好且没有法律问题或数据泄露历史的公司合作。选择平台提供商应取决于公司的良好财务状况。市场上有超过 500 家承诺提供物联网云解决方案的云服务提供商，因此根据其档案来衡量服务提供商变得非常重要。

## 特定能力

到目前为止，我们已经讨论了帮助企业预先筛选云平台提供商的六个基本能力。根据我对这些六个基本功能的经验，企业可以将其物联网平台提供商筛选至少不到十个。尽管这是取得的良好第一个里程碑，但理解任何企业在物联网中成功的最重要一步是根据提供商在物联网中的专业化和能力选择平台，这一点非常重要。物联网平台应具有足够的物联网解决方案特定的广度和深度的能力，基于企业业务和用例。如果这一步出错，企业将面临物联网项目失败的风险。

如今，没有一个适用于所有 IoT 解决方案的平台。选择平台应该始于对企业 IoT 战略的深入了解。识别企业试图使用 IoT 解决的问题类型是至关重要的，列出可能的解决方案和用例的简短清单，并尝试确定您将需要专业化和深度的地方。如果企业对他们正在解决的业务问题有一个想法，以及最大的挑战在哪里，您将能够快速列出平台的简短清单。

值得庆幸的是，随着 IoT 标准参考模型中引入 IoT 网关，一些核心功能在此级别得到处理，并且需要在 IoT 平台中提醒这些功能的能力。这在架构内带来了自主性，这是有道理的。根据具体需求，企业可以选择在 IoT 网关级别和 IoT 平台级别需要哪些功能。

引导企业选择 IoT 平台的四个核心能力如图 7-2 所示，列举如下：

1.  1.

    连通性

1.  2.

    设备管理

1.  3.

    应用启用平台

1.  4.

    可扩展性（设备级别、数据存储和分析）

![../images/517610_1_En_7_Chapter/517610_1_En_7_Fig2_HTML.jpg](img/517610_1_En_7_Fig2_HTML.jpg)

图 7-2

在选择云平台时的四个核心能力

### 连通性

第一个是连通性。在大多数用例中，智能物联网网关管理与物联网设备的通信。物联网平台应能够与智能物联网网关进行无缝通信，并实时和批量发送和接收数据。

批处理数据处理是一种处理大量数据的模型，其中一组交易在一段时间内收集，并在批处理中传输到物联网平台。相比之下，实时数据处理涉及从智能物联网网关到物联网平台的数据连续输入、处理和输出。数据必须在很短的时间段内（或接近实时）进行处理。

### 设备管理

设备管理是物联网标准参考模型中非常重要的功能，指的是作为物联网生态系统的一部分运行的连接设备的配置和认证、配置、维护、监控和诊断过程。一些企业选择物联网网关来执行设备管理，而一些企业更喜欢在物联网平台层面进行。根据企业业务和用例，需要做出合适的决策。设备管理大致有三个不同的功能，如图 7-3 所示。![../images/517610_1_En_7_Chapter/517610_1_En_7_Fig3_HTML.jpg](img/517610_1_En_7_Fig3_HTML.jpg)

图 7-3

设备管理功能

#### 设备入网和配置

许多企业采用手动流程，其中设备在现场激活，在网络上使用 IT 进行配置，并在物联网平台上注册设备所有者。这是一个耗时的过程，同时也可能导致安全漏洞，就像最近的大规模攻击所示，设备制造商发送了被黑客利用的默认凭据，黑客使用类似僵尸网络的攻击进行攻击。僵尸网络是由恶意软件感染的互联网连接设备的集合，允许黑客控制它们。网络罪犯使用僵尸网络发动僵尸网络攻击，其中包括恶意活动，如凭证泄漏、未经授权访问、数据窃取和 DoS 攻击。

拒绝服务（DoS）攻击是一种网络攻击，攻击者试图通过暂时或永久地中断服务，使计算机或网络资源对其预期用户不可用。

一些企业声称手动添加一个设备可能需要超过`30 分钟`。想象一下，一家工厂要安装`10,000`个智能灯泡，所有这些都需要在物联网平台上进行注册。实际上，这意味着以手动方式，企业将需要花费`300,000`人小时来完成安装。当今许多企业的主要需求是缩短物联网设备在平台上的上线时间。在一个工业物联网案例研究中，一家企业有成千上万的设备需要上线，在这样一个大规模的设置中，手动流程会导致巨大的成本和努力。在选择物联网平台时，企业需要寻找能够缩短安装时间、使物联网设备更快地在线并以安全和自动化方式上线的物联网平台。市场上有一些物联网平台采用了零触摸方法，使物联网设备能够在通电时动态发现物联网平台并自动注册。并非所有企业都需要这些功能，需要进行仔细的分析，以确定应选择哪个物联网平台。

在添加物联网设备时，企业需要确保只有受信任的设备加入企业物联网生态系统。因此，设备认证非常重要，是安全地建立设备身份并确保其可信的行为。通过设备认证，企业可以确保设备是真实的，并且运行受信任的软件，并代表受信任的用户工作。

企业需要确保他们选择的平台能够支持自动和安全的设备上线。例如，一旦现场有新设备上电，物联网平台应该能够定位设备，并以完全安全的方式自动将设备上线到物联网平台，使用公钥加密等方法。公钥加密，也称为非对称加密，使用两个单独的密钥而不是一个共享密钥：公钥和私钥。公钥加密是互联网安全的重要技术。

#### 设备配置

一旦设备上线，设备配置就开始发挥作用。设备配置是对上线设备进行超出默认设置的微调过程，例如更改密码或升级到最新固件。物联网平台应该提供灵活直观的配置机制，使企业能够设计其智能车队的行为，不仅在设备按计划执行时，还能在出现任何故障时随时做出反应。企业物联网生态系统中的所有物联网设备的总和称为智能车队。

#### 设备维护

设备维护涉及改善设备性能或消除设备中的技术问题的过程。这包括远程安装软件修复程序或补丁，或者在不进行手动干预的情况下将升级推送到所有物联网设备车队中的所有设备。

设备维护还涉及在设备故障时建议或执行修复操作。当设备故障时，可以从各种来源收集、聚合和实时分析故障数据，并由物联网平台自动启动修复操作，或者在必要时向技术人员推荐操作。企业需要验证物联网平台提供商在这方面提供的解决方案的详尽程度。

资产密集型行业在确保关键任务的工厂和设备以最大效率和正常运行时间运行，以及满足客户服务承诺方面面临一系列挑战，因为即使对服务的最小干扰也可能导致昂贵的罚款，或者更糟糕的是客户流失。企业需要了解他们的产品和资产的表现，以便他们可以优化其使用，并更好地预测问题和故障。这就是为什么远程监控和维护在物联网生态系统中发挥重要作用的主要原因。监控和诊断不仅包括使企业能够更好地监视其产品和工厂机械的正常运行，还包括使他们能够防止昂贵的故障和修复，并改善客户服务。

### 应用程序启用平台（具有优越应用程序开发能力的物联网平台）

物联网平台中的一个非常重要的功能是支持开发人员轻松创建物联网应用程序的能力。企业需要选择具有优越应用程序开发能力的物联网平台，该平台可以提供启动物联网应用程序所需的全部工具。该平台应具有可让开发人员快速创建、测试和部署物联网应用程序或服务的解决方案。该平台应具有预编写的应用程序，开发人员可以使用这些应用程序加快开发速度。这些平台通常应包括软件和设备，以及开发和部署解决方案，使得启动和运行物联网应用程序变得更加容易。其好处在于，这些平台负责开发、网络配置和安装，这通常是由开发人员完成的，可以节省大量时间和开发工作。

选择具有优越应用程序开发能力的物联网平台通过减少创建物联网解决方案或具有较低拥有成本的产品所需的时间，简化了物联网用例实现中的许多复杂性。

选择物联网平台时另一个重要方面是验证平台与其他企业应用程序（如企业资源规划（ERP）或制造执行系统（MES）应用程序）的连接和集成能力。制造执行系统是用于制造的计算机化系统，用于跟踪和记录原材料转化为成品的过程。ERP 是自动化业务功能的系统，如生产、销售报价和会计。

物联网平台中的应用程序开发能力影响价值实现。在选择物联网平台时，需要仔细考虑开发人员使用平台执行开发的便利性。除了开发便利性和与其他应用程序集成的能力外，可伸缩性也非常重要。例如，该平台应能够支持开发人员创建固定应用程序，例如基于 Web 的应用程序以及移动或桌面应用程序。

选择具有优越开发能力的平台可减少上市时间和开发风险。有几家成熟的物联网平台供应商提供有价值的服务，简化物联网应用程序的开发。它们为流行设备（如运动传感器）提供了预建模型，同时为独特用例设计自定义模块的平台。使用这些平台，开发人员可以轻松连接不同的物联网设备和服务，确定它们的交互，并比传统的定制编码更快地构建物联网应用程序。

因此，总的来说，选择平台时的三个主要应用程序考虑因素是

1.  1.

    开箱即用的应用程序有哪些？

1.  2.

    应用程序开发环境是什么样的？

1.  3.

    常见的企业应用程序接口有哪些？

许多平台将包括一个或多个可能是开箱即用的价值应用程序，例如与 iPhone 一起发货的股票市场或天气应用程序。有时，非常简单的应用程序是最受欢迎和有效的。一家商店的经理告诉我们：“我很高兴拥有一个只告诉我商店中哪些单位开关是打开或关闭的应用程序。”

### 可扩展性

在选择物联网平台时，可扩展性是另一个每个企业都需要彻底验证的重要特性。在物联网平台的上下文中，可扩展性主要来自三个不同的角度。

第一个是物联网平台能够接入具有不同连接协议的大量设备的能力，第二个是物联网平台存储海量数据的能力，第三个是执行大规模分析过程的能力。所有这三个元素构成了物联网项目成功的核心。

#### （大规模）设备接入能力

如果企业决定通过物联网平台执行设备接入，那么选择一个能够接入所需数量设备的平台至关重要，上限可以由企业业务和所在行业来决定。例如，特斯拉在 2004 年拥有数千个物联网设备，但今天在他们的单位中拥有超过一百万个设备，像特斯拉这样规模的公司将拥有类似数量的设备。为这类行业选择的物联网平台应具有一次性扩展和连接数百万个设备的能力。另一个例子，在智能建筑中可能需要将数千个小型物联网设备（如智能灯泡）接入物联网平台，而在工厂环境中，许多用例可能需要数百个大型物联网设备。

如今，许多商用级物联网平台都具有在其平台上注册尽可能多的设备的灵活性。

除了在平台上注册多个物联网设备的能力之外，执行设备管理的便利性是在选择物联网平台时必须验证的关键因素。

#### 数据存储和物联网分析

从可伸缩性的角度来看，另一个最重要且必要的能力是从物联网平台中期望的数据存储的可伸缩性。可伸缩性对于处理数据的爆炸性增长至关重要，因为物联网涉及的是设备生成的大量数据。物联网平台必须具有优越的数据存储和分析能力。物联网分析的目标是从通过物联网连接的设备生成的大量数据中获得价值。

使用云端，数据存储可以按需使用，因此企业无需过多关注数据存储问题。几乎所有物联网平台提供商都使用云端进行数据存储，因此默认情况下将有足够的存储空间来收集和处理大规模的物联网数据流。

**数据湖**是一个集中的存储库，允许您以任何规模存储所有结构化和非结构化数据。

数据沼泽是指具有有限用途的数据。

然而，在物联网生态系统中，存储并不是一个挑战，而是物联网平台具有能够以正确的方式存储正确数据的解决方案至关重要。在物联网架构中，有成千上万的传感器收集大量结构化和非结构化数据，例如温度读数以及视频和音频镜头。几乎所有物联网平台都使用数据湖来存储这些原始数据。数据湖的好处在于它们可以无限增长，与许多处理和分析工具集成，并提供相对低廉的存储成本。然而，为了在物联网数据上启用分析，组织需要仔细规划他们的存储。只是简单地将数据倒入数据湖而没有进行任何预处理可能会产生数据沼泽。企业需要确保他们只保存所需数据到数据湖，并且数据应以一种格式存储，该格式使得无需对数据进行重大更正即可进行分析。物联网平台应能够支持这种需求。

虽然我们在物联网平台层面上谈论数据存储，但并不总是需要企业将所有数据（处理工作）传输到云端。在许多情况下，将物联网平台与智能物联网网关结合起来以在规模、成本、延迟和数据隐私之间取得平衡是必要的。可能有一些数据存储和分析过程需要在智能网关上进行，其余过程在云端进行，或者反之。有了这个想法，企业需要确保他们有能够支持这种混合工作流程的连接系统，以实现从边缘（智能物联网网关）到云端（物联网云平台）的无缝迁移。

无论数据存储和分析发生在何处（即，在物联网网关级别或物联网平台级别），物联网平台都需要一个强大的数据处理引擎（管道），可以对流式数据进行数据整理（清洗、丰富、转换）功能。数据管道需要在持续流式数据的能力上保持平衡。它还必须能够处理诸如数据暂时激增、性能问题和下游系统中断等情况。

## 概念验证（POC）

在筛选平台供应商之后，企业必须运行几个概念验证（POCs）来测试平台性能和功能，使用不同的技术标准，如功能数量和质量、工具和服务、可用性、安全性和互操作性。在这一步骤中还应该验证平台的成本。

企业应该在建立一个类似于他们实际产品或生产过程并包含来自他们产品或工厂的实际数据集的真实测试平台之后，而不是要求平台供应商提供一些假设的能力之后，实施 POC。

本质上，企业需要创建 POC 来探索和“玩弄”这些平台，以了解它们的工作方式以及基于真实使用场景可以从中获得什么优势。

## 概要

本章主要讨论了为企业在其物联网之旅中取得成功选择正确的物联网云平台。虽然没有一个简单的答案来选择哪个物联网云平台，但本章基于六个一般特征和四个核心能力提供了相同的指导：

+   在筛选物联网云平台时需要验证的六个一般特性包括可靠性、可用性、可扩展性以及云提供商支持灾难恢复的能力。安全性是另一个重要的需要验证的元素。平台的定价模型以及平台所拥有的认证和标准是需要验证的另外两个方面。

+   引导企业选择物联网平台的四个核心能力包括连接性、设备管理、应用启用平台以及可扩展性（设备级别、数据存储和分析）。

根据上述指导，企业可以选择适合的物联网云平台。

在下一章中，我们将讨论安全性的重要性及其在物联网标准参考模型中的适用性。

© 作者，独家授权给 APress Media, LLC，属于 Springer Nature 的一部分 2021 V. Upadrista 通过区块链实现物联网标准[`doi.org/10.1007/978-1-4842-7271-8_8`](https://doi.org/10.1007/978-1-4842-7271-8_8)

# 8. 物联网安全

Venkatesh Upadrista^(1  )(1)英国斯劳

企业中的 OT 系统就像收银机一样——无论是发电单元、汽车制造单元、石油精炼还是化学开发，OT 系统都为企业创造了收入。因此，传统上一直将重点放在确保生产最终产品的 OT 系统以安全、高效、富有生产力和“长期任务”的方式设计的前提下。长期任务意味着预期关键基础设施的 OT 系统每天全年无休地运行数十年。由于这样的需求，几年内不会发生重大的修补或升级周期，因此这些系统中存在的漏洞类型将存在很长时间。

在信息技术时代，我们已经遇到了几起安全事件。每次出现新漏洞时，制造商都会推出补丁来解决它。这是一种被动的方式，因为每次发生新攻击时，企业都会通过取证调查做出响应，最终导致补丁和持续监控，以防止问题再次出现。然而，在操作技术（OT）领域这种方式是不可行的。一个小事故不仅可能导致工厂停产，造成数百万美元的损失，还可能导致人员伤亡和事故，原因是网络攻击。另一方面，像配方这样的商业机密通常加载在 OT 控制系统上，需要受到保护。这就是为什么 OT 安全是物联网安全关注的重点之一的原因。与信息技术世界不同，OT 系统具有

+   没有从网络攻击中学到东西

+   不像信息技术系统那样接受过升级

+   更老化的基础设施，由于 OT 系统从未被设计成暴露在外部世界中，所以控制更少

+   没有被开发出来解决网络攻击的工具和系统

这是操作技术世界面临的最大挑战，很明显，在信息技术和操作技术的整合之后，网络攻击者将试图通过信息技术系统进入操作技术系统。这是当今物联网行业面临的最大挑战。

我们过去看到了 IT 和 OT 整合的匆忙方法。一个例子是 2008 年至 2011 年的智能计量支付日。这是工业对房屋运营方面的新技术进行大量投资的时期。无线系统使得收集信息以减少运营成本、从而实现运营效率成为可能。在这段时间里，OT 系统的安全性被搁置了一边，过了一段时间以后，工业看到了对智能计量器的网络攻击。例如，有些智能计量器的设置被个人改变，使得计量仪读数不再增加，通过在计量器上放置大型磁铁。这就是物联网的演变，其中网络安全被认为是次要的要求，由于这个原因，一些公用事业提供商损失了数百万美元。

在开始物联网之旅时，你可以在最初考虑网络安全，也可以稍后再考虑。而稍后再考虑可能会导致非常糟糕的情况，比如完全关闭企业，因为毫无疑问，会出现许多意想不到的后果，最终可能导致灾难。

行业对物联网的安全意识水平目前仍然相当不同。根据我在 OT 世界与几家企业交流的经验，近 40%的企业认为与外部威胁隔离是确保安全的解决方案，因此他们倾向于与外部世界断开联系。这些企业认为隔离是保护自己免受网络风险的策略，因此他们从未能利用市场上存在的技术。这些人有可能失去业务，因为有更好和更便宜的方式来进行业务，他们的竞争对手很可能已经采用。

在光谱的另一端，有较少的企业，大约 10%的企业，他们意识到并且勤奋地关注着 IT 行业的进展，每年都在提升他们的网络安全姿态，以保持在新兴威胁面前的领先地位。还有其他组织处于这两类组织的中间位置；这些组织是属于受监管行业的，其任务中有合规方面的要求。他们加强网络安全姿态只是为了满足合规要求。由于这些企业并没有超越合规范围考虑网络安全，它们处于高风险遭受网络攻击的境地。

在 IT 世界中存在着成熟的网络安全实践，在物联网世界中，由于过去几年物联网的普及，这些实践也在不断成熟。因此，今天针对物联网的网络安全实践能够解决许多保护物联网世界中关键基础设施和数据的复杂问题。

物联网是未来的现实。为了使企业达到下一个成熟级别，实现更高的生产力，提供更好更快的结果并且更便宜，将物联网应用于他们的业务模型是唯一的选择。许多企业已经意识到了这一事实；然而，在一个从未从网络安全角度考虑过 OT 的世界中进行连接给企业带来了最高程度的风险。我经常遇到两种类型的企业——一种是为了这种生产力结果而牺牲安全的，另一种则不愿意走向物联网。这两者都不是正确的选择。唯一的选择是解决网络安全问题，并采取行动来保护 IT 和 OT，这是每个企业的任务。

大多数针对 OT 系统的网络攻击案例中，黑客们通常会进行试错来入侵系统。黑客们只是试图看看他们可以远程访问什么，并试图找到进入操作系统的方法。我也见过相反的情况 - 在一些情况下，已经发生了对 OT 端的攻击，并且这些被黑客入侵的系统随后被用来获取对 IT 系统的访问权限。这就是我所说的关键攻击，这些类型的攻击正在增加。

正如我们迄今为止讨论过的那样，安全性不能只围绕着物联网中的 IT 和 OT 两大隔离系统。它们需要共同运作以防止网络攻击，这带我们进入了下一个问题：如何确保物联网系统的安全？如图 8-1 所示，为了有效保护物联网生态系统中的关键基础设施，有三个主要组成部分是必要的。![../images/517610_1_En_8_Chapter/517610_1_En_8_Fig1_HTML.jpg](img/517610_1_En_8_Fig1_HTML.jpg)

图 8-1

保护 OT 基础设施的组件

**工业思维** – 工业思维在物联网中首先要考虑。这意味着正在进行物联网之旅的企业需要考虑 OT 系统的任务，这些任务通常集中在零停机时间和作为一种实践的安全性上。它还涉及工程学的纪律和通常用于设计这些工业系统的质量关注，并认识到这些系统是企业的收银机。

**网络安全** - 企业处理 OT 系统时，第二个关键方面是拥有网络安全专业知识。网络安全人员需要了解 IT 和 OT 之间的相似性和差异，并且应该是这一特定领域的专家。在某些 OT 或关键基础设施的层中使用的技术类型与 IT 非常相似。有工作站、标准软件堆栈或标准应用程序，但是当我们深入了解 OT 系统时，会发现不同类型的技术堆栈、嵌入式设备（如实时操作系统）以及用于连接这些系统的工业专有协议。网络安全专家需要了解技术的差异以及 OT 系统存在的漏洞的差异，因为这些是具有长期任务的传统产品，并带来适当的解决方案来解决这些挑战。妥协的后果可能意味着生命的危险。

**定制技术** – 需要关注的第三个领域是定制技术。这意味着企业需要关注那些专门为工业连接系统提供深度可见性和保护的技术，这些系统将成为物联网实施的一部分。网络安全专家需要查看 OT 系统每一层面的特定风险性质，并确保在该系统内部使用的防护措施将支持每个特定的任务。他们需要深入了解用于将这些系统连接在一起的协议、数据传输的速度和信息传输，并且不引入任何意外的延迟或抖动，因为这样的低效性可能会导致 OT 系统崩溃。例如，补丁循环通常在 IT 端要比在 OT 端快得多。由于特定 OT 系统的运营任务，许多 OT 系统可能需要数年或数月才能安装补丁或保护措施。从定制技术的角度来看，我们在这里看到的主要区别是 IT 端有一整套标准化的协议。在 OT 端，有许多围绕专有技术和专有协议构建的设备，这些协议将 OT 系统粘合在一起并连接它们，以允许机器之间的互动。在 IT 世界中使用的防护措施通常基于标准化协议，而在 OT 端，我们将涉及各种神秘和专有的协议，这些协议是用于彼此通信的系统。企业利用为所有这些 OT 系统专门构建的安全技术和平台至关重要。

## **安全设计**（确保整个物联网生态系统的安全）

安全设计是在物联网旅程的每个阶段以及物联网标准参考模型的所有层面包含安全设计原则、技术和治理。当一个组织考虑创建、部署和利用连接技术来推动业务时，安全必须集成到每个组件、层次和应用程序中，以保持物联网解决方案的完整性并最小化网络威胁的风险。

物联网系统非常复杂，需要端到端的安全解决方案，涵盖云和连接层，并且应该能够支持资源受限的物联网设备，这些设备通常不足以支持传统的安全解决方案。没有单一的灵丹妙药，安全必须在物联网生态系统的每一层面都是全面的，否则攻击者可以简单地利用最薄弱的环节。虽然传统的信息技术（IT）系统驱动并处理来自物联网设备的数据，但物联网设备本身将具有需要处理的独特的额外安全需求。

物联网安全需要从设备采购（购买具有内置安全性的设备）、设备保护、API 安全、智能物联网网关安全、补丁管理、硬件安全和物联网云平台安全等方面考虑。

这些基础可以组合成物联网生态系统中强大且易于部署的安全基础，以减轻对物联网的绝大部分安全威胁，包括先进和复杂的威胁。然而，企业需要了解，并没有一种单一的解决方案能够完全覆盖物联网安全。每个用例和每个行业（汽车、能源、制造业、医疗保健、金融服务、政府、零售、物流、航空、消费者等）都是独特的，安全解决方案需要根据用例和针对特定行业和用例的威胁来决定。

### 购买具有内置安全性的设备

设备制造商需要确保安全性内置在设备中，企业在采购新设备时应该仔细选择具有内置安全性的设备。另一个购买新设备时需要考虑的方面是要了解，具有硬编码凭据的设备不是企业物联网生态系统的理想候选设备。企业应该能够在设备投入使用之前更新默认凭据。设备需要使用强密码、多因素身份验证或可能的情况下使用生物识别技术进行更新。

椭圆曲线加密等技术已经在行业中引起了革命，特别是对于资源受限设备的安全性，企业需要确保这种安全启用的设备成为其物联网生态系统的一部分。领先的证书颁发机构（CA）Symantec 已经将这些安全功能嵌入了超过十亿个物联网设备中，帮助相互认证各种设备，包括蜂窝基站、电视等。

在物联网环境中，设备的身份管理非常重要。每个物联网设备都需要具有唯一的标识符，以了解设备是什么，它的行为方式，它与其他设备的交互方式，以及应该为该设备采取的适当安全措施。

并非所有企业都能部署新的物联网设备，它们需要与现有设备和设备共存，其中许多是遗留设备。许多此类遗留设备和设备仍然需要连接到物联网生态系统。并没有单一的解决方案来保护这些设备，企业需要根据连接到互联网的设备和设备开发基于设备和设备的安全解决方案。

表 8-1 提供了传统 IT 和 OT 安全解决方案的一般视图，以及这两种解决方案的结合如何在 IT-OT 集成后保护企业。这是一个部分清单，为企业在 IT-OT 集成世界中管理其安全海报提供了一个起点。每家企业需要根据当前使用的操作系统量身定制自己的网络安全解决方案。表 8-1

传统 IT 和 OT 安全解决方案

| 服务 | 描述 | 传统 IT | 传统 OT | IT-OT 集成（IoT） |
| --- | --- | --- | --- | --- |
| 防火墙 | 作为网络和更广泛互联网之间的守门人。通过将数据包与预定义的规则和政策进行比较，过滤传入和在某些情况下传出的流量。 | ![../images/517610_1_En_8_Chapter/517610_1_En_8_Figa_HTML.gif](img/517610_1_En_8_Figa_HTML.gif) |   | ![../images/517610_1_En_8_Chapter/517610_1_En_8_Figb_HTML.gif](img/517610_1_En_8_Figb_HTML.gif) |
| 入侵预防服务和入侵检测服务 | 深度数据包检查；保护网络免受恶意软件入侵。 | ![../images/517610_1_En_8_Chapter/517610_1_En_8_Figc_HTML.gif](img/517610_1_En_8_Figc_HTML.gif) |   | ![../images/517610_1_En_8_Chapter/517610_1_En_8_Figd_HTML.gif](img/517610_1_En_8_Figd_HTML.gif) |
| 访问控制 | 控制哪些用户可以访问网络或敏感部分的网络。 | ![../images/517610_1_En_8_Chapter/517610_1_En_8_Fige_HTML.gif](img/517610_1_En_8_Fige_HTML.gif) |   | ![../images/517610_1_En_8_Chapter/517610_1_En_8_Figf_HTML.gif](img/517610_1_En_8_Figf_HTML.gif) |
| 杀毒软件和反恶意软件软件 | 一种用于预防、检测和消除恶意软件的软件。 | ![../images/517610_1_En_8_Chapter/517610_1_En_8_Figg_HTML.gif](img/517610_1_En_8_Figg_HTML.gif) |   | ![../images/517610_1_En_8_Chapter/517610_1_En_8_Figh_HTML.gif](img/517610_1_En_8_Figh_HTML.gif) |
| 应用程序安全 | 指的是企业内部用于监视应用程序开发和运营过程中的安全问题和风险的硬件、软件和最佳实践的组合。 | ![../images/517610_1_En_8_Chapter/517610_1_En_8_Figi_HTML.gif](img/517610_1_En_8_Figi_HTML.gif) |   | ![../images/517610_1_En_8_Chapter/517610_1_En_8_Figj_HTML.gif](img/517610_1_En_8_Figj_HTML.gif) |
| 行为分析 | 一种通过识别和解决异常行为的方法。 | ![../images/517610_1_En_8_Chapter/517610_1_En_8_Figk_HTML.gif](img/517610_1_En_8_Figk_HTML.gif) |   | ![../images/517610_1_En_8_Chapter/517610_1_En_8_Figl_HTML.gif](img/517610_1_En_8_Figl_HTML.gif) |
| 数据丢失防止 | 一种技术，防止员工在网络外无意或恶意地分享有价值的公司信息或敏感数据。 | ![../images/517610_1_En_8_Chapter/517610_1_En_8_Figm_HTML.gif](img/517610_1_En_8_Figm_HTML.gif) |   | ![../images/517610_1_En_8_Chapter/517610_1_En_8_Fign_HTML.gif](img/517610_1_En_8_Fign_HTML.gif) |
| 网络监控和可见性 | 一种技术，可以自动生成对所有网络通信的视图，从而实现策略创建和自动执行。 |   | ![../images/517610_1_En_8_Chapter/517610_1_En_8_Figo_HTML.gif](img/517610_1_En_8_Figo_HTML.gif) | ![../images/517610_1_En_8_Chapter/517610_1_En_8_Figp_HTML.gif](img/517610_1_En_8_Figp_HTML.gif) |
| 网络分割 | 管理 IT 网络和 OT 环境之间数据流的能力。 |   | ![../images/517610_1_En_8_Chapter/517610_1_En_8_Figq_HTML.gif](img/517610_1_En_8_Figq_HTML.gif) | ![../images/517610_1_En_8_Chapter/517610_1_En_8_Figr_HTML.gif](img/517610_1_En_8_Figr_HTML.gif) |
| ICS 漏洞情报 | 一种平台，可自动检测工业恶意软件，包括零日漏洞。零日漏洞是一种已知于软件供应商但尚未有补丁修复的软件安全漏洞。 |   | ![../images/517610_1_En_8_Chapter/517610_1_En_8_Figs_HTML.gif](img/517610_1_En_8_Figs_HTML.gif) | ![../images/517610_1_En_8_Chapter/517610_1_En_8_Figt_HTML.gif](img/517610_1_En_8_Figt_HTML.gif) |
| OT 防火墙 | 提供面向策略驱动和集中化管理能力的技术，使企业能够控制其工业环境。 |   | ![../images/517610_1_En_8_Chapter/517610_1_En_8_Figu_HTML.gif](img/517610_1_En_8_Figu_HTML.gif) | ![../images/517610_1_En_8_Chapter/517610_1_En_8_Figv_HTML.gif](img/517610_1_En_8_Figv_HTML.gif) |

### 保护设备

保护设备免受攻击需要代码签名和运行时保护。

代码签名是数字签名可执行文件和脚本的过程，用于确认软件作者并保证代码在签名后没有被更改或损坏。运行时自我保护（RSP）是一种安全解决方案，旨在为设备上运行的应用程序提供个性化保护。它利用对应用程序内部数据和状态的洞察力，使其能够在运行时识别其他安全解决方案可能忽略的威胁。代码签名在“签名”为设备安全的代码后，通过加密确保代码未被篡改。所有关键设备，无论是传感器还是集线器，都应配置为仅运行已签名的代码，永远不运行未签名的代码。但是，设备必须在代码开始运行后长时间受到保护。主机级保护在这方面有所帮助。主机级安全是运行在连接到网络的单个计算机或设备上的防火墙软件。这些类型的防火墙是一种细粒度的方式，用于保护个体主机免受病毒和恶意软件的侵害，并控制这些有害感染在网络中的传播。

主机级保护为各种物联网设备提供了加固、锁定、白名单、沙箱、面向网络的入侵防护等诸多安全功能。

### API 安全

应用程序（或编程）接口（API）将设备与完整的物联网生态系统联系在一起。物联网 API 是物联网设备与互联网和/或物联网网络内的其他元素和系统之间的交互点。

API 安全涉及通过连接到互联网的 API 传输数据。对于企业来说，保护从物联网设备发送到智能物联网网关、物联网云平台或后端系统的数据的完整性，以及确保只有经授权的设备和应用程序与 API 通信，是至关重要的。

一些企业寻求加强其 API 安全性的最常见方法的示例如下：

+   使用令牌 - 建立受信任的身份，然后通过为这些身份分配的令牌来控制对服务和资源的访问。

+   使用加密和签名 - 使用诸如 TLS 之类的方法加密数据。传输层安全性是一种设计用于在计算机网络上提供通信安全性的加密协议。具有签名的设备将确保正确的用户正在解密和修改数据。

+   升级和漏洞识别 - 企业需要定期升级其操作系统、网络、驱动程序和 API 组件。他们需要了解一切是如何配合工作的，并识别可能被用来入侵 API 的弱点。一些企业使用嗅探器来检测安全问题并跟踪数据泄漏。嗅探是通过监视和捕获通过给定网络的所有数据包的过程。

+   使用配额和限流 - 通常，企业需要设置 API 调用频率的配额，并跟踪其历史使用情况。对 API 的更多调用可能表明它正在被滥用。这也可能是编程错误，比如在无限循环中调用 API。企业需要制定限流规则，以保护 API 免受突发事件和拒绝服务攻击。

+   使用 API 网关 - 还建议将 API 网关作为 API 流量的主要执行点。一个好的网关将允许对流量进行身份验证，并控制和分析 API 的使用方式。

### 智能物联网网关安全

物联网网关（**IoT Gateways**）是一种解决方案，可以使设备不受其协议的限制进行通信，并且还充当资源受限的物联网设备、传感器和执行器的安全代理，这些设备缺乏处理复杂加密安全功能的 CPU 计算能力、电池寿命和存储空间，如安全访问认证和加密。然而，在物联网环境中，不仅设备，而且网关本身也容易受到各种安全威胁，因为网关暴露在互联网上。如果网关没有得到保护，那么如果网关受到攻击，所有附带的安全技术都将变得毫无用处。企业需要确保部署具有无懈可击的安全控制的智能物联网网关，至少网关具有端点安全控制，如身份和访问控制、空中更新和威胁检测功能。

#### 身份和访问控制（**Identity and Access Control (IAC)**）

身份管理和访问控制是管理访问企业资源以保持系统和数据安全的学科。作为安全架构的关键组件，身份和访问控制有助于在授予设备或用户权限访问系统和数据之前验证设备或用户身份。

网关在参与数据交换之前需要一个信任根来在网络上标识自己。网关应设计为信任锚点，并配备基于密钥的访问控制，以授权给经授权的用户和设备访问权限。为了保护秘密（密钥和证书），应实现安全存储。

通常，网关暴露在极端的户外环境中。防篡改硬件可以保护它们免受物理损坏。

#### 空中更新和安全启动（**Over-the-Air Updates and Secure Boot**）

通过空中更新确保网关运行的是最新的软件和固件，不受常见漏洞和暴露的影响。安全启动使网关能够启动经过加密验证完整性和真实性的固件映像。这一预防措施可以防止使用恶意固件启动网关。

#### 可见性和威胁检测

细粒度的事件记录提供了足够的可见性，可以了解网关中运行的进程，这对于安全审计非常有用，也可以自动化威胁检测和故障排除。在物联网环境中，可访问性可能受到限制，使用机器学习或人工智能自动化威胁检测更为实际。机器学习使企业能够识别行为基线，并检测甚至阻止异常，这些特性在选择物联网网关之前应进行验证。

### 补丁管理/持续软件更新

提供通过网络连接或自动化手段更新设备和软件的方式至关重要。协调披露漏洞也很重要，以尽快更新设备。同时考虑生命周期结束的策略。

### 硬件安全

端点强化包括使设备防篡改或具有防篡改性。当设备将在恶劣环境中使用或不受物理监控时，这一点尤为重要。

### 物联网平台安全

几乎所有大型物联网平台供应商，如 AWS、Google 或 Azure，都已经使用了最全面的安全姿态保护其平台，并在平台级别内置了保护措施。这些平台建立在安全可靠的云基础设施上，并能够扩展到数十亿的设备和数万亿的消息。

利用这些产品的企业需要确保充分利用这些供应商提供的安全功能来服务他们的物联网生态系统。

## 使用区块链保障物联网安全

区块链是一个分布式账本，类似于数据库，但不同于被中央机构（如 Google、小公司或个人）控制，该账本分散存储在多台计算机上，这些计算机可以位于世界各地，并由任何有互联网连接的人运行。

在第九章中，我们将讨论使用区块链来产生商业影响，而不是从网络安全的角度来看。然而，区块链也为物联网安全提供了一个有趣的解决方案。区块链对数据篡改具有强大的保护机制，可以锁定物联网设备的访问，并允许物联网网络中的受损设备被关闭。然而，物联网-区块链技术目前处于初级阶段，一些主要的技术公司已经开始在这个领域寻找机会。例如，IBM 区块链平台允许企业将区块链扩展到认知物联网，这是一组将物联网和认知计算结合起来的技术。

由于技术上的担忧和运营挑战，物联网-区块链技术的采用尚未普及。可扩展性和存储是维护大型集中账本的区块链系统中的主要问题，将账本存储在边缘节点被认为是低效的，因为设备尚不能存储大量数据或处理相对大量的计算功率。这些因素是将物联网网络转移到区块链平台的一些挑战。

尽管这个概念仍处于萌芽阶段，但在未来几年很可能会产生巨大影响。实施标准安全规则和法规将促进物联网-区块链技术的采用。通过引入新的数据隐私和点对点通信标准，区块链可以为互联网设备增加新的安全程度。点对点通信是指两个对等设备或系统在网络上的传输。

基于这些原因，已经踏上物联网之旅的企业应采用安全设计原则来保护其物联网生态系统，而不是使用区块链。

## 总结

本章介绍了安全性问题。我们讨论了传统的 OT 系统在设计和实施系统时没有考虑网络安全。然而，随着物联网，IT 和 OT 系统的融合，因此对 IT 和 OT 进行网络安全保护变得极为重要。

我们谈到了在物联网中安全设计的重要性，即在物联网旅程的每个阶段以及物联网标准参考模型的所有层面都包含安全设计原则、技术和治理。

安全设计的第一个方面是采购具有安全功能的设备，例如多因素身份验证或生物识别。第二个要素是确保应用程序编程接口（API）的安全性 - 企业必须保护从物联网设备发送到智能物联网网关和物联网云平台或后端系统的数据的完整性，并确保只有授权的设备和应用程序与 API 进行通信。使用标准的安全 API 网关是保护 API 的最佳方式之一。我们讨论的最后一个方面是企业应部署具有防护性安全控制的智能物联网网关，至少网关具有端点安全控制，例如身份和访问控制，空中更新和威胁检测功能。同样，企业需要部署具有内置安全功能的物联网云平台。

在下一章中，我们将详细了解区块链以及它如何有益于物联网用例。我们还将讨论企业可以利用的不同区块链模式，以实现其物联网用例。
